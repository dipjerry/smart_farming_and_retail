var bK=Object.defineProperty;var xK=(t,e,n)=>e in t?bK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ut=(t,e,n)=>(xK(t,typeof e!="symbol"?e+"":e,n),n);function y4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function IR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wK(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var s=[null];s.push.apply(s,arguments);var i=Function.bind.apply(e,s);return new i}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var S={},_K={get exports(){return S},set exports(t){S=t}},PS={},Q={},SK={get exports(){return Q},set exports(t){Q=t}},Ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db=Symbol.for("react.element"),CK=Symbol.for("react.portal"),kK=Symbol.for("react.fragment"),EK=Symbol.for("react.strict_mode"),TK=Symbol.for("react.profiler"),IK=Symbol.for("react.provider"),AK=Symbol.for("react.context"),NK=Symbol.for("react.forward_ref"),RK=Symbol.for("react.suspense"),OK=Symbol.for("react.memo"),$K=Symbol.for("react.lazy"),zM=Symbol.iterator;function DK(t){return t===null||typeof t!="object"?null:(t=zM&&t[zM]||t["@@iterator"],typeof t=="function"?t:null)}var b4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x4=Object.assign,w4={};function gg(t,e,n){this.props=t,this.context=e,this.refs=w4,this.updater=n||b4}gg.prototype.isReactComponent={};gg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _4(){}_4.prototype=gg.prototype;function AR(t,e,n){this.props=t,this.context=e,this.refs=w4,this.updater=n||b4}var NR=AR.prototype=new _4;NR.constructor=AR;x4(NR,gg.prototype);NR.isPureReactComponent=!0;var UM=Array.isArray,S4=Object.prototype.hasOwnProperty,RR={current:null},C4={key:!0,ref:!0,__self:!0,__source:!0};function k4(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)S4.call(e,r)&&!C4.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:db,type:t,key:i,ref:a,props:s,_owner:RR.current}}function PK(t,e){return{$$typeof:db,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function OR(t){return typeof t=="object"&&t!==null&&t.$$typeof===db}function MK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var WM=/\/+/g;function E2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MK(""+t.key):e.toString(36)}function gw(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case db:case CK:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+E2(a,0):r,UM(s)?(n="",t!=null&&(n=t.replace(WM,"$&/")+"/"),gw(s,e,n,"",function(c){return c})):s!=null&&(OR(s)&&(s=PK(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(WM,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",UM(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+E2(i,o);a+=gw(i,e,n,l,s)}else if(l=DK(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+E2(i,o++),a+=gw(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function o1(t,e,n){if(t==null)return t;var r=[],s=0;return gw(t,r,"","",function(i){return e.call(n,i,s++)}),r}function BK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ki={current:null},vw={transition:null},LK={ReactCurrentDispatcher:Ki,ReactCurrentBatchConfig:vw,ReactCurrentOwner:RR};Ln.Children={map:o1,forEach:function(t,e,n){o1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return o1(t,function(){e++}),e},toArray:function(t){return o1(t,function(e){return e})||[]},only:function(t){if(!OR(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ln.Component=gg;Ln.Fragment=kK;Ln.Profiler=TK;Ln.PureComponent=AR;Ln.StrictMode=EK;Ln.Suspense=RK;Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LK;Ln.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=x4({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=RR.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)S4.call(e,l)&&!C4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:db,type:t.type,key:s,ref:i,props:r,_owner:a}};Ln.createContext=function(t){return t={$$typeof:AK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IK,_context:t},t.Consumer=t};Ln.createElement=k4;Ln.createFactory=function(t){var e=k4.bind(null,t);return e.type=t,e};Ln.createRef=function(){return{current:null}};Ln.forwardRef=function(t){return{$$typeof:NK,render:t}};Ln.isValidElement=OR;Ln.lazy=function(t){return{$$typeof:$K,_payload:{_status:-1,_result:t},_init:BK}};Ln.memo=function(t,e){return{$$typeof:OK,type:t,compare:e===void 0?null:e}};Ln.startTransition=function(t){var e=vw.transition;vw.transition={};try{t()}finally{vw.transition=e}};Ln.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ln.useCallback=function(t,e){return Ki.current.useCallback(t,e)};Ln.useContext=function(t){return Ki.current.useContext(t)};Ln.useDebugValue=function(){};Ln.useDeferredValue=function(t){return Ki.current.useDeferredValue(t)};Ln.useEffect=function(t,e){return Ki.current.useEffect(t,e)};Ln.useId=function(){return Ki.current.useId()};Ln.useImperativeHandle=function(t,e,n){return Ki.current.useImperativeHandle(t,e,n)};Ln.useInsertionEffect=function(t,e){return Ki.current.useInsertionEffect(t,e)};Ln.useLayoutEffect=function(t,e){return Ki.current.useLayoutEffect(t,e)};Ln.useMemo=function(t,e){return Ki.current.useMemo(t,e)};Ln.useReducer=function(t,e,n){return Ki.current.useReducer(t,e,n)};Ln.useRef=function(t){return Ki.current.useRef(t)};Ln.useState=function(t){return Ki.current.useState(t)};Ln.useSyncExternalStore=function(t,e,n){return Ki.current.useSyncExternalStore(t,e,n)};Ln.useTransition=function(){return Ki.current.useTransition()};Ln.version="18.2.0";(function(t){t.exports=Ln})(SK);const sn=IR(Q),mI=y4({__proto__:null,default:sn},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FK=Q,jK=Symbol.for("react.element"),zK=Symbol.for("react.fragment"),UK=Object.prototype.hasOwnProperty,WK=FK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VK={key:!0,ref:!0,__self:!0,__source:!0};function E4(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)UK.call(e,r)&&!VK.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:jK,type:t,key:i,ref:a,props:s,_owner:WK.current}}PS.Fragment=zK;PS.jsx=E4;PS.jsxs=E4;(function(t){t.exports=PS})(_K);var gI={},ay={},GK={get exports(){return ay},set exports(t){ay=t}},Zo={},vI={},HK={get exports(){return vI},set exports(t){vI=t}},T4={};(function(t){/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function e(K,F){var ie=K.length;K.push(F);e:for(;0<ie;){var de=ie-1>>>1,ee=K[de];if(0<s(ee,F))K[de]=F,K[ie]=ee,ie=de;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var F=K[0],ie=K.pop();if(ie!==F){K[0]=ie;e:for(var de=0,ee=K.length,J=ee>>>1;de<J;){var ae=2*(de+1)-1,ue=K[ae],le=ae+1,Ee=K[le];if(0>s(ue,ie))le<ee&&0>s(Ee,ue)?(K[de]=Ee,K[le]=ie,de=le):(K[de]=ue,K[ae]=ie,de=ae);else if(le<ee&&0>s(Ee,ie))K[de]=Ee,K[le]=ie,de=le;else break e}}return F}function s(K,F){var ie=K.sortIndex-F.sortIndex;return ie!==0?ie:K.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,f=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(K){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=K)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function k(K){if(f=!1,C(K),!m)if(n(l)!==null)m=!0,q(N);else{var F=n(c);F!==null&&H(k,F.startTime-K)}}function N(K,F){m=!1,f&&(f=!1,w(R),R=-1),p=!0;var ie=h;try{for(C(F),d=n(l);d!==null&&(!(d.expirationTime>F)||K&&!B());){var de=d.callback;if(typeof de=="function"){d.callback=null,h=d.priorityLevel;var ee=de(d.expirationTime<=F);F=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),C(F)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var ae=n(c);ae!==null&&H(k,ae.startTime-F),J=!1}return J}finally{d=null,h=ie,p=!1}}var A=!1,O=null,R=-1,$=5,D=-1;function B(){return!(t.unstable_now()-D<$)}function M(){if(O!==null){var K=t.unstable_now();D=K;var F=!0;try{F=O(!0,K)}finally{F?z():(A=!1,O=null)}}else A=!1}var z;if(typeof g=="function")z=function(){g(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,V=W.port2;W.port1.onmessage=M,z=function(){V.postMessage(null)}}else z=function(){b(M,0)};function q(K){O=K,A||(A=!0,z())}function H(K,F){R=b(function(){K(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,q(N))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var ie=h;h=F;try{return K()}finally{h=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,F){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ie=h;h=K;try{return F()}finally{h=ie}},t.unstable_scheduleCallback=function(K,F,ie){var de=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?de+ie:de):ie=de,K){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ie+ee,K={id:u++,callback:F,priorityLevel:K,startTime:ie,expirationTime:ee,sortIndex:-1},ie>de?(K.sortIndex=ie,e(c,K),n(l)===null&&K===n(c)&&(f?(w(R),R=-1):f=!0,H(k,ie-de))):(K.sortIndex=ee,e(l,K),m||p||(m=!0,q(N))),K},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(K){var F=h;return function(){var ie=h;h=F;try{return K.apply(this,arguments)}finally{h=ie}}}})(T4);(function(t){t.exports=T4})(HK);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4=Q,Xo=vI;function bt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A4=new Set,ly={};function gp(t,e){Dm(t,e),Dm(t+"Capture",e)}function Dm(t,e){for(ly[t]=e,t=0;t<e.length;t++)A4.add(e[t])}var tu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yI=Object.prototype.hasOwnProperty,YK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VM={},GM={};function qK(t){return yI.call(GM,t)?!0:yI.call(VM,t)?!1:YK.test(t)?GM[t]=!0:(VM[t]=!0,!1)}function XK(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KK(t,e,n,r){if(e===null||typeof e>"u"||XK(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ji(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ci[t]=new Ji(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ci[e]=new Ji(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ci[t]=new Ji(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ci[t]=new Ji(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ci[t]=new Ji(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ci[t]=new Ji(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ci[t]=new Ji(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ci[t]=new Ji(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ci[t]=new Ji(t,5,!1,t.toLowerCase(),null,!1,!1)});var $R=/[\-:]([a-z])/g;function DR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($R,DR);ci[e]=new Ji(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($R,DR);ci[e]=new Ji(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($R,DR);ci[e]=new Ji(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ci[t]=new Ji(t,1,!1,t.toLowerCase(),null,!1,!1)});ci.xlinkHref=new Ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ci[t]=new Ji(t,1,!1,t.toLowerCase(),null,!0,!0)});function PR(t,e,n,r){var s=ci.hasOwnProperty(e)?ci[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KK(e,n,s,r)&&(n=null),r||s===null?qK(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mu=I4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a1=Symbol.for("react.element"),Zp=Symbol.for("react.portal"),em=Symbol.for("react.fragment"),MR=Symbol.for("react.strict_mode"),bI=Symbol.for("react.profiler"),N4=Symbol.for("react.provider"),R4=Symbol.for("react.context"),BR=Symbol.for("react.forward_ref"),xI=Symbol.for("react.suspense"),wI=Symbol.for("react.suspense_list"),LR=Symbol.for("react.memo"),Wu=Symbol.for("react.lazy"),O4=Symbol.for("react.offscreen"),HM=Symbol.iterator;function W0(t){return t===null||typeof t!="object"?null:(t=HM&&t[HM]||t["@@iterator"],typeof t=="function"?t:null)}var is=Object.assign,T2;function pv(t){if(T2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);T2=e&&e[1]||""}return`
`+T2+t}var I2=!1;function A2(t,e){if(!t||I2)return"";I2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{I2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pv(t):""}function JK(t){switch(t.tag){case 5:return pv(t.type);case 16:return pv("Lazy");case 13:return pv("Suspense");case 19:return pv("SuspenseList");case 0:case 2:case 15:return t=A2(t.type,!1),t;case 11:return t=A2(t.type.render,!1),t;case 1:return t=A2(t.type,!0),t;default:return""}}function _I(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case em:return"Fragment";case Zp:return"Portal";case bI:return"Profiler";case MR:return"StrictMode";case xI:return"Suspense";case wI:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R4:return(t.displayName||"Context")+".Consumer";case N4:return(t._context.displayName||"Context")+".Provider";case BR:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case LR:return e=t.displayName||null,e!==null?e:_I(t.type)||"Memo";case Wu:e=t._payload,t=t._init;try{return _I(t(e))}catch{}}return null}function QK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _I(e);case 8:return e===MR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZK(t){var e=$4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function l1(t){t._valueTracker||(t._valueTracker=ZK(t))}function D4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function SI(t,e){var n=e.checked;return is({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function YM(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function P4(t,e){e=e.checked,e!=null&&PR(t,"checked",e,!1)}function CI(t,e){P4(t,e);var n=Rd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kI(t,e.type,n):e.hasOwnProperty("defaultValue")&&kI(t,e.type,Rd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qM(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kI(t,e,n){(e!=="number"||Jw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mv=Array.isArray;function vm(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rd(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function EI(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(bt(91));return is({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XM(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(bt(92));if(mv(n)){if(1<n.length)throw Error(bt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rd(n)}}function M4(t,e){var n=Rd(e.value),r=Rd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function KM(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TI(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var c1,L4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(c1=c1||document.createElement("div"),c1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=c1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cy(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $v={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eJ=["Webkit","ms","Moz","O"];Object.keys($v).forEach(function(t){eJ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$v[e]=$v[t]})});function F4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$v.hasOwnProperty(t)&&$v[t]?(""+e).trim():e+"px"}function j4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=F4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tJ=is({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function II(t,e){if(e){if(tJ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(bt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(bt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(bt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(bt(62))}}function AI(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NI=null;function FR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var RI=null,ym=null,bm=null;function JM(t){if(t=pb(t)){if(typeof RI!="function")throw Error(bt(280));var e=t.stateNode;e&&(e=jS(e),RI(t.stateNode,t.type,e))}}function z4(t){ym?bm?bm.push(t):bm=[t]:ym=t}function U4(){if(ym){var t=ym,e=bm;if(bm=ym=null,JM(t),e)for(t=0;t<e.length;t++)JM(e[t])}}function W4(t,e){return t(e)}function V4(){}var N2=!1;function G4(t,e,n){if(N2)return t(e,n);N2=!0;try{return W4(t,e,n)}finally{N2=!1,(ym!==null||bm!==null)&&(V4(),U4())}}function uy(t,e){var n=t.stateNode;if(n===null)return null;var r=jS(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(bt(231,e,typeof n));return n}var OI=!1;if(tu)try{var V0={};Object.defineProperty(V0,"passive",{get:function(){OI=!0}}),window.addEventListener("test",V0,V0),window.removeEventListener("test",V0,V0)}catch{OI=!1}function nJ(t,e,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Dv=!1,Qw=null,Zw=!1,$I=null,rJ={onError:function(t){Dv=!0,Qw=t}};function sJ(t,e,n,r,s,i,a,o,l){Dv=!1,Qw=null,nJ.apply(rJ,arguments)}function iJ(t,e,n,r,s,i,a,o,l){if(sJ.apply(this,arguments),Dv){if(Dv){var c=Qw;Dv=!1,Qw=null}else throw Error(bt(198));Zw||(Zw=!0,$I=c)}}function vp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QM(t){if(vp(t)!==t)throw Error(bt(188))}function oJ(t){var e=t.alternate;if(!e){if(e=vp(t),e===null)throw Error(bt(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return QM(s),t;if(i===r)return QM(s),e;i=i.sibling}throw Error(bt(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(bt(189))}}if(n.alternate!==r)throw Error(bt(190))}if(n.tag!==3)throw Error(bt(188));return n.stateNode.current===n?t:e}function Y4(t){return t=oJ(t),t!==null?q4(t):null}function q4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=q4(t);if(e!==null)return e;t=t.sibling}return null}var X4=Xo.unstable_scheduleCallback,ZM=Xo.unstable_cancelCallback,aJ=Xo.unstable_shouldYield,lJ=Xo.unstable_requestPaint,vs=Xo.unstable_now,cJ=Xo.unstable_getCurrentPriorityLevel,jR=Xo.unstable_ImmediatePriority,K4=Xo.unstable_UserBlockingPriority,e_=Xo.unstable_NormalPriority,uJ=Xo.unstable_LowPriority,J4=Xo.unstable_IdlePriority,MS=null,Xl=null;function dJ(t){if(Xl&&typeof Xl.onCommitFiberRoot=="function")try{Xl.onCommitFiberRoot(MS,t,void 0,(t.current.flags&128)===128)}catch{}}var hl=Math.clz32?Math.clz32:pJ,hJ=Math.log,fJ=Math.LN2;function pJ(t){return t>>>=0,t===0?32:31-(hJ(t)/fJ|0)|0}var u1=64,d1=4194304;function gv(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function t_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=gv(o):(i&=a,i!==0&&(r=gv(i)))}else a=n&~s,a!==0?r=gv(a):i!==0&&(r=gv(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hl(e),s=1<<n,r|=t[n],e&=~s;return r}function mJ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gJ(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-hl(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=mJ(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function DI(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Q4(){var t=u1;return u1<<=1,!(u1&4194240)&&(u1=64),t}function R2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hb(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hl(e),t[e]=n}function vJ(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hl(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function zR(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hl(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var mr=0;function Z4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ez,UR,tz,nz,rz,PI=!1,h1=[],fd=null,pd=null,md=null,dy=new Map,hy=new Map,Yu=[],yJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eB(t,e){switch(t){case"focusin":case"focusout":fd=null;break;case"dragenter":case"dragleave":pd=null;break;case"mouseover":case"mouseout":md=null;break;case"pointerover":case"pointerout":dy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hy.delete(e.pointerId)}}function G0(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pb(e),e!==null&&UR(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bJ(t,e,n,r,s){switch(e){case"focusin":return fd=G0(fd,t,e,n,r,s),!0;case"dragenter":return pd=G0(pd,t,e,n,r,s),!0;case"mouseover":return md=G0(md,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return dy.set(i,G0(dy.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,hy.set(i,G0(hy.get(i)||null,t,e,n,r,s)),!0}return!1}function sz(t){var e=_f(t.target);if(e!==null){var n=vp(e);if(n!==null){if(e=n.tag,e===13){if(e=H4(n),e!==null){t.blockedOn=e,rz(t.priority,function(){tz(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=MI(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);NI=r,n.target.dispatchEvent(r),NI=null}else return e=pb(n),e!==null&&UR(e),t.blockedOn=n,!1;e.shift()}return!0}function tB(t,e,n){yw(t)&&n.delete(e)}function xJ(){PI=!1,fd!==null&&yw(fd)&&(fd=null),pd!==null&&yw(pd)&&(pd=null),md!==null&&yw(md)&&(md=null),dy.forEach(tB),hy.forEach(tB)}function H0(t,e){t.blockedOn===e&&(t.blockedOn=null,PI||(PI=!0,Xo.unstable_scheduleCallback(Xo.unstable_NormalPriority,xJ)))}function fy(t){function e(s){return H0(s,t)}if(0<h1.length){H0(h1[0],t);for(var n=1;n<h1.length;n++){var r=h1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fd!==null&&H0(fd,t),pd!==null&&H0(pd,t),md!==null&&H0(md,t),dy.forEach(e),hy.forEach(e),n=0;n<Yu.length;n++)r=Yu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yu.length&&(n=Yu[0],n.blockedOn===null);)sz(n),n.blockedOn===null&&Yu.shift()}var xm=mu.ReactCurrentBatchConfig,n_=!0;function wJ(t,e,n,r){var s=mr,i=xm.transition;xm.transition=null;try{mr=1,WR(t,e,n,r)}finally{mr=s,xm.transition=i}}function _J(t,e,n,r){var s=mr,i=xm.transition;xm.transition=null;try{mr=4,WR(t,e,n,r)}finally{mr=s,xm.transition=i}}function WR(t,e,n,r){if(n_){var s=MI(t,e,n,r);if(s===null)z2(t,e,r,r_,n),eB(t,r);else if(bJ(s,t,e,n,r))r.stopPropagation();else if(eB(t,r),e&4&&-1<yJ.indexOf(t)){for(;s!==null;){var i=pb(s);if(i!==null&&ez(i),i=MI(t,e,n,r),i===null&&z2(t,e,r,r_,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else z2(t,e,r,null,n)}}var r_=null;function MI(t,e,n,r){if(r_=null,t=FR(r),t=_f(t),t!==null)if(e=vp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return r_=t,null}function iz(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cJ()){case jR:return 1;case K4:return 4;case e_:case uJ:return 16;case J4:return 536870912;default:return 16}default:return 16}}var Ku=null,VR=null,bw=null;function oz(){if(bw)return bw;var t,e=VR,n=e.length,r,s="value"in Ku?Ku.value:Ku.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return bw=s.slice(t,1<r?1-r:void 0)}function xw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function f1(){return!0}function nB(){return!1}function ea(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?f1:nB,this.isPropagationStopped=nB,this}return is(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=f1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=f1)},persist:function(){},isPersistent:f1}),e}var vg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GR=ea(vg),fb=is({},vg,{view:0,detail:0}),SJ=ea(fb),O2,$2,Y0,BS=is({},fb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Y0&&(Y0&&t.type==="mousemove"?(O2=t.screenX-Y0.screenX,$2=t.screenY-Y0.screenY):$2=O2=0,Y0=t),O2)},movementY:function(t){return"movementY"in t?t.movementY:$2}}),rB=ea(BS),CJ=is({},BS,{dataTransfer:0}),kJ=ea(CJ),EJ=is({},fb,{relatedTarget:0}),D2=ea(EJ),TJ=is({},vg,{animationName:0,elapsedTime:0,pseudoElement:0}),IJ=ea(TJ),AJ=is({},vg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NJ=ea(AJ),RJ=is({},vg,{data:0}),sB=ea(RJ),OJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$J={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DJ[t])?!!e[t]:!1}function HR(){return PJ}var MJ=is({},fb,{key:function(t){if(t.key){var e=OJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$J[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HR,charCode:function(t){return t.type==="keypress"?xw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BJ=ea(MJ),LJ=is({},BS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iB=ea(LJ),FJ=is({},fb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HR}),jJ=ea(FJ),zJ=is({},vg,{propertyName:0,elapsedTime:0,pseudoElement:0}),UJ=ea(zJ),WJ=is({},BS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VJ=ea(WJ),GJ=[9,13,27,32],YR=tu&&"CompositionEvent"in window,Pv=null;tu&&"documentMode"in document&&(Pv=document.documentMode);var HJ=tu&&"TextEvent"in window&&!Pv,az=tu&&(!YR||Pv&&8<Pv&&11>=Pv),oB=String.fromCharCode(32),aB=!1;function lz(t,e){switch(t){case"keyup":return GJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cz(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tm=!1;function YJ(t,e){switch(t){case"compositionend":return cz(e);case"keypress":return e.which!==32?null:(aB=!0,oB);case"textInput":return t=e.data,t===oB&&aB?null:t;default:return null}}function qJ(t,e){if(tm)return t==="compositionend"||!YR&&lz(t,e)?(t=oz(),bw=VR=Ku=null,tm=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return az&&e.locale!=="ko"?null:e.data;default:return null}}var XJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XJ[t.type]:e==="textarea"}function uz(t,e,n,r){z4(r),e=s_(e,"onChange"),0<e.length&&(n=new GR("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mv=null,py=null;function KJ(t){wz(t,0)}function LS(t){var e=sm(t);if(D4(e))return t}function JJ(t,e){if(t==="change")return e}var dz=!1;if(tu){var P2;if(tu){var M2="oninput"in document;if(!M2){var cB=document.createElement("div");cB.setAttribute("oninput","return;"),M2=typeof cB.oninput=="function"}P2=M2}else P2=!1;dz=P2&&(!document.documentMode||9<document.documentMode)}function uB(){Mv&&(Mv.detachEvent("onpropertychange",hz),py=Mv=null)}function hz(t){if(t.propertyName==="value"&&LS(py)){var e=[];uz(e,py,t,FR(t)),G4(KJ,e)}}function QJ(t,e,n){t==="focusin"?(uB(),Mv=e,py=n,Mv.attachEvent("onpropertychange",hz)):t==="focusout"&&uB()}function ZJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return LS(py)}function eQ(t,e){if(t==="click")return LS(e)}function tQ(t,e){if(t==="input"||t==="change")return LS(e)}function nQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vl=typeof Object.is=="function"?Object.is:nQ;function my(t,e){if(vl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yI.call(e,s)||!vl(t[s],e[s]))return!1}return!0}function dB(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hB(t,e){var n=dB(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dB(n)}}function fz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pz(){for(var t=window,e=Jw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jw(t.document)}return e}function qR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rQ(t){var e=pz(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fz(n.ownerDocument.documentElement,n)){if(r!==null&&qR(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=hB(n,i);var a=hB(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sQ=tu&&"documentMode"in document&&11>=document.documentMode,nm=null,BI=null,Bv=null,LI=!1;function fB(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;LI||nm==null||nm!==Jw(r)||(r=nm,"selectionStart"in r&&qR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bv&&my(Bv,r)||(Bv=r,r=s_(BI,"onSelect"),0<r.length&&(e=new GR("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nm)))}function p1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rm={animationend:p1("Animation","AnimationEnd"),animationiteration:p1("Animation","AnimationIteration"),animationstart:p1("Animation","AnimationStart"),transitionend:p1("Transition","TransitionEnd")},B2={},mz={};tu&&(mz=document.createElement("div").style,"AnimationEvent"in window||(delete rm.animationend.animation,delete rm.animationiteration.animation,delete rm.animationstart.animation),"TransitionEvent"in window||delete rm.transitionend.transition);function FS(t){if(B2[t])return B2[t];if(!rm[t])return t;var e=rm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mz)return B2[t]=e[n];return t}var gz=FS("animationend"),vz=FS("animationiteration"),yz=FS("animationstart"),bz=FS("transitionend"),xz=new Map,pB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xd(t,e){xz.set(t,e),gp(e,[t])}for(var L2=0;L2<pB.length;L2++){var F2=pB[L2],iQ=F2.toLowerCase(),oQ=F2[0].toUpperCase()+F2.slice(1);Xd(iQ,"on"+oQ)}Xd(gz,"onAnimationEnd");Xd(vz,"onAnimationIteration");Xd(yz,"onAnimationStart");Xd("dblclick","onDoubleClick");Xd("focusin","onFocus");Xd("focusout","onBlur");Xd(bz,"onTransitionEnd");Dm("onMouseEnter",["mouseout","mouseover"]);Dm("onMouseLeave",["mouseout","mouseover"]);Dm("onPointerEnter",["pointerout","pointerover"]);Dm("onPointerLeave",["pointerout","pointerover"]);gp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gp("onBeforeInput",["compositionend","keypress","textInput","paste"]);gp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(vv));function mB(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iJ(r,e,void 0,t),t.currentTarget=null}function wz(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;mB(s,o,c),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;mB(s,o,c),i=l}}}if(Zw)throw t=$I,Zw=!1,$I=null,t}function Fr(t,e){var n=e[WI];n===void 0&&(n=e[WI]=new Set);var r=t+"__bubble";n.has(r)||(_z(e,t,2,!1),n.add(r))}function j2(t,e,n){var r=0;e&&(r|=4),_z(n,t,r,e)}var m1="_reactListening"+Math.random().toString(36).slice(2);function gy(t){if(!t[m1]){t[m1]=!0,A4.forEach(function(n){n!=="selectionchange"&&(aQ.has(n)||j2(n,!1,t),j2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[m1]||(e[m1]=!0,j2("selectionchange",!1,e))}}function _z(t,e,n,r){switch(iz(e)){case 1:var s=wJ;break;case 4:s=_J;break;default:s=WR}n=s.bind(null,e,n,t),s=void 0,!OI||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function z2(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=_f(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}G4(function(){var c=i,u=FR(n),d=[];e:{var h=xz.get(t);if(h!==void 0){var p=GR,m=t;switch(t){case"keypress":if(xw(n)===0)break e;case"keydown":case"keyup":p=BJ;break;case"focusin":m="focus",p=D2;break;case"focusout":m="blur",p=D2;break;case"beforeblur":case"afterblur":p=D2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jJ;break;case gz:case vz:case yz:p=IJ;break;case bz:p=UJ;break;case"scroll":p=SJ;break;case"wheel":p=VJ;break;case"copy":case"cut":case"paste":p=NJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=iB}var f=(e&4)!==0,b=!f&&t==="scroll",w=f?h!==null?h+"Capture":null:h;f=[];for(var g=c,C;g!==null;){C=g;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,w!==null&&(k=uy(g,w),k!=null&&f.push(vy(g,k,C)))),b)break;g=g.return}0<f.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:f}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==NI&&(m=n.relatedTarget||n.fromElement)&&(_f(m)||m[nu]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?_f(m):null,m!==null&&(b=vp(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(f=rB,k="onMouseLeave",w="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(f=iB,k="onPointerLeave",w="onPointerEnter",g="pointer"),b=p==null?h:sm(p),C=m==null?h:sm(m),h=new f(k,g+"leave",p,n,u),h.target=b,h.relatedTarget=C,k=null,_f(u)===c&&(f=new f(w,g+"enter",m,n,u),f.target=C,f.relatedTarget=b,k=f),b=k,p&&m)t:{for(f=p,w=m,g=0,C=f;C;C=Fp(C))g++;for(C=0,k=w;k;k=Fp(k))C++;for(;0<g-C;)f=Fp(f),g--;for(;0<C-g;)w=Fp(w),C--;for(;g--;){if(f===w||w!==null&&f===w.alternate)break t;f=Fp(f),w=Fp(w)}f=null}else f=null;p!==null&&gB(d,h,p,f,!1),m!==null&&b!==null&&gB(d,b,m,f,!0)}}e:{if(h=c?sm(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=JJ;else if(lB(h))if(dz)N=tQ;else{N=ZJ;var A=QJ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=eQ);if(N&&(N=N(t,c))){uz(d,N,n,u);break e}A&&A(t,h,c),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&kI(h,"number",h.value)}switch(A=c?sm(c):window,t){case"focusin":(lB(A)||A.contentEditable==="true")&&(nm=A,BI=c,Bv=null);break;case"focusout":Bv=BI=nm=null;break;case"mousedown":LI=!0;break;case"contextmenu":case"mouseup":case"dragend":LI=!1,fB(d,n,u);break;case"selectionchange":if(sQ)break;case"keydown":case"keyup":fB(d,n,u)}var O;if(YR)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else tm?lz(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(az&&n.locale!=="ko"&&(tm||R!=="onCompositionStart"?R==="onCompositionEnd"&&tm&&(O=oz()):(Ku=u,VR="value"in Ku?Ku.value:Ku.textContent,tm=!0)),A=s_(c,R),0<A.length&&(R=new sB(R,t,null,n,u),d.push({event:R,listeners:A}),O?R.data=O:(O=cz(n),O!==null&&(R.data=O)))),(O=HJ?YJ(t,n):qJ(t,n))&&(c=s_(c,"onBeforeInput"),0<c.length&&(u=new sB("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=O))}wz(d,e)})}function vy(t,e,n){return{instance:t,listener:e,currentTarget:n}}function s_(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=uy(t,n),i!=null&&r.unshift(vy(t,i,s)),i=uy(t,e),i!=null&&r.push(vy(t,i,s))),t=t.return}return r}function Fp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gB(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,s?(l=uy(n,i),l!=null&&a.unshift(vy(n,l,o))):s||(l=uy(n,i),l!=null&&a.push(vy(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var lQ=/\r\n?/g,cQ=/\u0000|\uFFFD/g;function vB(t){return(typeof t=="string"?t:""+t).replace(lQ,`
`).replace(cQ,"")}function g1(t,e,n){if(e=vB(e),vB(t)!==e&&n)throw Error(bt(425))}function i_(){}var FI=null,jI=null;function zI(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var UI=typeof setTimeout=="function"?setTimeout:void 0,uQ=typeof clearTimeout=="function"?clearTimeout:void 0,yB=typeof Promise=="function"?Promise:void 0,dQ=typeof queueMicrotask=="function"?queueMicrotask:typeof yB<"u"?function(t){return yB.resolve(null).then(t).catch(hQ)}:UI;function hQ(t){setTimeout(function(){throw t})}function U2(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),fy(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);fy(e)}function gd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bB(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yg=Math.random().toString(36).slice(2),Wl="__reactFiber$"+yg,yy="__reactProps$"+yg,nu="__reactContainer$"+yg,WI="__reactEvents$"+yg,fQ="__reactListeners$"+yg,pQ="__reactHandles$"+yg;function _f(t){var e=t[Wl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nu]||n[Wl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bB(t);t!==null;){if(n=t[Wl])return n;t=bB(t)}return e}t=n,n=t.parentNode}return null}function pb(t){return t=t[Wl]||t[nu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sm(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(bt(33))}function jS(t){return t[yy]||null}var VI=[],im=-1;function Kd(t){return{current:t}}function zr(t){0>im||(t.current=VI[im],VI[im]=null,im--)}function Nr(t,e){im++,VI[im]=t.current,t.current=e}var Od={},Ai=Kd(Od),xo=Kd(!1),Uf=Od;function Pm(t,e){var n=t.type.contextTypes;if(!n)return Od;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wo(t){return t=t.childContextTypes,t!=null}function o_(){zr(xo),zr(Ai)}function xB(t,e,n){if(Ai.current!==Od)throw Error(bt(168));Nr(Ai,e),Nr(xo,n)}function Sz(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(bt(108,QK(t)||"Unknown",s));return is({},n,r)}function a_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Od,Uf=Ai.current,Nr(Ai,t),Nr(xo,xo.current),!0}function wB(t,e,n){var r=t.stateNode;if(!r)throw Error(bt(169));n?(t=Sz(t,e,Uf),r.__reactInternalMemoizedMergedChildContext=t,zr(xo),zr(Ai),Nr(Ai,t)):zr(xo),Nr(xo,n)}var Hc=null,zS=!1,W2=!1;function Cz(t){Hc===null?Hc=[t]:Hc.push(t)}function mQ(t){zS=!0,Cz(t)}function Jd(){if(!W2&&Hc!==null){W2=!0;var t=0,e=mr;try{var n=Hc;for(mr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hc=null,zS=!1}catch(s){throw Hc!==null&&(Hc=Hc.slice(t+1)),X4(jR,Jd),s}finally{mr=e,W2=!1}}return null}var om=[],am=0,l_=null,c_=0,ga=[],va=0,Wf=null,Kc=1,Jc="";function af(t,e){om[am++]=c_,om[am++]=l_,l_=t,c_=e}function kz(t,e,n){ga[va++]=Kc,ga[va++]=Jc,ga[va++]=Wf,Wf=t;var r=Kc;t=Jc;var s=32-hl(r)-1;r&=~(1<<s),n+=1;var i=32-hl(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Kc=1<<32-hl(e)+s|n<<s|r,Jc=i+t}else Kc=1<<i|n<<s|r,Jc=t}function XR(t){t.return!==null&&(af(t,1),kz(t,1,0))}function KR(t){for(;t===l_;)l_=om[--am],om[am]=null,c_=om[--am],om[am]=null;for(;t===Wf;)Wf=ga[--va],ga[va]=null,Jc=ga[--va],ga[va]=null,Kc=ga[--va],ga[va]=null}var Yo=null,Go=null,Jr=!1,ol=null;function Ez(t,e){var n=ba(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _B(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yo=t,Go=gd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yo=t,Go=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wf!==null?{id:Kc,overflow:Jc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ba(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yo=t,Go=null,!0):!1;default:return!1}}function GI(t){return(t.mode&1)!==0&&(t.flags&128)===0}function HI(t){if(Jr){var e=Go;if(e){var n=e;if(!_B(t,e)){if(GI(t))throw Error(bt(418));e=gd(n.nextSibling);var r=Yo;e&&_B(t,e)?Ez(r,n):(t.flags=t.flags&-4097|2,Jr=!1,Yo=t)}}else{if(GI(t))throw Error(bt(418));t.flags=t.flags&-4097|2,Jr=!1,Yo=t}}}function SB(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yo=t}function v1(t){if(t!==Yo)return!1;if(!Jr)return SB(t),Jr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zI(t.type,t.memoizedProps)),e&&(e=Go)){if(GI(t))throw Tz(),Error(bt(418));for(;e;)Ez(t,e),e=gd(e.nextSibling)}if(SB(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(bt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Go=gd(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Go=null}}else Go=Yo?gd(t.stateNode.nextSibling):null;return!0}function Tz(){for(var t=Go;t;)t=gd(t.nextSibling)}function Mm(){Go=Yo=null,Jr=!1}function JR(t){ol===null?ol=[t]:ol.push(t)}var gQ=mu.ReactCurrentBatchConfig;function rl(t,e){if(t&&t.defaultProps){e=is({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var u_=Kd(null),d_=null,lm=null,QR=null;function ZR(){QR=lm=d_=null}function eO(t){var e=u_.current;zr(u_),t._currentValue=e}function YI(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wm(t,e){d_=t,QR=lm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mo=!0),t.firstContext=null)}function Aa(t){var e=t._currentValue;if(QR!==t)if(t={context:t,memoizedValue:e,next:null},lm===null){if(d_===null)throw Error(bt(308));lm=t,d_.dependencies={lanes:0,firstContext:t}}else lm=lm.next=t;return e}var Sf=null;function tO(t){Sf===null?Sf=[t]:Sf.push(t)}function Iz(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,tO(e)):(n.next=s.next,s.next=n),e.interleaved=n,ru(t,r)}function ru(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vu=!1;function nO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Az(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vd(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Jn&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ru(t,n)}return s=r.interleaved,s===null?(e.next=e,tO(r)):(e.next=s.next,s.next=e),r.interleaved=e,ru(t,n)}function ww(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zR(t,n)}}function CB(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function h_(t,e,n,r){var s=t.updateQueue;Vu=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,f=o;switch(h=e,p=n,f.tag){case 1:if(m=f.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=f.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=is({},d,h);break e;case 2:Vu=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Gf|=a,t.lanes=a,t.memoizedState=d}}function kB(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(bt(191,s));s.call(r)}}}var Nz=new I4.Component().refs;function qI(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:is({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var US={isMounted:function(t){return(t=t._reactInternals)?vp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hi(),s=bd(t),i=Zc(r,s);i.payload=e,n!=null&&(i.callback=n),e=vd(t,i,s),e!==null&&(fl(e,t,s,r),ww(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hi(),s=bd(t),i=Zc(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vd(t,i,s),e!==null&&(fl(e,t,s,r),ww(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hi(),r=bd(t),s=Zc(n,r);s.tag=2,e!=null&&(s.callback=e),e=vd(t,s,r),e!==null&&(fl(e,t,r,n),ww(e,t,r))}};function EB(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!my(n,r)||!my(s,i):!0}function Rz(t,e,n){var r=!1,s=Od,i=e.contextType;return typeof i=="object"&&i!==null?i=Aa(i):(s=wo(e)?Uf:Ai.current,r=e.contextTypes,i=(r=r!=null)?Pm(t,s):Od),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=US,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function TB(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&US.enqueueReplaceState(e,e.state,null)}function XI(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Nz,nO(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Aa(i):(i=wo(e)?Uf:Ai.current,s.context=Pm(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(qI(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&US.enqueueReplaceState(s,s.state,null),h_(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function q0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(bt(309));var r=n.stateNode}if(!r)throw Error(bt(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;o===Nz&&(o=s.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(bt(284));if(!n._owner)throw Error(bt(290,t))}return t}function y1(t,e){throw t=Object.prototype.toString.call(e),Error(bt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function IB(t){var e=t._init;return e(t._payload)}function Oz(t){function e(w,g){if(t){var C=w.deletions;C===null?(w.deletions=[g],w.flags|=16):C.push(g)}}function n(w,g){if(!t)return null;for(;g!==null;)e(w,g),g=g.sibling;return null}function r(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function s(w,g){return w=xd(w,g),w.index=0,w.sibling=null,w}function i(w,g,C){return w.index=C,t?(C=w.alternate,C!==null?(C=C.index,C<g?(w.flags|=2,g):C):(w.flags|=2,g)):(w.flags|=1048576,g)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,g,C,k){return g===null||g.tag!==6?(g=K2(C,w.mode,k),g.return=w,g):(g=s(g,C),g.return=w,g)}function l(w,g,C,k){var N=C.type;return N===em?u(w,g,C.props.children,k,C.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wu&&IB(N)===g.type)?(k=s(g,C.props),k.ref=q0(w,g,C),k.return=w,k):(k=Tw(C.type,C.key,C.props,null,w.mode,k),k.ref=q0(w,g,C),k.return=w,k)}function c(w,g,C,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==C.containerInfo||g.stateNode.implementation!==C.implementation?(g=J2(C,w.mode,k),g.return=w,g):(g=s(g,C.children||[]),g.return=w,g)}function u(w,g,C,k,N){return g===null||g.tag!==7?(g=$f(C,w.mode,k,N),g.return=w,g):(g=s(g,C),g.return=w,g)}function d(w,g,C){if(typeof g=="string"&&g!==""||typeof g=="number")return g=K2(""+g,w.mode,C),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case a1:return C=Tw(g.type,g.key,g.props,null,w.mode,C),C.ref=q0(w,null,g),C.return=w,C;case Zp:return g=J2(g,w.mode,C),g.return=w,g;case Wu:var k=g._init;return d(w,k(g._payload),C)}if(mv(g)||W0(g))return g=$f(g,w.mode,C,null),g.return=w,g;y1(w,g)}return null}function h(w,g,C,k){var N=g!==null?g.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return N!==null?null:o(w,g,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case a1:return C.key===N?l(w,g,C,k):null;case Zp:return C.key===N?c(w,g,C,k):null;case Wu:return N=C._init,h(w,g,N(C._payload),k)}if(mv(C)||W0(C))return N!==null?null:u(w,g,C,k,null);y1(w,C)}return null}function p(w,g,C,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(C)||null,o(g,w,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case a1:return w=w.get(k.key===null?C:k.key)||null,l(g,w,k,N);case Zp:return w=w.get(k.key===null?C:k.key)||null,c(g,w,k,N);case Wu:var A=k._init;return p(w,g,C,A(k._payload),N)}if(mv(k)||W0(k))return w=w.get(C)||null,u(g,w,k,N,null);y1(g,k)}return null}function m(w,g,C,k){for(var N=null,A=null,O=g,R=g=0,$=null;O!==null&&R<C.length;R++){O.index>R?($=O,O=null):$=O.sibling;var D=h(w,O,C[R],k);if(D===null){O===null&&(O=$);break}t&&O&&D.alternate===null&&e(w,O),g=i(D,g,R),A===null?N=D:A.sibling=D,A=D,O=$}if(R===C.length)return n(w,O),Jr&&af(w,R),N;if(O===null){for(;R<C.length;R++)O=d(w,C[R],k),O!==null&&(g=i(O,g,R),A===null?N=O:A.sibling=O,A=O);return Jr&&af(w,R),N}for(O=r(w,O);R<C.length;R++)$=p(O,w,R,C[R],k),$!==null&&(t&&$.alternate!==null&&O.delete($.key===null?R:$.key),g=i($,g,R),A===null?N=$:A.sibling=$,A=$);return t&&O.forEach(function(B){return e(w,B)}),Jr&&af(w,R),N}function f(w,g,C,k){var N=W0(C);if(typeof N!="function")throw Error(bt(150));if(C=N.call(C),C==null)throw Error(bt(151));for(var A=N=null,O=g,R=g=0,$=null,D=C.next();O!==null&&!D.done;R++,D=C.next()){O.index>R?($=O,O=null):$=O.sibling;var B=h(w,O,D.value,k);if(B===null){O===null&&(O=$);break}t&&O&&B.alternate===null&&e(w,O),g=i(B,g,R),A===null?N=B:A.sibling=B,A=B,O=$}if(D.done)return n(w,O),Jr&&af(w,R),N;if(O===null){for(;!D.done;R++,D=C.next())D=d(w,D.value,k),D!==null&&(g=i(D,g,R),A===null?N=D:A.sibling=D,A=D);return Jr&&af(w,R),N}for(O=r(w,O);!D.done;R++,D=C.next())D=p(O,w,R,D.value,k),D!==null&&(t&&D.alternate!==null&&O.delete(D.key===null?R:D.key),g=i(D,g,R),A===null?N=D:A.sibling=D,A=D);return t&&O.forEach(function(M){return e(w,M)}),Jr&&af(w,R),N}function b(w,g,C,k){if(typeof C=="object"&&C!==null&&C.type===em&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case a1:e:{for(var N=C.key,A=g;A!==null;){if(A.key===N){if(N=C.type,N===em){if(A.tag===7){n(w,A.sibling),g=s(A,C.props.children),g.return=w,w=g;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wu&&IB(N)===A.type){n(w,A.sibling),g=s(A,C.props),g.ref=q0(w,A,C),g.return=w,w=g;break e}n(w,A);break}else e(w,A);A=A.sibling}C.type===em?(g=$f(C.props.children,w.mode,k,C.key),g.return=w,w=g):(k=Tw(C.type,C.key,C.props,null,w.mode,k),k.ref=q0(w,g,C),k.return=w,w=k)}return a(w);case Zp:e:{for(A=C.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===C.containerInfo&&g.stateNode.implementation===C.implementation){n(w,g.sibling),g=s(g,C.children||[]),g.return=w,w=g;break e}else{n(w,g);break}else e(w,g);g=g.sibling}g=J2(C,w.mode,k),g.return=w,w=g}return a(w);case Wu:return A=C._init,b(w,g,A(C._payload),k)}if(mv(C))return m(w,g,C,k);if(W0(C))return f(w,g,C,k);y1(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,g!==null&&g.tag===6?(n(w,g.sibling),g=s(g,C),g.return=w,w=g):(n(w,g),g=K2(C,w.mode,k),g.return=w,w=g),a(w)):n(w,g)}return b}var Bm=Oz(!0),$z=Oz(!1),mb={},Kl=Kd(mb),by=Kd(mb),xy=Kd(mb);function Cf(t){if(t===mb)throw Error(bt(174));return t}function rO(t,e){switch(Nr(xy,e),Nr(by,t),Nr(Kl,mb),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:TI(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=TI(e,t)}zr(Kl),Nr(Kl,e)}function Lm(){zr(Kl),zr(by),zr(xy)}function Dz(t){Cf(xy.current);var e=Cf(Kl.current),n=TI(e,t.type);e!==n&&(Nr(by,t),Nr(Kl,n))}function sO(t){by.current===t&&(zr(Kl),zr(by))}var rs=Kd(0);function f_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var V2=[];function iO(){for(var t=0;t<V2.length;t++)V2[t]._workInProgressVersionPrimary=null;V2.length=0}var _w=mu.ReactCurrentDispatcher,G2=mu.ReactCurrentBatchConfig,Vf=0,ss=null,$s=null,Hs=null,p_=!1,Lv=!1,wy=0,vQ=0;function gi(){throw Error(bt(321))}function oO(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vl(t[n],e[n]))return!1;return!0}function aO(t,e,n,r,s,i){if(Vf=i,ss=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_w.current=t===null||t.memoizedState===null?wQ:_Q,t=n(r,s),Lv){i=0;do{if(Lv=!1,wy=0,25<=i)throw Error(bt(301));i+=1,Hs=$s=null,e.updateQueue=null,_w.current=SQ,t=n(r,s)}while(Lv)}if(_w.current=m_,e=$s!==null&&$s.next!==null,Vf=0,Hs=$s=ss=null,p_=!1,e)throw Error(bt(300));return t}function lO(){var t=wy!==0;return wy=0,t}function Ml(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hs===null?ss.memoizedState=Hs=t:Hs=Hs.next=t,Hs}function Na(){if($s===null){var t=ss.alternate;t=t!==null?t.memoizedState:null}else t=$s.next;var e=Hs===null?ss.memoizedState:Hs.next;if(e!==null)Hs=e,$s=t;else{if(t===null)throw Error(bt(310));$s=t,t={memoizedState:$s.memoizedState,baseState:$s.baseState,baseQueue:$s.baseQueue,queue:$s.queue,next:null},Hs===null?ss.memoizedState=Hs=t:Hs=Hs.next=t}return Hs}function _y(t,e){return typeof e=="function"?e(t):e}function H2(t){var e=Na(),n=e.queue;if(n===null)throw Error(bt(311));n.lastRenderedReducer=t;var r=$s,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,c=i;do{var u=c.lane;if((Vf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,ss.lanes|=u,Gf|=u}c=c.next}while(c!==null&&c!==i);l===null?a=r:l.next=o,vl(r,e.memoizedState)||(mo=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ss.lanes|=i,Gf|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Y2(t){var e=Na(),n=e.queue;if(n===null)throw Error(bt(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);vl(i,e.memoizedState)||(mo=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Pz(){}function Mz(t,e){var n=ss,r=Na(),s=e(),i=!vl(r.memoizedState,s);if(i&&(r.memoizedState=s,mo=!0),r=r.queue,cO(Fz.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Hs!==null&&Hs.memoizedState.tag&1){if(n.flags|=2048,Sy(9,Lz.bind(null,n,r,s,e),void 0,null),Ks===null)throw Error(bt(349));Vf&30||Bz(n,e,s)}return s}function Bz(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ss.updateQueue,e===null?(e={lastEffect:null,stores:null},ss.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lz(t,e,n,r){e.value=n,e.getSnapshot=r,jz(e)&&zz(t)}function Fz(t,e,n){return n(function(){jz(e)&&zz(t)})}function jz(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vl(t,n)}catch{return!0}}function zz(t){var e=ru(t,1);e!==null&&fl(e,t,1,-1)}function AB(t){var e=Ml();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:t},e.queue=t,t=t.dispatch=xQ.bind(null,ss,t),[e.memoizedState,t]}function Sy(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ss.updateQueue,e===null?(e={lastEffect:null,stores:null},ss.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Uz(){return Na().memoizedState}function Sw(t,e,n,r){var s=Ml();ss.flags|=t,s.memoizedState=Sy(1|e,n,void 0,r===void 0?null:r)}function WS(t,e,n,r){var s=Na();r=r===void 0?null:r;var i=void 0;if($s!==null){var a=$s.memoizedState;if(i=a.destroy,r!==null&&oO(r,a.deps)){s.memoizedState=Sy(e,n,i,r);return}}ss.flags|=t,s.memoizedState=Sy(1|e,n,i,r)}function NB(t,e){return Sw(8390656,8,t,e)}function cO(t,e){return WS(2048,8,t,e)}function Wz(t,e){return WS(4,2,t,e)}function Vz(t,e){return WS(4,4,t,e)}function Gz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hz(t,e,n){return n=n!=null?n.concat([t]):null,WS(4,4,Gz.bind(null,e,t),n)}function uO(){}function Yz(t,e){var n=Na();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oO(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qz(t,e){var n=Na();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oO(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xz(t,e,n){return Vf&21?(vl(n,e)||(n=Q4(),ss.lanes|=n,Gf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mo=!0),t.memoizedState=n)}function yQ(t,e){var n=mr;mr=n!==0&&4>n?n:4,t(!0);var r=G2.transition;G2.transition={};try{t(!1),e()}finally{mr=n,G2.transition=r}}function Kz(){return Na().memoizedState}function bQ(t,e,n){var r=bd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jz(t))Qz(e,n);else if(n=Iz(t,e,n,r),n!==null){var s=Hi();fl(n,t,r,s),Zz(n,e,r)}}function xQ(t,e,n){var r=bd(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jz(t))Qz(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,vl(o,a)){var l=e.interleaved;l===null?(s.next=s,tO(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Iz(t,e,s,r),n!==null&&(s=Hi(),fl(n,t,r,s),Zz(n,e,r))}}function Jz(t){var e=t.alternate;return t===ss||e!==null&&e===ss}function Qz(t,e){Lv=p_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zz(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zR(t,n)}}var m_={readContext:Aa,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},wQ={readContext:Aa,useCallback:function(t,e){return Ml().memoizedState=[t,e===void 0?null:e],t},useContext:Aa,useEffect:NB,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sw(4194308,4,Gz.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sw(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sw(4,2,t,e)},useMemo:function(t,e){var n=Ml();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ml();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bQ.bind(null,ss,t),[r.memoizedState,t]},useRef:function(t){var e=Ml();return t={current:t},e.memoizedState=t},useState:AB,useDebugValue:uO,useDeferredValue:function(t){return Ml().memoizedState=t},useTransition:function(){var t=AB(!1),e=t[0];return t=yQ.bind(null,t[1]),Ml().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ss,s=Ml();if(Jr){if(n===void 0)throw Error(bt(407));n=n()}else{if(n=e(),Ks===null)throw Error(bt(349));Vf&30||Bz(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,NB(Fz.bind(null,r,i,t),[t]),r.flags|=2048,Sy(9,Lz.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ml(),e=Ks.identifierPrefix;if(Jr){var n=Jc,r=Kc;n=(r&~(1<<32-hl(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wy++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vQ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_Q={readContext:Aa,useCallback:Yz,useContext:Aa,useEffect:cO,useImperativeHandle:Hz,useInsertionEffect:Wz,useLayoutEffect:Vz,useMemo:qz,useReducer:H2,useRef:Uz,useState:function(){return H2(_y)},useDebugValue:uO,useDeferredValue:function(t){var e=Na();return Xz(e,$s.memoizedState,t)},useTransition:function(){var t=H2(_y)[0],e=Na().memoizedState;return[t,e]},useMutableSource:Pz,useSyncExternalStore:Mz,useId:Kz,unstable_isNewReconciler:!1},SQ={readContext:Aa,useCallback:Yz,useContext:Aa,useEffect:cO,useImperativeHandle:Hz,useInsertionEffect:Wz,useLayoutEffect:Vz,useMemo:qz,useReducer:Y2,useRef:Uz,useState:function(){return Y2(_y)},useDebugValue:uO,useDeferredValue:function(t){var e=Na();return $s===null?e.memoizedState=t:Xz(e,$s.memoizedState,t)},useTransition:function(){var t=Y2(_y)[0],e=Na().memoizedState;return[t,e]},useMutableSource:Pz,useSyncExternalStore:Mz,useId:Kz,unstable_isNewReconciler:!1};function Fm(t,e){try{var n="",r=e;do n+=JK(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function q2(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function KI(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CQ=typeof WeakMap=="function"?WeakMap:Map;function e7(t,e,n){n=Zc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){v_||(v_=!0,oA=r),KI(t,e)},n}function t7(t,e,n){n=Zc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){KI(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){KI(t,e),typeof r!="function"&&(yd===null?yd=new Set([this]):yd.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function RB(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CQ;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=LQ.bind(null,t,e,n),e.then(t,t))}function OB(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $B(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zc(-1,1),e.tag=2,vd(n,e,1))),n.lanes|=1),t)}var kQ=mu.ReactCurrentOwner,mo=!1;function Wi(t,e,n,r){e.child=t===null?$z(e,null,n,r):Bm(e,t.child,n,r)}function DB(t,e,n,r,s){n=n.render;var i=e.ref;return wm(e,s),r=aO(t,e,n,r,i,s),n=lO(),t!==null&&!mo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,su(t,e,s)):(Jr&&n&&XR(e),e.flags|=1,Wi(t,e,r,s),e.child)}function PB(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!yO(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,n7(t,e,i,r,s)):(t=Tw(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:my,n(a,r)&&t.ref===e.ref)return su(t,e,s)}return e.flags|=1,t=xd(i,r),t.ref=e.ref,t.return=e,e.child=t}function n7(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(my(i,r)&&t.ref===e.ref)if(mo=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(mo=!0);else return e.lanes=t.lanes,su(t,e,s)}return JI(t,e,n,r,s)}function r7(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(um,Uo),Uo|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nr(um,Uo),Uo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Nr(um,Uo),Uo|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Nr(um,Uo),Uo|=r;return Wi(t,e,s,n),e.child}function s7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function JI(t,e,n,r,s){var i=wo(n)?Uf:Ai.current;return i=Pm(e,i),wm(e,s),n=aO(t,e,n,r,i,s),r=lO(),t!==null&&!mo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,su(t,e,s)):(Jr&&r&&XR(e),e.flags|=1,Wi(t,e,n,s),e.child)}function MB(t,e,n,r,s){if(wo(n)){var i=!0;a_(e)}else i=!1;if(wm(e,s),e.stateNode===null)Cw(t,e),Rz(e,n,r),XI(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Aa(c):(c=wo(n)?Uf:Ai.current,c=Pm(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&TB(e,a,r,c),Vu=!1;var h=e.memoizedState;a.state=h,h_(e,r,a,s),l=e.memoizedState,o!==r||h!==l||xo.current||Vu?(typeof u=="function"&&(qI(e,n,u,r),l=e.memoizedState),(o=Vu||EB(e,n,o,r,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Az(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:rl(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Aa(l):(l=wo(n)?Uf:Ai.current,l=Pm(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&TB(e,a,r,l),Vu=!1,h=e.memoizedState,a.state=h,h_(e,r,a,s);var m=e.memoizedState;o!==d||h!==m||xo.current||Vu?(typeof p=="function"&&(qI(e,n,p,r),m=e.memoizedState),(c=Vu||EB(e,n,c,r,h,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return QI(t,e,n,r,i,s)}function QI(t,e,n,r,s,i){s7(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&wB(e,n,!1),su(t,e,i);r=e.stateNode,kQ.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Bm(e,t.child,null,i),e.child=Bm(e,null,o,i)):Wi(t,e,o,i),e.memoizedState=r.state,s&&wB(e,n,!0),e.child}function i7(t){var e=t.stateNode;e.pendingContext?xB(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xB(t,e.context,!1),rO(t,e.containerInfo)}function BB(t,e,n,r,s){return Mm(),JR(s),e.flags|=256,Wi(t,e,n,r),e.child}var ZI={dehydrated:null,treeContext:null,retryLane:0};function eA(t){return{baseLanes:t,cachePool:null,transitions:null}}function o7(t,e,n){var r=e.pendingProps,s=rs.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Nr(rs,s&1),t===null)return HI(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=HS(a,r,0,null),t=$f(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=eA(n),e.memoizedState=ZI,t):dO(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return EQ(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xd(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=xd(o,i):(i=$f(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?eA(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=ZI,r}return i=t.child,t=i.sibling,r=xd(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dO(t,e){return e=HS({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function b1(t,e,n,r){return r!==null&&JR(r),Bm(e,t.child,null,n),t=dO(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EQ(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=q2(Error(bt(422))),b1(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=HS({mode:"visible",children:r.children},s,0,null),i=$f(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Bm(e,t.child,null,a),e.child.memoizedState=eA(a),e.memoizedState=ZI,i);if(!(e.mode&1))return b1(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(bt(419)),r=q2(i,r,void 0),b1(t,e,a,r)}if(o=(a&t.childLanes)!==0,mo||o){if(r=Ks,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ru(t,s),fl(r,t,s,-1))}return vO(),r=q2(Error(bt(421))),b1(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=FQ.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Go=gd(s.nextSibling),Yo=e,Jr=!0,ol=null,t!==null&&(ga[va++]=Kc,ga[va++]=Jc,ga[va++]=Wf,Kc=t.id,Jc=t.overflow,Wf=e),e=dO(e,r.children),e.flags|=4096,e)}function LB(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),YI(t.return,e,n)}function X2(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function a7(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Wi(t,e,r.children,n),r=rs.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&LB(t,n,e);else if(t.tag===19)LB(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Nr(rs,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&f_(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),X2(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&f_(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}X2(e,!0,n,null,i);break;case"together":X2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function su(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(bt(153));if(e.child!==null){for(t=e.child,n=xd(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xd(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TQ(t,e,n){switch(e.tag){case 3:i7(e),Mm();break;case 5:Dz(e);break;case 1:wo(e.type)&&a_(e);break;case 4:rO(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Nr(u_,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Nr(rs,rs.current&1),e.flags|=128,null):n&e.child.childLanes?o7(t,e,n):(Nr(rs,rs.current&1),t=su(t,e,n),t!==null?t.sibling:null);Nr(rs,rs.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return a7(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nr(rs,rs.current),r)break;return null;case 22:case 23:return e.lanes=0,r7(t,e,n)}return su(t,e,n)}var l7,tA,c7,u7;l7=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tA=function(){};c7=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Cf(Kl.current);var i=null;switch(n){case"input":s=SI(t,s),r=SI(t,r),i=[];break;case"select":s=is({},s,{value:void 0}),r=is({},r,{value:void 0}),i=[];break;case"textarea":s=EI(t,s),r=EI(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=i_)}II(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ly.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ly.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fr("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};u7=function(t,e,n,r){n!==r&&(e.flags|=4)};function X0(t,e){if(!Jr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IQ(t,e,n){var r=e.pendingProps;switch(KR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(e),null;case 1:return wo(e.type)&&o_(),vi(e),null;case 3:return r=e.stateNode,Lm(),zr(xo),zr(Ai),iO(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(v1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ol!==null&&(cA(ol),ol=null))),tA(t,e),vi(e),null;case 5:sO(e);var s=Cf(xy.current);if(n=e.type,t!==null&&e.stateNode!=null)c7(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(bt(166));return vi(e),null}if(t=Cf(Kl.current),v1(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Wl]=e,r[yy]=i,t=(e.mode&1)!==0,n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(s=0;s<vv.length;s++)Fr(vv[s],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":YM(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":XM(r,i),Fr("invalid",r)}II(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&g1(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&g1(r.textContent,o,t),s=["children",""+o]):ly.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Fr("scroll",r)}switch(n){case"input":l1(r),qM(r,i,!0);break;case"textarea":l1(r),KM(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=i_)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Wl]=e,t[yy]=r,l7(t,e,!1,!1),e.stateNode=t;e:{switch(a=AI(n,r),n){case"dialog":Fr("cancel",t),Fr("close",t),s=r;break;case"iframe":case"object":case"embed":Fr("load",t),s=r;break;case"video":case"audio":for(s=0;s<vv.length;s++)Fr(vv[s],t);s=r;break;case"source":Fr("error",t),s=r;break;case"img":case"image":case"link":Fr("error",t),Fr("load",t),s=r;break;case"details":Fr("toggle",t),s=r;break;case"input":YM(t,r),s=SI(t,r),Fr("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=is({},r,{value:void 0}),Fr("invalid",t);break;case"textarea":XM(t,r),s=EI(t,r),Fr("invalid",t);break;default:s=r}II(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?j4(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&L4(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cy(t,l):typeof l=="number"&&cy(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ly.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fr("scroll",t):l!=null&&PR(t,i,l,a))}switch(n){case"input":l1(t),qM(t,r,!1);break;case"textarea":l1(t),KM(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rd(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?vm(t,!!r.multiple,i,!1):r.defaultValue!=null&&vm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=i_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vi(e),null;case 6:if(t&&e.stateNode!=null)u7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(bt(166));if(n=Cf(xy.current),Cf(Kl.current),v1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wl]=e,(i=r.nodeValue!==n)&&(t=Yo,t!==null))switch(t.tag){case 3:g1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&g1(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wl]=e,e.stateNode=r}return vi(e),null;case 13:if(zr(rs),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Jr&&Go!==null&&e.mode&1&&!(e.flags&128))Tz(),Mm(),e.flags|=98560,i=!1;else if(i=v1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(bt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(bt(317));i[Wl]=e}else Mm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vi(e),i=!1}else ol!==null&&(cA(ol),ol=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rs.current&1?Ps===0&&(Ps=3):vO())),e.updateQueue!==null&&(e.flags|=4),vi(e),null);case 4:return Lm(),tA(t,e),t===null&&gy(e.stateNode.containerInfo),vi(e),null;case 10:return eO(e.type._context),vi(e),null;case 17:return wo(e.type)&&o_(),vi(e),null;case 19:if(zr(rs),i=e.memoizedState,i===null)return vi(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)X0(i,!1);else{if(Ps!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=f_(t),a!==null){for(e.flags|=128,X0(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Nr(rs,rs.current&1|2),e.child}t=t.sibling}i.tail!==null&&vs()>jm&&(e.flags|=128,r=!0,X0(i,!1),e.lanes=4194304)}else{if(!r)if(t=f_(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),X0(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Jr)return vi(e),null}else 2*vs()-i.renderingStartTime>jm&&n!==1073741824&&(e.flags|=128,r=!0,X0(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=vs(),e.sibling=null,n=rs.current,Nr(rs,r?n&1|2:n&1),e):(vi(e),null);case 22:case 23:return gO(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Uo&1073741824&&(vi(e),e.subtreeFlags&6&&(e.flags|=8192)):vi(e),null;case 24:return null;case 25:return null}throw Error(bt(156,e.tag))}function AQ(t,e){switch(KR(e),e.tag){case 1:return wo(e.type)&&o_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lm(),zr(xo),zr(Ai),iO(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sO(e),null;case 13:if(zr(rs),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(bt(340));Mm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zr(rs),null;case 4:return Lm(),null;case 10:return eO(e.type._context),null;case 22:case 23:return gO(),null;case 24:return null;default:return null}}var x1=!1,Si=!1,NQ=typeof WeakSet=="function"?WeakSet:Set,zt=null;function cm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){as(t,e,r)}else n.current=null}function nA(t,e,n){try{n()}catch(r){as(t,e,r)}}var FB=!1;function RQ(t,e){if(FI=n_,t=pz(),qR(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(o=a),h===i&&++u===r&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jI={focusedElem:t,selectionRange:n},n_=!1,zt=e;zt!==null;)if(e=zt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,zt=t;else for(;zt!==null;){e=zt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var f=m.memoizedProps,b=m.memoizedState,w=e.stateNode,g=w.getSnapshotBeforeUpdate(e.elementType===e.type?f:rl(e.type,f),b);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(bt(163))}}catch(k){as(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,zt=t;break}zt=e.return}return m=FB,FB=!1,m}function Fv(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nA(e,n,i)}s=s.next}while(s!==r)}}function VS(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function d7(t){var e=t.alternate;e!==null&&(t.alternate=null,d7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wl],delete e[yy],delete e[WI],delete e[fQ],delete e[pQ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function h7(t){return t.tag===5||t.tag===3||t.tag===4}function jB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=i_));else if(r!==4&&(t=t.child,t!==null))for(sA(t,e,n),t=t.sibling;t!==null;)sA(t,e,n),t=t.sibling}function iA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(iA(t,e,n),t=t.sibling;t!==null;)iA(t,e,n),t=t.sibling}var ai=null,sl=!1;function Mu(t,e,n){for(n=n.child;n!==null;)f7(t,e,n),n=n.sibling}function f7(t,e,n){if(Xl&&typeof Xl.onCommitFiberUnmount=="function")try{Xl.onCommitFiberUnmount(MS,n)}catch{}switch(n.tag){case 5:Si||cm(n,e);case 6:var r=ai,s=sl;ai=null,Mu(t,e,n),ai=r,sl=s,ai!==null&&(sl?(t=ai,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ai.removeChild(n.stateNode));break;case 18:ai!==null&&(sl?(t=ai,n=n.stateNode,t.nodeType===8?U2(t.parentNode,n):t.nodeType===1&&U2(t,n),fy(t)):U2(ai,n.stateNode));break;case 4:r=ai,s=sl,ai=n.stateNode.containerInfo,sl=!0,Mu(t,e,n),ai=r,sl=s;break;case 0:case 11:case 14:case 15:if(!Si&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&nA(n,e,a),s=s.next}while(s!==r)}Mu(t,e,n);break;case 1:if(!Si&&(cm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){as(n,e,o)}Mu(t,e,n);break;case 21:Mu(t,e,n);break;case 22:n.mode&1?(Si=(r=Si)||n.memoizedState!==null,Mu(t,e,n),Si=r):Mu(t,e,n);break;default:Mu(t,e,n)}}function zB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NQ),e.forEach(function(r){var s=jQ.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ai=o.stateNode,sl=!1;break e;case 3:ai=o.stateNode.containerInfo,sl=!0;break e;case 4:ai=o.stateNode.containerInfo,sl=!0;break e}o=o.return}if(ai===null)throw Error(bt(160));f7(i,a,s),ai=null,sl=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){as(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p7(e,t),e=e.sibling}function p7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qa(e,t),Dl(t),r&4){try{Fv(3,t,t.return),VS(3,t)}catch(f){as(t,t.return,f)}try{Fv(5,t,t.return)}catch(f){as(t,t.return,f)}}break;case 1:Qa(e,t),Dl(t),r&512&&n!==null&&cm(n,n.return);break;case 5:if(Qa(e,t),Dl(t),r&512&&n!==null&&cm(n,n.return),t.flags&32){var s=t.stateNode;try{cy(s,"")}catch(f){as(t,t.return,f)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&P4(s,i),AI(o,a);var c=AI(o,i);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?j4(s,d):u==="dangerouslySetInnerHTML"?L4(s,d):u==="children"?cy(s,d):PR(s,u,d,c)}switch(o){case"input":CI(s,i);break;case"textarea":M4(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?vm(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?vm(s,!!i.multiple,i.defaultValue,!0):vm(s,!!i.multiple,i.multiple?[]:"",!1))}s[yy]=i}catch(f){as(t,t.return,f)}}break;case 6:if(Qa(e,t),Dl(t),r&4){if(t.stateNode===null)throw Error(bt(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(f){as(t,t.return,f)}}break;case 3:if(Qa(e,t),Dl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fy(e.containerInfo)}catch(f){as(t,t.return,f)}break;case 4:Qa(e,t),Dl(t);break;case 13:Qa(e,t),Dl(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pO=vs())),r&4&&zB(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Si=(c=Si)||u,Qa(e,t),Si=c):Qa(e,t),Dl(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(zt=t,u=t.child;u!==null;){for(d=zt=u;zt!==null;){switch(h=zt,p=h.child,h.tag){case 0:case 11:case 14:case 15:Fv(4,h,h.return);break;case 1:cm(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(f){as(r,n,f)}}break;case 5:cm(h,h.return);break;case 22:if(h.memoizedState!==null){WB(d);continue}}p!==null?(p.return=h,zt=p):WB(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=F4("display",a))}catch(f){as(t,t.return,f)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(f){as(t,t.return,f)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qa(e,t),Dl(t),r&4&&zB(t);break;case 21:break;default:Qa(e,t),Dl(t)}}function Dl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(h7(n)){var r=n;break e}n=n.return}throw Error(bt(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(cy(s,""),r.flags&=-33);var i=jB(t);iA(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=jB(t);sA(t,o,a);break;default:throw Error(bt(161))}}catch(l){as(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OQ(t,e,n){zt=t,m7(t)}function m7(t,e,n){for(var r=(t.mode&1)!==0;zt!==null;){var s=zt,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||x1;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Si;o=x1;var c=Si;if(x1=a,(Si=l)&&!c)for(zt=s;zt!==null;)a=zt,l=a.child,a.tag===22&&a.memoizedState!==null?VB(s):l!==null?(l.return=a,zt=l):VB(s);for(;i!==null;)zt=i,m7(i),i=i.sibling;zt=s,x1=o,Si=c}UB(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,zt=i):UB(t)}}function UB(t){for(;zt!==null;){var e=zt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Si||VS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Si)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rl(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&kB(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kB(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&fy(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(bt(163))}Si||e.flags&512&&rA(e)}catch(h){as(e,e.return,h)}}if(e===t){zt=null;break}if(n=e.sibling,n!==null){n.return=e.return,zt=n;break}zt=e.return}}function WB(t){for(;zt!==null;){var e=zt;if(e===t){zt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,zt=n;break}zt=e.return}}function VB(t){for(;zt!==null;){var e=zt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{VS(4,e)}catch(l){as(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){as(e,s,l)}}var i=e.return;try{rA(e)}catch(l){as(e,i,l)}break;case 5:var a=e.return;try{rA(e)}catch(l){as(e,a,l)}}}catch(l){as(e,e.return,l)}if(e===t){zt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,zt=o;break}zt=e.return}}var $Q=Math.ceil,g_=mu.ReactCurrentDispatcher,hO=mu.ReactCurrentOwner,Ea=mu.ReactCurrentBatchConfig,Jn=0,Ks=null,Cs=null,li=0,Uo=0,um=Kd(0),Ps=0,Cy=null,Gf=0,GS=0,fO=0,jv=null,ho=null,pO=0,jm=1/0,Gc=null,v_=!1,oA=null,yd=null,w1=!1,Ju=null,y_=0,zv=0,aA=null,kw=-1,Ew=0;function Hi(){return Jn&6?vs():kw!==-1?kw:kw=vs()}function bd(t){return t.mode&1?Jn&2&&li!==0?li&-li:gQ.transition!==null?(Ew===0&&(Ew=Q4()),Ew):(t=mr,t!==0||(t=window.event,t=t===void 0?16:iz(t.type)),t):1}function fl(t,e,n,r){if(50<zv)throw zv=0,aA=null,Error(bt(185));hb(t,n,r),(!(Jn&2)||t!==Ks)&&(t===Ks&&(!(Jn&2)&&(GS|=n),Ps===4&&qu(t,li)),_o(t,r),n===1&&Jn===0&&!(e.mode&1)&&(jm=vs()+500,zS&&Jd()))}function _o(t,e){var n=t.callbackNode;gJ(t,e);var r=t_(t,t===Ks?li:0);if(r===0)n!==null&&ZM(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ZM(n),e===1)t.tag===0?mQ(GB.bind(null,t)):Cz(GB.bind(null,t)),dQ(function(){!(Jn&6)&&Jd()}),n=null;else{switch(Z4(r)){case 1:n=jR;break;case 4:n=K4;break;case 16:n=e_;break;case 536870912:n=J4;break;default:n=e_}n=S7(n,g7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g7(t,e){if(kw=-1,Ew=0,Jn&6)throw Error(bt(327));var n=t.callbackNode;if(_m()&&t.callbackNode!==n)return null;var r=t_(t,t===Ks?li:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=b_(t,r);else{e=r;var s=Jn;Jn|=2;var i=y7();(Ks!==t||li!==e)&&(Gc=null,jm=vs()+500,Of(t,e));do try{MQ();break}catch(o){v7(t,o)}while(1);ZR(),g_.current=i,Jn=s,Cs!==null?e=0:(Ks=null,li=0,e=Ps)}if(e!==0){if(e===2&&(s=DI(t),s!==0&&(r=s,e=lA(t,s))),e===1)throw n=Cy,Of(t,0),qu(t,r),_o(t,vs()),n;if(e===6)qu(t,r);else{if(s=t.current.alternate,!(r&30)&&!DQ(s)&&(e=b_(t,r),e===2&&(i=DI(t),i!==0&&(r=i,e=lA(t,i))),e===1))throw n=Cy,Of(t,0),qu(t,r),_o(t,vs()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(bt(345));case 2:lf(t,ho,Gc);break;case 3:if(qu(t,r),(r&130023424)===r&&(e=pO+500-vs(),10<e)){if(t_(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Hi(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=UI(lf.bind(null,t,ho,Gc),e);break}lf(t,ho,Gc);break;case 4:if(qu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-hl(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=vs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$Q(r/1960))-r,10<r){t.timeoutHandle=UI(lf.bind(null,t,ho,Gc),r);break}lf(t,ho,Gc);break;case 5:lf(t,ho,Gc);break;default:throw Error(bt(329))}}}return _o(t,vs()),t.callbackNode===n?g7.bind(null,t):null}function lA(t,e){var n=jv;return t.current.memoizedState.isDehydrated&&(Of(t,e).flags|=256),t=b_(t,e),t!==2&&(e=ho,ho=n,e!==null&&cA(e)),t}function cA(t){ho===null?ho=t:ho.push.apply(ho,t)}function DQ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vl(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qu(t,e){for(e&=~fO,e&=~GS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hl(e),r=1<<n;t[n]=-1,e&=~r}}function GB(t){if(Jn&6)throw Error(bt(327));_m();var e=t_(t,0);if(!(e&1))return _o(t,vs()),null;var n=b_(t,e);if(t.tag!==0&&n===2){var r=DI(t);r!==0&&(e=r,n=lA(t,r))}if(n===1)throw n=Cy,Of(t,0),qu(t,e),_o(t,vs()),n;if(n===6)throw Error(bt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lf(t,ho,Gc),_o(t,vs()),null}function mO(t,e){var n=Jn;Jn|=1;try{return t(e)}finally{Jn=n,Jn===0&&(jm=vs()+500,zS&&Jd())}}function Hf(t){Ju!==null&&Ju.tag===0&&!(Jn&6)&&_m();var e=Jn;Jn|=1;var n=Ea.transition,r=mr;try{if(Ea.transition=null,mr=1,t)return t()}finally{mr=r,Ea.transition=n,Jn=e,!(Jn&6)&&Jd()}}function gO(){Uo=um.current,zr(um)}function Of(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uQ(n)),Cs!==null)for(n=Cs.return;n!==null;){var r=n;switch(KR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&o_();break;case 3:Lm(),zr(xo),zr(Ai),iO();break;case 5:sO(r);break;case 4:Lm();break;case 13:zr(rs);break;case 19:zr(rs);break;case 10:eO(r.type._context);break;case 22:case 23:gO()}n=n.return}if(Ks=t,Cs=t=xd(t.current,null),li=Uo=e,Ps=0,Cy=null,fO=GS=Gf=0,ho=jv=null,Sf!==null){for(e=0;e<Sf.length;e++)if(n=Sf[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Sf=null}return t}function v7(t,e){do{var n=Cs;try{if(ZR(),_w.current=m_,p_){for(var r=ss.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}p_=!1}if(Vf=0,Hs=$s=ss=null,Lv=!1,wy=0,hO.current=null,n===null||n.return===null){Ps=1,Cy=e,Cs=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=li,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=OB(a);if(p!==null){p.flags&=-257,$B(p,a,o,i,e),p.mode&1&&RB(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var f=new Set;f.add(l),e.updateQueue=f}else m.add(l);break e}else{if(!(e&1)){RB(i,c,e),vO();break e}l=Error(bt(426))}}else if(Jr&&o.mode&1){var b=OB(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),$B(b,a,o,i,e),JR(Fm(l,o));break e}}i=l=Fm(l,o),Ps!==4&&(Ps=2),jv===null?jv=[i]:jv.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=e7(i,l,e);CB(i,w);break e;case 1:o=l;var g=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(yd===null||!yd.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=t7(i,o,e);CB(i,k);break e}}i=i.return}while(i!==null)}x7(n)}catch(N){e=N,Cs===n&&n!==null&&(Cs=n=n.return);continue}break}while(1)}function y7(){var t=g_.current;return g_.current=m_,t===null?m_:t}function vO(){(Ps===0||Ps===3||Ps===2)&&(Ps=4),Ks===null||!(Gf&268435455)&&!(GS&268435455)||qu(Ks,li)}function b_(t,e){var n=Jn;Jn|=2;var r=y7();(Ks!==t||li!==e)&&(Gc=null,Of(t,e));do try{PQ();break}catch(s){v7(t,s)}while(1);if(ZR(),Jn=n,g_.current=r,Cs!==null)throw Error(bt(261));return Ks=null,li=0,Ps}function PQ(){for(;Cs!==null;)b7(Cs)}function MQ(){for(;Cs!==null&&!aJ();)b7(Cs)}function b7(t){var e=_7(t.alternate,t,Uo);t.memoizedProps=t.pendingProps,e===null?x7(t):Cs=e,hO.current=null}function x7(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AQ(n,e),n!==null){n.flags&=32767,Cs=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ps=6,Cs=null;return}}else if(n=IQ(n,e,Uo),n!==null){Cs=n;return}if(e=e.sibling,e!==null){Cs=e;return}Cs=e=t}while(e!==null);Ps===0&&(Ps=5)}function lf(t,e,n){var r=mr,s=Ea.transition;try{Ea.transition=null,mr=1,BQ(t,e,n,r)}finally{Ea.transition=s,mr=r}return null}function BQ(t,e,n,r){do _m();while(Ju!==null);if(Jn&6)throw Error(bt(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(bt(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(vJ(t,i),t===Ks&&(Cs=Ks=null,li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||w1||(w1=!0,S7(e_,function(){return _m(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ea.transition,Ea.transition=null;var a=mr;mr=1;var o=Jn;Jn|=4,hO.current=null,RQ(t,n),p7(n,t),rQ(jI),n_=!!FI,jI=FI=null,t.current=n,OQ(n),lJ(),Jn=o,mr=a,Ea.transition=i}else t.current=n;if(w1&&(w1=!1,Ju=t,y_=s),i=t.pendingLanes,i===0&&(yd=null),dJ(n.stateNode),_o(t,vs()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(v_)throw v_=!1,t=oA,oA=null,t;return y_&1&&t.tag!==0&&_m(),i=t.pendingLanes,i&1?t===aA?zv++:(zv=0,aA=t):zv=0,Jd(),null}function _m(){if(Ju!==null){var t=Z4(y_),e=Ea.transition,n=mr;try{if(Ea.transition=null,mr=16>t?16:t,Ju===null)var r=!1;else{if(t=Ju,Ju=null,y_=0,Jn&6)throw Error(bt(331));var s=Jn;for(Jn|=4,zt=t.current;zt!==null;){var i=zt,a=i.child;if(zt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(zt=c;zt!==null;){var u=zt;switch(u.tag){case 0:case 11:case 15:Fv(8,u,i)}var d=u.child;if(d!==null)d.return=u,zt=d;else for(;zt!==null;){u=zt;var h=u.sibling,p=u.return;if(d7(u),u===c){zt=null;break}if(h!==null){h.return=p,zt=h;break}zt=p}}}var m=i.alternate;if(m!==null){var f=m.child;if(f!==null){m.child=null;do{var b=f.sibling;f.sibling=null,f=b}while(f!==null)}}zt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,zt=a;else e:for(;zt!==null;){if(i=zt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fv(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,zt=w;break e}zt=i.return}}var g=t.current;for(zt=g;zt!==null;){a=zt;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,zt=C;else e:for(a=g;zt!==null;){if(o=zt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:VS(9,o)}}catch(N){as(o,o.return,N)}if(o===a){zt=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,zt=k;break e}zt=o.return}}if(Jn=s,Jd(),Xl&&typeof Xl.onPostCommitFiberRoot=="function")try{Xl.onPostCommitFiberRoot(MS,t)}catch{}r=!0}return r}finally{mr=n,Ea.transition=e}}return!1}function HB(t,e,n){e=Fm(n,e),e=e7(t,e,1),t=vd(t,e,1),e=Hi(),t!==null&&(hb(t,1,e),_o(t,e))}function as(t,e,n){if(t.tag===3)HB(t,t,n);else for(;e!==null;){if(e.tag===3){HB(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yd===null||!yd.has(r))){t=Fm(n,t),t=t7(e,t,1),e=vd(e,t,1),t=Hi(),e!==null&&(hb(e,1,t),_o(e,t));break}}e=e.return}}function LQ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hi(),t.pingedLanes|=t.suspendedLanes&n,Ks===t&&(li&n)===n&&(Ps===4||Ps===3&&(li&130023424)===li&&500>vs()-pO?Of(t,0):fO|=n),_o(t,e)}function w7(t,e){e===0&&(t.mode&1?(e=d1,d1<<=1,!(d1&130023424)&&(d1=4194304)):e=1);var n=Hi();t=ru(t,e),t!==null&&(hb(t,e,n),_o(t,n))}function FQ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),w7(t,n)}function jQ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(bt(314))}r!==null&&r.delete(e),w7(t,n)}var _7;_7=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xo.current)mo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mo=!1,TQ(t,e,n);mo=!!(t.flags&131072)}else mo=!1,Jr&&e.flags&1048576&&kz(e,c_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cw(t,e),t=e.pendingProps;var s=Pm(e,Ai.current);wm(e,n),s=aO(null,e,r,t,s,n);var i=lO();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wo(r)?(i=!0,a_(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nO(e),s.updater=US,e.stateNode=s,s._reactInternals=e,XI(e,r,t,n),e=QI(null,e,r,!0,i,n)):(e.tag=0,Jr&&i&&XR(e),Wi(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cw(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=UQ(r),t=rl(r,t),s){case 0:e=JI(null,e,r,t,n);break e;case 1:e=MB(null,e,r,t,n);break e;case 11:e=DB(null,e,r,t,n);break e;case 14:e=PB(null,e,r,rl(r.type,t),n);break e}throw Error(bt(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rl(r,s),JI(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rl(r,s),MB(t,e,r,s,n);case 3:e:{if(i7(e),t===null)throw Error(bt(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Az(t,e),h_(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Fm(Error(bt(423)),e),e=BB(t,e,r,n,s);break e}else if(r!==s){s=Fm(Error(bt(424)),e),e=BB(t,e,r,n,s);break e}else for(Go=gd(e.stateNode.containerInfo.firstChild),Yo=e,Jr=!0,ol=null,n=$z(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mm(),r===s){e=su(t,e,n);break e}Wi(t,e,r,n)}e=e.child}return e;case 5:return Dz(e),t===null&&HI(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,zI(r,s)?a=null:i!==null&&zI(r,i)&&(e.flags|=32),s7(t,e),Wi(t,e,a,n),e.child;case 6:return t===null&&HI(e),null;case 13:return o7(t,e,n);case 4:return rO(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bm(e,null,r,n):Wi(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rl(r,s),DB(t,e,r,s,n);case 7:return Wi(t,e,e.pendingProps,n),e.child;case 8:return Wi(t,e,e.pendingProps.children,n),e.child;case 12:return Wi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Nr(u_,r._currentValue),r._currentValue=a,i!==null)if(vl(i.value,a)){if(i.children===s.children&&!xo.current){e=su(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Zc(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),YI(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(bt(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),YI(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Wi(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,wm(e,n),s=Aa(s),r=r(s),e.flags|=1,Wi(t,e,r,n),e.child;case 14:return r=e.type,s=rl(r,e.pendingProps),s=rl(r.type,s),PB(t,e,r,s,n);case 15:return n7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rl(r,s),Cw(t,e),e.tag=1,wo(r)?(t=!0,a_(e)):t=!1,wm(e,n),Rz(e,r,s),XI(e,r,s,n),QI(null,e,r,!0,t,n);case 19:return a7(t,e,n);case 22:return r7(t,e,n)}throw Error(bt(156,e.tag))};function S7(t,e){return X4(t,e)}function zQ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ba(t,e,n,r){return new zQ(t,e,n,r)}function yO(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UQ(t){if(typeof t=="function")return yO(t)?1:0;if(t!=null){if(t=t.$$typeof,t===BR)return 11;if(t===LR)return 14}return 2}function xd(t,e){var n=t.alternate;return n===null?(n=ba(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tw(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")yO(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case em:return $f(n.children,s,i,e);case MR:a=8,s|=8;break;case bI:return t=ba(12,n,e,s|2),t.elementType=bI,t.lanes=i,t;case xI:return t=ba(13,n,e,s),t.elementType=xI,t.lanes=i,t;case wI:return t=ba(19,n,e,s),t.elementType=wI,t.lanes=i,t;case O4:return HS(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N4:a=10;break e;case R4:a=9;break e;case BR:a=11;break e;case LR:a=14;break e;case Wu:a=16,r=null;break e}throw Error(bt(130,t==null?t:typeof t,""))}return e=ba(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function $f(t,e,n,r){return t=ba(7,t,r,e),t.lanes=n,t}function HS(t,e,n,r){return t=ba(22,t,r,e),t.elementType=O4,t.lanes=n,t.stateNode={isHidden:!1},t}function K2(t,e,n){return t=ba(6,t,null,e),t.lanes=n,t}function J2(t,e,n){return e=ba(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WQ(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R2(0),this.expirationTimes=R2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R2(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bO(t,e,n,r,s,i,a,o,l){return t=new WQ(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ba(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nO(i),t}function VQ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function C7(t){if(!t)return Od;t=t._reactInternals;e:{if(vp(t)!==t||t.tag!==1)throw Error(bt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(bt(171))}if(t.tag===1){var n=t.type;if(wo(n))return Sz(t,n,e)}return e}function k7(t,e,n,r,s,i,a,o,l){return t=bO(n,r,!0,t,s,i,a,o,l),t.context=C7(null),n=t.current,r=Hi(),s=bd(n),i=Zc(r,s),i.callback=e??null,vd(n,i,s),t.current.lanes=s,hb(t,s,r),_o(t,r),t}function YS(t,e,n,r){var s=e.current,i=Hi(),a=bd(s);return n=C7(n),e.context===null?e.context=n:e.pendingContext=n,e=Zc(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vd(s,e,a),t!==null&&(fl(t,s,a,i),ww(t,s,a)),a}function x_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xO(t,e){YB(t,e),(t=t.alternate)&&YB(t,e)}function GQ(){return null}var E7=typeof reportError=="function"?reportError:function(t){console.error(t)};function wO(t){this._internalRoot=t}qS.prototype.render=wO.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(bt(409));YS(t,e,null,null)};qS.prototype.unmount=wO.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hf(function(){YS(null,t,null,null)}),e[nu]=null}};function qS(t){this._internalRoot=t}qS.prototype.unstable_scheduleHydration=function(t){if(t){var e=nz();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yu.length&&e!==0&&e<Yu[n].priority;n++);Yu.splice(n,0,t),n===0&&sz(t)}};function _O(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function XS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qB(){}function HQ(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=x_(a);i.call(c)}}var a=k7(e,r,t,0,null,!1,!1,"",qB);return t._reactRootContainer=a,t[nu]=a.current,gy(t.nodeType===8?t.parentNode:t),Hf(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=x_(l);o.call(c)}}var l=bO(t,0,!1,null,null,!1,!1,"",qB);return t._reactRootContainer=l,t[nu]=l.current,gy(t.nodeType===8?t.parentNode:t),Hf(function(){YS(e,l,n,r)}),l}function KS(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=x_(a);o.call(l)}}YS(e,a,t,s)}else a=HQ(n,e,t,s,r);return x_(a)}ez=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gv(e.pendingLanes);n!==0&&(zR(e,n|1),_o(e,vs()),!(Jn&6)&&(jm=vs()+500,Jd()))}break;case 13:Hf(function(){var r=ru(t,1);if(r!==null){var s=Hi();fl(r,t,1,s)}}),xO(t,1)}};UR=function(t){if(t.tag===13){var e=ru(t,134217728);if(e!==null){var n=Hi();fl(e,t,134217728,n)}xO(t,134217728)}};tz=function(t){if(t.tag===13){var e=bd(t),n=ru(t,e);if(n!==null){var r=Hi();fl(n,t,e,r)}xO(t,e)}};nz=function(){return mr};rz=function(t,e){var n=mr;try{return mr=t,e()}finally{mr=n}};RI=function(t,e,n){switch(e){case"input":if(CI(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=jS(r);if(!s)throw Error(bt(90));D4(r),CI(r,s)}}}break;case"textarea":M4(t,n);break;case"select":e=n.value,e!=null&&vm(t,!!n.multiple,e,!1)}};W4=mO;V4=Hf;var YQ={usingClientEntryPoint:!1,Events:[pb,sm,jS,z4,U4,mO]},K0={findFiberByHostInstance:_f,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qQ={bundleType:K0.bundleType,version:K0.version,rendererPackageName:K0.rendererPackageName,rendererConfig:K0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y4(t),t===null?null:t.stateNode},findFiberByHostInstance:K0.findFiberByHostInstance||GQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_1.isDisabled&&_1.supportsFiber)try{MS=_1.inject(qQ),Xl=_1}catch{}}Zo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YQ;Zo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_O(e))throw Error(bt(200));return VQ(t,e,null,n)};Zo.createRoot=function(t,e){if(!_O(t))throw Error(bt(299));var n=!1,r="",s=E7;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=bO(t,1,!1,null,null,n,!1,r,s),t[nu]=e.current,gy(t.nodeType===8?t.parentNode:t),new wO(e)};Zo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(bt(188)):(t=Object.keys(t).join(","),Error(bt(268,t)));return t=Y4(e),t=t===null?null:t.stateNode,t};Zo.flushSync=function(t){return Hf(t)};Zo.hydrate=function(t,e,n){if(!XS(e))throw Error(bt(200));return KS(null,t,e,!0,n)};Zo.hydrateRoot=function(t,e,n){if(!_O(t))throw Error(bt(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=E7;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=k7(e,null,t,1,n??null,s,!1,i,a),t[nu]=e.current,gy(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new qS(e)};Zo.render=function(t,e,n){if(!XS(e))throw Error(bt(200));return KS(null,t,e,!1,n)};Zo.unmountComponentAtNode=function(t){if(!XS(t))throw Error(bt(40));return t._reactRootContainer?(Hf(function(){KS(null,null,t,!1,function(){t._reactRootContainer=null,t[nu]=null})}),!0):!1};Zo.unstable_batchedUpdates=mO;Zo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!XS(n))throw Error(bt(200));if(t==null||t._reactInternals===void 0)throw Error(bt(38));return KS(t,e,n,!1,r)};Zo.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Zo})(GK);const kf=IR(ay);var XB=ay;gI.createRoot=XB.createRoot,gI.hydrateRoot=XB.hydrateRoot;function T7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=T7(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Qu(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=T7(t))&&(r&&(r+=" "),r+=e);return r}const Uv=t=>typeof t=="number"&&!isNaN(t),Yf=t=>typeof t=="string",go=t=>typeof t=="function",Iw=t=>Yf(t)||go(t)?t:null,Q2=t=>Q.isValidElement(t)||Yf(t)||go(t)||Uv(t);function XQ(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function JS(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(a){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=a;const p=r?`${e}--${l}`:e,m=r?`${n}--${l}`:n,f=Q.useRef(0);return Q.useLayoutEffect(()=>{const b=d.current,w=p.split(" "),g=C=>{C.target===d.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",g),b.removeEventListener("animationcancel",g),f.current===0&&C.type!=="animationcancel"&&b.classList.remove(...w))};b.classList.add(...w),b.addEventListener("animationend",g),b.addEventListener("animationcancel",g)},[]),Q.useEffect(()=>{const b=d.current,w=()=>{b.removeEventListener("animationend",w),s?XQ(b,u,i):u()};h||(c?w():(f.current=1,b.className+=` ${m}`,b.addEventListener("animationend",w)))},[h]),sn.createElement(sn.Fragment,null,o)}}function KB(t,e){return{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}}const ma={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},S1=t=>{let{theme:e,type:n,...r}=t;return sn.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Z2={info:function(t){return sn.createElement(S1,{...t},sn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return sn.createElement(S1,{...t},sn.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return sn.createElement(S1,{...t},sn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return sn.createElement(S1,{...t},sn.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return sn.createElement("div",{className:"Toastify__spinner"})}};function KQ(t){const[,e]=Q.useReducer(p=>p+1,0),[n,r]=Q.useState([]),s=Q.useRef(null),i=Q.useRef(new Map).current,a=p=>n.indexOf(p)!==-1,o=Q.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:a,getToast:p=>i.get(p)}).current;function l(p){let{containerId:m}=p;const{limit:f}=o.props;!f||m&&o.containerId!==m||(o.count-=o.queue.length,o.queue=[])}function c(p){r(m=>p==null?[]:m.filter(f=>f!==p))}function u(){const{toastContent:p,toastProps:m,staleId:f}=o.queue.shift();h(p,m,f)}function d(p,m){let{delay:f,staleId:b,...w}=m;if(!Q2(p)||function(M){return!s.current||o.props.enableMultiContainer&&M.containerId!==o.props.containerId||i.has(M.toastId)&&M.updateId==null}(w))return;const{toastId:g,updateId:C,data:k}=w,{props:N}=o,A=()=>c(g),O=C==null;O&&o.count++;const R={...N,style:N.toastStyle,key:o.toastKey++,...Object.fromEntries(Object.entries(w).filter(M=>{let[z,W]=M;return W!=null})),toastId:g,updateId:C,data:k,closeToast:A,isIn:!1,className:Iw(w.className||N.toastClassName),bodyClassName:Iw(w.bodyClassName||N.bodyClassName),progressClassName:Iw(w.progressClassName||N.progressClassName),autoClose:!w.isLoading&&($=w.autoClose,D=N.autoClose,$===!1||Uv($)&&$>0?$:D),deleteToast(){const M=KB(i.get(g),"removed");i.delete(g),ma.emit(4,M);const z=o.queue.length;if(o.count=g==null?o.count-o.displayedToast:o.count-1,o.count<0&&(o.count=0),z>0){const W=g==null?o.props.limit:1;if(z===1||W===1)o.displayedToast++,u();else{const V=W>z?z:W;o.displayedToast=V;for(let q=0;q<V;q++)u()}}else e()}};var $,D;R.iconOut=function(M){let{theme:z,type:W,isLoading:V,icon:q}=M,H=null;const K={theme:z,type:W};return q===!1||(go(q)?H=q(K):Q.isValidElement(q)?H=Q.cloneElement(q,K):Yf(q)||Uv(q)?H=q:V?H=Z2.spinner():(F=>F in Z2)(W)&&(H=Z2[W](K))),H}(R),go(w.onOpen)&&(R.onOpen=w.onOpen),go(w.onClose)&&(R.onClose=w.onClose),R.closeButton=N.closeButton,w.closeButton===!1||Q2(w.closeButton)?R.closeButton=w.closeButton:w.closeButton===!0&&(R.closeButton=!Q2(N.closeButton)||N.closeButton);let B=p;Q.isValidElement(p)&&!Yf(p.type)?B=Q.cloneElement(p,{closeToast:A,toastProps:R,data:k}):go(p)&&(B=p({closeToast:A,toastProps:R,data:k})),N.limit&&N.limit>0&&o.count>N.limit&&O?o.queue.push({toastContent:B,toastProps:R,staleId:b}):Uv(f)?setTimeout(()=>{h(B,R,b)},f):h(B,R,b)}function h(p,m,f){const{toastId:b}=m;f&&i.delete(f);const w={content:p,props:m};i.set(b,w),r(g=>[...g,b].filter(C=>C!==f)),ma.emit(4,KB(w,w.props.updateId==null?"added":"updated"))}return Q.useEffect(()=>(o.containerId=t.containerId,ma.cancelEmit(3).on(0,d).on(1,p=>s.current&&c(p)).on(5,l).emit(2,o),()=>{i.clear(),ma.emit(3,o)}),[]),Q.useEffect(()=>{o.props=t,o.isToastActive=a,o.displayedToast=n.length}),{getToastToRender:function(p){const m=new Map,f=Array.from(i.values());return t.newestOnTop&&f.reverse(),f.forEach(b=>{const{position:w}=b.props;m.has(w)||m.set(w,[]),m.get(w).push(b)}),Array.from(m,b=>p(b[0],b[1]))},containerRef:s,isToastActive:a}}function JB(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function QB(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function JQ(t){const[e,n]=Q.useState(!1),[r,s]=Q.useState(!1),i=Q.useRef(null),a=Q.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,o=Q.useRef(t),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=t;function p(k){if(t.draggable){k.nativeEvent.type==="touchstart"&&k.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",g),document.addEventListener("touchmove",w),document.addEventListener("touchend",g);const N=i.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=N.getBoundingClientRect(),N.style.transition="",a.x=JB(k.nativeEvent),a.y=QB(k.nativeEvent),t.draggableDirection==="x"?(a.start=a.x,a.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(a.start=a.y,a.removalDistance=N.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function m(k){if(a.boundingRect){const{top:N,bottom:A,left:O,right:R}=a.boundingRect;k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&a.x>=O&&a.x<=R&&a.y>=N&&a.y<=A?b():f()}}function f(){n(!0)}function b(){n(!1)}function w(k){const N=i.current;a.canDrag&&N&&(a.didMove=!0,e&&b(),a.x=JB(k),a.y=QB(k),a.delta=t.draggableDirection==="x"?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),N.style.transform=`translate${t.draggableDirection}(${a.delta}px)`,N.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function g(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",g);const k=i.current;if(a.canDrag&&a.didMove&&k){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return s(!0),void t.closeToast();k.style.transition="transform 0.2s, opacity 0.2s",k.style.transform=`translate${t.draggableDirection}(0)`,k.style.opacity="1"}}Q.useEffect(()=>{o.current=t}),Q.useEffect(()=>(i.current&&i.current.addEventListener("d",f,{once:!0}),go(t.onOpen)&&t.onOpen(Q.isValidElement(t.children)&&t.children.props),()=>{const k=o.current;go(k.onClose)&&k.onClose(Q.isValidElement(k.children)&&k.children.props)}),[]),Q.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",f),window.addEventListener("blur",b)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",f),window.removeEventListener("blur",b))}),[t.pauseOnFocusLoss]);const C={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return l&&c&&(C.onMouseEnter=b,C.onMouseLeave=f),h&&(C.onClick=k=>{d&&d(k),a.canCloseOnClick&&u()}),{playToast:f,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:C}}function I7(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return sn.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:s=>{s.stopPropagation(),e(s)},"aria-label":r},sn.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},sn.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function QQ(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:a,style:o,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=t;const p=i||l&&c===0,m={...o,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(m.transform=`scaleX(${c})`);const f=Qu("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),b=go(a)?a({rtl:u,type:s,defaultClassName:f}):Qu(f,a);return sn.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:m,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const ZQ=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s}=JQ(t),{closeButton:i,children:a,autoClose:o,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:m,style:f,bodyClassName:b,bodyStyle:w,progressClassName:g,progressStyle:C,updateId:k,role:N,progress:A,rtl:O,toastId:R,deleteToast:$,isIn:D,isLoading:B,iconOut:M,closeOnClick:z,theme:W}=t,V=Qu("Toastify__toast",`Toastify__toast-theme--${W}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":z}),q=go(m)?m({rtl:O,position:p,type:c,defaultClassName:V}):Qu(V,m),H=!!A||!o,K={closeToast:d,type:c,theme:W};let F=null;return i===!1||(F=go(i)?i(K):Q.isValidElement(i)?Q.cloneElement(i,K):I7(K)),sn.createElement(h,{isIn:D,done:$,position:p,preventExitTransition:n,nodeRef:r},sn.createElement("div",{id:R,onClick:l,className:q,...s,style:f,ref:r},sn.createElement("div",{...D&&{role:N},className:go(b)?b({type:c}):Qu("Toastify__toast-body",b),style:w},M!=null&&sn.createElement("div",{className:Qu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},M),sn.createElement("div",null,a)),F,sn.createElement(QQ,{...k&&!H?{key:`pb-${k}`}:{},rtl:O,theme:W,delay:o,isRunning:e,isIn:D,closeToast:d,hide:u,type:c,style:C,className:g,controlledProgress:H,progress:A||0})))},QS=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},eZ=JS(QS("bounce",!0));JS(QS("slide",!0));JS(QS("zoom"));JS(QS("flip"));const w_=Q.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:s}=KQ(t),{className:i,style:a,rtl:o,containerId:l}=t;function c(u){const d=Qu("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":o});return go(i)?i({position:u,rtl:o,defaultClassName:d}):Qu(d,Iw(i))}return Q.useEffect(()=>{e&&(e.current=r.current)},[]),sn.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...a}:{...a,pointerEvents:"none"};return sn.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,m)=>{let{content:f,props:b}=p;return sn.createElement(ZQ,{...b,isIn:s(b.toastId),style:{...b.style,"--nth":m+1,"--len":d.length},key:`toast-${b.key}`},f)}))}))});w_.displayName="ToastContainer",w_.defaultProps={position:"top-right",transition:eZ,autoClose:5e3,closeButton:I7,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let eT,cf=new Map,yv=[],tZ=1;function A7(){return""+tZ++}function nZ(t){return t&&(Yf(t.toastId)||Uv(t.toastId))?t.toastId:A7()}function Wv(t,e){return cf.size>0?ma.emit(0,t,e):yv.push({content:t,options:e}),e.toastId}function __(t,e){return{...e,type:e&&e.type||t,toastId:nZ(e)}}function C1(t){return(e,n)=>Wv(e,__(t,n))}function lr(t,e){return Wv(t,__("default",e))}lr.loading=(t,e)=>Wv(t,__("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),lr.promise=function(t,e,n){let r,{pending:s,error:i,success:a}=e;s&&(r=Yf(s)?lr.loading(s,n):lr.loading(s.render,{...n,...s}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void lr.dismiss(r);const p={type:u,...o,...n,data:h},m=Yf(d)?{render:d}:d;return r?lr.update(r,{...p,...m}):lr(m.render,{...p,...m}),h},c=go(t)?t():t;return c.then(u=>l("success",a,u)).catch(u=>l("error",i,u)),c},lr.success=C1("success"),lr.info=C1("info"),lr.error=C1("error"),lr.warning=C1("warning"),lr.warn=lr.warning,lr.dark=(t,e)=>Wv(t,__("default",{theme:"dark",...e})),lr.dismiss=t=>{cf.size>0?ma.emit(1,t):yv=yv.filter(e=>t!=null&&e.options.toastId!==t)},lr.clearWaitingQueue=function(t){return t===void 0&&(t={}),ma.emit(5,t)},lr.isActive=t=>{let e=!1;return cf.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},lr.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,s){let{containerId:i}=s;const a=cf.get(i||eT);return a&&a.getToast(r)}(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:A7()};i.toastId!==t&&(i.staleId=t);const a=i.render||s;delete i.render,Wv(a,i)}},0)},lr.done=t=>{lr.update(t,{progress:1})},lr.onChange=t=>(ma.on(4,t),()=>{ma.off(4,t)}),lr.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},lr.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},ma.on(2,t=>{eT=t.containerId||t,cf.set(eT,t),yv.forEach(e=>{ma.emit(0,e.content,e.options)}),yv=[]}).on(3,t=>{cf.delete(t.containerId||t),cf.size===0&&ma.off(0).off(1).off(5)});/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(this,arguments)}var Zu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zu||(Zu={}));const ZB="popstate";function rZ(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return uA("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:S_(s)}return iZ(e,n,null,t)}function Ls(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sZ(){return Math.random().toString(36).substr(2,8)}function e5(t,e){return{usr:t.state,key:t.key,idx:e}}function uA(t,e,n,r){return n===void 0&&(n=null),ky({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bg(e):e,{state:n,key:e&&e.key||r||sZ()})}function S_(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iZ(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=Zu.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(ky({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Zu.Pop;let b=u(),w=b==null?null:b-c;c=b,l&&l({action:o,location:f.location,delta:w})}function h(b,w){o=Zu.Push;let g=uA(f.location,b,w);n&&n(g,b),c=u()+1;let C=e5(g,c),k=f.createHref(g);try{a.pushState(C,"",k)}catch{s.location.assign(k)}i&&l&&l({action:o,location:f.location,delta:1})}function p(b,w){o=Zu.Replace;let g=uA(f.location,b,w);n&&n(g,b),c=u();let C=e5(g,c),k=f.createHref(g);a.replaceState(C,"",k),i&&l&&l({action:o,location:f.location,delta:0})}function m(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:S_(b);return Ls(w,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,w)}let f={get action(){return o},get location(){return t(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ZB,d),l=b,()=>{s.removeEventListener(ZB,d),l=null}},createHref(b){return e(s,b)},createURL:m,encodeLocation(b){let w=m(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(b){return a.go(b)}};return f}var t5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(t5||(t5={}));function oZ(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?bg(e):e,s=CO(r.pathname||"/",n);if(s==null)return null;let i=N7(t);aZ(i);let a=null;for(let o=0;a==null&&o<i.length;++o)a=gZ(i[o],bZ(s));return a}function N7(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Ls(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=wd([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Ls(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),N7(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:pZ(c,i.index),routesMeta:u})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of R7(i.path))s(i,a,l)}),e}function R7(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=R7(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function aZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lZ=/^:\w+$/,cZ=3,uZ=2,dZ=1,hZ=10,fZ=-2,n5=t=>t==="*";function pZ(t,e){let n=t.split("/"),r=n.length;return n.some(n5)&&(r+=fZ),e&&(r+=uZ),n.filter(s=>!n5(s)).reduce((s,i)=>s+(lZ.test(i)?cZ:i===""?dZ:hZ),r)}function mZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gZ(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let a=0;a<n.length;++a){let o=n[a],l=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=vZ({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=o.route;i.push({params:r,pathname:wd([s,u.pathname]),pathnameBase:SZ(wd([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=wd([s,u.pathnameBase]))}return i}function vZ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yZ(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let h=o[d]||"";a=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=xZ(o[d]||"",u),c},{}),pathname:i,pathnameBase:a,pattern:t}}function yZ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),SO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,o)=>(r.push(o),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function bZ(t){try{return decodeURI(t)}catch(e){return SO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xZ(t,e){try{return decodeURIComponent(t)}catch(n){return SO(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function CO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wZ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?bg(t):t;return{pathname:n?n.startsWith("/")?n:_Z(n,e):e,search:CZ(r),hash:kZ(s)}}function _Z(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tT(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $7(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=bg(t):(s=ky({},t),Ls(!s.pathname||!s.pathname.includes("?"),tT("?","pathname","search",s)),Ls(!s.pathname||!s.pathname.includes("#"),tT("#","pathname","hash",s)),Ls(!s.search||!s.search.includes("#"),tT("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(r||a==null)o=n;else{let d=e.length-1;if(a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=wZ(s,o),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const wd=t=>t.join("/").replace(/\/\/+/g,"/"),SZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function TZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const IZ=typeof Object.is=="function"?Object.is:TZ,{useState:AZ,useEffect:NZ,useLayoutEffect:RZ,useDebugValue:OZ}=mI;function $Z(t,e,n){const r=e(),[{inst:s},i]=AZ({inst:{value:r,getSnapshot:e}});return RZ(()=>{s.value=r,s.getSnapshot=e,nT(s)&&i({inst:s})},[t,r,e]),NZ(()=>(nT(s)&&i({inst:s}),t(()=>{nT(s)&&i({inst:s})})),[t]),OZ(r),r}function nT(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!IZ(n,r)}catch{return!0}}function DZ(t,e,n){return e()}const PZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MZ=!PZ,BZ=MZ?DZ:$Z;"useSyncExternalStore"in mI&&(t=>t.useSyncExternalStore)(mI);const D7=Q.createContext(null),kO=Q.createContext(null),xg=Q.createContext(null),ZS=Q.createContext(null),wg=Q.createContext({outlet:null,matches:[]}),P7=Q.createContext(null);function dA(){return dA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dA.apply(this,arguments)}function LZ(t,e){let{relative:n}=e===void 0?{}:e;gb()||Ls(!1);let{basename:r,navigator:s}=Q.useContext(xg),{hash:i,pathname:a,search:o}=EO(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:wd([r,a])),s.createHref({pathname:l,search:o,hash:i})}function gb(){return Q.useContext(ZS)!=null}function yp(){return gb()||Ls(!1),Q.useContext(ZS).location}function Qi(){gb()||Ls(!1);let{basename:t,navigator:e}=Q.useContext(xg),{matches:n}=Q.useContext(wg),{pathname:r}=yp(),s=JSON.stringify(O7(n).map(o=>o.pathnameBase)),i=Q.useRef(!1);return Q.useEffect(()=>{i.current=!0}),Q.useCallback(function(o,l){if(l===void 0&&(l={}),!i.current)return;if(typeof o=="number"){e.go(o);return}let c=$7(o,JSON.parse(s),r,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:wd([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,s,r])}function EO(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=Q.useContext(wg),{pathname:s}=yp(),i=JSON.stringify(O7(r).map(a=>a.pathnameBase));return Q.useMemo(()=>$7(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function FZ(t,e){gb()||Ls(!1);let{navigator:n}=Q.useContext(xg),r=Q.useContext(kO),{matches:s}=Q.useContext(wg),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let l=yp(),c;if(e){var u;let f=typeof e=="string"?bg(e):e;o==="/"||(u=f.pathname)!=null&&u.startsWith(o)||Ls(!1),c=f}else c=l;let d=c.pathname||"/",h=o==="/"?d:d.slice(o.length)||"/",p=oZ(t,{pathname:h}),m=WZ(p&&p.map(f=>Object.assign({},f,{params:Object.assign({},a,f.params),pathname:wd([o,n.encodeLocation?n.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?o:wd([o,n.encodeLocation?n.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),s,r||void 0);return e&&m?Q.createElement(ZS.Provider,{value:{location:dA({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Zu.Pop}},m):m}function jZ(){let t=YZ(),e=EZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:s},n):null,i)}class zZ extends Q.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?Q.createElement(wg.Provider,{value:this.props.routeContext},Q.createElement(P7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UZ(t){let{routeContext:e,match:n,children:r}=t,s=Q.useContext(D7);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(wg.Provider,{value:e},r)}function WZ(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,s=n==null?void 0:n.errors;if(s!=null){let i=r.findIndex(a=>a.route.id&&(s==null?void 0:s[a.route.id]));i>=0||Ls(!1),r=r.slice(0,Math.min(r.length,i+1))}return r.reduceRight((i,a,o)=>{let l=a.route.id?s==null?void 0:s[a.route.id]:null,c=null;n&&(a.route.ErrorBoundary?c=Q.createElement(a.route.ErrorBoundary,null):a.route.errorElement?c=a.route.errorElement:c=Q.createElement(jZ,null));let u=e.concat(r.slice(0,o+1)),d=()=>{let h=i;return l?h=c:a.route.Component?h=Q.createElement(a.route.Component,null):a.route.element&&(h=a.route.element),Q.createElement(UZ,{match:a,routeContext:{outlet:i,matches:u},children:h})};return n&&(a.route.ErrorBoundary||a.route.errorElement||o===0)?Q.createElement(zZ,{location:n.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()},null)}var r5;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(r5||(r5={}));var C_;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(C_||(C_={}));function VZ(t){let e=Q.useContext(kO);return e||Ls(!1),e}function GZ(t){let e=Q.useContext(wg);return e||Ls(!1),e}function HZ(t){let e=GZ(),n=e.matches[e.matches.length-1];return n.route.id||Ls(!1),n.route.id}function YZ(){var t;let e=Q.useContext(P7),n=VZ(C_.UseRouteError),r=HZ(C_.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function yr(t){Ls(!1)}function qZ(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Zu.Pop,navigator:i,static:a=!1}=t;gb()&&Ls(!1);let o=e.replace(/^\/*/,"/"),l=Q.useMemo(()=>({basename:o,navigator:i,static:a}),[o,i,a]);typeof r=="string"&&(r=bg(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:p="default"}=r,m=Q.useMemo(()=>{let f=CO(c,o);return f==null?null:{location:{pathname:f,search:u,hash:d,state:h,key:p},navigationType:s}},[o,c,u,d,h,p,s]);return m==null?null:Q.createElement(xg.Provider,{value:l},Q.createElement(ZS.Provider,{children:n,value:m}))}function vb(t){let{children:e,location:n}=t,r=Q.useContext(D7),s=r&&!e?r.router.routes:hA(e);return FZ(s,n)}var s5;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(s5||(s5={}));new Promise(()=>{});function hA(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(r,s)=>{if(!Q.isValidElement(r))return;let i=[...e,s];if(r.type===Q.Fragment){n.push.apply(n,hA(r.props.children,i));return}r.type!==yr&&Ls(!1),!r.props.index||!r.props.children||Ls(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=hA(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function M7(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function XZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KZ(t,e){return t.button===0&&(!e||e==="_self")&&!XZ(t)}const JZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],QZ=["aria-current","caseSensitive","className","end","style","to","children"];function ZZ(t){let{basename:e,children:n,window:r}=t,s=Q.useRef();s.current==null&&(s.current=rZ({window:r,v5Compat:!0}));let i=s.current,[a,o]=Q.useState({action:i.action,location:i.location});return Q.useLayoutEffect(()=>i.listen(o),[i]),Q.createElement(qZ,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i})}const eee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nee=Q.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:u}=e,d=M7(e,JZ),{basename:h}=Q.useContext(xg),p,m=!1;if(typeof c=="string"&&tee.test(c)&&(p=c,eee)){let g=new URL(window.location.href),C=c.startsWith("//")?new URL(g.protocol+c):new URL(c),k=CO(C.pathname,h);C.origin===g.origin&&k!=null?c=k+C.search+C.hash:m=!0}let f=LZ(c,{relative:s}),b=ree(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:s});function w(g){r&&r(g),g.defaultPrevented||b(g)}return Q.createElement("a",k_({},d,{href:p||f,onClick:m||i?r:w,ref:n,target:l}))}),rT=Q.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:l,children:c}=e,u=M7(e,QZ),d=EO(l,{relative:u.relative}),h=yp(),p=Q.useContext(kO),{navigator:m}=Q.useContext(xg),f=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,b=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(b=b.toLowerCase(),w=w?w.toLowerCase():null,f=f.toLowerCase());let g=b===f||!a&&b.startsWith(f)&&b.charAt(f.length)==="/",C=w!=null&&(w===f||!a&&w.startsWith(f)&&w.charAt(f.length)==="/"),k=g?r:void 0,N;typeof i=="function"?N=i({isActive:g,isPending:C}):N=[i,g?"active":null,C?"pending":null].filter(Boolean).join(" ");let A=typeof o=="function"?o({isActive:g,isPending:C}):o;return Q.createElement(nee,k_({},u,{"aria-current":k,className:N,ref:n,style:A,to:l}),typeof c=="function"?c({isActive:g,isPending:C}):c)});var i5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(i5||(i5={}));var o5;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o5||(o5={}));function ree(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a}=e===void 0?{}:e,o=Qi(),l=yp(),c=EO(t,{relative:a});return Q.useCallback(u=>{if(KZ(u,n)){u.preventDefault();let d=r!==void 0?r:S_(l)===S_(c);o(t,{replace:d,state:s,preventScrollReset:i,relative:a})}},[l,o,c,r,s,n,t,i,a])}var fA={},see={get exports(){return fA},set exports(t){fA=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var i=arguments[s];if(i){var a=typeof i;if(a==="string"||a==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var o=n.apply(null,i);o&&r.push(o)}}else if(a==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var l in i)e.call(i,l)&&i[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(see);const $n=fA;function pA(){return pA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pA.apply(this,arguments)}function B7(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function a5(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function iee(t){var e=oee(t,"string");return typeof e=="symbol"?e:String(e)}function oee(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TO(t,e,n){var r=Q.useRef(t!==void 0),s=Q.useState(e),i=s[0],a=s[1],o=t!==void 0,l=r.current;return r.current=o,!o&&l&&i!==e&&a(e),[o?t:i,Q.useCallback(function(c){for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];n&&n.apply(void 0,[c].concat(d)),a(c)},[n])]}function eC(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,a=i[a5(r)],o=i[r],l=B7(i,[a5(r),r].map(iee)),c=e[r],u=TO(o,a,t[c]),d=u[0],h=u[1];return pA({},l,(s={},s[r]=d,s[c]=h,s))},t)}function mA(t,e){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},mA(t,e)}function aee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mA(t,e)}const lee=["xxl","xl","lg","md","sm","xs"],cee="xs",tC=Q.createContext({prefixes:{},breakpoints:lee,minBreakpoint:cee});function nr(t,e){const{prefixes:n}=Q.useContext(tC);return t||n[e]||e}function L7(){const{breakpoints:t}=Q.useContext(tC);return t}function F7(){const{minBreakpoint:t}=Q.useContext(tC);return t}function j7(){const{dir:t}=Q.useContext(tC);return t==="rtl"}function _g(t){return t&&t.ownerDocument||document}function uee(t){var e=_g(t);return e&&e.defaultView||window}function dee(t,e){return uee(t).getComputedStyle(t,e)}var hee=/([A-Z])/g;function fee(t){return t.replace(hee,"-$1").toLowerCase()}var pee=/^ms-/;function k1(t){return fee(t).replace(pee,"-ms-")}var mee=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function gee(t){return!!(t&&mee.test(t))}function Df(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(k1(e))||dee(t).getPropertyValue(k1(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?t.style.removeProperty(k1(s)):gee(s)?r+=s+"("+i+") ":n+=k1(s)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var qt={},vee={get exports(){return qt},set exports(t){qt=t}},yee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bee=yee,xee=bee;function z7(){}function U7(){}U7.resetWarningCache=z7;var wee=function(){function t(r,s,i,a,o,l){if(l!==xee){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:U7,resetWarningCache:z7};return n.PropTypes=n,n};vee.exports=wee();const l5={disabled:!1},W7=sn.createContext(null);var _ee=function(e){return e.scrollTop},bv="unmounted",uf="exited",Gu="entering",vf="entered",gA="exiting",gu=function(t){aee(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var a=s,o=a&&!a.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?o?(l=uf,i.appearStatus=Gu):l=vf:r.unmountOnExit||r.mountOnEnter?l=bv:l=uf,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var a=s.in;return a&&i.status===bv?{status:uf}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==Gu&&a!==vf&&(i=Gu):(a===Gu||a===vf)&&(i=gA)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,a,o;return i=a=o=s,s!=null&&typeof s!="number"&&(i=s.exit,a=s.enter,o=s.appear!==void 0?s.appear:a),{exit:i,enter:a,appear:o}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Gu){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:kf.findDOMNode(this);a&&_ee(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===uf&&this.setState({status:bv})},n.performEnter=function(s){var i=this,a=this.props.enter,o=this.context?this.context.isMounting:s,l=this.props.nodeRef?[o]:[kf.findDOMNode(this),o],c=l[0],u=l[1],d=this.getTimeouts(),h=o?d.appear:d.enter;if(!s&&!a||l5.disabled){this.safeSetState({status:vf},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Gu},function(){i.props.onEntering(c,u),i.onTransitionEnd(h,function(){i.safeSetState({status:vf},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var s=this,i=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:kf.findDOMNode(this);if(!i||l5.disabled){this.safeSetState({status:uf},function(){s.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:gA},function(){s.props.onExiting(o),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:uf},function(){s.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,i.nextCallback=null,s(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:kf.findDOMNode(this),o=s==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===bv)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var o=B7(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return sn.createElement(W7.Provider,{value:null},typeof a=="function"?a(s,o):sn.cloneElement(sn.Children.only(a),o))},e}(sn.Component);gu.contextType=W7;gu.propTypes={};function jp(){}gu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jp,onEntering:jp,onEntered:jp,onExit:jp,onExiting:jp,onExited:jp};gu.UNMOUNTED=bv;gu.EXITED=uf;gu.ENTERING=Gu;gu.ENTERED=vf;gu.EXITING=gA;const See=gu,Sg=!!(typeof window<"u"&&window.document&&window.document.createElement);var vA=!1,yA=!1;try{var sT={get passive(){return vA=!0},get once(){return yA=vA=!0}};Sg&&(window.addEventListener("test",sT,sT),window.removeEventListener("test",sT,!0))}catch{}function V7(t,e,n,r){if(r&&typeof r!="boolean"&&!yA){var s=r.once,i=r.capture,a=n;!yA&&s&&(a=n.__once||function o(l){this.removeEventListener(e,o,i),n.call(this,l)},n.__once=a),t.addEventListener(e,a,vA?r:i)}t.addEventListener(e,n,r)}function bA(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function Qc(t,e,n,r){return V7(t,e,n,r),function(){bA(t,e,n,r)}}function Cee(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function kee(t){var e=Df(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function Eee(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||Cee(t,"transitionend",!0)},e+n),i=Qc(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),i()}}function G7(t,e,n,r){n==null&&(n=kee(t)||0);var s=Eee(t,n,r),i=Qc(t,"transitionend",e);return function(){s(),i()}}function c5(t,e){const n=Df(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Tee(t,e){const n=c5(t,"transitionDuration"),r=c5(t,"transitionDelay"),s=G7(t,i=>{i.target===t&&(s(),e(i))},n+r)}function Iee(t){t.offsetHeight}var u5=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function Aee(t,e){var n=u5(t),r=u5(e);return function(s){n&&n(s),r&&r(s)}}function Qd(t,e){return Q.useMemo(function(){return Aee(t,e)},[t,e])}function E_(t){return t&&"setState"in t?kf.findDOMNode(t):t??null}const Nee=sn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:i,addEndListener:a,children:o,childRef:l,...c},u)=>{const d=Q.useRef(null),h=Qd(d,l),p=A=>{h(E_(A))},m=A=>O=>{A&&d.current&&A(d.current,O)},f=Q.useCallback(m(t),[t]),b=Q.useCallback(m(e),[e]),w=Q.useCallback(m(n),[n]),g=Q.useCallback(m(r),[r]),C=Q.useCallback(m(s),[s]),k=Q.useCallback(m(i),[i]),N=Q.useCallback(m(a),[a]);return S.jsx(See,{ref:u,...c,onEnter:f,onEntered:w,onEntering:b,onExit:g,onExited:k,onExiting:C,addEndListener:N,nodeRef:d,children:typeof o=="function"?(A,O)=>o(A,{...O,ref:p}):sn.cloneElement(o,{ref:p})})}),Ree=Nee;function Oee(t){var e=Q.useRef(t);return Q.useEffect(function(){e.current=t},[t]),e}function Ys(t){var e=Oee(t);return Q.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}function xA(){return Q.useState(null)}function IO(){var t=Q.useRef(!0),e=Q.useRef(function(){return t.current});return Q.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function $ee(t){var e=Q.useRef(null);return Q.useEffect(function(){e.current=t}),e.current}var Dee=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Pee=typeof document<"u";const wA=Pee||Dee?Q.useLayoutEffect:Q.useEffect,Mee=["as","disabled"];function Bee(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Lee(t){return!t||t.trim()==="#"}function AO({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:a,tabIndex:o=0,type:l}){t||(n!=null||r!=null||s!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},c];const u=h=>{if((e||t==="a"&&Lee(n))&&h.preventDefault(),e){h.stopPropagation();return}a==null||a(h)},d=h=>{h.key===" "&&(h.preventDefault(),u(h))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:o,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:u,onKeyDown:d},c]}const H7=Q.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=Bee(t,Mee);const[i,{tagName:a}]=AO(Object.assign({tagName:n,disabled:r},s));return S.jsx(a,Object.assign({},s,i,{ref:e}))});H7.displayName="Button";const Fee=["onKeyDown"];function jee(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function zee(t){return!t||t.trim()==="#"}const Y7=Q.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=jee(t,Fee);const[s]=AO(Object.assign({tagName:"a"},r)),i=Ys(a=>{s.onKeyDown(a),n==null||n(a)});return zee(r.href)||r.role==="button"?S.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:i})):S.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});Y7.displayName="Anchor";const q7=Y7,Uee={[Gu]:"show",[vf]:"show"},X7=Q.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},i)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},o=Q.useCallback((l,c)=>{Iee(l),r==null||r(l,c)},[r]);return S.jsx(Ree,{ref:i,addEndListener:Tee,...a,onEnter:o,childRef:e.ref,children:(l,c)=>Q.cloneElement(e,{...c,className:$n("fade",t,e.props.className,Uee[l],n[l])})})});X7.displayName="Fade";const $d=X7,Wee={"aria-label":qt.string,onClick:qt.func,variant:qt.oneOf(["white"])},NO=Q.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>S.jsx("button",{ref:s,type:"button",className:$n("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));NO.displayName="CloseButton";NO.propTypes=Wee;const K7=NO,nC=t=>Q.forwardRef((e,n)=>S.jsx("div",{...e,ref:n,className:$n(e.className,t)}));var Vee=/-(.)/g;function Gee(t){return t.replace(Vee,function(e,n){return n.toUpperCase()})}const Hee=t=>t[0].toUpperCase()+Gee(t).slice(1);function hi(t,{displayName:e=Hee(t),Component:n,defaultProps:r}={}){const s=Q.forwardRef(({className:i,bsPrefix:a,as:o=n||"div",...l},c)=>{const u={...r,...l},d=nr(a,t);return S.jsx(o,{ref:c,className:$n(i,d),...u})});return s.displayName=e,s}const J7=nC("h4");J7.displayName="DivStyledAsH4";const Yee=hi("alert-heading",{Component:J7}),qee=hi("alert-link",{Component:q7}),Q7=Q.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:s="Close alert",closeVariant:i,className:a,children:o,variant:l="primary",onClose:c,dismissible:u,transition:d=$d,...h}=eC(t,{show:"onClose"}),p=nr(n,"alert"),m=Ys(w=>{c&&c(!1,w)}),f=d===!0?$d:d,b=S.jsxs("div",{role:"alert",...f?void 0:h,ref:e,className:$n(a,p,l&&`${p}-${l}`,u&&`${p}-dismissible`),children:[u&&S.jsx(K7,{onClick:m,"aria-label":s,variant:i}),o]});return f?S.jsx(f,{unmountOnExit:!0,...h,ref:void 0,in:r,children:b}):r?b:null});Q7.displayName="Alert";const qf=Object.assign(Q7,{Link:qee,Heading:Yee}),Z7=Q.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:a,...o},l)=>{const c=nr(e,"btn"),[u,{tagName:d}]=AO({tagName:t,disabled:i,...o}),h=d;return S.jsx(h,{...u,...o,ref:l,disabled:i,className:$n(a,c,s&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,o.href&&i&&"disabled")})});Z7.displayName="Button";const dn=Z7,e8=Q.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...s},i)=>{const a=nr(t,"card-img");return S.jsx(r,{ref:i,className:$n(n?`${a}-${n}`:a,e),...s})});e8.displayName="CardImg";const Xee=e8,t8=Q.createContext(null);t8.displayName="CardHeaderContext";const n8=t8,r8=Q.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=nr(t,"card-header"),a=Q.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return S.jsx(n8.Provider,{value:a,children:S.jsx(n,{ref:s,...r,className:$n(e,i)})})});r8.displayName="CardHeader";const Kee=r8,Jee=nC("h5"),Qee=nC("h6"),s8=hi("card-body"),Zee=hi("card-title",{Component:Jee}),ete=hi("card-subtitle",{Component:Qee}),tte=hi("card-link",{Component:"a"}),nte=hi("card-text",{Component:"p"}),rte=hi("card-footer"),ste=hi("card-img-overlay"),i8=Q.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:s,body:i=!1,children:a,as:o="div",...l},c)=>{const u=nr(t,"card");return S.jsx(o,{ref:c,...l,className:$n(e,u,n&&`bg-${n}`,r&&`text-${r}`,s&&`border-${s}`),children:i?S.jsx(s8,{children:a}):a})});i8.displayName="Card";const Vn=Object.assign(i8,{Img:Xee,Title:Zee,Subtitle:ete,Body:s8,Link:tte,Text:nte,Header:Kee,Footer:rte,ImgOverlay:ste});function ite(t){var e=Q.useRef(t);return e.current=t,e}function RO(t){var e=ite(t);Q.useEffect(function(){return function(){return e.current()}},[])}var _A=Math.pow(2,31)-1;function o8(t,e,n){var r=n-Date.now();t.current=r<=_A?setTimeout(e,r):setTimeout(function(){return o8(t,e,n)},_A)}function ote(){var t=IO(),e=Q.useRef();return RO(function(){return clearTimeout(e.current)}),Q.useMemo(function(){var n=function(){return clearTimeout(e.current)};function r(s,i){i===void 0&&(i=0),t()&&(n(),i<=_A?e.current=setTimeout(s,i):o8(e,s,Date.now()+i))}return{set:r,clear:n}},[])}function d5(t,e){let n=0;return Q.Children.map(t,r=>Q.isValidElement(r)?e(r,n++):r)}function ate(t,e){let n=0;Q.Children.forEach(t,r=>{Q.isValidElement(r)&&e(r,n++)})}function lte(t,e){return Q.Children.toArray(t).some(n=>Q.isValidElement(n)&&n.type===e)}function cte({as:t,bsPrefix:e,className:n,...r}){e=nr(e,"col");const s=L7(),i=F7(),a=[],o=[];return s.forEach(l=>{const c=r[l];delete r[l];let u,d,h;typeof c=="object"&&c!=null?{span:u,offset:d,order:h}=c:u=c;const p=l!==i?`-${l}`:"";u&&a.push(u===!0?`${e}${p}`:`${e}${p}-${u}`),h!=null&&o.push(`order${p}-${h}`),d!=null&&o.push(`offset${p}-${d}`)}),[{...r,className:$n(n,...a,...o)},{as:t,bsPrefix:e,spans:a}]}const a8=Q.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:a}]=cte(t);return S.jsx(s,{...r,ref:e,className:$n(n,!a.length&&i)})});a8.displayName="Col";const er=a8;var ute=Function.prototype.bind.call(Function.prototype.call,[].slice);function df(t,e){return ute(t.querySelectorAll(e))}function dte(){var t=Q.useReducer(function(n){return!n},!1),e=t[1];return e}var h5=Object.prototype.hasOwnProperty;function f5(t,e,n){for(n of t.keys())if(Vv(n,e))return n}function Vv(t,e){var n,r,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Vv(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(s=r,s&&typeof s=="object"&&(s=f5(e,s),!s)||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(s=r[0],s&&typeof s=="object"&&(s=f5(e,s),!s)||!Vv(r[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(h5.call(t,n)&&++r&&!h5.call(e,n)||!(n in e)||!Vv(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function hte(t){var e=IO();return[t[0],Q.useCallback(function(n){if(e())return t[1](n)},[e,t[1]])]}var So="top",Ra="bottom",Oa="right",Co="left",OO="auto",yb=[So,Ra,Oa,Co],zm="start",Ey="end",fte="clippingParents",l8="viewport",J0="popper",pte="reference",p5=yb.reduce(function(t,e){return t.concat([e+"-"+zm,e+"-"+Ey])},[]),c8=[].concat(yb,[OO]).reduce(function(t,e){return t.concat([e,e+"-"+zm,e+"-"+Ey])},[]),mte="beforeRead",gte="read",vte="afterRead",yte="beforeMain",bte="main",xte="afterMain",wte="beforeWrite",_te="write",Ste="afterWrite",Cte=[mte,gte,vte,yte,bte,xte,wte,_te,Ste];function Jl(t){return t.split("-")[0]}function Ko(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Xf(t){var e=Ko(t).Element;return t instanceof e||t instanceof Element}function Ql(t){var e=Ko(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function $O(t){if(typeof ShadowRoot>"u")return!1;var e=Ko(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Pf=Math.max,T_=Math.min,Um=Math.round;function SA(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function u8(){return!/^((?!chrome|android).)*safari/i.test(SA())}function Wm(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Ql(t)&&(s=t.offsetWidth>0&&Um(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Um(r.height)/t.offsetHeight||1);var a=Xf(t)?Ko(t):window,o=a.visualViewport,l=!u8()&&n,c=(r.left+(l&&o?o.offsetLeft:0))/s,u=(r.top+(l&&o?o.offsetTop:0))/i,d=r.width/s,h=r.height/i;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function DO(t){var e=Wm(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function d8(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&$O(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Dd(t){return t?(t.nodeName||"").toLowerCase():null}function iu(t){return Ko(t).getComputedStyle(t)}function kte(t){return["table","td","th"].indexOf(Dd(t))>=0}function Zd(t){return((Xf(t)?t.ownerDocument:t.document)||window.document).documentElement}function rC(t){return Dd(t)==="html"?t:t.assignedSlot||t.parentNode||($O(t)?t.host:null)||Zd(t)}function m5(t){return!Ql(t)||iu(t).position==="fixed"?null:t.offsetParent}function Ete(t){var e=/firefox/i.test(SA()),n=/Trident/i.test(SA());if(n&&Ql(t)){var r=iu(t);if(r.position==="fixed")return null}var s=rC(t);for($O(s)&&(s=s.host);Ql(s)&&["html","body"].indexOf(Dd(s))<0;){var i=iu(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function bb(t){for(var e=Ko(t),n=m5(t);n&&kte(n)&&iu(n).position==="static";)n=m5(n);return n&&(Dd(n)==="html"||Dd(n)==="body"&&iu(n).position==="static")?e:n||Ete(t)||e}function PO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Gv(t,e,n){return Pf(t,T_(e,n))}function Tte(t,e,n){var r=Gv(t,e,n);return r>n?n:r}function h8(){return{top:0,right:0,bottom:0,left:0}}function f8(t){return Object.assign({},h8(),t)}function p8(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Ite=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,f8(typeof e!="number"?e:p8(e,yb))};function Ate(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,o=Jl(n.placement),l=PO(o),c=[Co,Oa].indexOf(o)>=0,u=c?"height":"width";if(!(!i||!a)){var d=Ite(s.padding,n),h=DO(i),p=l==="y"?So:Co,m=l==="y"?Ra:Oa,f=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],b=a[l]-n.rects.reference[l],w=bb(i),g=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,C=f/2-b/2,k=d[p],N=g-h[u]-d[m],A=g/2-h[u]/2+C,O=Gv(k,A,N),R=l;n.modifiersData[r]=(e={},e[R]=O,e.centerOffset=O-A,e)}}function Nte(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||d8(e.elements.popper,s)&&(e.elements.arrow=s))}const Rte={name:"arrow",enabled:!0,phase:"main",fn:Ate,effect:Nte,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vm(t){return t.split("-")[1]}var Ote={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $te(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Um(n*s)/s||0,y:Um(r*s)/s||0}}function g5(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=a.x,p=h===void 0?0:h,m=a.y,f=m===void 0?0:m,b=typeof u=="function"?u({x:p,y:f}):{x:p,y:f};p=b.x,f=b.y;var w=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),C=Co,k=So,N=window;if(c){var A=bb(n),O="clientHeight",R="clientWidth";if(A===Ko(n)&&(A=Zd(n),iu(A).position!=="static"&&o==="absolute"&&(O="scrollHeight",R="scrollWidth")),A=A,s===So||(s===Co||s===Oa)&&i===Ey){k=Ra;var $=d&&A===N&&N.visualViewport?N.visualViewport.height:A[O];f-=$-r.height,f*=l?1:-1}if(s===Co||(s===So||s===Ra)&&i===Ey){C=Oa;var D=d&&A===N&&N.visualViewport?N.visualViewport.width:A[R];p-=D-r.width,p*=l?1:-1}}var B=Object.assign({position:o},c&&Ote),M=u===!0?$te({x:p,y:f},Ko(n)):{x:p,y:f};if(p=M.x,f=M.y,l){var z;return Object.assign({},B,(z={},z[k]=g?"0":"",z[C]=w?"0":"",z.transform=(N.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",z))}return Object.assign({},B,(e={},e[k]=g?f+"px":"",e[C]=w?p+"px":"",e.transform="",e))}function Dte(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,o=n.roundOffsets,l=o===void 0?!0:o,c={placement:Jl(e.placement),variation:Vm(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,g5(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,g5(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Pte={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Dte,data:{}};var E1={passive:!0};function Mte(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,a=r.resize,o=a===void 0?!0:a,l=Ko(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,E1)}),o&&l.addEventListener("resize",n.update,E1),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,E1)}),o&&l.removeEventListener("resize",n.update,E1)}}const Bte={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mte,data:{}};var Lte={left:"right",right:"left",bottom:"top",top:"bottom"};function Aw(t){return t.replace(/left|right|bottom|top/g,function(e){return Lte[e]})}var Fte={start:"end",end:"start"};function v5(t){return t.replace(/start|end/g,function(e){return Fte[e]})}function MO(t){var e=Ko(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function BO(t){return Wm(Zd(t)).left+MO(t).scrollLeft}function jte(t,e){var n=Ko(t),r=Zd(t),s=n.visualViewport,i=r.clientWidth,a=r.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;var c=u8();(c||!c&&e==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:o+BO(t),y:l}}function zte(t){var e,n=Zd(t),r=MO(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Pf(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=Pf(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-r.scrollLeft+BO(t),l=-r.scrollTop;return iu(s||n).direction==="rtl"&&(o+=Pf(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:a,x:o,y:l}}function LO(t){var e=iu(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function m8(t){return["html","body","#document"].indexOf(Dd(t))>=0?t.ownerDocument.body:Ql(t)&&LO(t)?t:m8(rC(t))}function Hv(t,e){var n;e===void 0&&(e=[]);var r=m8(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Ko(r),a=s?[i].concat(i.visualViewport||[],LO(r)?r:[]):r,o=e.concat(a);return s?o:o.concat(Hv(rC(a)))}function CA(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ute(t,e){var n=Wm(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function y5(t,e,n){return e===l8?CA(jte(t,n)):Xf(e)?Ute(e,n):CA(zte(Zd(t)))}function Wte(t){var e=Hv(rC(t)),n=["absolute","fixed"].indexOf(iu(t).position)>=0,r=n&&Ql(t)?bb(t):t;return Xf(r)?e.filter(function(s){return Xf(s)&&d8(s,r)&&Dd(s)!=="body"}):[]}function Vte(t,e,n,r){var s=e==="clippingParents"?Wte(t):[].concat(e),i=[].concat(s,[n]),a=i[0],o=i.reduce(function(l,c){var u=y5(t,c,r);return l.top=Pf(u.top,l.top),l.right=T_(u.right,l.right),l.bottom=T_(u.bottom,l.bottom),l.left=Pf(u.left,l.left),l},y5(t,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function g8(t){var e=t.reference,n=t.element,r=t.placement,s=r?Jl(r):null,i=r?Vm(r):null,a=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,l;switch(s){case So:l={x:a,y:e.y-n.height};break;case Ra:l={x:a,y:e.y+e.height};break;case Oa:l={x:e.x+e.width,y:o};break;case Co:l={x:e.x-n.width,y:o};break;default:l={x:e.x,y:e.y}}var c=s?PO(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case zm:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Ey:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Ty(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,a=i===void 0?t.strategy:i,o=n.boundary,l=o===void 0?fte:o,c=n.rootBoundary,u=c===void 0?l8:c,d=n.elementContext,h=d===void 0?J0:d,p=n.altBoundary,m=p===void 0?!1:p,f=n.padding,b=f===void 0?0:f,w=f8(typeof b!="number"?b:p8(b,yb)),g=h===J0?pte:J0,C=t.rects.popper,k=t.elements[m?g:h],N=Vte(Xf(k)?k:k.contextElement||Zd(t.elements.popper),l,u,a),A=Wm(t.elements.reference),O=g8({reference:A,element:C,strategy:"absolute",placement:s}),R=CA(Object.assign({},C,O)),$=h===J0?R:A,D={top:N.top-$.top+w.top,bottom:$.bottom-N.bottom+w.bottom,left:N.left-$.left+w.left,right:$.right-N.right+w.right},B=t.modifiersData.offset;if(h===J0&&B){var M=B[s];Object.keys(D).forEach(function(z){var W=[Oa,Ra].indexOf(z)>=0?1:-1,V=[So,Ra].indexOf(z)>=0?"y":"x";D[z]+=M[V]*W})}return D}function Gte(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?c8:l,u=Vm(r),d=u?o?p5:p5.filter(function(m){return Vm(m)===u}):yb,h=d.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=d);var p=h.reduce(function(m,f){return m[f]=Ty(t,{placement:f,boundary:s,rootBoundary:i,padding:a})[Jl(f)],m},{});return Object.keys(p).sort(function(m,f){return p[m]-p[f]})}function Hte(t){if(Jl(t)===OO)return[];var e=Aw(t);return[v5(t),e,v5(e)]}function Yte(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,o=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,f=n.allowedAutoPlacements,b=e.options.placement,w=Jl(b),g=w===b,C=l||(g||!m?[Aw(b)]:Hte(b)),k=[b].concat(C).reduce(function(ae,ue){return ae.concat(Jl(ue)===OO?Gte(e,{placement:ue,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:f}):ue)},[]),N=e.rects.reference,A=e.rects.popper,O=new Map,R=!0,$=k[0],D=0;D<k.length;D++){var B=k[D],M=Jl(B),z=Vm(B)===zm,W=[So,Ra].indexOf(M)>=0,V=W?"width":"height",q=Ty(e,{placement:B,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),H=W?z?Oa:Co:z?Ra:So;N[V]>A[V]&&(H=Aw(H));var K=Aw(H),F=[];if(i&&F.push(q[M]<=0),o&&F.push(q[H]<=0,q[K]<=0),F.every(function(ae){return ae})){$=B,R=!1;break}O.set(B,F)}if(R)for(var ie=m?3:1,de=function(ue){var le=k.find(function(Ee){var ze=O.get(Ee);if(ze)return ze.slice(0,ue).every(function(Pe){return Pe})});if(le)return $=le,"break"},ee=ie;ee>0;ee--){var J=de(ee);if(J==="break")break}e.placement!==$&&(e.modifiersData[r]._skip=!0,e.placement=$,e.reset=!0)}}const qte={name:"flip",enabled:!0,phase:"main",fn:Yte,requiresIfExists:["offset"],data:{_skip:!1}};function b5(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function x5(t){return[So,Oa,Ra,Co].some(function(e){return t[e]>=0})}function Xte(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,a=Ty(e,{elementContext:"reference"}),o=Ty(e,{altBoundary:!0}),l=b5(a,r),c=b5(o,s,i),u=x5(l),d=x5(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Kte={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Xte};function Jte(t,e,n){var r=Jl(t),s=[Co,So].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=i[0],o=i[1];return a=a||0,o=(o||0)*s,[Co,Oa].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function Qte(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,a=c8.reduce(function(u,d){return u[d]=Jte(d,e.rects,i),u},{}),o=a[e.placement],l=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=a}const Zte={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Qte};function ene(t){var e=t.state,n=t.name;e.modifiersData[n]=g8({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const tne={name:"popperOffsets",enabled:!0,phase:"read",fn:ene,data:{}};function nne(t){return t==="x"?"y":"x"}function rne(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,o=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,f=m===void 0?0:m,b=Ty(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),w=Jl(e.placement),g=Vm(e.placement),C=!g,k=PO(w),N=nne(k),A=e.modifiersData.popperOffsets,O=e.rects.reference,R=e.rects.popper,$=typeof f=="function"?f(Object.assign({},e.rects,{placement:e.placement})):f,D=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(A){if(i){var z,W=k==="y"?So:Co,V=k==="y"?Ra:Oa,q=k==="y"?"height":"width",H=A[k],K=H+b[W],F=H-b[V],ie=p?-R[q]/2:0,de=g===zm?O[q]:R[q],ee=g===zm?-R[q]:-O[q],J=e.elements.arrow,ae=p&&J?DO(J):{width:0,height:0},ue=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:h8(),le=ue[W],Ee=ue[V],ze=Gv(0,O[q],ae[q]),Pe=C?O[q]/2-ie-ze-le-D.mainAxis:de-ze-le-D.mainAxis,Ke=C?-O[q]/2+ie+ze+Ee+D.mainAxis:ee+ze+Ee+D.mainAxis,Ye=e.elements.arrow&&bb(e.elements.arrow),We=Ye?k==="y"?Ye.clientTop||0:Ye.clientLeft||0:0,ot=(z=B==null?void 0:B[k])!=null?z:0,Je=H+Pe-ot-We,Le=H+Ke-ot,dt=Gv(p?T_(K,Je):K,H,p?Pf(F,Le):F);A[k]=dt,M[k]=dt-H}if(o){var Ct,Ae=k==="x"?So:Co,rt=k==="x"?Ra:Oa,fe=A[N],Fe=N==="y"?"height":"width",nt=fe+b[Ae],Ce=fe-b[rt],_e=[So,Co].indexOf(w)!==-1,Y=(Ct=B==null?void 0:B[N])!=null?Ct:0,me=_e?nt:fe-O[Fe]-R[Fe]-Y+D.altAxis,ge=_e?fe+O[Fe]+R[Fe]-Y-D.altAxis:Ce,Ve=p&&_e?Tte(me,fe,ge):Gv(p?me:nt,fe,p?ge:Ce);A[N]=Ve,M[N]=Ve-fe}e.modifiersData[r]=M}}const sne={name:"preventOverflow",enabled:!0,phase:"main",fn:rne,requiresIfExists:["offset"]};function ine(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function one(t){return t===Ko(t)||!Ql(t)?MO(t):ine(t)}function ane(t){var e=t.getBoundingClientRect(),n=Um(e.width)/t.offsetWidth||1,r=Um(e.height)/t.offsetHeight||1;return n!==1||r!==1}function lne(t,e,n){n===void 0&&(n=!1);var r=Ql(e),s=Ql(e)&&ane(e),i=Zd(e),a=Wm(t,s,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Dd(e)!=="body"||LO(i))&&(o=one(e)),Ql(e)?(l=Wm(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=BO(i))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function cne(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var l=e.get(o);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function une(t){var e=cne(t);return Cte.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function dne(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function hne(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var w5={placement:"bottom",modifiers:[],strategy:"absolute"};function _5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function fne(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?w5:s;return function(o,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},w5,i),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(w){var g=typeof w=="function"?w(u.options):w;f(),u.options=Object.assign({},i,u.options,g),u.scrollParents={reference:Xf(o)?Hv(o):o.contextElement?Hv(o.contextElement):[],popper:Hv(l)};var C=une(hne([].concat(r,u.options.modifiers)));return u.orderedModifiers=C.filter(function(k){return k.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var w=u.elements,g=w.reference,C=w.popper;if(_5(g,C)){u.rects={reference:lne(g,bb(C),u.options.strategy==="fixed"),popper:DO(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(D){return u.modifiersData[D.name]=Object.assign({},D.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var N=u.orderedModifiers[k],A=N.fn,O=N.options,R=O===void 0?{}:O,$=N.name;typeof A=="function"&&(u=A({state:u,options:R,name:$,instance:p})||u)}}}},update:dne(function(){return new Promise(function(b){p.forceUpdate(),b(u)})}),destroy:function(){f(),h=!0}};if(!_5(o,l))return p;p.setOptions(c).then(function(b){!h&&c.onFirstUpdate&&c.onFirstUpdate(b)});function m(){u.orderedModifiers.forEach(function(b){var w=b.name,g=b.options,C=g===void 0?{}:g,k=b.effect;if(typeof k=="function"){var N=k({state:u,name:w,instance:p,options:C}),A=function(){};d.push(N||A)}})}function f(){d.forEach(function(b){return b()}),d=[]}return p}}const pne=fne({defaultModifiers:[Kte,tne,Pte,Bte,Zte,qte,sne,Rte]}),mne=["enabled","placement","strategy","modifiers"];function gne(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}const vne={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},yne={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,s=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&s==="tooltip"&&"setAttribute"in r){const i=r.getAttribute("aria-describedby");if(i&&i.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",i?`${i},${n.id}`:n.id)}}},bne=[];function xne(t,e,n={}){let{enabled:r=!0,placement:s="bottom",strategy:i="absolute",modifiers:a=bne}=n,o=gne(n,mne);const l=Q.useRef(a),c=Q.useRef(),u=Q.useCallback(()=>{var b;(b=c.current)==null||b.update()},[]),d=Q.useCallback(()=>{var b;(b=c.current)==null||b.forceUpdate()},[]),[h,p]=hte(Q.useState({placement:s,update:u,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),m=Q.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:b})=>{const w={},g={};Object.keys(b.elements).forEach(C=>{w[C]=b.styles[C],g[C]=b.attributes[C]}),p({state:b,styles:w,attributes:g,update:u,forceUpdate:d,placement:b.placement})}}),[u,d,p]),f=Q.useMemo(()=>(Vv(l.current,a)||(l.current=a),l.current),[a]);return Q.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:s,strategy:i,modifiers:[...f,m,vne]})},[i,s,m,r,f]),Q.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=pne(t,e,Object.assign({},o,{placement:s,strategy:i,modifiers:[...f,yne,m]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,p(b=>Object.assign({},b,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),h}function Iy(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const S5=()=>{};function wne(t){return t.button===0}function _ne(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Nw=t=>t&&("current"in t?t.current:t),C5={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Sne(t,e=S5,{disabled:n,clickTrigger:r="click"}={}){const s=Q.useRef(!1),i=Q.useRef(!1),a=Q.useCallback(c=>{const u=Nw(t);s.current=!u||_ne(c)||!wne(c)||!!Iy(u,c.target)||i.current,i.current=!1},[t]),o=Ys(c=>{const u=Nw(t);u&&Iy(u,c.target)&&(i.current=!0)}),l=Ys(c=>{s.current||e(c)});Q.useEffect(()=>{if(n||t==null)return;const c=_g(Nw(t));let u=(c.defaultView||window).event,d=null;C5[r]&&(d=Qc(c,C5[r],o,!0));const h=Qc(c,r,a,!0),p=Qc(c,r,f=>{if(f===u){u=void 0;return}l(f)});let m=[];return"ontouchstart"in c.documentElement&&(m=[].slice.call(c.body.children).map(f=>Qc(f,"mousemove",S5))),()=>{d==null||d(),h(),p(),m.forEach(f=>f())}},[t,n,r,a,o,l])}function Cne(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function kne(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function Ene({enabled:t,enableEvents:e,placement:n,flip:r,offset:s,fixed:i,containerPadding:a,arrowElement:o,popperConfig:l={}}){var c,u,d,h,p;const m=Cne(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:i?"fixed":l.strategy,modifiers:kne(Object.assign({},m,{eventListeners:{enabled:e,options:(c=m.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},m.preventOverflow,{options:a?Object.assign({padding:a},(u=m.preventOverflow)==null?void 0:u.options):(d=m.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:s},(h=m.offset)==null?void 0:h.options)},arrow:Object.assign({},m.arrow,{enabled:!!o,options:Object.assign({},(p=m.arrow)==null?void 0:p.options,{element:o})}),flip:Object.assign({enabled:!!r},m.flip)}))})}const v8={prefix:String(Math.round(Math.random()*1e10)),current:0,isSSR:!1},y8=sn.createContext(v8);let Tne=!!(typeof window<"u"&&window.document&&window.document.createElement),iT=new WeakMap;function Ine(t=!1){let e=Q.useContext(y8),n=Q.useRef(null);if(n.current===null&&!t){var r,s;let i=(r=sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(s=r.ReactCurrentOwner)===null||s===void 0?void 0:s.current;if(i){let a=iT.get(i);a==null?iT.set(i,{id:e.current,state:i.memoizedState}):i.memoizedState!==a.state&&(e.current=a.id,iT.delete(i))}n.current=++e.current}return n.current}function Ane(t){let e=Q.useContext(y8);e===v8&&!Tne&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=Ine(!!t);return t||`react-aria${e.prefix}-${n}`}const Nne=Q.createContext(null),Gm=(t,e=null)=>t!=null?String(t):e||null,Hm=Nne,b8=Q.createContext(null);b8.displayName="NavContext";const x8=b8,Rne="data-rr-ui-",One="rrUi";function sC(t){return`${Rne}${t}`}function $ne(t){return`${One}${t}`}const w8=Q.createContext(Sg?window:void 0);w8.Provider;function _8(){return Q.useContext(w8)}const S8=Q.createContext(null);S8.displayName="NavbarContext";const Dne=S8,Pne={type:qt.string,tooltip:qt.bool,as:qt.elementType},FO=Q.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>S.jsx(t,{...s,ref:i,className:$n(e,`${n}-${r?"tooltip":"feedback"}`)}));FO.displayName="Feedback";FO.propTypes=Pne;const C8=FO,Mne=Q.createContext({}),ou=Mne,k8=Q.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:a="input",...o},l)=>{const{controlId:c}=Q.useContext(ou);return e=nr(e,"form-check-input"),S.jsx(a,{...o,ref:l,type:r,id:t||c,className:$n(n,e,s&&"is-valid",i&&"is-invalid")})});k8.displayName="FormCheckInput";const E8=k8,T8=Q.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=Q.useContext(ou);return t=nr(t,"form-check-label"),S.jsx("label",{...r,ref:s,htmlFor:n||i,className:$n(e,t)})});T8.displayName="FormCheckLabel";const kA=T8,I8=Q.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:a=!1,isInvalid:o=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:u,className:d,style:h,title:p="",type:m="checkbox",label:f,children:b,as:w="input",...g},C)=>{e=nr(e,"form-check"),n=nr(n,"form-switch");const{controlId:k}=Q.useContext(ou),N=Q.useMemo(()=>({controlId:t||k}),[k,t]),A=!b&&f!=null&&f!==!1||lte(b,kA),O=S.jsx(E8,{...g,type:m==="switch"?"checkbox":m,ref:C,isValid:a,isInvalid:o,disabled:i,as:w});return S.jsx(ou.Provider,{value:N,children:S.jsx("div",{style:h,className:$n(d,A&&e,r&&`${e}-inline`,s&&`${e}-reverse`,m==="switch"&&n),children:b||S.jsxs(S.Fragment,{children:[O,A&&S.jsx(kA,{title:p,children:f}),c&&S.jsx(C8,{type:u,tooltip:l,children:c})]})})})});I8.displayName="FormCheck";const I_=Object.assign(I8,{Input:E8,Label:kA}),A8=Q.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:a=!1,isInvalid:o=!1,plaintext:l,readOnly:c,as:u="input",...d},h)=>{const{controlId:p}=Q.useContext(ou);t=nr(t,"form-control");let m;return l?m={[`${t}-plaintext`]:!0}:m={[t]:!0,[`${t}-${n}`]:n},S.jsx(u,{...d,type:e,size:r,ref:h,readOnly:c,id:s||p,className:$n(i,m,a&&"is-valid",o&&"is-invalid",e==="color"&&`${t}-color`)})});A8.displayName="FormControl";const Bne=Object.assign(A8,{Feedback:C8}),Lne=hi("form-floating"),N8=Q.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=Q.useMemo(()=>({controlId:t}),[t]);return S.jsx(ou.Provider,{value:s,children:S.jsx(e,{...n,ref:r})})});N8.displayName="FormGroup";const R8=N8,O8=Q.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...a},o)=>{const{controlId:l}=Q.useContext(ou);e=nr(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const u=$n(s,e,r&&"visually-hidden",n&&c);return i=i||l,n?S.jsx(er,{ref:o,as:"label",className:u,htmlFor:i,...a}):S.jsx(t,{ref:o,className:u,htmlFor:i,...a})});O8.displayName="FormLabel";const Fne=O8,$8=Q.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=Q.useContext(ou);return t=nr(t,"form-range"),S.jsx("input",{...r,type:"range",ref:s,className:$n(e,t),id:n||i})});$8.displayName="FormRange";const jne=$8,D8=Q.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:a,...o},l)=>{const{controlId:c}=Q.useContext(ou);return t=nr(t,"form-select"),S.jsx("select",{...o,size:n,ref:l,className:$n(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:a||c})});D8.displayName="FormSelect";const zne=D8,P8=Q.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=nr(t,"form-text"),S.jsx(n,{...s,ref:i,className:$n(e,t,r&&"text-muted")})));P8.displayName="FormText";const Une=P8,M8=Q.forwardRef((t,e)=>S.jsx(I_,{...t,ref:e,type:"switch"}));M8.displayName="Switch";const Wne=Object.assign(M8,{Input:I_.Input,Label:I_.Label}),B8=Q.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},a)=>(t=nr(t,"form-floating"),S.jsxs(R8,{ref:a,className:$n(e,t),controlId:r,...i,children:[n,S.jsx("label",{htmlFor:r,children:s})]})));B8.displayName="FloatingLabel";const Vne=B8,Gne={_ref:qt.any,validated:qt.bool,as:qt.elementType},jO=Q.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>S.jsx(n,{...r,ref:s,className:$n(t,e&&"was-validated")}));jO.displayName="Form";jO.propTypes=Gne;const Mt=Object.assign(jO,{Group:R8,Control:Bne,Floating:Lne,Check:I_,Switch:Wne,Label:Fne,Text:Une,Range:jne,Select:zne,FloatingLabel:Vne}),L8=Q.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...s},i)=>{const a=nr(t,"container"),o=typeof e=="string"?`-${e}`:"-fluid";return S.jsx(n,{ref:i,...s,className:$n(r,e?`${a}${o}`:a)})});L8.displayName="Container";const Ta=L8;qt.string,qt.bool,qt.bool,qt.bool,qt.bool;const F8=Q.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:s=!1,thumbnail:i=!1,...a},o)=>(t=nr(t,"img"),S.jsx("img",{ref:o,...a,className:$n(e,n&&`${t}-fluid`,r&&"rounded",s&&"rounded-circle",i&&`${t}-thumbnail`)})));F8.displayName="Image";const k5=F8,Hne=Q.createContext(null),Cg=Hne,Yne=["as","active","eventKey"];function qne(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function zO({key:t,onClick:e,active:n,id:r,role:s,disabled:i}){const a=Q.useContext(Hm),o=Q.useContext(x8),l=Q.useContext(Cg);let c=n;const u={role:s};if(o){!s&&o.role==="tablist"&&(u.role="tab");const d=o.getControllerId(t??null),h=o.getControlledId(t??null);u[sC("event-key")]=t,u.id=d||r,c=n==null&&t!=null?o.activeKey===t:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(u["aria-controls"]=h)}return u.role==="tab"&&(u["aria-selected"]=c,c||(u.tabIndex=-1),i&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=Ys(d=>{i||(e==null||e(d),t!=null&&a&&!d.isPropagationStopped()&&a(t,d))}),[u,{isActive:c}]}const j8=Q.forwardRef((t,e)=>{let{as:n=H7,active:r,eventKey:s}=t,i=qne(t,Yne);const[a,o]=zO(Object.assign({key:Gm(s,i.href),active:r},i));return a[sC("active")]=o.isActive,S.jsx(n,Object.assign({},i,a,{ref:e}))});j8.displayName="NavItem";const Xne=j8,Kne=["as","onSelect","activeKey","role","onKeyDown"];function Jne(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}const E5=()=>{},T5=sC("event-key"),z8=Q.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:s,role:i,onKeyDown:a}=t,o=Jne(t,Kne);const l=dte(),c=Q.useRef(!1),u=Q.useContext(Hm),d=Q.useContext(Cg);let h,p;d&&(i=i||"tablist",s=d.activeKey,h=d.getControlledId,p=d.getControllerId);const m=Q.useRef(null),f=C=>{const k=m.current;if(!k)return null;const N=df(k,`[${T5}]:not([aria-disabled=true])`),A=k.querySelector("[aria-selected=true]");if(!A||A!==document.activeElement)return null;const O=N.indexOf(A);if(O===-1)return null;let R=O+C;return R>=N.length&&(R=0),R<0&&(R=N.length-1),N[R]},b=(C,k)=>{C!=null&&(r==null||r(C,k),u==null||u(C,k))},w=C=>{if(a==null||a(C),!d)return;let k;switch(C.key){case"ArrowLeft":case"ArrowUp":k=f(-1);break;case"ArrowRight":case"ArrowDown":k=f(1);break;default:return}k&&(C.preventDefault(),b(k.dataset[$ne("EventKey")]||null,C),c.current=!0,l())};Q.useEffect(()=>{if(m.current&&c.current){const C=m.current.querySelector(`[${T5}][aria-selected=true]`);C==null||C.focus()}c.current=!1});const g=Qd(e,m);return S.jsx(Hm.Provider,{value:b,children:S.jsx(x8.Provider,{value:{role:i,activeKey:Gm(s),getControlledId:h||E5,getControllerId:p||E5},children:S.jsx(n,Object.assign({},o,{onKeyDown:w,ref:g,role:i}))})})});z8.displayName="Nav";const U8=Object.assign(z8,{Item:Xne}),W8=Q.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:s,variant:i,action:a,as:o,...l},c)=>{t=nr(t,"list-group-item");const[u,d]=zO({key:Gm(r,l.href),active:e,...l}),h=Ys(m=>{if(n){m.preventDefault(),m.stopPropagation();return}u.onClick(m)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const p=o||(a?l.href?"a":"button":"div");return S.jsx(p,{ref:c,...l,...u,onClick:h,className:$n(s,t,d.isActive&&"active",n&&"disabled",i&&`${t}-${i}`,a&&`${t}-action`)})});W8.displayName="ListGroupItem";const Qne=W8,V8=Q.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:s,horizontal:i,numbered:a,as:o="div",...l}=eC(t,{activeKey:"onSelect"}),c=nr(r,"list-group");let u;return i&&(u=i===!0?"horizontal":`horizontal-${i}`),S.jsx(U8,{ref:e,...l,as:o,className:$n(n,c,s&&`${c}-${s}`,u&&`${c}-${u}`,a&&`${c}-numbered`)})});V8.displayName="ListGroup";const G8=Object.assign(V8,{Item:Qne});var T1;function I5(t){if((!T1&&T1!==0||t)&&Sg){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),T1=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return T1}function oT(t){t===void 0&&(t=_g());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Zne(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const A5=sC("modal-open");class ere{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return Zne(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Df(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(A5,""),Df(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(A5),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const UO=ere,aT=(t,e)=>Sg?t==null?(e||_g()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function EA(t,e){const n=_8(),[r,s]=Q.useState(()=>aT(t,n==null?void 0:n.document));if(!r){const i=aT(t);i&&s(i)}return Q.useEffect(()=>{e&&r&&e(r)},[e,r]),Q.useEffect(()=>{const i=aT(t);i!==r&&s(i)},[t,r]),r}function WO({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=Q.useRef(null),a=Q.useRef(e),o=Ys(n);Q.useEffect(()=>{e?a.current=!0:o(i.current)},[e,o]);const l=Qd(i,t.ref),c=Q.cloneElement(t,{ref:l});return e?c:s||!a.current&&r?null:c}function tre({in:t,onTransition:e}){const n=Q.useRef(null),r=Q.useRef(!0),s=Ys(e);return wA(()=>{if(!n.current)return;let i=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,s]),wA(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function nre({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[i,a]=Q.useState(!e);e&&i&&a(!1);const o=tre({in:!!e,onTransition:c=>{const u=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(a(!0),n==null||n(c.element)))};Promise.resolve(s(c)).then(u,d=>{throw c.in||a(!0),d})}}),l=Qd(o,t.ref);return i&&!e?null:Q.cloneElement(t,{ref:l})}function TA(t,e,n){return t?S.jsx(t,Object.assign({},n)):e?S.jsx(nre,Object.assign({},n,{transition:e})):S.jsx(WO,Object.assign({},n))}function H8(t){return t.code==="Escape"||t.keyCode===27}const rre=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function sre(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}let lT;function ire(t){return lT||(lT=new UO({ownerDocument:t==null?void 0:t.document})),lT}function ore(t){const e=_8(),n=t||ire(e),r=Q.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:Q.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:Q.useCallback(s=>{r.current.backdrop=s},[])})}const Y8=Q.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:a,backdrop:o=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:d,runTransition:h,backdropTransition:p,runBackdropTransition:m,autoFocus:f=!0,enforceFocus:b=!0,restoreFocus:w=!0,restoreFocusOptions:g,renderDialog:C,renderBackdrop:k=Je=>S.jsx("div",Object.assign({},Je)),manager:N,container:A,onShow:O,onHide:R=()=>{},onExit:$,onExited:D,onExiting:B,onEnter:M,onEntering:z,onEntered:W}=t,V=sre(t,rre);const q=EA(A),H=ore(N),K=IO(),F=$ee(n),[ie,de]=Q.useState(!n),ee=Q.useRef(null);Q.useImperativeHandle(e,()=>H,[H]),Sg&&!F&&n&&(ee.current=oT()),n&&ie&&de(!1);const J=Ys(()=>{if(H.add(),Pe.current=Qc(document,"keydown",Ee),ze.current=Qc(document,"focus",()=>setTimeout(ue),!0),O&&O(),f){const Je=oT(document);H.dialog&&Je&&!Iy(H.dialog,Je)&&(ee.current=Je,H.dialog.focus())}}),ae=Ys(()=>{if(H.remove(),Pe.current==null||Pe.current(),ze.current==null||ze.current(),w){var Je;(Je=ee.current)==null||Je.focus==null||Je.focus(g),ee.current=null}});Q.useEffect(()=>{!n||!q||J()},[n,q,J]),Q.useEffect(()=>{ie&&ae()},[ie,ae]),RO(()=>{ae()});const ue=Ys(()=>{if(!b||!K()||!H.isTopModal())return;const Je=oT();H.dialog&&Je&&!Iy(H.dialog,Je)&&H.dialog.focus()}),le=Ys(Je=>{Je.target===Je.currentTarget&&(c==null||c(Je),o===!0&&R())}),Ee=Ys(Je=>{l&&H8(Je)&&H.isTopModal()&&(u==null||u(Je),Je.defaultPrevented||R())}),ze=Q.useRef(),Pe=Q.useRef(),Ke=(...Je)=>{de(!0),D==null||D(...Je)};if(!q)return null;const Ye=Object.assign({role:r,ref:H.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},V,{style:i,className:s,tabIndex:-1});let We=C?C(Ye):S.jsx("div",Object.assign({},Ye,{children:Q.cloneElement(a,{role:"document"})}));We=TA(d,h,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:$,onExiting:B,onExited:Ke,onEnter:M,onEntering:z,onEntered:W,children:We});let ot=null;return o&&(ot=k({ref:H.setBackdropRef,onClick:le}),ot=TA(p,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ot})),S.jsx(S.Fragment,{children:kf.createPortal(S.jsxs(S.Fragment,{children:[ot,We]}),q)})});Y8.displayName="Modal";const are=Object.assign(Y8,{Manager:UO});function q8(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function lre(t,e){t.classList?t.classList.add(e):q8(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function N5(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function cre(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=N5(t.className,e):t.setAttribute("class",N5(t.className&&t.className.baseVal||"",e))}const zp={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ure extends UO{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,Df(n,{[e]:`${parseFloat(Df(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Df(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(lre(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";df(n,zp.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,e.scrollBarWidth)),df(n,zp.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-e.scrollBarWidth)),df(n,zp.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();cre(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";df(n,zp.FIXED_CONTENT).forEach(i=>this.restore(r,i)),df(n,zp.STICKY_CONTENT).forEach(i=>this.restore(s,i)),df(n,zp.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let cT;function dre(t){return cT||(cT=new ure(t)),cT}const hre=hi("modal-body"),fre=Q.createContext({onHide(){}}),X8=fre,K8=Q.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:i,children:a,scrollable:o,...l},c)=>{t=nr(t,"modal");const u=`${t}-dialog`,d=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return S.jsx("div",{...l,ref:c,className:$n(u,e,s&&`${t}-${s}`,r&&`${u}-centered`,o&&`${u}-scrollable`,i&&d),children:S.jsx("div",{className:$n(`${t}-content`,n),children:a})})});K8.displayName="ModalDialog";const J8=K8,pre=hi("modal-footer"),mre=Q.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...i},a)=>{const o=Q.useContext(X8),l=Ys(()=>{o==null||o.onHide(),r==null||r()});return S.jsxs("div",{ref:a,...i,children:[s,n&&S.jsx(K7,{"aria-label":t,variant:e,onClick:l})]})}),gre=mre,Q8=Q.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=nr(t,"modal-header"),S.jsx(gre,{ref:i,...s,className:$n(e,t),closeLabel:n,closeButton:r})));Q8.displayName="ModalHeader";const vre=Q8,yre=nC("h4"),bre=hi("modal-title",{Component:yre});function xre(t){return S.jsx($d,{...t,timeout:null})}function wre(t){return S.jsx($d,{...t,timeout:null})}const Z8=Q.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:i,dialogAs:a=J8,"aria-labelledby":o,"aria-describedby":l,"aria-label":c,show:u=!1,animation:d=!0,backdrop:h=!0,keyboard:p=!0,onEscapeKeyDown:m,onShow:f,onHide:b,container:w,autoFocus:g=!0,enforceFocus:C=!0,restoreFocus:k=!0,restoreFocusOptions:N,onEntered:A,onExit:O,onExiting:R,onEnter:$,onEntering:D,onExited:B,backdropClassName:M,manager:z,...W},V)=>{const[q,H]=Q.useState({}),[K,F]=Q.useState(!1),ie=Q.useRef(!1),de=Q.useRef(!1),ee=Q.useRef(null),[J,ae]=xA(),ue=Qd(V,ae),le=Ys(b),Ee=j7();t=nr(t,"modal");const ze=Q.useMemo(()=>({onHide:le}),[le]);function Pe(){return z||dre({isRTL:Ee})}function Ke(Y){if(!Sg)return;const me=Pe().getScrollbarWidth()>0,ge=Y.scrollHeight>_g(Y).documentElement.clientHeight;H({paddingRight:me&&!ge?I5():void 0,paddingLeft:!me&&ge?I5():void 0})}const Ye=Ys(()=>{J&&Ke(J.dialog)});RO(()=>{bA(window,"resize",Ye),ee.current==null||ee.current()});const We=()=>{ie.current=!0},ot=Y=>{ie.current&&J&&Y.target===J.dialog&&(de.current=!0),ie.current=!1},Je=()=>{F(!0),ee.current=G7(J.dialog,()=>{F(!1)})},Le=Y=>{Y.target===Y.currentTarget&&Je()},dt=Y=>{if(h==="static"){Le(Y);return}if(de.current||Y.target!==Y.currentTarget){de.current=!1;return}b==null||b()},Ct=Y=>{p?m==null||m(Y):(Y.preventDefault(),h==="static"&&Je())},Ae=(Y,me)=>{Y&&Ke(Y),$==null||$(Y,me)},rt=Y=>{ee.current==null||ee.current(),O==null||O(Y)},fe=(Y,me)=>{D==null||D(Y,me),V7(window,"resize",Ye)},Fe=Y=>{Y&&(Y.style.display=""),B==null||B(Y),bA(window,"resize",Ye)},nt=Q.useCallback(Y=>S.jsx("div",{...Y,className:$n(`${t}-backdrop`,M,!d&&"show")}),[d,M,t]),Ce={...n,...q};Ce.display="block";const _e=Y=>S.jsx("div",{role:"dialog",...Y,style:Ce,className:$n(e,t,K&&`${t}-static`,!d&&"show"),onClick:h?dt:void 0,onMouseUp:ot,"aria-label":c,"aria-labelledby":o,"aria-describedby":l,children:S.jsx(a,{...W,onMouseDown:We,className:r,contentClassName:s,children:i})});return S.jsx(X8.Provider,{value:ze,children:S.jsx(are,{show:u,ref:ue,backdrop:h,container:w,keyboard:!0,autoFocus:g,enforceFocus:C,restoreFocus:k,restoreFocusOptions:N,onEscapeKeyDown:Ct,onShow:f,onHide:b,onEnter:Ae,onEntering:fe,onEntered:A,onExit:rt,onExiting:R,onExited:Fe,manager:Pe(),transition:d?xre:void 0,backdropTransition:d?wre:void 0,renderBackdrop:nt,renderDialog:_e})})});Z8.displayName="Modal";const ln=Object.assign(Z8,{Body:hre,Header:vre,Title:bre,Footer:pre,Dialog:J8,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var IA={},_re={get exports(){return IA},set exports(t){IA=t}},A_={},Sre={get exports(){return A_},set exports(t){A_=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function s(a,o,l,c,u,d){var h=c||"<<anonymous>>",p=d||l;if(o[l]==null)return a?new Error("Required "+u+" `"+p+"` was not specified "+("in `"+h+"`.")):null;for(var m=arguments.length,f=Array(m>6?m-6:0),b=6;b<m;b++)f[b-6]=arguments[b];return r.apply(void 0,[o,l,h,u,p].concat(f))}var i=s.bind(null,!1);return i.isRequired=s.bind(null,!0),i}t.exports=e.default})(Sre,A_);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=A_,r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}function i(){for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];function c(){for(var u=arguments.length,d=Array(u),h=0;h<u;h++)d[h]=arguments[h];var p=null;return o.forEach(function(m){if(p==null){var f=m.apply(void 0,d);f!=null&&(p=f)}}),p}return(0,r.default)(c)}t.exports=e.default})(_re,IA);const eU=hi("nav-item"),tU=Q.forwardRef(({bsPrefix:t,className:e,as:n=q7,active:r,eventKey:s,disabled:i=!1,...a},o)=>{t=nr(t,"nav-link");const[l,c]=zO({key:Gm(s,a.href),active:r,disabled:i,...a});return S.jsx(n,{...a,...l,ref:o,disabled:i,className:$n(e,t,i&&"disabled",c.isActive&&"active")})});tU.displayName="NavLink";const nU=tU,rU=Q.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:s,fill:i=!1,justify:a=!1,navbar:o,navbarScroll:l,className:c,activeKey:u,...d}=eC(t,{activeKey:"onSelect"}),h=nr(r,"nav");let p,m,f=!1;const b=Q.useContext(Dne),w=Q.useContext(n8);return b?(p=b.bsPrefix,f=o??!0):w&&({cardHeaderBsPrefix:m}=w),S.jsx(U8,{as:n,ref:e,activeKey:u,className:$n(c,{[h]:!f,[`${p}-nav`]:f,[`${p}-nav-scroll`]:f&&l,[`${m}-${s}`]:!!m,[`${h}-${s}`]:!!s,[`${h}-fill`]:i,[`${h}-justified`]:a}),...d})});rU.displayName="Nav";const Cre=Object.assign(rU,{Item:eU,Link:nU}),kre=()=>{};function Ere(t,e,{disabled:n,clickTrigger:r}={}){const s=e||kre;Sne(t,s,{disabled:n,clickTrigger:r});const i=Ys(a=>{H8(a)&&s(a)});Q.useEffect(()=>{if(n||t==null)return;const a=_g(Nw(t));let o=(a.defaultView||window).event;const l=Qc(a,"keyup",c=>{if(c===o){o=void 0;return}i(c)});return()=>{l()}},[t,n,i])}const sU=Q.forwardRef((t,e)=>{const{flip:n,offset:r,placement:s,containerPadding:i,popperConfig:a={},transition:o,runTransition:l}=t,[c,u]=xA(),[d,h]=xA(),p=Qd(u,e),m=EA(t.container),f=EA(t.target),[b,w]=Q.useState(!t.show),g=xne(f,c,Ene({placement:s,enableEvents:!!t.show,containerPadding:i||5,flip:n,offset:r,arrowElement:d,popperConfig:a}));t.show&&b&&w(!1);const C=(...B)=>{w(!0),t.onExited&&t.onExited(...B)},k=t.show||!b;if(Ere(c,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!k)return null;const{onExit:N,onExiting:A,onEnter:O,onEntering:R,onEntered:$}=t;let D=t.children(Object.assign({},g.attributes.popper,{style:g.styles.popper,ref:p}),{popper:g,placement:s,show:!!t.show,arrowProps:Object.assign({},g.attributes.arrow,{style:g.styles.arrow,ref:h})});return D=TA(o,l,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:D,onExit:N,onExiting:A,onExited:C,onEnter:O,onEntering:R,onEntered:$}),m?kf.createPortal(D,m):null});sU.displayName="Overlay";const Tre=sU,Ire=hi("popover-header"),iU=hi("popover-body");function Are(t,e){let n=t;return t==="left"?n=e?"end":"start":t==="right"&&(n=e?"start":"end"),n}function Nre(t="absolute"){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Rre=Q.forwardRef(({bsPrefix:t,placement:e="right",className:n,style:r,children:s,body:i,arrowProps:a,hasDoneInitialMeasure:o,popper:l,show:c,...u},d)=>{const h=nr(t,"popover"),p=j7(),[m]=(e==null?void 0:e.split("-"))||[],f=Are(m,p);let b=r;return c&&!o&&(b={...r,...Nre(l==null?void 0:l.strategy)}),S.jsxs("div",{ref:d,role:"tooltip",style:b,"x-placement":m,className:$n(n,h,m&&`bs-popover-${f}`),...u,children:[S.jsx("div",{className:"popover-arrow",...a}),i?S.jsx(iU,{children:s}):s]})}),hf=Object.assign(Rre,{Header:Ire,Body:iU,POPPER_OFFSET:[0,8]});function Ore(t){const e=Q.useRef(null),n=nr(void 0,"popover"),r=Q.useMemo(()=>({name:"offset",options:{offset:()=>e.current&&q8(e.current,n)?t||hf.POPPER_OFFSET:t||[0,0]}}),[t,n]);return[e,[r]]}function $re(t,e){const{ref:n}=t,{ref:r}=e;t.ref=n.__wrapped||(n.__wrapped=s=>n(E_(s))),e.ref=r.__wrapped||(r.__wrapped=s=>r(E_(s)))}const oU=Q.forwardRef(({children:t,transition:e=$d,popperConfig:n={},rootClose:r=!1,placement:s="top",show:i=!1,...a},o)=>{const l=Q.useRef({}),[c,u]=Q.useState(null),[d,h]=Ore(a.offset),p=Qd(o,d),m=e===!0?$d:e||void 0,f=Ys(b=>{u(b),n==null||n.onFirstUpdate==null||n.onFirstUpdate(b)});return wA(()=>{c&&(l.current.scheduleUpdate==null||l.current.scheduleUpdate())},[c]),Q.useEffect(()=>{i||u(null)},[i]),S.jsx(Tre,{...a,ref:p,popperConfig:{...n,modifiers:h.concat(n.modifiers||[]),onFirstUpdate:f},transition:m,rootClose:r,placement:s,show:i,children:(b,{arrowProps:w,popper:g,show:C})=>{var k,N;$re(b,w);const A=g==null?void 0:g.placement,O=Object.assign(l.current,{state:g==null?void 0:g.state,scheduleUpdate:g==null?void 0:g.update,placement:A,outOfBoundaries:(g==null||(k=g.state)==null||(N=k.modifiersData.hide)==null?void 0:N.isReferenceHidden)||!1,strategy:n.strategy}),R=!!c;return typeof t=="function"?t({...b,placement:A,show:C,...!e&&C&&{className:"show"},popper:O,arrowProps:w,hasDoneInitialMeasure:R}):Q.cloneElement(t,{...b,placement:A,arrowProps:w,popper:O,hasDoneInitialMeasure:R,className:$n(t.props.className,!e&&C&&"show"),style:{...t.props.style,...b.style}})}})});oU.displayName="Overlay";const Dre=oU;function Pre(t){return t&&typeof t=="object"?t:{show:t,hide:t}}function R5(t,e,n){const[r]=e,s=r.currentTarget,i=r.relatedTarget||r.nativeEvent[n];(!i||i!==s)&&!Iy(s,i)&&t(...e)}function O5({trigger:t=["hover","focus"],overlay:e,children:n,popperConfig:r={},show:s,defaultShow:i=!1,onToggle:a,delay:o,placement:l,flip:c=l&&l.indexOf("auto")!==-1,...u}){const d=Q.useRef(null),h=Qd(d,n.ref),p=ote(),m=Q.useRef(""),[f,b]=TO(s,i,a),w=Pre(o),{onFocus:g,onBlur:C,onClick:k}=typeof n!="function"?Q.Children.only(n).props:{},N=V=>{h(E_(V))},A=Q.useCallback(()=>{if(p.clear(),m.current="show",!w.show){b(!0);return}p.set(()=>{m.current==="show"&&b(!0)},w.show)},[w.show,b,p]),O=Q.useCallback(()=>{if(p.clear(),m.current="hide",!w.hide){b(!1);return}p.set(()=>{m.current==="hide"&&b(!1)},w.hide)},[w.hide,b,p]),R=Q.useCallback((...V)=>{A(),g==null||g(...V)},[A,g]),$=Q.useCallback((...V)=>{O(),C==null||C(...V)},[O,C]),D=Q.useCallback((...V)=>{b(!f),k==null||k(...V)},[k,b,f]),B=Q.useCallback((...V)=>{R5(A,V,"fromElement")},[A]),M=Q.useCallback((...V)=>{R5(O,V,"toElement")},[O]),z=t==null?[]:[].concat(t),W={ref:N};return z.indexOf("click")!==-1&&(W.onClick=D),z.indexOf("focus")!==-1&&(W.onFocus=R,W.onBlur=$),z.indexOf("hover")!==-1&&(W.onMouseOver=B,W.onMouseOut=M),S.jsxs(S.Fragment,{children:[typeof n=="function"?n(W):Q.cloneElement(n,W),S.jsx(Dre,{...u,show:f,onHide:O,flip:c,placement:l,popperConfig:r,target:d.current,children:e})]})}const aU=Q.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=nr(t,"row"),a=L7(),o=F7(),l=`${i}-cols`,c=[];return a.forEach(u=>{const d=r[u];delete r[u];let h;d!=null&&typeof d=="object"?{cols:h}=d:h=d;const p=u!==o?`-${u}`:"";h!=null&&c.push(`${l}${p}-${h}`)}),S.jsx(n,{ref:s,...r,className:$n(e,i,...c)})});aU.displayName="Row";const ki=aU,lU=Q.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:s="div",className:i,...a},o)=>{t=nr(t,"spinner");const l=`${t}-${n}`;return S.jsx(s,{ref:o,...a,className:$n(i,l,r&&`${l}-${r}`,e&&`text-${e}`)})});lU.displayName="Spinner";const Ay=lU,Mre=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Bre=["activeKey","getControlledId","getControllerId"],Lre=["as"];function AA(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function cU(t){let{active:e,eventKey:n,mountOnEnter:r,transition:s,unmountOnExit:i,role:a="tabpanel",onEnter:o,onEntering:l,onEntered:c,onExit:u,onExiting:d,onExited:h}=t,p=AA(t,Mre);const m=Q.useContext(Cg);if(!m)return[Object.assign({},p,{role:a}),{eventKey:n,isActive:e,mountOnEnter:r,transition:s,unmountOnExit:i,onEnter:o,onEntering:l,onEntered:c,onExit:u,onExiting:d,onExited:h}];const{activeKey:f,getControlledId:b,getControllerId:w}=m,g=AA(m,Bre),C=Gm(n);return[Object.assign({},p,{role:a,id:b(n),"aria-labelledby":w(n)}),{eventKey:n,isActive:e==null&&C!=null?Gm(f)===C:e,transition:s||g.transition,mountOnEnter:r??g.mountOnEnter,unmountOnExit:i??g.unmountOnExit,onEnter:o,onEntering:l,onEntered:c,onExit:u,onExiting:d,onExited:h}]}const uU=Q.forwardRef((t,e)=>{let{as:n="div"}=t,r=AA(t,Lre);const[s,{isActive:i,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:h,unmountOnExit:p,transition:m=WO}]=cU(r);return S.jsx(Cg.Provider,{value:null,children:S.jsx(Hm.Provider,{value:null,children:S.jsx(m,{in:i,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:h,unmountOnExit:p,children:S.jsx(n,Object.assign({},s,{ref:e,hidden:!i,"aria-hidden":!i}))})})})});uU.displayName="TabPanel";const dU=t=>{const{id:e,generateChildId:n,onSelect:r,activeKey:s,defaultActiveKey:i,transition:a,mountOnEnter:o,unmountOnExit:l,children:c}=t,[u,d]=TO(s,i,r),h=Ane(e),p=Q.useMemo(()=>n||((f,b)=>h?`${h}-${b}-${f}`:null),[h,n]),m=Q.useMemo(()=>({onSelect:d,activeKey:u,transition:a,mountOnEnter:o||!1,unmountOnExit:l||!1,getControlledId:f=>p(f,"tabpane"),getControllerId:f=>p(f,"tab")}),[d,u,a,o,l,p]);return S.jsx(Cg.Provider,{value:m,children:S.jsx(Hm.Provider,{value:d||null,children:c})})};dU.Panel=uU;const hU=dU;function VO(t){return typeof t=="boolean"?t?$d:WO:t}const fU=({transition:t,...e})=>S.jsx(hU,{...e,transition:VO(t)});fU.displayName="TabContainer";const Fre=fU,pU=hi("tab-content"),mU=Q.forwardRef(({bsPrefix:t,transition:e,...n},r)=>{const[{className:s,as:i="div",...a},{isActive:o,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:p,mountOnEnter:m,unmountOnExit:f,transition:b=$d}]=cU({...n,transition:VO(e)}),w=nr(t,"tab-pane");return S.jsx(Cg.Provider,{value:null,children:S.jsx(Hm.Provider,{value:null,children:S.jsx(b,{in:o,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:p,mountOnEnter:m,unmountOnExit:f,children:S.jsx(i,{...a,ref:r,className:$n(s,w,o&&"active")})})})})});mU.displayName="TabPane";const gU=mU,jre={eventKey:qt.oneOfType([qt.string,qt.number]),title:qt.node.isRequired,disabled:qt.bool,tabClassName:qt.string,tabAttrs:qt.object},vU=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};vU.propTypes=jre;const Ym=Object.assign(vU,{Container:Fre,Content:pU,Pane:gU}),zre=Q.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:s,hover:i,size:a,variant:o,responsive:l,...c},u)=>{const d=nr(t,"table"),h=$n(e,d,o&&`${d}-${o}`,a&&`${d}-${a}`,n&&`${d}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${d}-bordered`,s&&`${d}-borderless`,i&&`${d}-hover`),p=S.jsx("table",{...c,className:h,ref:u});if(l){let m=`${d}-responsive`;return typeof l=="string"&&(m=`${m}-${l}`),S.jsx("div",{className:m,children:p})}return p}),Wo=zre;function Ure(t){let e;return ate(t,n=>{e==null&&(e=n.props.eventKey)}),e}function Wre(t){const{title:e,eventKey:n,disabled:r,tabClassName:s,tabAttrs:i,id:a}=t.props;return e==null?null:S.jsx(eU,{as:"li",role:"presentation",children:S.jsx(nU,{as:"button",type:"button",eventKey:n,disabled:r,id:a,className:s,...i,children:e})})}const yU=t=>{const{id:e,onSelect:n,transition:r,mountOnEnter:s=!1,unmountOnExit:i=!1,variant:a="tabs",children:o,activeKey:l=Ure(o),...c}=eC(t,{activeKey:"onSelect"});return S.jsxs(hU,{id:e,activeKey:l,onSelect:n,transition:VO(r),mountOnEnter:s,unmountOnExit:i,children:[S.jsx(Cre,{...c,role:"tablist",as:"ul",variant:a,children:d5(o,Wre)}),S.jsx(pU,{children:d5(o,u=>{const d={...u.props};return delete d.title,delete d.disabled,delete d.tabClassName,delete d.tabAttrs,S.jsx(gU,{...d})})})]})};yU.displayName="Tabs";const GO=yU;var Pd=sn.createContext(null);function Vre(t){t()}var bU=Vre,Gre=function(e){return bU=e},Hre=function(){return bU};function Yre(){var t=Hre(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var s=e;s;)s.callback(),s=s.next})},get:function(){for(var s=[],i=e;i;)s.push(i),i=i.next;return s},subscribe:function(s){var i=!0,a=n={callback:s,next:null,prev:n};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var $5={notify:function(){},get:function(){return[]}};function xU(t,e){var n,r=$5;function s(d){return l(),r.subscribe(d)}function i(){r.notify()}function a(){u.onStateChange&&u.onStateChange()}function o(){return!!n}function l(){n||(n=e?e.addNestedSub(a):t.subscribe(a),r=Yre())}function c(){n&&(n(),n=void 0,r.clear(),r=$5)}var u={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:a,isSubscribed:o,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return u}var NA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Q.useLayoutEffect:Q.useEffect;function qre(t){var e=t.store,n=t.context,r=t.children,s=Q.useMemo(function(){var o=xU(e);return{store:e,subscription:o}},[e]),i=Q.useMemo(function(){return e.getState()},[e]);NA(function(){var o=s.subscription;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),i!==e.getState()&&o.notifyNestedSubs(),function(){o.tryUnsubscribe(),o.onStateChange=null}},[s,i]);var a=n||Pd;return sn.createElement(a.Provider,{value:s},r)}var RA={},Xre={get exports(){return RA},set exports(t){RA=t}},vr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=typeof Symbol=="function"&&Symbol.for,HO=Qs?Symbol.for("react.element"):60103,YO=Qs?Symbol.for("react.portal"):60106,iC=Qs?Symbol.for("react.fragment"):60107,oC=Qs?Symbol.for("react.strict_mode"):60108,aC=Qs?Symbol.for("react.profiler"):60114,lC=Qs?Symbol.for("react.provider"):60109,cC=Qs?Symbol.for("react.context"):60110,qO=Qs?Symbol.for("react.async_mode"):60111,uC=Qs?Symbol.for("react.concurrent_mode"):60111,dC=Qs?Symbol.for("react.forward_ref"):60112,hC=Qs?Symbol.for("react.suspense"):60113,Kre=Qs?Symbol.for("react.suspense_list"):60120,fC=Qs?Symbol.for("react.memo"):60115,pC=Qs?Symbol.for("react.lazy"):60116,Jre=Qs?Symbol.for("react.block"):60121,Qre=Qs?Symbol.for("react.fundamental"):60117,Zre=Qs?Symbol.for("react.responder"):60118,ese=Qs?Symbol.for("react.scope"):60119;function ta(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case HO:switch(t=t.type,t){case qO:case uC:case iC:case aC:case oC:case hC:return t;default:switch(t=t&&t.$$typeof,t){case cC:case dC:case pC:case fC:case lC:return t;default:return e}}case YO:return e}}}function wU(t){return ta(t)===uC}vr.AsyncMode=qO;vr.ConcurrentMode=uC;vr.ContextConsumer=cC;vr.ContextProvider=lC;vr.Element=HO;vr.ForwardRef=dC;vr.Fragment=iC;vr.Lazy=pC;vr.Memo=fC;vr.Portal=YO;vr.Profiler=aC;vr.StrictMode=oC;vr.Suspense=hC;vr.isAsyncMode=function(t){return wU(t)||ta(t)===qO};vr.isConcurrentMode=wU;vr.isContextConsumer=function(t){return ta(t)===cC};vr.isContextProvider=function(t){return ta(t)===lC};vr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===HO};vr.isForwardRef=function(t){return ta(t)===dC};vr.isFragment=function(t){return ta(t)===iC};vr.isLazy=function(t){return ta(t)===pC};vr.isMemo=function(t){return ta(t)===fC};vr.isPortal=function(t){return ta(t)===YO};vr.isProfiler=function(t){return ta(t)===aC};vr.isStrictMode=function(t){return ta(t)===oC};vr.isSuspense=function(t){return ta(t)===hC};vr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===iC||t===uC||t===aC||t===oC||t===hC||t===Kre||typeof t=="object"&&t!==null&&(t.$$typeof===pC||t.$$typeof===fC||t.$$typeof===lC||t.$$typeof===cC||t.$$typeof===dC||t.$$typeof===Qre||t.$$typeof===Zre||t.$$typeof===ese||t.$$typeof===Jre)};vr.typeOf=ta;(function(t){t.exports=vr})(Xre);var _U=RA,tse={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nse={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},SU={};SU[_U.ForwardRef]=tse;SU[_U.Memo]=nse;var D5={},rse={get exports(){return D5},set exports(t){D5=t}},kr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC=60103,gC=60106,xb=60107,wb=60108,_b=60114,Sb=60109,Cb=60110,kb=60112,Eb=60113,XO=60120,Tb=60115,Ib=60116,CU=60121,kU=60122,EU=60117,TU=60129,IU=60131;if(typeof Symbol=="function"&&Symbol.for){var oi=Symbol.for;mC=oi("react.element"),gC=oi("react.portal"),xb=oi("react.fragment"),wb=oi("react.strict_mode"),_b=oi("react.profiler"),Sb=oi("react.provider"),Cb=oi("react.context"),kb=oi("react.forward_ref"),Eb=oi("react.suspense"),XO=oi("react.suspense_list"),Tb=oi("react.memo"),Ib=oi("react.lazy"),CU=oi("react.block"),kU=oi("react.server.block"),EU=oi("react.fundamental"),TU=oi("react.debug_trace_mode"),IU=oi("react.legacy_hidden")}function Cl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mC:switch(t=t.type,t){case xb:case _b:case wb:case Eb:case XO:return t;default:switch(t=t&&t.$$typeof,t){case Cb:case kb:case Ib:case Tb:case Sb:return t;default:return e}}case gC:return e}}}var sse=Sb,ise=mC,ose=kb,ase=xb,lse=Ib,cse=Tb,use=gC,dse=_b,hse=wb,fse=Eb;kr.ContextConsumer=Cb;kr.ContextProvider=sse;kr.Element=ise;kr.ForwardRef=ose;kr.Fragment=ase;kr.Lazy=lse;kr.Memo=cse;kr.Portal=use;kr.Profiler=dse;kr.StrictMode=hse;kr.Suspense=fse;kr.isAsyncMode=function(){return!1};kr.isConcurrentMode=function(){return!1};kr.isContextConsumer=function(t){return Cl(t)===Cb};kr.isContextProvider=function(t){return Cl(t)===Sb};kr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mC};kr.isForwardRef=function(t){return Cl(t)===kb};kr.isFragment=function(t){return Cl(t)===xb};kr.isLazy=function(t){return Cl(t)===Ib};kr.isMemo=function(t){return Cl(t)===Tb};kr.isPortal=function(t){return Cl(t)===gC};kr.isProfiler=function(t){return Cl(t)===_b};kr.isStrictMode=function(t){return Cl(t)===wb};kr.isSuspense=function(t){return Cl(t)===Eb};kr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xb||t===_b||t===TU||t===wb||t===Eb||t===XO||t===IU||typeof t=="object"&&t!==null&&(t.$$typeof===Ib||t.$$typeof===Tb||t.$$typeof===Sb||t.$$typeof===Cb||t.$$typeof===kb||t.$$typeof===EU||t.$$typeof===CU||t[0]===kU)};kr.typeOf=Cl;(function(t){t.exports=kr})(rse);function AU(){var t=Q.useContext(Pd);return t}function NU(t){t===void 0&&(t=Pd);var e=t===Pd?AU:function(){return Q.useContext(t)};return function(){var r=e(),s=r.store;return s}}var pse=NU();function mse(t){t===void 0&&(t=Pd);var e=t===Pd?pse:NU(t);return function(){var r=e();return r.dispatch}}var bp=mse(),gse=function(e,n){return e===n};function vse(t,e,n,r){var s=Q.useReducer(function(m){return m+1},0),i=s[1],a=Q.useMemo(function(){return xU(n,r)},[n,r]),o=Q.useRef(),l=Q.useRef(),c=Q.useRef(),u=Q.useRef(),d=n.getState(),h;try{if(t!==l.current||d!==c.current||o.current){var p=t(d);u.current===void 0||!e(p,u.current)?h=p:h=u.current}else h=u.current}catch(m){throw o.current&&(m.message+=`
The error may be correlated with this previous error:
`+o.current.stack+`

`),m}return NA(function(){l.current=t,c.current=d,u.current=h,o.current=void 0}),NA(function(){function m(){try{var f=n.getState();if(f===c.current)return;var b=l.current(f);if(e(b,u.current))return;u.current=b,c.current=f}catch(w){o.current=w}i()}return a.onStateChange=m,a.trySubscribe(),m(),function(){return a.tryUnsubscribe()}},[n,a]),h}function yse(t){t===void 0&&(t=Pd);var e=t===Pd?AU:function(){return Q.useContext(t)};return function(r,s){s===void 0&&(s=gse);var i=e(),a=i.store,o=i.subscription,l=vse(r,s,a,o);return Q.useDebugValue(l),l}}var yl=yse();Gre(ay.unstable_batchedUpdates);function RU(t,e){return function(){return t.apply(e,arguments)}}const{toString:bse}=Object.prototype,{getPrototypeOf:KO}=Object,vC=(t=>e=>{const n=bse.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hc=t=>(t=t.toLowerCase(),e=>vC(e)===t),yC=t=>e=>typeof e===t,{isArray:kg}=Array,Ny=yC("undefined");function xse(t){return t!==null&&!Ny(t)&&t.constructor!==null&&!Ny(t.constructor)&&Ia(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const OU=hc("ArrayBuffer");function wse(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&OU(t.buffer),e}const _se=yC("string"),Ia=yC("function"),$U=yC("number"),bC=t=>t!==null&&typeof t=="object",Sse=t=>t===!0||t===!1,Rw=t=>{if(vC(t)!=="object")return!1;const e=KO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cse=hc("Date"),kse=hc("File"),Ese=hc("Blob"),Tse=hc("FileList"),Ise=t=>bC(t)&&Ia(t.pipe),Ase=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ia(t.append)&&((e=vC(t))==="formdata"||e==="object"&&Ia(t.toString)&&t.toString()==="[object FormData]"))},Nse=hc("URLSearchParams"),Rse=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ab(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),kg(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(r=0;r<a;r++)o=i[r],e.call(null,t[o],o,t)}}function DU(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const PU=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),MU=t=>!Ny(t)&&t!==PU;function OA(){const{caseless:t}=MU(this)&&this||{},e={},n=(r,s)=>{const i=t&&DU(e,s)||s;Rw(e[i])&&Rw(r)?e[i]=OA(e[i],r):Rw(r)?e[i]=OA({},r):kg(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ab(arguments[r],n);return e}const Ose=(t,e,n,{allOwnKeys:r}={})=>(Ab(e,(s,i)=>{n&&Ia(s)?t[i]=RU(s,n):t[i]=s},{allOwnKeys:r}),t),$se=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Dse=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Pse=(t,e,n,r)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&KO(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Mse=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Bse=t=>{if(!t)return null;if(kg(t))return t;let e=t.length;if(!$U(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Lse=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&KO(Uint8Array)),Fse=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},jse=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},zse=hc("HTMLFormElement"),Use=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),P5=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Wse=hc("RegExp"),BU=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ab(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},Vse=t=>{BU(t,(e,n)=>{if(Ia(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ia(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Gse=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return kg(t)?r(t):r(String(t).split(e)),n},Hse=()=>{},Yse=(t,e)=>(t=+t,Number.isFinite(t)?t:e),uT="abcdefghijklmnopqrstuvwxyz",M5="0123456789",LU={DIGIT:M5,ALPHA:uT,ALPHA_DIGIT:uT+uT.toUpperCase()+M5},qse=(t=16,e=LU.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Xse(t){return!!(t&&Ia(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Kse=t=>{const e=new Array(10),n=(r,s)=>{if(bC(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=kg(r)?[]:{};return Ab(r,(a,o)=>{const l=n(a,s+1);!Ny(l)&&(i[o]=l)}),e[s]=void 0,i}}return r};return n(t,0)},Jse=hc("AsyncFunction"),Qse=t=>t&&(bC(t)||Ia(t))&&Ia(t.then)&&Ia(t.catch),st={isArray:kg,isArrayBuffer:OU,isBuffer:xse,isFormData:Ase,isArrayBufferView:wse,isString:_se,isNumber:$U,isBoolean:Sse,isObject:bC,isPlainObject:Rw,isUndefined:Ny,isDate:Cse,isFile:kse,isBlob:Ese,isRegExp:Wse,isFunction:Ia,isStream:Ise,isURLSearchParams:Nse,isTypedArray:Lse,isFileList:Tse,forEach:Ab,merge:OA,extend:Ose,trim:Rse,stripBOM:$se,inherits:Dse,toFlatObject:Pse,kindOf:vC,kindOfTest:hc,endsWith:Mse,toArray:Bse,forEachEntry:Fse,matchAll:jse,isHTMLForm:zse,hasOwnProperty:P5,hasOwnProp:P5,reduceDescriptors:BU,freezeMethods:Vse,toObjectSet:Gse,toCamelCase:Use,noop:Hse,toFiniteNumber:Yse,findKey:DU,global:PU,isContextDefined:MU,ALPHABET:LU,generateString:qse,isSpecCompliantForm:Xse,toJSONObject:Kse,isAsyncFn:Jse,isThenable:Qse};function Kn(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}st.inherits(Kn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:st.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const FU=Kn.prototype,jU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{jU[t]={value:t}});Object.defineProperties(Kn,jU);Object.defineProperty(FU,"isAxiosError",{value:!0});Kn.from=(t,e,n,r,s,i)=>{const a=Object.create(FU);return st.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Kn.call(a,t.message,e,n,r,s),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const Zse=null;function $A(t){return st.isPlainObject(t)||st.isArray(t)}function zU(t){return st.endsWith(t,"[]")?t.slice(0,-2):t}function B5(t,e,n){return t?t.concat(e).map(function(s,i){return s=zU(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function eie(t){return st.isArray(t)&&!t.some($A)}const tie=st.toFlatObject(st,{},null,function(e){return/^is[A-Z]/.test(e)});function xC(t,e,n){if(!st.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=st.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,b){return!st.isUndefined(b[f])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&st.isSpecCompliantForm(e);if(!st.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(st.isDate(m))return m.toISOString();if(!l&&st.isBlob(m))throw new Kn("Blob is not supported. Use a Buffer instead.");return st.isArrayBuffer(m)||st.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,f,b){let w=m;if(m&&!b&&typeof m=="object"){if(st.endsWith(f,"{}"))f=r?f:f.slice(0,-2),m=JSON.stringify(m);else if(st.isArray(m)&&eie(m)||(st.isFileList(m)||st.endsWith(f,"[]"))&&(w=st.toArray(m)))return f=zU(f),w.forEach(function(C,k){!(st.isUndefined(C)||C===null)&&e.append(a===!0?B5([f],k,i):a===null?f:f+"[]",c(C))}),!1}return $A(m)?!0:(e.append(B5(b,f,i),c(m)),!1)}const d=[],h=Object.assign(tie,{defaultVisitor:u,convertValue:c,isVisitable:$A});function p(m,f){if(!st.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+f.join("."));d.push(m),st.forEach(m,function(w,g){(!(st.isUndefined(w)||w===null)&&s.call(e,w,st.isString(g)?g.trim():g,f,h))===!0&&p(w,f?f.concat(g):[g])}),d.pop()}}if(!st.isObject(t))throw new TypeError("data must be an object");return p(t),e}function L5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function JO(t,e){this._pairs=[],t&&xC(t,this,e)}const UU=JO.prototype;UU.append=function(e,n){this._pairs.push([e,n])};UU.toString=function(e){const n=e?function(r){return e.call(this,r,L5)}:L5;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function nie(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WU(t,e,n){if(!e)return t;const r=n&&n.encode||nie,s=n&&n.serialize;let i;if(s?i=s(e,n):i=st.isURLSearchParams(e)?e.toString():new JO(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class rie{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){st.forEach(this.handlers,function(r){r!==null&&e(r)})}}const F5=rie,VU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sie=typeof URLSearchParams<"u"?URLSearchParams:JO,iie=typeof FormData<"u"?FormData:null,oie=typeof Blob<"u"?Blob:null,aie=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),lie=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Vl={isBrowser:!0,classes:{URLSearchParams:sie,FormData:iie,Blob:oie},isStandardBrowserEnv:aie,isStandardBrowserWebWorkerEnv:lie,protocols:["http","https","file","blob","url","data"]};function cie(t,e){return xC(t,new Vl.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Vl.isNode&&st.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function uie(t){return st.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function die(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function GU(t){function e(n,r,s,i){let a=n[i++];const o=Number.isFinite(+a),l=i>=n.length;return a=!a&&st.isArray(s)?s.length:a,l?(st.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!o):((!s[a]||!st.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&st.isArray(s[a])&&(s[a]=die(s[a])),!o)}if(st.isFormData(t)&&st.isFunction(t.entries)){const n={};return st.forEachEntry(t,(r,s)=>{e(uie(r),s,n,0)}),n}return null}const hie={"Content-Type":void 0};function fie(t,e,n){if(st.isString(t))try{return(e||JSON.parse)(t),st.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const wC={transitional:VU,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=st.isObject(e);if(i&&st.isHTMLForm(e)&&(e=new FormData(e)),st.isFormData(e))return s&&s?JSON.stringify(GU(e)):e;if(st.isArrayBuffer(e)||st.isBuffer(e)||st.isStream(e)||st.isFile(e)||st.isBlob(e))return e;if(st.isArrayBufferView(e))return e.buffer;if(st.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return cie(e,this.formSerializer).toString();if((o=st.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return xC(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),fie(e)):e}],transformResponse:[function(e){const n=this.transitional||wC.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&st.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Kn.from(o,Kn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vl.classes.FormData,Blob:Vl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};st.forEach(["delete","get","head"],function(e){wC.headers[e]={}});st.forEach(["post","put","patch"],function(e){wC.headers[e]=st.merge(hie)});const QO=wC,pie=st.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mie=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&pie[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},j5=Symbol("internals");function Q0(t){return t&&String(t).trim().toLowerCase()}function Ow(t){return t===!1||t==null?t:st.isArray(t)?t.map(Ow):String(t)}function gie(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const vie=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function dT(t,e,n,r,s){if(st.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!st.isString(e)){if(st.isString(r))return e.indexOf(r)!==-1;if(st.isRegExp(r))return r.test(e)}}function yie(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function bie(t,e){const n=st.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}class _C{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(o,l,c){const u=Q0(l);if(!u)throw new Error("header name must be a non-empty string");const d=st.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=Ow(o))}const a=(o,l)=>st.forEach(o,(c,u)=>i(c,u,l));return st.isPlainObject(e)||e instanceof this.constructor?a(e,n):st.isString(e)&&(e=e.trim())&&!vie(e)?a(mie(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=Q0(e),e){const r=st.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return gie(s);if(st.isFunction(n))return n.call(this,s,r);if(st.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Q0(e),e){const r=st.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||dT(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=Q0(a),a){const o=st.findKey(r,a);o&&(!n||dT(r,r[o],o,n))&&(delete r[o],s=!0)}}return st.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||dT(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return st.forEach(this,(s,i)=>{const a=st.findKey(r,i);if(a){n[a]=Ow(s),delete n[i];return}const o=e?yie(i):String(i).trim();o!==i&&delete n[i],n[o]=Ow(s),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return st.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&st.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[j5]=this[j5]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=Q0(a);r[o]||(bie(s,a),r[o]=!0)}return st.isArray(e)?e.forEach(i):i(e),this}}_C.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);st.freezeMethods(_C.prototype);st.freezeMethods(_C);const eu=_C;function hT(t,e){const n=this||QO,r=e||n,s=eu.from(r.headers);let i=r.data;return st.forEach(t,function(o){i=o.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function HU(t){return!!(t&&t.__CANCEL__)}function Nb(t,e,n){Kn.call(this,t??"canceled",Kn.ERR_CANCELED,e,n),this.name="CanceledError"}st.inherits(Nb,Kn,{__CANCEL__:!0});function xie(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Kn("Request failed with status code "+n.status,[Kn.ERR_BAD_REQUEST,Kn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const wie=Vl.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,a,o){const l=[];l.push(n+"="+encodeURIComponent(r)),st.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),st.isString(i)&&l.push("path="+i),st.isString(a)&&l.push("domain="+a),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function _ie(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Sie(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function YU(t,e){return t&&!_ie(e)?Sie(t,e):e}const Cie=Vl.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let a=i;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(a){const o=st.isString(a)?s(a):a;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}();function kie(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Eie(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];a||(a=c),n[s]=l,r[s]=c;let d=i,h=0;for(;d!==s;)h+=n[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-a<e)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function z5(t,e){let n=0;const r=Eie(50,250);return s=>{const i=s.loaded,a=s.lengthComputable?s.total:void 0,o=i-n,l=r(o),c=i<=a;n=i;const u={loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&c?(a-i)/l:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const Tie=typeof XMLHttpRequest<"u",Iie=Tie&&function(t){return new Promise(function(n,r){let s=t.data;const i=eu.from(t.headers).normalize(),a=t.responseType;let o;function l(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}st.isFormData(s)&&(Vl.isStandardBrowserEnv||Vl.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+m))}const u=YU(t.baseURL,t.url);c.open(t.method.toUpperCase(),WU(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const p=eu.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),f={data:!a||a==="text"||a==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};xie(function(w){n(w),l()},function(w){r(w),l()},f),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new Kn("Request aborted",Kn.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Kn("Network Error",Kn.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const f=t.transitional||VU;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Kn(m,f.clarifyTimeoutError?Kn.ETIMEDOUT:Kn.ECONNABORTED,t,c)),c=null},Vl.isStandardBrowserEnv){const p=(t.withCredentials||Cie(u))&&t.xsrfCookieName&&wie.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&st.forEach(i.toJSON(),function(m,f){c.setRequestHeader(f,m)}),st.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),a&&a!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",z5(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",z5(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=p=>{c&&(r(!p||p.type?new Nb(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const h=kie(u);if(h&&Vl.protocols.indexOf(h)===-1){r(new Kn("Unsupported protocol "+h+":",Kn.ERR_BAD_REQUEST,t));return}c.send(s||null)})},$w={http:Zse,xhr:Iie};st.forEach($w,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Aie={getAdapter:t=>{t=st.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=st.isString(n)?$w[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new Kn(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(st.hasOwnProp($w,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!st.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:$w};function fT(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Nb(null,t)}function U5(t){return fT(t),t.headers=eu.from(t.headers),t.data=hT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Aie.getAdapter(t.adapter||QO.adapter)(t).then(function(r){return fT(t),r.data=hT.call(t,t.transformResponse,r),r.headers=eu.from(r.headers),r},function(r){return HU(r)||(fT(t),r&&r.response&&(r.response.data=hT.call(t,t.transformResponse,r.response),r.response.headers=eu.from(r.response.headers))),Promise.reject(r)})}const W5=t=>t instanceof eu?t.toJSON():t;function qm(t,e){e=e||{};const n={};function r(c,u,d){return st.isPlainObject(c)&&st.isPlainObject(u)?st.merge.call({caseless:d},c,u):st.isPlainObject(u)?st.merge({},u):st.isArray(u)?u.slice():u}function s(c,u,d){if(st.isUndefined(u)){if(!st.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function i(c,u){if(!st.isUndefined(u))return r(void 0,u)}function a(c,u){if(st.isUndefined(u)){if(!st.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function o(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u)=>s(W5(c),W5(u),!0)};return st.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||s,h=d(t[u],e[u],u);st.isUndefined(h)&&d!==o||(n[u]=h)}),n}const qU="1.4.0",ZO={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ZO[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const V5={};ZO.transitional=function(e,n,r){function s(i,a){return"[Axios v"+qU+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,o)=>{if(e===!1)throw new Kn(s(a," has been removed"+(n?" in "+n:"")),Kn.ERR_DEPRECATED);return n&&!V5[a]&&(V5[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,o):!0}};function Nie(t,e,n){if(typeof t!="object")throw new Kn("options must be an object",Kn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const o=t[i],l=o===void 0||a(o,i,t);if(l!==!0)throw new Kn("option "+i+" must be "+l,Kn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Kn("Unknown option "+i,Kn.ERR_BAD_OPTION)}}const DA={assertOptions:Nie,validators:ZO},Bu=DA.validators;class N_{constructor(e){this.defaults=e,this.interceptors={request:new F5,response:new F5}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=qm(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&DA.assertOptions(r,{silentJSONParsing:Bu.transitional(Bu.boolean),forcedJSONParsing:Bu.transitional(Bu.boolean),clarifyTimeoutError:Bu.transitional(Bu.boolean)},!1),s!=null&&(st.isFunction(s)?n.paramsSerializer={serialize:s}:DA.assertOptions(s,{encode:Bu.function,serialize:Bu.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a;a=i&&st.merge(i.common,i[n.method]),a&&st.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=eu.concat(a,i);const o=[];let l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(l=l&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});const c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let u,d=0,h;if(!l){const m=[U5.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,c),h=m.length,u=Promise.resolve(n);d<h;)u=u.then(m[d++],m[d++]);return u}h=o.length;let p=n;for(d=0;d<h;){const m=o[d++],f=o[d++];try{p=m(p)}catch(b){f.call(this,b);break}}try{u=U5.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=qm(this.defaults,e);const n=YU(e.baseURL,e.url);return WU(n,e.params,e.paramsSerializer)}}st.forEach(["delete","get","head","options"],function(e){N_.prototype[e]=function(n,r){return this.request(qm(r||{},{method:e,url:n,data:(r||{}).data}))}});st.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,o){return this.request(qm(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}N_.prototype[e]=n(),N_.prototype[e+"Form"]=n(!0)});const Dw=N_;class e${constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{r.subscribe(o),i=o}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,o){r.reason||(r.reason=new Nb(i,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new e$(function(s){e=s}),cancel:e}}}const Rie=e$;function Oie(t){return function(n){return t.apply(null,n)}}function $ie(t){return st.isObject(t)&&t.isAxiosError===!0}const PA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(PA).forEach(([t,e])=>{PA[e]=t});const Die=PA;function XU(t){const e=new Dw(t),n=RU(Dw.prototype.request,e);return st.extend(n,Dw.prototype,e,{allOwnKeys:!0}),st.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return XU(qm(t,s))},n}const Fs=XU(QO);Fs.Axios=Dw;Fs.CanceledError=Nb;Fs.CancelToken=Rie;Fs.isCancel=HU;Fs.VERSION=qU;Fs.toFormData=xC;Fs.AxiosError=Kn;Fs.Cancel=Fs.CanceledError;Fs.all=function(e){return Promise.all(e)};Fs.spread=Oie;Fs.isAxiosError=$ie;Fs.mergeConfig=qm;Fs.AxiosHeaders=eu;Fs.formToJSON=t=>GU(st.isHTMLForm(t)?new FormData(t):t);Fs.HttpStatusCode=Die;Fs.default=Fs;const Dn=Fs,Fc="https://8fdb-2409-40e6-2d-3b86-a0c1-15ef-a3da-83dd.ngrok-free.app";var tl;let Yv=(tl=class{},ut(tl,"StartupForm",async e=>{try{const n=await Dn.post(Fc+"/v1/startup/register",e);return console.log(n),n.data}catch(n){return console.log(n.data),n.data}}),ut(tl,"action",async e=>{try{console.log("approved");const n=await Dn.post(Fc+"v1/startup/action",e);return console.log(n),n.data}catch(n){return console.log(n.data),n.data}}),ut(tl,"delete",async e=>{try{return(await Dn.post(Fc+"/v1/startup/delete",e)).data}catch(n){return console.log(n.data),n.data}}),ut(tl,"login",async e=>{try{return(await Dn.post(Fc+"/user/signin/manufacturer",e)).data}catch(n){return console.log(n.data),n.data}}),ut(tl,"loginAdmin",async e=>{try{return(await Dn.post(Fc+"/user/signin/manufacturer",e)).data}catch(n){return console.log(n.data),n.data}}),ut(tl,"fetch",async e=>{try{return(await Dn.post(Fc+"/v1/kyc/add_other",e)).data}catch(n){return console.log(n.data),n.data}}),ut(tl,"fetchuser",async e=>{try{return(await Dn.get(Fc+"/user/all",{params:{role:"admin",id:e}})).data}catch(n){return console.log(n.data),n.data}}),ut(tl,"fetchproduct",async e=>{try{return(await Dn.get(Fc+"/product/products",{params:{role:"admin",id:e}})).data}catch(n){return console.log(n.data),n.data}}),ut(tl,"createUserAdd",async e=>{try{const n=await Dn.post(Fc+"/user/signup",e);return console.log(n),n.data}catch(n){return console.log(n.data),n.data}}),tl);function cl(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Md(t){return!!t&&!!t[Xr]}function au(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===Wie}(t)||Array.isArray(t)||!!t[J5]||!!(!((e=t.constructor)===null||e===void 0)&&e[J5])||t$(t)||n$(t))}function Kf(t,e,n){n===void 0&&(n=!1),Eg(t)===0?(n?Object.keys:Cm)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function Eg(t){var e=t[Xr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:t$(t)?2:n$(t)?3:0}function Sm(t,e){return Eg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Pie(t,e){return Eg(t)===2?t.get(e):t[e]}function KU(t,e,n){var r=Eg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function JU(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function t$(t){return zie&&t instanceof Map}function n$(t){return Uie&&t instanceof Set}function ff(t){return t.o||t.t}function r$(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ZU(t);delete e[Xr];for(var n=Cm(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function s$(t,e){return e===void 0&&(e=!1),i$(t)||Md(t)||!au(t)||(Eg(t)>1&&(t.set=t.add=t.clear=t.delete=Mie),Object.freeze(t),e&&Kf(t,function(n,r){return s$(r,!0)},!0)),t}function Mie(){cl(2)}function i$(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Zl(t){var e=FA[t];return e||cl(18,t),e}function Bie(t,e){FA[t]||(FA[t]=e)}function MA(){return Ry}function pT(t,e){e&&(Zl("Patches"),t.u=[],t.s=[],t.v=e)}function R_(t){BA(t),t.p.forEach(Lie),t.p=null}function BA(t){t===Ry&&(Ry=t.l)}function G5(t){return Ry={p:[],l:Ry,h:t,m:!0,_:0}}function Lie(t){var e=t[Xr];e.i===0||e.i===1?e.j():e.g=!0}function mT(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Zl("ES5").S(e,t,r),r?(n[Xr].P&&(R_(e),cl(4)),au(t)&&(t=O_(e,t),e.l||$_(e,t)),e.u&&Zl("Patches").M(n[Xr].t,t,e.u,e.s)):t=O_(e,n,[]),R_(e),e.u&&e.v(e.u,e.s),t!==QU?t:void 0}function O_(t,e,n){if(i$(e))return e;var r=e[Xr];if(!r)return Kf(e,function(o,l){return H5(t,r,e,o,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return $_(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=r$(r.k):r.o,i=s,a=!1;r.i===3&&(i=new Set(s),s.clear(),a=!0),Kf(i,function(o,l){return H5(t,r,s,o,l,n,a)}),$_(t,s,!1),n&&t.u&&Zl("Patches").N(r,n,t.u,t.s)}return r.o}function H5(t,e,n,r,s,i,a){if(Md(s)){var o=O_(t,s,i&&e&&e.i!==3&&!Sm(e.R,r)?i.concat(r):void 0);if(KU(n,r,o),!Md(o))return;t.m=!1}else a&&n.add(s);if(au(s)&&!i$(s)){if(!t.h.D&&t._<1)return;O_(t,s),e&&e.A.l||$_(t,s)}}function $_(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&s$(e,n)}function gT(t,e){var n=t[Xr];return(n?ff(n):t)[e]}function Y5(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Xu(t){t.P||(t.P=!0,t.l&&Xu(t.l))}function vT(t){t.o||(t.o=r$(t.t))}function LA(t,e,n){var r=t$(e)?Zl("MapSet").F(e,n):n$(e)?Zl("MapSet").T(e,n):t.O?function(s,i){var a=Array.isArray(s),o={i:a?1:0,A:i?i.A:MA(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},l=o,c=Oy;a&&(l=[o],c=xv);var u=Proxy.revocable(l,c),d=u.revoke,h=u.proxy;return o.k=h,o.j=d,h}(e,n):Zl("ES5").J(e,n);return(n?n.A:MA()).p.push(r),r}function Fie(t){return Md(t)||cl(22,t),function e(n){if(!au(n))return n;var r,s=n[Xr],i=Eg(n);if(s){if(!s.P&&(s.i<4||!Zl("ES5").K(s)))return s.t;s.I=!0,r=q5(n,i),s.I=!1}else r=q5(n,i);return Kf(r,function(a,o){s&&Pie(s.t,a)===o||KU(r,a,e(o))}),i===3?new Set(r):r}(t)}function q5(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return r$(t)}function jie(){function t(i,a){var o=s[i];return o?o.enumerable=a:s[i]=o={configurable:!0,enumerable:a,get:function(){var l=this[Xr];return Oy.get(l,i)},set:function(l){var c=this[Xr];Oy.set(c,i,l)}},o}function e(i){for(var a=i.length-1;a>=0;a--){var o=i[a][Xr];if(!o.P)switch(o.i){case 5:r(o)&&Xu(o);break;case 4:n(o)&&Xu(o)}}}function n(i){for(var a=i.t,o=i.k,l=Cm(o),c=l.length-1;c>=0;c--){var u=l[c];if(u!==Xr){var d=a[u];if(d===void 0&&!Sm(a,u))return!0;var h=o[u],p=h&&h[Xr];if(p?p.t!==d:!JU(h,d))return!0}}var m=!!a[Xr];return l.length!==Cm(a).length+(m?0:1)}function r(i){var a=i.k;if(a.length!==i.t.length)return!0;var o=Object.getOwnPropertyDescriptor(a,a.length-1);if(o&&!o.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var s={};Bie("ES5",{J:function(i,a){var o=Array.isArray(i),l=function(u,d){if(u){for(var h=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var m=ZU(d);delete m[Xr];for(var f=Cm(m),b=0;b<f.length;b++){var w=f[b];m[w]=t(w,u||!!m[w].enumerable)}return Object.create(Object.getPrototypeOf(d),m)}(o,i),c={i:o?5:4,A:a?a.A:MA(),P:!1,I:!1,R:{},l:a,t:i,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Xr,{value:c,writable:!0}),l},S:function(i,a,o){o?Md(a)&&a[Xr].A===i&&e(i.p):(i.u&&function l(c){if(c&&typeof c=="object"){var u=c[Xr];if(u){var d=u.t,h=u.k,p=u.R,m=u.i;if(m===4)Kf(h,function(C){C!==Xr&&(d[C]!==void 0||Sm(d,C)?p[C]||l(h[C]):(p[C]=!0,Xu(u)))}),Kf(d,function(C){h[C]!==void 0||Sm(h,C)||(p[C]=!1,Xu(u))});else if(m===5){if(r(u)&&(Xu(u),p.length=!0),h.length<d.length)for(var f=h.length;f<d.length;f++)p[f]=!1;else for(var b=d.length;b<h.length;b++)p[b]=!0;for(var w=Math.min(h.length,d.length),g=0;g<w;g++)h.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&l(h[g])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var X5,Ry,o$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",zie=typeof Map<"u",Uie=typeof Set<"u",K5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",QU=o$?Symbol.for("immer-nothing"):((X5={})["immer-nothing"]=!0,X5),J5=o$?Symbol.for("immer-draftable"):"__$immer_draftable",Xr=o$?Symbol.for("immer-state"):"__$immer_state",Wie=""+Object.prototype.constructor,Cm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ZU=Object.getOwnPropertyDescriptors||function(t){var e={};return Cm(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},FA={},Oy={get:function(t,e){if(e===Xr)return t;var n=ff(t);if(!Sm(n,e))return function(s,i,a){var o,l=Y5(i,a);return l?"value"in l?l.value:(o=l.get)===null||o===void 0?void 0:o.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!au(r)?r:r===gT(t.t,e)?(vT(t),t.o[e]=LA(t.A.h,r,t)):r},has:function(t,e){return e in ff(t)},ownKeys:function(t){return Reflect.ownKeys(ff(t))},set:function(t,e,n){var r=Y5(ff(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=gT(ff(t),e),i=s==null?void 0:s[Xr];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(JU(n,s)&&(n!==void 0||Sm(t.t,e)))return!0;vT(t),Xu(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return gT(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,vT(t),Xu(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ff(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){cl(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){cl(12)}},xv={};Kf(Oy,function(t,e){xv[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),xv.deleteProperty=function(t,e){return xv.set.call(this,t,e,void 0)},xv.set=function(t,e,n){return Oy.set.call(this,t[0],e,n,t[0])};var Vie=function(){function t(n){var r=this;this.O=K5,this.D=!0,this.produce=function(s,i,a){if(typeof s=="function"&&typeof i!="function"){var o=i;i=s;var l=r;return function(f){var b=this;f===void 0&&(f=o);for(var w=arguments.length,g=Array(w>1?w-1:0),C=1;C<w;C++)g[C-1]=arguments[C];return l.produce(f,function(k){var N;return(N=i).call.apply(N,[b,k].concat(g))})}}var c;if(typeof i!="function"&&cl(6),a!==void 0&&typeof a!="function"&&cl(7),au(s)){var u=G5(r),d=LA(r,s,void 0),h=!0;try{c=i(d),h=!1}finally{h?R_(u):BA(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(f){return pT(u,a),mT(f,u)},function(f){throw R_(u),f}):(pT(u,a),mT(c,u))}if(!s||typeof s!="object"){if((c=i(s))===void 0&&(c=s),c===QU&&(c=void 0),r.D&&s$(c,!0),a){var p=[],m=[];Zl("Patches").M(s,c,p,m),a(p,m)}return c}cl(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(c){for(var u=arguments.length,d=Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];return r.produceWithPatches(c,function(p){return s.apply(void 0,[p].concat(d))})};var a,o,l=r.produce(s,i,function(c,u){a=c,o=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,a,o]}):[l,a,o]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){au(n)||cl(8),Md(n)&&(n=Fie(n));var r=G5(this),s=LA(this,n,void 0);return s[Xr].C=!0,BA(r),s},e.finishDraft=function(n,r){var s=n&&n[Xr],i=s.A;return pT(i,r),mT(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!K5&&cl(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var a=Zl("Patches").$;return Md(n)?a(n,r):this.produce(n,function(o){return a(o,r)})},t}(),Jo=new Vie,e9=Jo.produce;Jo.produceWithPatches.bind(Jo);Jo.setAutoFreeze.bind(Jo);Jo.setUseProxies.bind(Jo);Jo.applyPatches.bind(Jo);Jo.createDraft.bind(Jo);Jo.finishDraft.bind(Jo);function $y(t){return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function Gie(t,e){if($y(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($y(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hie(t){var e=Gie(t,"string");return $y(e)==="symbol"?e:String(e)}function Yie(t,e,n){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Z5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(n),!0).forEach(function(r){Yie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var eL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),yT=function(){return Math.random().toString(36).substring(7).split("").join(".")},D_={INIT:"@@redux/INIT"+yT(),REPLACE:"@@redux/REPLACE"+yT(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yT()}};function qie(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function a$(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bi(1));return n(a$)(t,e)}if(typeof t!="function")throw new Error(bi(2));var s=t,i=e,a=[],o=a,l=!1;function c(){o===a&&(o=a.slice())}function u(){if(l)throw new Error(bi(3));return i}function d(f){if(typeof f!="function")throw new Error(bi(4));if(l)throw new Error(bi(5));var b=!0;return c(),o.push(f),function(){if(b){if(l)throw new Error(bi(6));b=!1,c();var g=o.indexOf(f);o.splice(g,1),a=null}}}function h(f){if(!qie(f))throw new Error(bi(7));if(typeof f.type>"u")throw new Error(bi(8));if(l)throw new Error(bi(9));try{l=!0,i=s(i,f)}finally{l=!1}for(var b=a=o,w=0;w<b.length;w++){var g=b[w];g()}return f}function p(f){if(typeof f!="function")throw new Error(bi(10));s=f,h({type:D_.REPLACE})}function m(){var f,b=d;return f={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(bi(11));function C(){g.next&&g.next(u())}C();var k=b(C);return{unsubscribe:k}}},f[eL]=function(){return this},f}return h({type:D_.INIT}),r={dispatch:h,subscribe:d,getState:u,replaceReducer:p},r[eL]=m,r}function Xie(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:D_.INIT});if(typeof r>"u")throw new Error(bi(12));if(typeof n(void 0,{type:D_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bi(13))})}function t9(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),a;try{Xie(n)}catch(o){a=o}return function(l,c){if(l===void 0&&(l={}),a)throw a;for(var u=!1,d={},h=0;h<i.length;h++){var p=i[h],m=n[p],f=l[p],b=m(f,c);if(typeof b>"u")throw c&&c.type,new Error(bi(14));d[p]=b,u=u||b!==f}return u=u||i.length!==Object.keys(l).length,u?d:l}}function P_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function Kie(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(bi(15))},a={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=e.map(function(l){return l(a)});return i=P_.apply(void 0,o)(s.dispatch),Z5(Z5({},s),{},{dispatch:i})}}}function n9(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(a){return function(o){return typeof o=="function"?o(s,i,t):a(o)}}};return e}var r9=n9();r9.withExtraArgument=n9;const tL=r9;var s9=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jie=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Xm=function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},Qie=Object.defineProperty,Zie=Object.defineProperties,eoe=Object.getOwnPropertyDescriptors,nL=Object.getOwnPropertySymbols,toe=Object.prototype.hasOwnProperty,noe=Object.prototype.propertyIsEnumerable,rL=function(t,e,n){return e in t?Qie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},_d=function(t,e){for(var n in e||(e={}))toe.call(e,n)&&rL(t,n,e[n]);if(nL)for(var r=0,s=nL(e);r<s.length;r++){var n=s[r];noe.call(e,n)&&rL(t,n,e[n])}return t},bT=function(t,e){return Zie(t,eoe(e))},roe=function(t,e,n){return new Promise(function(r,s){var i=function(l){try{o(n.next(l))}catch(c){s(c)}},a=function(l){try{o(n.throw(l))}catch(c){s(c)}},o=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(i,a)};o((n=n.apply(t,e)).next())})},soe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?P_:P_.apply(null,arguments)};function ioe(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var ooe=function(t){s9(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Xm([void 0],n[0].concat(this)))):new(e.bind.apply(e,Xm([void 0],n.concat(this))))},e}(Array),aoe=function(t){s9(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Xm([void 0],n[0].concat(this)))):new(e.bind.apply(e,Xm([void 0],n.concat(this))))},e}(Array);function jA(t){return au(t)?e9(t,function(){}):t}function loe(t){return typeof t=="boolean"}function coe(){return function(e){return uoe(e)}}function uoe(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new ooe;return n&&(loe(n)?r.push(tL):r.push(tL.withExtraArgument(n.extraArgument))),r}var doe=!0;function hoe(t){var e=coe(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,a=i===void 0?e():i,o=n.devTools,l=o===void 0?!0:o,c=n.preloadedState,u=c===void 0?void 0:c,d=n.enhancers,h=d===void 0?void 0:d,p;if(typeof s=="function")p=s;else if(ioe(s))p=t9(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=a;typeof m=="function"&&(m=m(e));var f=Kie.apply(void 0,m),b=P_;l&&(b=soe(_d({trace:!doe},typeof l=="object"&&l)));var w=new aoe(f),g=w;Array.isArray(h)?g=Xm([f],h):typeof h=="function"&&(g=h(w));var C=b.apply(void 0,g);return a$(p,u,C)}function Sd(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return _d(_d({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function i9(t){var e={},n=[],r,s={addCase:function(i,a){var o=typeof i=="string"?i:i.type;if(o in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[o]=a,s},addMatcher:function(i,a){return n.push({matcher:i,reducer:a}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function foe(t){return typeof t=="function"}function poe(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?i9(e):[e,n,r],i=s[0],a=s[1],o=s[2],l;if(foe(t))l=function(){return jA(t())};else{var c=jA(t);l=function(){return c}}function u(d,h){d===void 0&&(d=l());var p=Xm([i[h.type]],a.filter(function(m){var f=m.matcher;return f(h)}).map(function(m){var f=m.reducer;return f}));return p.filter(function(m){return!!m}).length===0&&(p=[o]),p.reduce(function(m,f){if(f)if(Md(m)){var b=m,w=f(b,h);return w===void 0?m:w}else{if(au(m))return e9(m,function(g){return f(g,h)});var w=f(m,h);if(w===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}return m},d)}return u.getInitialState=l,u}function moe(t,e){return t+"/"+e}function SC(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:jA(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},a={},o={};s.forEach(function(u){var d=r[u],h=moe(e,u),p,m;"reducer"in d?(p=d.reducer,m=d.prepare):p=d,i[u]=p,a[h]=p,o[u]=m?Sd(h,m):Sd(h)});function l(){var u=typeof t.extraReducers=="function"?i9(t.extraReducers):[t.extraReducers],d=u[0],h=d===void 0?{}:d,p=u[1],m=p===void 0?[]:p,f=u[2],b=f===void 0?void 0:f,w=_d(_d({},h),a);return poe(n,function(g){for(var C in w)g.addCase(C,w[C]);for(var k=0,N=m;k<N.length;k++){var A=N[k];g.addMatcher(A.matcher,A.reducer)}b&&g.addDefaultCase(b)})}var c;return{name:e,reducer:function(u,d){return c||(c=l()),c(u,d)},actions:o,caseReducers:i,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var goe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",voe=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=goe[Math.random()*64|0];return e},yoe=["name","message","stack","code"],xT=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),sL=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),boe=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=yoe;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=Sd(e+"/fulfilled",function(c,u,d,h){return{payload:c,meta:bT(_d({},h||{}),{arg:d,requestId:u,requestStatus:"fulfilled"})}}),i=Sd(e+"/pending",function(c,u,d){return{payload:void 0,meta:bT(_d({},d||{}),{arg:u,requestId:c,requestStatus:"pending"})}}),a=Sd(e+"/rejected",function(c,u,d,h,p){return{payload:h,error:(r&&r.serializeError||boe)(c||"Rejected"),meta:bT(_d({},p||{}),{arg:d,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),o=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(u,d,h){var p=r!=null&&r.idGenerator?r.idGenerator(c):voe(),m=new o,f;function b(g){f=g,m.abort()}var w=function(){return roe(this,null,function(){var g,C,k,N,A,O,R;return Jie(this,function($){switch($.label){case 0:return $.trys.push([0,4,,5]),N=(g=r==null?void 0:r.condition)==null?void 0:g.call(r,c,{getState:d,extra:h}),woe(N)?[4,N]:[3,2];case 1:N=$.sent(),$.label=2;case 2:if(N===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return A=new Promise(function(D,B){return m.signal.addEventListener("abort",function(){return B({name:"AbortError",message:f||"Aborted"})})}),u(i(p,c,(C=r==null?void 0:r.getPendingMeta)==null?void 0:C.call(r,{requestId:p,arg:c},{getState:d,extra:h}))),[4,Promise.race([A,Promise.resolve(n(c,{dispatch:u,getState:d,extra:h,requestId:p,signal:m.signal,abort:b,rejectWithValue:function(D,B){return new xT(D,B)},fulfillWithValue:function(D,B){return new sL(D,B)}})).then(function(D){if(D instanceof xT)throw D;return D instanceof sL?s(D.payload,p,c,D.meta):s(D,p,c)})])];case 3:return k=$.sent(),[3,5];case 4:return O=$.sent(),k=O instanceof xT?a(null,p,c,O.payload,O.meta):a(O,p,c),[3,5];case 5:return R=r&&!r.dispatchConditionRejection&&a.match(k)&&k.meta.condition,R||u(k),[2,k]}})})}();return Object.assign(w,{abort:b,requestId:p,arg:c,unwrap:function(){return w.then(xoe)}})}}return Object.assign(l,{pending:i,rejected:a,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function xoe(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function woe(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var l$="listenerMiddleware";Sd(l$+"/add");Sd(l$+"/removeAll");Sd(l$+"/remove");var iL;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);jie();const oL={admin:"guest Admin",token:"",isAuthenticated:!1},o9=SC({name:"authAdmin",initialState:oL,reducers:{LOGOUTADMIN:()=>oL,LOGINADMIN:(t,e)=>{console.log("action admin"),console.log(e),t.admin=e.payload.id,t.adminName=e.payload.Name,t.adminType=e.payload.User_Type,t.adminToken=e.payload.accessToken,t.isAdminAuthenticated=!0},CURRENTCHAINADMIN:(t,e)=>{t.chain=e.payload}}}),{LOGINADMIN:a9,LOGOUTADMIN:_oe,CURRENTCHAINADMIN:u4e}=o9.actions,Soe=o9.reducer;function Coe(){const t=Qi(),[e,n]=Q.useState(""),[r,s]=Q.useState({}),i=bp();async function a(o){o.preventDefault();const l={id:r.id,password:r.password},c=await Yv.login(l);console.log("data"),console.log(c),c.message==="Success"&&(console.log("response.data"),console.log(c.data),i(a9(c.data)),t("/admin"),lr.success("Login Success!"))}return S.jsx("section",{className:"login-register",children:S.jsxs("div",{className:"login-box",children:[e!==""&&S.jsx(qf,{variant:"danger",children:e}),S.jsxs("div",{className:"white-box",children:[S.jsx("div",{className:"text-center"}),S.jsxs(Mt,{onSubmit:a,children:[S.jsx(Mt.Group,{children:S.jsx(Mt.Control,{type:"text",placeholder:"UserId",name:"email",onChange:o=>s({...r,id:o.target.value}),required:!0})}),S.jsx(Mt.Group,{children:S.jsx(Mt.Control,{type:"password",placeholder:"Password",name:"password",onChange:o=>s({...r,password:o.target.value}),required:!0})}),S.jsx(Mt.Group,{children:S.jsx(dn,{type:"submit",variant:"info",block:!0,children:"Login"})}),S.jsx("div",{className:"form-group btn btn-danger text-center m-t-20",onClick:o=>{t("/")},children:"Go Back"})]})]})]})})}const aL={user:"guest user",token:"",isAuthenticated:!1},l9=SC({name:"authUser",initialState:aL,reducers:{LOGOUTUSER:()=>aL,LOGINUSER:(t,e)=>{console.log("action user"),console.log(e),t.user=e.payload.id,t.userName=e.payload.Name,t.userType=e.payload.User_Type,t.userToken=e.payload.accessToken,t.profilePic=e.payload.profilePic,t.inventory=e.payload.inventory,t.isUserAuthenticated=!0},CURRENTCHAINUSER:(t,e)=>{t.chain=e.payload}}}),{LOGINUSER:koe,LOGOUTUSER:Eoe,CURRENTCHAINUSER:Toe}=l9.actions,Ioe=l9.reducer,lL={cartItems:[]},c9=SC({name:"cart",initialState:lL,reducers:{ADD_ITEM:(t,e)=>{t.cartItems.find(r=>r.id===e.payload.id)?t.cartItems=t.cartItems.map(r=>r.id===e.payload.id?{...r,quantity:r.quantity+1}:r):t.cartItems=[...t.cartItems,{...e.payload,quantity:1}]},REMOVE_ITEM:(t,e)=>{t.cartItems=t.cartItems.filter(n=>n.id!==e.payload.id)},UPDATE_QUANTITY:(t,e)=>{t.cartItems=t.cartItems.map(n=>n.id===e.payload.id?{...n,quantity:e.payload.quantity}:n)},INCREASE_QUANTITY:(t,e)=>{t.cartItems=t.cartItems.map(n=>n.id===e.payload.id?{...n,quantity:n.quantity+1}:n)},DECREASE_QUANTITY:(t,e)=>{t.cartItems=t.cartItems.map(n=>n.id===e.payload.id?{...n,quantity:n.quantity-1}:n)},CLEAR_CART:()=>lL}}),{ADD_ITEM:Aoe,REMOVE_ITEM:Noe,UPDATE_QUANTITY:d4e,DECREASE_QUANTITY:Roe,INCREASE_QUANTITY:Ooe,CLEAR_CART:u9}=c9.actions,$oe=c9.reducer;function Doe(){const t=Qi(),[e,n]=Q.useState({}),r=bp(),[s,i]=Q.useState("");async function a(o){o.preventDefault();const l={id:e.id,password:e.password},c=await Yv.login(l);console.log("data"),console.log(c),c.message==="Success"&&(lr.success("Login Success"),r(koe(c.data)),r(u9()),t("/user"))}return S.jsx("section",{className:"login-register",children:S.jsxs("div",{className:"login-box",children:[s!==""&&S.jsx(qf,{variant:"danger",children:s}),S.jsxs("div",{className:"white-box",children:[S.jsx("div",{className:"text-center"}),S.jsxs(Mt,{onSubmit:a,children:[S.jsx(Mt.Group,{children:S.jsx(Mt.Control,{type:"text",placeholder:"User id",name:"email",onChange:o=>n({...e,id:o.target.value}),required:!0})}),S.jsx(Mt.Group,{children:S.jsx(Mt.Control,{type:"password",placeholder:"Password",name:"password",onChange:o=>n({...e,password:o.target.value}),required:!0})}),S.jsx(Mt.Group,{children:S.jsx(dn,{type:"submit",variant:"info",block:!0,children:"Login"})}),S.jsx("div",{className:"form-group btn btn-danger text-center m-t-20",onClick:o=>{t("/")},children:"Go Back"})]})]})]})})}const Poe=()=>S.jsxs("div",{children:[S.jsxs("form",{action:"",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",children:"Email"}),S.jsx("input",{type:"text",name:"email",id:"email"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"passw",children:"Password"}),S.jsx("input",{type:"text",name:"passw",id:"passw"})]}),S.jsx("button",{type:"submit",children:"Signup"})]}),"	"]}),Moe=()=>S.jsx("div",{children:S.jsxs(Mt,{children:[S.jsxs(Mt.Group,{className:"mb-3",controlId:"formBasicEmail",children:[S.jsx(Mt.Label,{children:"Email address"}),S.jsx(Mt.Control,{type:"email",placeholder:"Enter email"}),S.jsx(Mt.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),S.jsxs(Mt.Group,{className:"mb-3",controlId:"formBasicPassword",children:[S.jsx(Mt.Label,{children:"Password"}),S.jsx(Mt.Control,{type:"password",placeholder:"Password"})]}),S.jsx(Mt.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:S.jsx(Mt.Check,{type:"checkbox",label:"Check me out"})}),S.jsx(dn,{variant:"primary",type:"submit",children:"Submit"})]})});const Z0="/assets/verified-4159e3e9.jpg",Boe="/assets/orange-71443fa2.jpg",Loe=()=>{var ot;const t=yl(Je=>Je),[e]=Q.useState((ot=t.authUser)==null?void 0:ot.chain),[n,r]=Q.useState(null),[s,i]=Q.useState(null),[a,o]=Q.useState(null),[l,c]=Q.useState(null);Q.useState(null),Q.useState(null);const[u,d]=Q.useState(null),[h,p]=Q.useState(null);Q.useState(null);const[m,f]=Q.useState(null);Q.useState("");const[b,w]=Q.useState(""),[g,C]=Q.useState(""),[k,N]=Q.useState("");Q.useState("");const[A,O]=Q.useState("");Q.useState("");const[R,$]=Q.useState(""),[D,B]=Q.useState(""),[M,z]=Q.useState(""),[W,V]=Q.useState(""),[q,H]=Q.useState(""),[K,F]=Q.useState(""),[ie,de]=Q.useState(""),[ee,J]=Q.useState(""),[ae,ue]=Q.useState("");Q.useEffect(()=>{Ee()},[]);async function le(Je){const Le=new Date(Je*1e3),dt={timeZone:"Asia/Kolkata",timeZoneName:"short"};return Le.toLocaleString("en-US",dt)}const Ee=()=>{e.producer.id&&ze(),e.exporter.id&&Pe(),e.importer.id&&Ke(),e.inspector.id&&buildInspectoionData(),e.invoice.id&&We(),e.logistic.id&&Ye()};async function ze(){const Je=await le(e.product.production_date);o(e.id),c(Je),r(e.producer.status)}async function Pe(){const Je=await le(e.exporter.export_data.exportation_date);p(e.exporter.id),d(e.exporter.export_data.packagingType),f(Je),w(e.exporter.export_data.quantityPerPackage),r(e.exporter.status)}async function Ke(){const Je=await le(e.product.import_date);C(e.id),N(Je),r(e.importer.status)}async function Ye(){const Je=await le(e.product.import_date),Le=await le(e.logistic.logistics_data.delivery_date),dt=await le(e.logistic.logistics_data.pickup_date);O(e.logistic.id),N(Je),$(e.logistic.logistics_data.date),B(Le),z(e.logistic.logistics_data.delivery_type),V(e.logistic.logistics_data.expected_delivery_date),H(dt),F(e.logistic.logistics_data.tracking_id),de(e.logistic.logistics_data.transport_method),r(e.logistic.status)}async function We(){const Je=await le(e.product.production_date);J(e.id),ue(Je),r(e.producer.status)}return S.jsxs("div",{className:"container-fluid",children:[S.jsxs("div",{className:"row bg-title",children:[S.jsxs("div",{className:"col-lg-6 col-md-4 col-sm-4 col-xs-12",children:[S.jsxs("h3",{className:"page-title",children:["Batch Progress",S.jsxs("a",{className:"text-info",href:"javascript:void(0);",onClick:()=>window.print(),title:"Print Page Report",children:[S.jsx("i",{className:"fa fa-print"})," Print"]})]}),S.jsxs("h4",{children:[S.jsx("b",{children:"Batch No: "}),s]})]}),S.jsx("div",{className:"col-lg-6 col-sm-8 col-md-8 col-xs-12"})]}),S.jsx("div",{className:"row",children:S.jsx("div",{className:"col-md-12",children:S.jsx("div",{className:"white-box",children:S.jsxs("ul",{className:"timeline",children:[S.jsxs("li",{children:[S.jsx("div",{className:e.producer.id?"timeline-badge success":"timeline-badge danger",children:S.jsx("i",{className:e.producer.id?"fa fa-check":"fa fa-times"})}),S.jsxs("div",{className:"timeline-panel",id:"cultivationSection",children:[S.jsxs("div",{className:"timeline-heading",children:[S.jsx("h4",{className:"timeline-title",children:"Cultivation"}),S.jsx("p",{children:S.jsx("small",{className:"text-muted text-success activityDateTime"})}),S.jsx("span",{className:"activityQrCode"})]}),S.jsx("div",{className:"timeline-body",children:S.jsx("table",{className:"table activityData table-responsive",id:"cultivatorTable",children:e.producer.id?S.jsxs(S.Fragment,{children:[S.jsx("tr",{children:S.jsxs("td",{children:["batchId: ",a," "]})}),S.jsx("tr",{children:S.jsxs("td",{children:["Cultivated Time:",l]})}),S.jsx("tr",{children:S.jsx("td",{children:S.jsx("img",{src:Z0,className:"img-circle pull-right w-16 h-18",alt:"Verified"})})})]}):S.jsx("tr",{children:S.jsx("td",{colSpan:"2",children:S.jsx("p",{children:"Information Not Available"})})})})}),S.jsx("div",{className:"verifiedImg"})]})]}),S.jsxs("li",{className:"timeline-inverted",children:[S.jsx("div",{className:e.producer.id?"timeline-badge success":"timeline-badge danger",children:S.jsx("i",{className:e.producer.id?"fa fa-check":"fa fa-times"})}),S.jsxs("div",{className:"timeline-panel",id:"farmInspectionSection",children:[S.jsxs("div",{className:"timeline-heading",children:[S.jsx("h4",{className:"timeline-title",children:"Quality Check"}),S.jsx("p",{children:S.jsx("small",{className:"text-muted text-danger activityDateTime"})}),S.jsx("span",{className:"activityQrCode"})]}),S.jsx("div",{className:"timeline-body",children:S.jsx("table",{className:"table activityData table-responsive",id:"cultivatorTable",children:e.producer.id?S.jsxs(S.Fragment,{children:[S.jsx("tr",{children:S.jsxs("td",{children:["Inspection time:",l]})}),S.jsx("tr",{children:S.jsxs("td",{children:["Inspection Result:","99.8% fresh"]})}),S.jsx("tr",{children:S.jsx("td",{className:"w-16 h-18",children:S.jsx("img",{src:Boe,className:"img-circle pull-right w-16 h-18",alt:"Verified"})})}),S.jsx("tr",{children:S.jsx("td",{children:S.jsx("img",{src:Z0,className:"img-circle pull-right w-16 h-18",alt:"Verified"})})})]}):S.jsx("tr",{children:S.jsx("td",{colSpan:"2",children:S.jsx("p",{children:"Information Not Available"})})})})}),S.jsx("div",{className:"verifiedImg"})]})]}),S.jsxs("li",{children:[S.jsx("div",{className:e.exporter.id?"timeline-badge success":"timeline-badge danger",children:S.jsx("i",{className:e.producer.id?"fa fa-check":"fa fa-times"})}),S.jsxs("div",{className:"timeline-panel",id:"packingSection",children:[S.jsxs("div",{className:"timeline-heading",children:[S.jsx("h4",{className:"timeline-title",children:"Packing"}),S.jsx("p",{children:S.jsx("small",{className:"text-muted text-success activityDateTime"})}),S.jsx("span",{className:"activityQrCode"})]}),S.jsx("div",{className:"timeline-body",children:S.jsx("table",{className:"table activityData table-responsive",id:"cultivatorTable",children:e.exporter.id?S.jsxs(S.Fragment,{children:[S.jsx("tr",{children:S.jsxs("td",{children:["Quantity: ",b]})}),S.jsx("tr",{children:S.jsxs("td",{children:["Packaging Type: ",u]})}),S.jsx("tr",{children:S.jsx("td",{children:S.jsx("img",{src:Z0,className:"img-circle pull-right w-16 h-18",alt:"Verified"})})})]}):S.jsx("tr",{children:S.jsx("td",{colSpan:"2",children:S.jsx("p",{children:"Information Not Available"})})})})}),S.jsx("div",{className:"verifiedImg"})]})]}),S.jsxs("li",{className:"timeline-inverted",children:[S.jsx("div",{className:e.logistic.id?"timeline-badge success":"timeline-badge danger",children:S.jsx("i",{className:e.logistic.id?"fa fa-check":"fa fa-times"})}),S.jsxs("div",{className:"timeline-panel",id:"transportationSection",children:[S.jsxs("div",{className:"timeline-heading",children:[S.jsx("h4",{className:"timeline-title",children:"Transportation"}),S.jsx("p",{children:S.jsx("small",{className:"text-muted text-danger activityDateTime"})}),S.jsx("span",{className:"activityQrCode"})]}),S.jsx("div",{className:"timeline-body",children:S.jsx("table",{className:"table activityData table-responsive",id:"cultivatorTable",children:e.logistic.id?S.jsxs(S.Fragment,{children:[S.jsx("tr",{children:S.jsxs("td",{children:["Pickup: ",q]})}),S.jsx("tr",{children:S.jsxs("td",{children:["Logistic ID: ",A]})}),S.jsx("tr",{children:S.jsxs("td",{children:["Pickup Date: ",q]})}),S.jsx("tr",{children:S.jsxs("td",{children:["Tracking ID: ",K]})}),S.jsx("tr",{children:S.jsxs("td",{children:["Transport Method: ",ie]})}),S.jsx("tr",{children:S.jsxs("td",{children:["Batch Status: ",n]})}),S.jsx("tr",{children:S.jsx("td",{children:S.jsx("img",{src:Z0,className:"img-circle pull-left w-16 h-18",alt:"Verified"})})})]}):S.jsx("tr",{children:S.jsx("td",{colSpan:"2",children:S.jsx("p",{children:"Information Not Available"})})})})}),S.jsx("div",{className:"verifiedImg"})]})]}),S.jsxs("li",{children:[S.jsx("div",{className:e.logistic.id?"timeline-badge success":"timeline-badge danger",children:S.jsx("i",{className:e.logistic.id?"fa fa-check":"fa fa-times"})}),S.jsxs("div",{className:"timeline-panel",id:"deliverySection",children:[S.jsxs("div",{className:"timeline-heading",children:[S.jsx("h4",{className:"timeline-title",children:"Delivery"}),S.jsx("p",{children:S.jsx("small",{className:"text-muted text-danger activityDateTime"})}),S.jsx("span",{className:"activityQrCode"})]}),S.jsx("div",{className:"timeline-body",children:S.jsx("table",{className:"table activityData table-responsive",id:"cultivatorTable",children:e.logistic.id?S.jsxs(S.Fragment,{children:[S.jsx("tr",{children:S.jsxs("td",{children:["Expected Delivery Date: ",W]})}),S.jsx("tr",{children:S.jsxs("td",{children:["Delivery Date: ",D]})}),S.jsx("tr",{children:S.jsxs("td",{children:["Delivery Type: ",M]})}),S.jsx("tr",{children:S.jsx("td",{children:S.jsx("img",{src:Z0,className:"img-circle pull-left",alt:"Verified"})})})]}):S.jsx("tr",{children:S.jsx("td",{colSpan:"2",children:S.jsx("p",{children:"Information Not Available"})})})})}),S.jsx("div",{className:"verifiedImg"})]})]}),S.jsxs("li",{className:"timeline-inverted",children:[S.jsx("div",{className:"timeline-badge danger",children:S.jsx("i",{className:"fa fa-times"})}),S.jsxs("div",{className:"timeline-panel",id:"marketingSection",children:[S.jsxs("div",{className:"timeline-heading",children:[S.jsx("h4",{className:"timeline-title",children:"Marketing"}),S.jsx("p",{children:S.jsx("small",{className:"text-muted text-danger activityDateTime"})}),S.jsx("span",{className:"activityQrCode"})]}),S.jsx("div",{className:"timeline-body",children:S.jsx("table",{className:"table activityData table-responsive",id:"marketingTable",children:S.jsx("tr",{children:S.jsx("td",{colSpan:"2",children:S.jsx("p",{children:"Information Not Available"})})})})}),S.jsx("div",{className:"verifiedImg"})]})]}),S.jsxs("li",{children:[S.jsx("div",{className:"timeline-badge danger",children:S.jsx("i",{className:"fa fa-times"})}),S.jsxs("div",{className:"timeline-panel",id:"distributionSection",children:[S.jsxs("div",{className:"timeline-heading",children:[S.jsx("h4",{className:"timeline-title",children:"Distribution"}),S.jsx("p",{children:S.jsx("small",{className:"text-muted text-danger activityDateTime"})}),S.jsx("span",{className:"activityQrCode"})]}),S.jsx("div",{className:"timeline-body",children:S.jsx("table",{className:"table activityData table-responsive",id:"distributionTable",children:S.jsx("tr",{children:S.jsx("td",{colSpan:"2",children:S.jsx("p",{children:"Information Not Available"})})})})}),S.jsx("div",{className:"verifiedImg"})]})]})]})})})})]})};var d9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cL=sn.createContext&&sn.createContext(d9),Cd=function(){return Cd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Cd.apply(this,arguments)},Foe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function h9(t){return t&&t.map(function(e,n){return sn.createElement(e.tag,Cd({key:n},e.attr),h9(e.child))})}function eh(t){return function(e){return sn.createElement(joe,Cd({attr:Cd({},t.attr)},e),h9(t.child))}}function joe(t){var e=function(n){var r=t.attr,s=t.size,i=t.title,a=Foe(t,["attr","size","title"]),o=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),sn.createElement("svg",Cd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Cd(Cd({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&sn.createElement("title",null,i),t.children)};return cL!==void 0?sn.createElement(cL.Consumer,null,function(n){return e(n)}):e(d9)}function zoe(t){return eh({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]})(t)}function uL(t){return eh({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]})(t)}var M_={},Uoe={get exports(){return M_},set exports(t){M_=t}},B_={},Woe={get exports(){return B_},set exports(t){B_=t}};(function(t,e){(function(n,r){r(e,Q)})(Sl,function(n,r){function s(j,Z,ne,se,ye,he,we){try{var qe=j[he](we),Xe=qe.value}catch(Qe){return void ne(Qe)}qe.done?Z(Xe):Promise.resolve(Xe).then(se,ye)}function i(j){return function(){var Z=this,ne=arguments;return new Promise(function(se,ye){var he=j.apply(Z,ne);function we(Xe){s(he,se,ye,we,qe,"next",Xe)}function qe(Xe){s(he,se,ye,we,qe,"throw",Xe)}we(void 0)})}}function a(){return(a=Object.assign||function(j){for(var Z=1;Z<arguments.length;Z++){var ne=arguments[Z];for(var se in ne)Object.prototype.hasOwnProperty.call(ne,se)&&(j[se]=ne[se])}return j}).apply(this,arguments)}function o(j,Z){if(j==null)return{};var ne,se,ye={},he=Object.keys(j);for(se=0;se<he.length;se++)ne=he[se],Z.indexOf(ne)>=0||(ye[ne]=j[ne]);return ye}function l(j){var Z=function(ne,se){if(typeof ne!="object"||ne===null)return ne;var ye=ne[Symbol.toPrimitive];if(ye!==void 0){var he=ye.call(ne,se||"default");if(typeof he!="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return(se==="string"?String:Number)(ne)}(j,"string");return typeof Z=="symbol"?Z:String(Z)}r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var c={init:"init"},u=function(j){var Z=j.value;return Z===void 0?"":Z},d=function(){return r.createElement(r.Fragment,null,"")},h={Cell:u,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function p(){for(var j=arguments.length,Z=new Array(j),ne=0;ne<j;ne++)Z[ne]=arguments[ne];return Z.reduce(function(se,ye){var he=ye.style,we=ye.className;return se=a({},se,{},o(ye,["style","className"])),he&&(se.style=se.style?a({},se.style||{},{},he||{}):he),we&&(se.className=se.className?se.className+" "+we:we),se.className===""&&delete se.className,se},{})}var m=function(j,Z){return Z===void 0&&(Z={}),function(ne){return ne===void 0&&(ne={}),[].concat(j,[ne]).reduce(function(se,ye){return function he(we,qe,Xe){return typeof qe=="function"?he({},qe(we,Xe)):Array.isArray(qe)?p.apply(void 0,[we].concat(qe)):p(we,qe)}(se,ye,a({},Z,{userProps:ne}))},{})}},f=function(j,Z,ne,se){return ne===void 0&&(ne={}),j.reduce(function(ye,he){return he(ye,ne)},Z)},b=function(j,Z,ne){return ne===void 0&&(ne={}),j.forEach(function(se){se(Z,ne)})};function w(j,Z,ne,se){j.findIndex(function(ye){return ye.pluginName===ne}),Z.forEach(function(ye){j.findIndex(function(he){return he.pluginName===ye})})}function g(j,Z){return typeof j=="function"?j(Z):j}function C(j){var Z=r.useRef();return Z.current=j,r.useCallback(function(){return Z.current},[])}var k=typeof document<"u"?r.useLayoutEffect:r.useEffect;function N(j,Z){var ne=r.useRef(!1);k(function(){ne.current&&j(),ne.current=!0},Z)}function A(j,Z,ne){return ne===void 0&&(ne={}),function(se,ye){ye===void 0&&(ye={});var he=typeof se=="string"?Z[se]:se;if(he===void 0)throw console.info(Z),new Error("Renderer Error ");return O(he,a({},j,{column:Z},ne,{},ye))}}function O(j,Z){return function(se){return typeof se=="function"&&(ye=Object.getPrototypeOf(se)).prototype&&ye.prototype.isReactComponent;var ye}(ne=j)||typeof ne=="function"||function(se){return typeof se=="object"&&typeof se.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(se.$$typeof.description)}(ne)?r.createElement(j,Z):j;var ne}function R(j,Z,ne){return ne===void 0&&(ne=0),j.map(function(se){return D(se=a({},se,{parent:Z,depth:ne})),se.columns&&(se.columns=R(se.columns,se,ne+1)),se})}function $(j){return q(j,"columns")}function D(j){var Z=j.id,ne=j.accessor,se=j.Header;if(typeof ne=="string"){Z=Z||ne;var ye=ne.split(".");ne=function(he){return function(we,qe,Xe){if(!qe)return we;var Qe,xt=typeof qe=="function"?qe:JSON.stringify(qe),gt=z.get(xt)||function(){var xe=function(it){return function vt(It,Ot){if(Ot===void 0&&(Ot=[]),Array.isArray(It))for(var Vt=0;Vt<It.length;Vt+=1)vt(It[Vt],Ot);else Ot.push(It);return Ot}(it).map(function(vt){return String(vt).replace(".","_")}).join(".").replace(ee,".").replace(J,"").split(".")}(qe);return z.set(xt,xe),xe}();try{Qe=gt.reduce(function(xe,it){return xe[it]},we)}catch{}return Qe!==void 0?Qe:Xe}(he,ye)}}if(!Z&&typeof se=="string"&&se&&(Z=se),!Z&&j.columns)throw console.error(j),new Error('A column ID (or unique "Header" value) is required!');if(!Z)throw console.error(j),new Error("A column ID (or string accessor) is required!");return Object.assign(j,{id:Z,accessor:ne}),j}function B(j,Z){if(!Z)throw new Error;return Object.assign(j,a({Header:d,Footer:d},h,{},Z,{},j)),Object.assign(j,{originalWidth:j.width}),j}function M(j,Z,ne){ne===void 0&&(ne=function(){return{}});for(var se=[],ye=j,he=0,we=function(){return he++},qe=function(){var Xe={headers:[]},Qe=[],xt=ye.some(function(gt){return gt.parent});ye.forEach(function(gt){var xe,it=[].concat(Qe).reverse()[0];xt&&(gt.parent?xe=a({},gt.parent,{originalId:gt.parent.id,id:gt.parent.id+"_"+we(),headers:[gt]},ne(gt)):xe=B(a({originalId:gt.id+"_placeholder",id:gt.id+"_placeholder_"+we(),placeholderOf:gt,headers:[gt]},ne(gt)),Z),it&&it.originalId===xe.originalId?it.headers.push(gt):Qe.push(xe)),Xe.headers.push(gt)}),se.push(Xe),ye=Qe};ye.length;)qe();return se.reverse()}var z=new Map;function W(){for(var j=arguments.length,Z=new Array(j),ne=0;ne<j;ne++)Z[ne]=arguments[ne];for(var se=0;se<Z.length;se+=1)if(Z[se]!==void 0)return Z[se]}function V(j){if(typeof j=="function")return j}function q(j,Z){var ne=[];return function se(ye){ye.forEach(function(he){he[Z]?se(he[Z]):ne.push(he)})}(j),ne}function H(j,Z){var ne=Z.manualExpandedKey,se=Z.expanded,ye=Z.expandSubRows,he=ye===void 0||ye,we=[];return j.forEach(function(qe){return function Xe(Qe,xt){xt===void 0&&(xt=!0),Qe.isExpanded=Qe.original&&Qe.original[ne]||se[Qe.id],Qe.canExpand=Qe.subRows&&!!Qe.subRows.length,xt&&we.push(Qe),Qe.subRows&&Qe.subRows.length&&Qe.isExpanded&&Qe.subRows.forEach(function(gt){return Xe(gt,he)})}(qe)}),we}function K(j,Z,ne){return V(j)||Z[j]||ne[j]||ne.text}function F(j,Z,ne){return j?j(Z,ne):Z===void 0}function ie(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var de=null,ee=/\[/g,J=/\]/g,ae=function(j){return a({role:"table"},j)},ue=function(j){return a({role:"rowgroup"},j)},le=function(j,Z){var ne=Z.column;return a({key:"header_"+ne.id,colSpan:ne.totalVisibleHeaderCount,role:"columnheader"},j)},Ee=function(j,Z){var ne=Z.column;return a({key:"footer_"+ne.id,colSpan:ne.totalVisibleHeaderCount},j)},ze=function(j,Z){return a({key:"headerGroup_"+Z.index,role:"row"},j)},Pe=function(j,Z){return a({key:"footerGroup_"+Z.index},j)},Ke=function(j,Z){return a({key:"row_"+Z.row.id,role:"row"},j)},Ye=function(j,Z){var ne=Z.cell;return a({key:"cell_"+ne.row.id+"_"+ne.column.id,role:"cell"},j)};function We(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[ae],getTableBodyProps:[ue],getHeaderGroupProps:[ze],getFooterGroupProps:[Pe],getHeaderProps:[le],getFooterProps:[Ee],getRowProps:[Ke],getCellProps:[Ye],useFinalInstance:[]}}c.resetHiddenColumns="resetHiddenColumns",c.toggleHideColumn="toggleHideColumn",c.setHiddenColumns="setHiddenColumns",c.toggleHideAllColumns="toggleHideAllColumns";var ot=function(j){j.getToggleHiddenProps=[Je],j.getToggleHideAllColumnsProps=[Le],j.stateReducers.push(dt),j.useInstanceBeforeDimensions.push(Ct),j.headerGroupsDeps.push(function(Z,ne){var se=ne.instance;return[].concat(Z,[se.state.hiddenColumns])}),j.useInstance.push(Ae)};ot.pluginName="useColumnVisibility";var Je=function(j,Z){var ne=Z.column;return[j,{onChange:function(se){ne.toggleHidden(!se.target.checked)},style:{cursor:"pointer"},checked:ne.isVisible,title:"Toggle Column Visible"}]},Le=function(j,Z){var ne=Z.instance;return[j,{onChange:function(se){ne.toggleHideAllColumns(!se.target.checked)},style:{cursor:"pointer"},checked:!ne.allColumnsHidden&&!ne.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!ne.allColumnsHidden&&ne.state.hiddenColumns.length}]};function dt(j,Z,ne,se){if(Z.type===c.init)return a({hiddenColumns:[]},j);if(Z.type===c.resetHiddenColumns)return a({},j,{hiddenColumns:se.initialState.hiddenColumns||[]});if(Z.type===c.toggleHideColumn){var ye=(Z.value!==void 0?Z.value:!j.hiddenColumns.includes(Z.columnId))?[].concat(j.hiddenColumns,[Z.columnId]):j.hiddenColumns.filter(function(he){return he!==Z.columnId});return a({},j,{hiddenColumns:ye})}return Z.type===c.setHiddenColumns?a({},j,{hiddenColumns:g(Z.value,j.hiddenColumns)}):Z.type===c.toggleHideAllColumns?a({},j,{hiddenColumns:(Z.value!==void 0?Z.value:!j.hiddenColumns.length)?se.allColumns.map(function(he){return he.id}):[]}):void 0}function Ct(j){var Z=j.headers,ne=j.state.hiddenColumns;r.useRef(!1).current;var se=0;Z.forEach(function(ye){return se+=function he(we,qe){we.isVisible=qe&&!ne.includes(we.id);var Xe=0;return we.headers&&we.headers.length?we.headers.forEach(function(Qe){return Xe+=he(Qe,we.isVisible)}):Xe=we.isVisible?1:0,we.totalVisibleHeaderCount=Xe,Xe}(ye,!0)})}function Ae(j){var Z=j.columns,ne=j.flatHeaders,se=j.dispatch,ye=j.allColumns,he=j.getHooks,we=j.state.hiddenColumns,qe=j.autoResetHiddenColumns,Xe=qe===void 0||qe,Qe=C(j),xt=ye.length===we.length,gt=r.useCallback(function(Ot,Vt){return se({type:c.toggleHideColumn,columnId:Ot,value:Vt})},[se]),xe=r.useCallback(function(Ot){return se({type:c.setHiddenColumns,value:Ot})},[se]),it=r.useCallback(function(Ot){return se({type:c.toggleHideAllColumns,value:Ot})},[se]),vt=m(he().getToggleHideAllColumnsProps,{instance:Qe()});ne.forEach(function(Ot){Ot.toggleHidden=function(Vt){se({type:c.toggleHideColumn,columnId:Ot.id,value:Vt})},Ot.getToggleHiddenProps=m(he().getToggleHiddenProps,{instance:Qe(),column:Ot})});var It=C(Xe);N(function(){It()&&se({type:c.resetHiddenColumns})},[se,Z]),Object.assign(j,{allColumnsHidden:xt,toggleHideColumn:gt,setHiddenColumns:xe,toggleHideAllColumns:it,getToggleHideAllColumnsProps:vt})}var rt={},fe={},Fe=function(j,Z,ne){return j},nt=function(j,Z){return j.subRows||[]},Ce=function(j,Z,ne){return""+(ne?[ne.id,Z].join("."):Z)},_e=function(j){return j};function Y(j){var Z=j.initialState,ne=Z===void 0?rt:Z,se=j.defaultColumn,ye=se===void 0?fe:se,he=j.getSubRows,we=he===void 0?nt:he,qe=j.getRowId,Xe=qe===void 0?Ce:qe,Qe=j.stateReducer,xt=Qe===void 0?Fe:Qe,gt=j.useControlledState,xe=gt===void 0?_e:gt;return a({},o(j,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:ne,defaultColumn:ye,getSubRows:we,getRowId:Xe,stateReducer:xt,useControlledState:xe})}function me(j,Z){Z===void 0&&(Z=0);var ne=0,se=0,ye=0,he=0;return j.forEach(function(we){var qe=we.headers;if(we.totalLeft=Z,qe&&qe.length){var Xe=me(qe,Z),Qe=Xe[0],xt=Xe[1],gt=Xe[2],xe=Xe[3];we.totalMinWidth=Qe,we.totalWidth=xt,we.totalMaxWidth=gt,we.totalFlexWidth=xe}else we.totalMinWidth=we.minWidth,we.totalWidth=Math.min(Math.max(we.minWidth,we.width),we.maxWidth),we.totalMaxWidth=we.maxWidth,we.totalFlexWidth=we.canResize?we.totalWidth:0;we.isVisible&&(Z+=we.totalWidth,ne+=we.totalMinWidth,se+=we.totalWidth,ye+=we.totalMaxWidth,he+=we.totalFlexWidth)}),[ne,se,ye,he]}function ge(j){var Z=j.data,ne=j.rows,se=j.flatRows,ye=j.rowsById,he=j.column,we=j.getRowId,qe=j.getSubRows,Xe=j.accessValueHooks,Qe=j.getInstance;Z.forEach(function(xt,gt){return function xe(it,vt,It,Ot,Vt){It===void 0&&(It=0);var gn=it,St=we(it,vt,Ot),wt=ye[St];if(wt)wt.subRows&&wt.originalSubRows.forEach(function(ft,Ue){return xe(ft,Ue,It+1,wt)});else if((wt={id:St,original:gn,index:vt,depth:It,cells:[{}]}).cells.map=ie,wt.cells.filter=ie,wt.cells.forEach=ie,wt.cells[0].getCellProps=ie,wt.values={},Vt.push(wt),se.push(wt),ye[St]=wt,wt.originalSubRows=qe(it,vt),wt.originalSubRows){var nn=[];wt.originalSubRows.forEach(function(ft,Ue){return xe(ft,Ue,It+1,wt,nn)}),wt.subRows=nn}he.accessor&&(wt.values[he.id]=he.accessor(it,vt,wt,Vt,Z)),wt.values[he.id]=f(Xe,wt.values[he.id],{row:wt,column:he,instance:Qe()})}(xt,gt,0,void 0,ne)})}c.resetExpanded="resetExpanded",c.toggleRowExpanded="toggleRowExpanded",c.toggleAllRowsExpanded="toggleAllRowsExpanded";var Ve=function(j){j.getToggleAllRowsExpandedProps=[Nt],j.getToggleRowExpandedProps=[hn],j.stateReducers.push(Lt),j.useInstance.push(Sn),j.prepareRow.push(Ne)};Ve.pluginName="useExpanded";var Nt=function(j,Z){var ne=Z.instance;return[j,{onClick:function(se){ne.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},hn=function(j,Z){var ne=Z.row;return[j,{onClick:function(){ne.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function Lt(j,Z,ne,se){if(Z.type===c.init)return a({expanded:{}},j);if(Z.type===c.resetExpanded)return a({},j,{expanded:se.initialState.expanded||{}});if(Z.type===c.toggleAllRowsExpanded){var ye=Z.value,he=se.rowsById,we=Object.keys(he).length===Object.keys(j.expanded).length;if(ye!==void 0?ye:!we){var qe={};return Object.keys(he).forEach(function(vt){qe[vt]=!0}),a({},j,{expanded:qe})}return a({},j,{expanded:{}})}if(Z.type===c.toggleRowExpanded){var Xe,Qe=Z.id,xt=Z.value,gt=j.expanded[Qe],xe=xt!==void 0?xt:!gt;if(!gt&&xe)return a({},j,{expanded:a({},j.expanded,(Xe={},Xe[Qe]=!0,Xe))});if(gt&&!xe){var it=j.expanded;return it[Qe],a({},j,{expanded:o(it,[Qe].map(l))})}return j}}function Sn(j){var Z=j.data,ne=j.rows,se=j.rowsById,ye=j.manualExpandedKey,he=ye===void 0?"expanded":ye,we=j.paginateExpandedRows,qe=we===void 0||we,Xe=j.expandSubRows,Qe=Xe===void 0||Xe,xt=j.autoResetExpanded,gt=xt===void 0||xt,xe=j.getHooks,it=j.plugins,vt=j.state.expanded,It=j.dispatch;w(it,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var Ot=C(gt),Vt=!!(Object.keys(se).length&&Object.keys(vt).length);Vt&&Object.keys(se).some(function(wn){return!vt[wn]})&&(Vt=!1),N(function(){Ot()&&It({type:c.resetExpanded})},[It,Z]);var gn=r.useCallback(function(wn,mt){It({type:c.toggleRowExpanded,id:wn,value:mt})},[It]),St=r.useCallback(function(wn){return It({type:c.toggleAllRowsExpanded,value:wn})},[It]),wt=r.useMemo(function(){return qe?H(ne,{manualExpandedKey:he,expanded:vt,expandSubRows:Qe}):ne},[qe,ne,he,vt,Qe]),nn=r.useMemo(function(){return function(wn){var mt=0;return Object.keys(wn).forEach(function(Pt){var Mn=Pt.split(".");mt=Math.max(mt,Mn.length)}),mt}(vt)},[vt]),ft=C(j),Ue=m(xe().getToggleAllRowsExpandedProps,{instance:ft()});Object.assign(j,{preExpandedRows:ne,expandedRows:wt,rows:wt,expandedDepth:nn,isAllRowsExpanded:Vt,toggleRowExpanded:gn,toggleAllRowsExpanded:St,getToggleAllRowsExpandedProps:Ue})}function Ne(j,Z){var ne=Z.instance.getHooks,se=Z.instance;j.toggleRowExpanded=function(ye){return se.toggleRowExpanded(j.id,ye)},j.getToggleRowExpandedProps=m(ne().getToggleRowExpandedProps,{instance:se,row:j})}var Me=function(j,Z,ne){return j=j.filter(function(se){return Z.some(function(ye){var he=se.values[ye];return String(he).toLowerCase().includes(String(ne).toLowerCase())})})};Me.autoRemove=function(j){return!j};var ct=function(j,Z,ne){return j.filter(function(se){return Z.some(function(ye){var he=se.values[ye];return he===void 0||String(he).toLowerCase()===String(ne).toLowerCase()})})};ct.autoRemove=function(j){return!j};var Be=function(j,Z,ne){return j.filter(function(se){return Z.some(function(ye){var he=se.values[ye];return he===void 0||String(he)===String(ne)})})};Be.autoRemove=function(j){return!j};var Ie=function(j,Z,ne){return j.filter(function(se){return Z.some(function(ye){return se.values[ye].includes(ne)})})};Ie.autoRemove=function(j){return!j||!j.length};var Ze=function(j,Z,ne){return j.filter(function(se){return Z.some(function(ye){var he=se.values[ye];return he&&he.length&&ne.every(function(we){return he.includes(we)})})})};Ze.autoRemove=function(j){return!j||!j.length};var pt=function(j,Z,ne){return j.filter(function(se){return Z.some(function(ye){var he=se.values[ye];return he&&he.length&&ne.some(function(we){return he.includes(we)})})})};pt.autoRemove=function(j){return!j||!j.length};var kt=function(j,Z,ne){return j.filter(function(se){return Z.some(function(ye){var he=se.values[ye];return ne.includes(he)})})};kt.autoRemove=function(j){return!j||!j.length};var Kt=function(j,Z,ne){return j.filter(function(se){return Z.some(function(ye){return se.values[ye]===ne})})};Kt.autoRemove=function(j){return j===void 0};var Hn=function(j,Z,ne){return j.filter(function(se){return Z.some(function(ye){return se.values[ye]==ne})})};Hn.autoRemove=function(j){return j==null};var ur=function(j,Z,ne){var se=ne||[],ye=se[0],he=se[1];if((ye=typeof ye=="number"?ye:-1/0)>(he=typeof he=="number"?he:1/0)){var we=ye;ye=he,he=we}return j.filter(function(qe){return Z.some(function(Xe){var Qe=qe.values[Xe];return Qe>=ye&&Qe<=he})})};ur.autoRemove=function(j){return!j||typeof j[0]!="number"&&typeof j[1]!="number"};var Zn=Object.freeze({__proto__:null,text:Me,exactText:ct,exactTextCase:Be,includes:Ie,includesAll:Ze,includesSome:pt,includesValue:kt,exact:Kt,equals:Hn,between:ur});c.resetFilters="resetFilters",c.setFilter="setFilter",c.setAllFilters="setAllFilters";var Dr=function(j){j.stateReducers.push(Wn),j.useInstance.push(Er)};function Wn(j,Z,ne,se){if(Z.type===c.init)return a({filters:[]},j);if(Z.type===c.resetFilters)return a({},j,{filters:se.initialState.filters||[]});if(Z.type===c.setFilter){var ye=Z.columnId,he=Z.filterValue,we=se.allColumns,qe=se.filterTypes,Xe=we.find(function(It){return It.id===ye});if(!Xe)throw new Error("React-Table: Could not find a column with id: "+ye);var Qe=K(Xe.filter,qe||{},Zn),xt=j.filters.find(function(It){return It.id===ye}),gt=g(he,xt&&xt.value);return F(Qe.autoRemove,gt,Xe)?a({},j,{filters:j.filters.filter(function(It){return It.id!==ye})}):a({},j,xt?{filters:j.filters.map(function(It){return It.id===ye?{id:ye,value:gt}:It})}:{filters:[].concat(j.filters,[{id:ye,value:gt}])})}if(Z.type===c.setAllFilters){var xe=Z.filters,it=se.allColumns,vt=se.filterTypes;return a({},j,{filters:g(xe,j.filters).filter(function(It){var Ot=it.find(function(Vt){return Vt.id===It.id});return!F(K(Ot.filter,vt||{},Zn).autoRemove,It.value,Ot)})})}}function Er(j){var Z=j.data,ne=j.rows,se=j.flatRows,ye=j.rowsById,he=j.allColumns,we=j.filterTypes,qe=j.manualFilters,Xe=j.defaultCanFilter,Qe=Xe!==void 0&&Xe,xt=j.disableFilters,gt=j.state.filters,xe=j.dispatch,it=j.autoResetFilters,vt=it===void 0||it,It=r.useCallback(function(ft,Ue){xe({type:c.setFilter,columnId:ft,filterValue:Ue})},[xe]),Ot=r.useCallback(function(ft){xe({type:c.setAllFilters,filters:ft})},[xe]);he.forEach(function(ft){var Ue=ft.id,wn=ft.accessor,mt=ft.defaultCanFilter,Pt=ft.disableFilters;ft.canFilter=wn?W(Pt!==!0&&void 0,xt!==!0&&void 0,!0):W(mt,Qe,!1),ft.setFilter=function(Gt){return It(ft.id,Gt)};var Mn=gt.find(function(Gt){return Gt.id===Ue});ft.filterValue=Mn&&Mn.value});var Vt=r.useMemo(function(){if(qe||!gt.length)return[ne,se,ye];var ft=[],Ue={};return[function wn(mt,Pt){Pt===void 0&&(Pt=0);var Mn=mt;return(Mn=gt.reduce(function(Gt,Bt){var En=Bt.id,Tn=Bt.value,_t=he.find(function(or){return or.id===En});if(!_t)return Gt;Pt===0&&(_t.preFilteredRows=Gt);var rn=K(_t.filter,we||{},Zn);return rn?(_t.filteredRows=rn(Gt,[En],Tn),_t.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+_t.id+"."),Gt)},mt)).forEach(function(Gt){ft.push(Gt),Ue[Gt.id]=Gt,Gt.subRows&&(Gt.subRows=Gt.subRows&&Gt.subRows.length>0?wn(Gt.subRows,Pt+1):Gt.subRows)}),Mn}(ne),ft,Ue]},[qe,gt,ne,se,ye,he,we]),gn=Vt[0],St=Vt[1],wt=Vt[2];r.useMemo(function(){he.filter(function(ft){return!gt.find(function(Ue){return Ue.id===ft.id})}).forEach(function(ft){ft.preFilteredRows=gn,ft.filteredRows=gn})},[gn,gt,he]);var nn=C(vt);N(function(){nn()&&xe({type:c.resetFilters})},[xe,qe?null:Z]),Object.assign(j,{preFilteredRows:ne,preFilteredFlatRows:se,preFilteredRowsById:ye,filteredRows:gn,filteredFlatRows:St,filteredRowsById:wt,rows:gn,flatRows:St,rowsById:wt,setFilter:It,setAllFilters:Ot})}Dr.pluginName="useFilters",c.resetGlobalFilter="resetGlobalFilter",c.setGlobalFilter="setGlobalFilter";var La=function(j){j.stateReducers.push(Su),j.useInstance.push(Cu)};function Su(j,Z,ne,se){if(Z.type===c.resetGlobalFilter)return a({},j,{globalFilter:se.initialState.globalFilter||void 0});if(Z.type===c.setGlobalFilter){var ye=Z.filterValue,he=se.userFilterTypes,we=K(se.globalFilter,he||{},Zn),qe=g(ye,j.globalFilter);return F(we.autoRemove,qe)?(j.globalFilter,o(j,["globalFilter"])):a({},j,{globalFilter:qe})}}function Cu(j){var Z=j.data,ne=j.rows,se=j.flatRows,ye=j.rowsById,he=j.allColumns,we=j.filterTypes,qe=j.globalFilter,Xe=j.manualGlobalFilter,Qe=j.state.globalFilter,xt=j.dispatch,gt=j.autoResetGlobalFilter,xe=gt===void 0||gt,it=j.disableGlobalFilter,vt=r.useCallback(function(wt){xt({type:c.setGlobalFilter,filterValue:wt})},[xt]),It=r.useMemo(function(){if(Xe||Qe===void 0)return[ne,se,ye];var wt=[],nn={},ft=K(qe,we||{},Zn);if(!ft)return console.warn("Could not find a valid 'globalFilter' option."),ne;he.forEach(function(wn){var mt=wn.disableGlobalFilter;wn.canFilter=W(mt!==!0&&void 0,it!==!0&&void 0,!0)});var Ue=he.filter(function(wn){return wn.canFilter===!0});return[function wn(mt){return(mt=ft(mt,Ue.map(function(Pt){return Pt.id}),Qe)).forEach(function(Pt){wt.push(Pt),nn[Pt.id]=Pt,Pt.subRows=Pt.subRows&&Pt.subRows.length?wn(Pt.subRows):Pt.subRows}),mt}(ne),wt,nn]},[Xe,Qe,qe,we,he,ne,se,ye,it]),Ot=It[0],Vt=It[1],gn=It[2],St=C(xe);N(function(){St()&&xt({type:c.resetGlobalFilter})},[xt,Xe?null:Z]),Object.assign(j,{preGlobalFilteredRows:ne,preGlobalFilteredFlatRows:se,preGlobalFilteredRowsById:ye,globalFilteredRows:Ot,globalFilteredFlatRows:Vt,globalFilteredRowsById:gn,rows:Ot,flatRows:Vt,rowsById:gn,setGlobalFilter:vt,disableGlobalFilter:it})}function Di(j,Z){return Z.reduce(function(ne,se){return ne+(typeof se=="number"?se:0)},0)}La.pluginName="useGlobalFilter";var mc=Object.freeze({__proto__:null,sum:Di,min:function(j){var Z=j[0]||0;return j.forEach(function(ne){typeof ne=="number"&&(Z=Math.min(Z,ne))}),Z},max:function(j){var Z=j[0]||0;return j.forEach(function(ne){typeof ne=="number"&&(Z=Math.max(Z,ne))}),Z},minMax:function(j){var Z=j[0]||0,ne=j[0]||0;return j.forEach(function(se){typeof se=="number"&&(Z=Math.min(Z,se),ne=Math.max(ne,se))}),Z+".."+ne},average:function(j){return Di(0,j)/j.length},median:function(j){if(!j.length)return null;var Z=Math.floor(j.length/2),ne=[].concat(j).sort(function(se,ye){return se-ye});return j.length%2!=0?ne[Z]:(ne[Z-1]+ne[Z])/2},unique:function(j){return Array.from(new Set(j).values())},uniqueCount:function(j){return new Set(j).size},count:function(j){return j.length}}),ku=[],Tl={};c.resetGroupBy="resetGroupBy",c.setGroupBy="setGroupBy",c.toggleGroupBy="toggleGroupBy";var Fn=function(j){j.getGroupByToggleProps=[to],j.stateReducers.push(no),j.visibleColumnsDeps.push(function(Z,ne){var se=ne.instance;return[].concat(Z,[se.state.groupBy])}),j.visibleColumns.push(ro),j.useInstance.push(Il),j.prepareRow.push(Ws)};Fn.pluginName="useGroupBy";var to=function(j,Z){var ne=Z.header;return[j,{onClick:ne.canGroupBy?function(se){se.persist(),ne.toggleGroupBy()}:void 0,style:{cursor:ne.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function no(j,Z,ne,se){if(Z.type===c.init)return a({groupBy:[]},j);if(Z.type===c.resetGroupBy)return a({},j,{groupBy:se.initialState.groupBy||[]});if(Z.type===c.setGroupBy)return a({},j,{groupBy:Z.value});if(Z.type===c.toggleGroupBy){var ye=Z.columnId,he=Z.value,we=he!==void 0?he:!j.groupBy.includes(ye);return a({},j,we?{groupBy:[].concat(j.groupBy,[ye])}:{groupBy:j.groupBy.filter(function(qe){return qe!==ye})})}}function ro(j,Z){var ne=Z.instance.state.groupBy,se=ne.map(function(he){return j.find(function(we){return we.id===he})}).filter(Boolean),ye=j.filter(function(he){return!ne.includes(he.id)});return(j=[].concat(se,ye)).forEach(function(he){he.isGrouped=ne.includes(he.id),he.groupedIndex=ne.indexOf(he.id)}),j}var xn={};function Il(j){var Z=j.data,ne=j.rows,se=j.flatRows,ye=j.rowsById,he=j.allColumns,we=j.flatHeaders,qe=j.groupByFn,Xe=qe===void 0?Fa:qe,Qe=j.manualGroupBy,xt=j.aggregations,gt=xt===void 0?xn:xt,xe=j.plugins,it=j.state.groupBy,vt=j.dispatch,It=j.autoResetGroupBy,Ot=It===void 0||It,Vt=j.disableGroupBy,gn=j.defaultCanGroupBy,St=j.getHooks;w(xe,["useColumnOrder","useFilters"],"useGroupBy");var wt=C(j);he.forEach(function(_t){var rn=_t.accessor,or=_t.defaultGroupBy,Rn=_t.disableGroupBy;_t.canGroupBy=rn?W(_t.canGroupBy,Rn!==!0&&void 0,Vt!==!0&&void 0,!0):W(_t.canGroupBy,or,gn,!1),_t.canGroupBy&&(_t.toggleGroupBy=function(){return j.toggleGroupBy(_t.id)}),_t.Aggregated=_t.Aggregated||_t.Cell});var nn=r.useCallback(function(_t,rn){vt({type:c.toggleGroupBy,columnId:_t,value:rn})},[vt]),ft=r.useCallback(function(_t){vt({type:c.setGroupBy,value:_t})},[vt]);we.forEach(function(_t){_t.getGroupByToggleProps=m(St().getGroupByToggleProps,{instance:wt(),header:_t})});var Ue=r.useMemo(function(){if(Qe||!it.length)return[ne,se,ye,ku,Tl,se,ye];var _t=it.filter(function(vn){return he.find(function(la){return la.id===vn})}),rn=[],or={},Rn=[],Zt={},en=[],Hr={},Qt=function vn(la,Br,ar){if(Br===void 0&&(Br=0),Br===_t.length)return la.map(function(Rl){return a({},Rl,{depth:Br})});var Cc=_t[Br],Li=Xe(la,Cc);return Object.entries(Li).map(function(Rl,Qg){var io=Rl[0],$u=Rl[1],Ol=Cc+":"+io,oo=vn($u,Br+1,Ol=ar?ar+">"+Ol:Ol),Tr=Br?q($u,"leafRows"):$u,za=function(mi,No,Zg){var Du={};return he.forEach(function(Yr){if(_t.includes(Yr.id))Du[Yr.id]=No[0]?No[0].values[Yr.id]:null;else{var Lp=typeof Yr.aggregate=="function"?Yr.aggregate:gt[Yr.aggregate]||mc[Yr.aggregate];if(Lp){var e0=No.map(function(Pu){return Pu.values[Yr.id]}),t0=mi.map(function(Pu){var Ec=Pu.values[Yr.id];if(!Zg&&Yr.aggregateValue){var $l=typeof Yr.aggregateValue=="function"?Yr.aggregateValue:gt[Yr.aggregateValue]||mc[Yr.aggregateValue];if(!$l)throw console.info({column:Yr}),new Error("React Table: Invalid column.aggregateValue option for column listed above");Ec=$l(Ec,Pu,Yr)}return Ec});Du[Yr.id]=Lp(t0,e0)}else{if(Yr.aggregate)throw console.info({column:Yr}),new Error("React Table: Invalid column.aggregate option for column listed above");Du[Yr.id]=null}}}),Du}(Tr,$u,Br),kc={id:Ol,isGrouped:!0,groupByID:Cc,groupByVal:io,values:za,subRows:oo,leafRows:Tr,depth:Br,index:Qg};return oo.forEach(function(mi){rn.push(mi),or[mi.id]=mi,mi.isGrouped?(Rn.push(mi),Zt[mi.id]=mi):(en.push(mi),Hr[mi.id]=mi)}),kc})}(ne);return Qt.forEach(function(vn){rn.push(vn),or[vn.id]=vn,vn.isGrouped?(Rn.push(vn),Zt[vn.id]=vn):(en.push(vn),Hr[vn.id]=vn)}),[Qt,rn,or,Rn,Zt,en,Hr]},[Qe,it,ne,se,ye,he,gt,Xe]),wn=Ue[0],mt=Ue[1],Pt=Ue[2],Mn=Ue[3],Gt=Ue[4],Bt=Ue[5],En=Ue[6],Tn=C(Ot);N(function(){Tn()&&vt({type:c.resetGroupBy})},[vt,Qe?null:Z]),Object.assign(j,{preGroupedRows:ne,preGroupedFlatRow:se,preGroupedRowsById:ye,groupedRows:wn,groupedFlatRows:mt,groupedRowsById:Pt,onlyGroupedFlatRows:Mn,onlyGroupedRowsById:Gt,nonGroupedFlatRows:Bt,nonGroupedRowsById:En,rows:wn,flatRows:mt,rowsById:Pt,toggleGroupBy:nn,setGroupBy:ft})}function Ws(j){j.allCells.forEach(function(Z){var ne;Z.isGrouped=Z.column.isGrouped&&Z.column.id===j.groupByID,Z.isPlaceholder=!Z.isGrouped&&Z.column.isGrouped,Z.isAggregated=!Z.isGrouped&&!Z.isPlaceholder&&((ne=j.subRows)==null?void 0:ne.length)})}function Fa(j,Z){return j.reduce(function(ne,se,ye){var he=""+se.values[Z];return ne[he]=Array.isArray(ne[he])?ne[he]:[],ne[he].push(se),ne},{})}var ja=/([0-9]+)/gm;function so(j,Z){return j===Z?0:j>Z?1:-1}function aa(j,Z,ne){return[j.values[ne],Z.values[ne]]}function tt(j){return typeof j=="number"?isNaN(j)||j===1/0||j===-1/0?"":String(j):typeof j=="string"?j:""}var Jt=Object.freeze({__proto__:null,alphanumeric:function(j,Z,ne){var se=aa(j,Z,ne),ye=se[0],he=se[1];for(ye=tt(ye),he=tt(he),ye=ye.split(ja).filter(Boolean),he=he.split(ja).filter(Boolean);ye.length&&he.length;){var we=ye.shift(),qe=he.shift(),Xe=parseInt(we,10),Qe=parseInt(qe,10),xt=[Xe,Qe].sort();if(isNaN(xt[0])){if(we>qe)return 1;if(qe>we)return-1}else{if(isNaN(xt[1]))return isNaN(Xe)?-1:1;if(Xe>Qe)return 1;if(Qe>Xe)return-1}}return ye.length-he.length},datetime:function(j,Z,ne){var se=aa(j,Z,ne),ye=se[0],he=se[1];return so(ye=ye.getTime(),he=he.getTime())},basic:function(j,Z,ne){var se=aa(j,Z,ne);return so(se[0],se[1])},string:function(j,Z,ne){var se=aa(j,Z,ne),ye=se[0],he=se[1];for(ye=ye.split("").filter(Boolean),he=he.split("").filter(Boolean);ye.length&&he.length;){var we=ye.shift(),qe=he.shift(),Xe=we.toLowerCase(),Qe=qe.toLowerCase();if(Xe>Qe)return 1;if(Qe>Xe)return-1;if(we>qe)return 1;if(qe>we)return-1}return ye.length-he.length},number:function(j,Z,ne){var se=aa(j,Z,ne),ye=se[0],he=se[1],we=/[^0-9.]/gi;return so(ye=Number(String(ye).replace(we,"")),he=Number(String(he).replace(we,"")))}});c.resetSortBy="resetSortBy",c.setSortBy="setSortBy",c.toggleSortBy="toggleSortBy",c.clearSortBy="clearSortBy",h.sortType="alphanumeric",h.sortDescFirst=!1;var cn=function(j){j.getSortByToggleProps=[Ut],j.stateReducers.push(Pi),j.useInstance.push(Gr)};cn.pluginName="useSortBy";var Ut=function(j,Z){var ne=Z.instance,se=Z.column,ye=ne.isMultiSortEvent,he=ye===void 0?function(we){return we.shiftKey}:ye;return[j,{onClick:se.canSort?function(we){we.persist(),se.toggleSortBy(void 0,!ne.disableMultiSort&&he(we))}:void 0,style:{cursor:se.canSort?"pointer":void 0},title:se.canSort?"Toggle SortBy":void 0}]};function Pi(j,Z,ne,se){if(Z.type===c.init)return a({sortBy:[]},j);if(Z.type===c.resetSortBy)return a({},j,{sortBy:se.initialState.sortBy||[]});if(Z.type===c.clearSortBy)return a({},j,{sortBy:j.sortBy.filter(function(wt){return wt.id!==Z.columnId})});if(Z.type===c.setSortBy)return a({},j,{sortBy:Z.sortBy});if(Z.type===c.toggleSortBy){var ye,he=Z.columnId,we=Z.desc,qe=Z.multi,Xe=se.allColumns,Qe=se.disableMultiSort,xt=se.disableSortRemove,gt=se.disableMultiRemove,xe=se.maxMultiSortColCount,it=xe===void 0?Number.MAX_SAFE_INTEGER:xe,vt=j.sortBy,It=Xe.find(function(wt){return wt.id===he}).sortDescFirst,Ot=vt.find(function(wt){return wt.id===he}),Vt=vt.findIndex(function(wt){return wt.id===he}),gn=we!=null,St=[];return(ye=!Qe&&qe?Ot?"toggle":"add":Vt!==vt.length-1||vt.length!==1?"replace":Ot?"toggle":"replace")!="toggle"||xt||gn||qe&&gt||!(Ot&&Ot.desc&&!It||!Ot.desc&&It)||(ye="remove"),ye==="replace"?St=[{id:he,desc:gn?we:It}]:ye==="add"?(St=[].concat(vt,[{id:he,desc:gn?we:It}])).splice(0,St.length-it):ye==="toggle"?St=vt.map(function(wt){return wt.id===he?a({},wt,{desc:gn?we:!Ot.desc}):wt}):ye==="remove"&&(St=vt.filter(function(wt){return wt.id!==he})),a({},j,{sortBy:St})}}function Gr(j){var Z=j.data,ne=j.rows,se=j.flatRows,ye=j.allColumns,he=j.orderByFn,we=he===void 0?xr:he,qe=j.sortTypes,Xe=j.manualSortBy,Qe=j.defaultCanSort,xt=j.disableSortBy,gt=j.flatHeaders,xe=j.state.sortBy,it=j.dispatch,vt=j.plugins,It=j.getHooks,Ot=j.autoResetSortBy,Vt=Ot===void 0||Ot;w(vt,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var gn=r.useCallback(function(mt){it({type:c.setSortBy,sortBy:mt})},[it]),St=r.useCallback(function(mt,Pt,Mn){it({type:c.toggleSortBy,columnId:mt,desc:Pt,multi:Mn})},[it]),wt=C(j);gt.forEach(function(mt){var Pt=mt.accessor,Mn=mt.canSort,Gt=mt.disableSortBy,Bt=mt.id,En=Pt?W(Gt!==!0&&void 0,xt!==!0&&void 0,!0):W(Qe,Mn,!1);mt.canSort=En,mt.canSort&&(mt.toggleSortBy=function(_t,rn){return St(mt.id,_t,rn)},mt.clearSortBy=function(){it({type:c.clearSortBy,columnId:mt.id})}),mt.getSortByToggleProps=m(It().getSortByToggleProps,{instance:wt(),column:mt});var Tn=xe.find(function(_t){return _t.id===Bt});mt.isSorted=!!Tn,mt.sortedIndex=xe.findIndex(function(_t){return _t.id===Bt}),mt.isSortedDesc=mt.isSorted?Tn.desc:void 0});var nn=r.useMemo(function(){if(Xe||!xe.length)return[ne,se];var mt=[],Pt=xe.filter(function(Mn){return ye.find(function(Gt){return Gt.id===Mn.id})});return[function Mn(Gt){var Bt=we(Gt,Pt.map(function(En){var Tn=ye.find(function(or){return or.id===En.id});if(!Tn)throw new Error("React-Table: Could not find a column with id: "+En.id+" while sorting");var _t=Tn.sortType,rn=V(_t)||(qe||{})[_t]||Jt[_t];if(!rn)throw new Error("React-Table: Could not find a valid sortType of '"+_t+"' for column '"+En.id+"'.");return function(or,Rn){return rn(or,Rn,En.id,En.desc)}}),Pt.map(function(En){var Tn=ye.find(function(_t){return _t.id===En.id});return Tn&&Tn.sortInverted?En.desc:!En.desc}));return Bt.forEach(function(En){mt.push(En),En.subRows&&En.subRows.length!==0&&(En.subRows=Mn(En.subRows))}),Bt}(ne),mt]},[Xe,xe,ne,se,ye,we,qe]),ft=nn[0],Ue=nn[1],wn=C(Vt);N(function(){wn()&&it({type:c.resetSortBy})},[Xe?null:Z]),Object.assign(j,{preSortedRows:ne,preSortedFlatRows:se,sortedRows:ft,sortedFlatRows:Ue,rows:ft,flatRows:Ue,setSortBy:gn,toggleSortBy:St})}function xr(j,Z,ne){return[].concat(j).sort(function(se,ye){for(var he=0;he<Z.length;he+=1){var we=Z[he],qe=ne[he]===!1||ne[he]==="desc",Xe=we(se,ye);if(Xe!==0)return qe?-Xe:Xe}return ne[0]?se.index-ye.index:ye.index-se.index})}c.resetPage="resetPage",c.gotoPage="gotoPage",c.setPageSize="setPageSize";var Eu=function(j){j.stateReducers.push(Mi),j.useInstance.push(hh)};function Mi(j,Z,ne,se){if(Z.type===c.init)return a({pageSize:10,pageIndex:0},j);if(Z.type===c.resetPage)return a({},j,{pageIndex:se.initialState.pageIndex||0});if(Z.type===c.gotoPage){var ye=se.pageCount,he=se.page,we=g(Z.pageIndex,j.pageIndex),qe=!1;return we>j.pageIndex?qe=ye===-1?he.length>=j.pageSize:we<ye:we<j.pageIndex&&(qe=we>-1),qe?a({},j,{pageIndex:we}):j}if(Z.type===c.setPageSize){var Xe=Z.pageSize,Qe=j.pageSize*j.pageIndex;return a({},j,{pageIndex:Math.floor(Qe/Xe),pageSize:Xe})}}function hh(j){var Z=j.rows,ne=j.autoResetPage,se=ne===void 0||ne,ye=j.manualExpandedKey,he=ye===void 0?"expanded":ye,we=j.plugins,qe=j.pageCount,Xe=j.paginateExpandedRows,Qe=Xe===void 0||Xe,xt=j.expandSubRows,gt=xt===void 0||xt,xe=j.state,it=xe.pageSize,vt=xe.pageIndex,It=xe.expanded,Ot=xe.globalFilter,Vt=xe.filters,gn=xe.groupBy,St=xe.sortBy,wt=j.dispatch,nn=j.data,ft=j.manualPagination;w(we,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var Ue=C(se);N(function(){Ue()&&wt({type:c.resetPage})},[wt,ft?null:nn,Ot,Vt,gn,St]);var wn=ft?qe:Math.ceil(Z.length/it),mt=r.useMemo(function(){return wn>0?[].concat(new Array(wn)).fill(null).map(function(rn,or){return or}):[]},[wn]),Pt=r.useMemo(function(){var rn;if(ft)rn=Z;else{var or=it*vt,Rn=or+it;rn=Z.slice(or,Rn)}return Qe?rn:H(rn,{manualExpandedKey:he,expanded:It,expandSubRows:gt})},[gt,It,he,ft,vt,it,Qe,Z]),Mn=vt>0,Gt=wn===-1?Pt.length>=it:vt<wn-1,Bt=r.useCallback(function(rn){wt({type:c.gotoPage,pageIndex:rn})},[wt]),En=r.useCallback(function(){return Bt(function(rn){return rn-1})},[Bt]),Tn=r.useCallback(function(){return Bt(function(rn){return rn+1})},[Bt]),_t=r.useCallback(function(rn){wt({type:c.setPageSize,pageSize:rn})},[wt]);Object.assign(j,{pageOptions:mt,pageCount:wn,page:Pt,canPreviousPage:Mn,canNextPage:Gt,gotoPage:Bt,previousPage:En,nextPage:Tn,setPageSize:_t})}Eu.pluginName="usePagination",c.resetPivot="resetPivot",c.togglePivot="togglePivot";var Tu=function(j){j.getPivotToggleProps=[wr],j.stateReducers.push(Bi),j.useInstanceAfterData.push(dr),j.allColumns.push(fn),j.accessValue.push(fh),j.materializedColumns.push(Vg),j.materializedColumnsDeps.push(gc),j.visibleColumns.push(Pr),j.visibleColumnsDeps.push(ms),j.useInstance.push(Mr),j.prepareRow.push(ph)};Tu.pluginName="usePivotColumns";var Ss=[],wr=function(j,Z){var ne=Z.header;return[j,{onClick:ne.canPivot?function(se){se.persist(),ne.togglePivot()}:void 0,style:{cursor:ne.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function Bi(j,Z,ne,se){if(Z.type===c.init)return a({pivotColumns:Ss},j);if(Z.type===c.resetPivot)return a({},j,{pivotColumns:se.initialState.pivotColumns||Ss});if(Z.type===c.togglePivot){var ye=Z.columnId,he=Z.value,we=he!==void 0?he:!j.pivotColumns.includes(ye);return a({},j,we?{pivotColumns:[].concat(j.pivotColumns,[ye])}:{pivotColumns:j.pivotColumns.filter(function(qe){return qe!==ye})})}}function dr(j){j.allColumns.forEach(function(Z){Z.isPivotSource=j.state.pivotColumns.includes(Z.id)})}function fn(j,Z){var ne=Z.instance;return j.forEach(function(se){se.isPivotSource=ne.state.pivotColumns.includes(se.id),se.uniqueValues=new Set}),j}function fh(j,Z){var ne=Z.column;return ne.uniqueValues&&j!==void 0&&ne.uniqueValues.add(j),j}function Vg(j,Z){var ne=Z.instance,se=ne.allColumns,ye=ne.state;if(!ye.pivotColumns.length||!ye.groupBy||!ye.groupBy.length)return j;var he=ye.pivotColumns.map(function(Xe){return se.find(function(Qe){return Qe.id===Xe})}).filter(Boolean),we=se.filter(function(Xe){return!Xe.isPivotSource&&!ye.groupBy.includes(Xe.id)&&!ye.pivotColumns.includes(Xe.id)}),qe=$(function Xe(Qe,xt,gt){Qe===void 0&&(Qe=0),gt===void 0&&(gt=[]);var xe=he[Qe];return xe?Array.from(xe.uniqueValues).sort().map(function(it){var vt=a({},xe,{Header:xe.PivotHeader||typeof xe.header=="string"?xe.Header+": "+it:it,isPivotGroup:!0,parent:xt,depth:Qe,id:xt?xt.id+"."+xe.id+"."+it:xe.id+"."+it,pivotValue:it});return vt.columns=Xe(Qe+1,vt,[].concat(gt,[function(It){return It.values[xe.id]===it}])),vt}):we.map(function(it){return a({},it,{canPivot:!1,isPivoted:!0,parent:xt,depth:Qe,id:""+(xt?xt.id+"."+it.id:it.id),accessor:function(vt,It,Ot){if(gt.every(function(Vt){return Vt(Ot)}))return Ot.values[it.id]}})})}());return[].concat(j,qe)}function gc(j,Z){var ne=Z.instance.state,se=ne.pivotColumns,ye=ne.groupBy;return[].concat(j,[se,ye])}function Pr(j,Z){var ne=Z.instance.state;return j=j.filter(function(se){return!se.isPivotSource}),ne.pivotColumns.length&&ne.groupBy&&ne.groupBy.length&&(j=j.filter(function(se){return se.isGrouped||se.isPivoted})),j}function ms(j,Z){var ne=Z.instance;return[].concat(j,[ne.state.pivotColumns,ne.state.groupBy])}function Mr(j){var Z=j.columns,ne=j.allColumns,se=j.flatHeaders,ye=j.getHooks,he=j.plugins,we=j.dispatch,qe=j.autoResetPivot,Xe=qe===void 0||qe,Qe=j.manaulPivot,xt=j.disablePivot,gt=j.defaultCanPivot;w(he,["useGroupBy"],"usePivotColumns");var xe=C(j);ne.forEach(function(vt){var It=vt.accessor,Ot=vt.defaultPivot,Vt=vt.disablePivot;vt.canPivot=It?W(vt.canPivot,Vt!==!0&&void 0,xt!==!0&&void 0,!0):W(vt.canPivot,Ot,gt,!1),vt.canPivot&&(vt.togglePivot=function(){return j.togglePivot(vt.id)}),vt.Aggregated=vt.Aggregated||vt.Cell}),se.forEach(function(vt){vt.getPivotToggleProps=m(ye().getPivotToggleProps,{instance:xe(),header:vt})});var it=C(Xe);N(function(){it()&&we({type:c.resetPivot})},[we,Qe?null:Z]),Object.assign(j,{togglePivot:function(vt,It){we({type:c.togglePivot,columnId:vt,value:It})}})}function ph(j){j.allCells.forEach(function(Z){Z.isPivoted=Z.column.isPivoted})}c.resetSelectedRows="resetSelectedRows",c.toggleAllRowsSelected="toggleAllRowsSelected",c.toggleRowSelected="toggleRowSelected",c.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var Iu=function(j){j.getToggleRowSelectedProps=[Gg],j.getToggleAllRowsSelectedProps=[mh],j.getToggleAllPageRowsSelectedProps=[vc],j.stateReducers.push(Ao),j.useInstance.push(yc),j.prepareRow.push(gh)};Iu.pluginName="useRowSelect";var Gg=function(j,Z){var ne=Z.instance,se=Z.row,ye=ne.manualRowSelectedKey,he=ye===void 0?"isSelected":ye;return[j,{onChange:function(we){se.toggleRowSelected(we.target.checked)},style:{cursor:"pointer"},checked:!(!se.original||!se.original[he])||se.isSelected,title:"Toggle Row Selected",indeterminate:se.isSomeSelected}]},mh=function(j,Z){var ne=Z.instance;return[j,{onChange:function(se){ne.toggleAllRowsSelected(se.target.checked)},style:{cursor:"pointer"},checked:ne.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!ne.isAllRowsSelected&&Object.keys(ne.state.selectedRowIds).length)}]},vc=function(j,Z){var ne=Z.instance;return[j,{onChange:function(se){ne.toggleAllPageRowsSelected(se.target.checked)},style:{cursor:"pointer"},checked:ne.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!ne.isAllPageRowsSelected&&ne.page.some(function(se){var ye=se.id;return ne.state.selectedRowIds[ye]}))}]};function Ao(j,Z,ne,se){if(Z.type===c.init)return a({selectedRowIds:{}},j);if(Z.type===c.resetSelectedRows)return a({},j,{selectedRowIds:se.initialState.selectedRowIds||{}});if(Z.type===c.toggleAllRowsSelected){var ye=Z.value,he=se.isAllRowsSelected,we=se.rowsById,qe=se.nonGroupedRowsById,Xe=qe===void 0?we:qe,Qe=ye!==void 0?ye:!he,xt=Object.assign({},j.selectedRowIds);return Qe?Object.keys(Xe).forEach(function(Bt){xt[Bt]=!0}):Object.keys(Xe).forEach(function(Bt){delete xt[Bt]}),a({},j,{selectedRowIds:xt})}if(Z.type===c.toggleRowSelected){var gt=Z.id,xe=Z.value,it=se.rowsById,vt=se.selectSubRows,It=vt===void 0||vt,Ot=se.getSubRows,Vt=j.selectedRowIds[gt],gn=xe!==void 0?xe:!Vt;if(Vt===gn)return j;var St=a({},j.selectedRowIds);return function Bt(En){var Tn=it[En];if(Tn&&(Tn.isGrouped||(gn?St[En]=!0:delete St[En]),It&&Ot(Tn)))return Ot(Tn).forEach(function(_t){return Bt(_t.id)})}(gt),a({},j,{selectedRowIds:St})}if(Z.type===c.toggleAllPageRowsSelected){var wt=Z.value,nn=se.page,ft=se.rowsById,Ue=se.selectSubRows,wn=Ue===void 0||Ue,mt=se.isAllPageRowsSelected,Pt=se.getSubRows,Mn=wt!==void 0?wt:!mt,Gt=a({},j.selectedRowIds);return nn.forEach(function(Bt){return function En(Tn){var _t=ft[Tn];if(_t.isGrouped||(Mn?Gt[Tn]=!0:delete Gt[Tn]),wn&&Pt(_t))return Pt(_t).forEach(function(rn){return En(rn.id)})}(Bt.id)}),a({},j,{selectedRowIds:Gt})}return j}function yc(j){var Z=j.data,ne=j.rows,se=j.getHooks,ye=j.plugins,he=j.rowsById,we=j.nonGroupedRowsById,qe=we===void 0?he:we,Xe=j.autoResetSelectedRows,Qe=Xe===void 0||Xe,xt=j.state.selectedRowIds,gt=j.selectSubRows,xe=gt===void 0||gt,it=j.dispatch,vt=j.page,It=j.getSubRows;w(ye,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var Ot=r.useMemo(function(){var Pt=[];return ne.forEach(function(Mn){var Gt=xe?function Bt(En,Tn,_t){if(Tn[En.id])return!0;var rn=_t(En);if(rn&&rn.length){var or=!0,Rn=!1;return rn.forEach(function(Zt){Rn&&!or||(Bt(Zt,Tn,_t)?Rn=!0:or=!1)}),!!or||!!Rn&&null}return!1}(Mn,xt,It):!!xt[Mn.id];Mn.isSelected=!!Gt,Mn.isSomeSelected=Gt===null,Gt&&Pt.push(Mn)}),Pt},[ne,xe,xt,It]),Vt=!!(Object.keys(qe).length&&Object.keys(xt).length),gn=Vt;Vt&&Object.keys(qe).some(function(Pt){return!xt[Pt]})&&(Vt=!1),Vt||vt&&vt.length&&vt.some(function(Pt){var Mn=Pt.id;return!xt[Mn]})&&(gn=!1);var St=C(Qe);N(function(){St()&&it({type:c.resetSelectedRows})},[it,Z]);var wt=r.useCallback(function(Pt){return it({type:c.toggleAllRowsSelected,value:Pt})},[it]),nn=r.useCallback(function(Pt){return it({type:c.toggleAllPageRowsSelected,value:Pt})},[it]),ft=r.useCallback(function(Pt,Mn){return it({type:c.toggleRowSelected,id:Pt,value:Mn})},[it]),Ue=C(j),wn=m(se().getToggleAllRowsSelectedProps,{instance:Ue()}),mt=m(se().getToggleAllPageRowsSelectedProps,{instance:Ue()});Object.assign(j,{selectedFlatRows:Ot,isAllRowsSelected:Vt,isAllPageRowsSelected:gn,toggleRowSelected:ft,toggleAllRowsSelected:wt,getToggleAllRowsSelectedProps:wn,getToggleAllPageRowsSelectedProps:mt,toggleAllPageRowsSelected:nn})}function gh(j,Z){var ne=Z.instance;j.toggleRowSelected=function(se){return ne.toggleRowSelected(j.id,se)},j.getToggleRowSelectedProps=m(ne.getHooks().getToggleRowSelectedProps,{instance:ne,row:j})}var Au=function(j){return{}},Nu=function(j){return{}};c.setRowState="setRowState",c.setCellState="setCellState",c.resetRowState="resetRowState";var Dp=function(j){j.stateReducers.push(Hg),j.useInstance.push(Yg),j.prepareRow.push(qg)};function Hg(j,Z,ne,se){var ye=se.initialRowStateAccessor,he=ye===void 0?Au:ye,we=se.initialCellStateAccessor,qe=we===void 0?Nu:we,Xe=se.rowsById;if(Z.type===c.init)return a({rowState:{}},j);if(Z.type===c.resetRowState)return a({},j,{rowState:se.initialState.rowState||{}});if(Z.type===c.setRowState){var Qe,xt=Z.rowId,gt=Z.value,xe=j.rowState[xt]!==void 0?j.rowState[xt]:he(Xe[xt]);return a({},j,{rowState:a({},j.rowState,(Qe={},Qe[xt]=g(gt,xe),Qe))})}if(Z.type===c.setCellState){var it,vt,It,Ot,Vt,gn=Z.rowId,St=Z.columnId,wt=Z.value,nn=j.rowState[gn]!==void 0?j.rowState[gn]:he(Xe[gn]),ft=(nn==null||(it=nn.cellState)==null?void 0:it[St])!==void 0?nn.cellState[St]:qe((vt=Xe[gn])==null||(It=vt.cells)==null?void 0:It.find(function(Ue){return Ue.column.id===St}));return a({},j,{rowState:a({},j.rowState,(Vt={},Vt[gn]=a({},nn,{cellState:a({},nn.cellState||{},(Ot={},Ot[St]=g(wt,ft),Ot))}),Vt))})}}function Yg(j){var Z=j.autoResetRowState,ne=Z===void 0||Z,se=j.data,ye=j.dispatch,he=r.useCallback(function(Xe,Qe){return ye({type:c.setRowState,rowId:Xe,value:Qe})},[ye]),we=r.useCallback(function(Xe,Qe,xt){return ye({type:c.setCellState,rowId:Xe,columnId:Qe,value:xt})},[ye]),qe=C(ne);N(function(){qe()&&ye({type:c.resetRowState})},[se]),Object.assign(j,{setRowState:he,setCellState:we})}function qg(j,Z){var ne=Z.instance,se=ne.initialRowStateAccessor,ye=se===void 0?Au:se,he=ne.initialCellStateAccessor,we=he===void 0?Nu:he,qe=ne.state.rowState;j&&(j.state=qe[j.id]!==void 0?qe[j.id]:ye(j),j.setState=function(Xe){return ne.setRowState(j.id,Xe)},j.cells.forEach(function(Xe){j.state.cellState||(j.state.cellState={}),Xe.state=j.state.cellState[Xe.column.id]!==void 0?j.state.cellState[Xe.column.id]:we(Xe),Xe.setState=function(Qe){return ne.setCellState(j.id,Xe.column.id,Qe)}}))}Dp.pluginName="useRowState",c.resetColumnOrder="resetColumnOrder",c.setColumnOrder="setColumnOrder";var Pp=function(j){j.stateReducers.push(vh),j.visibleColumnsDeps.push(function(Z,ne){var se=ne.instance;return[].concat(Z,[se.state.columnOrder])}),j.visibleColumns.push(Xg),j.useInstance.push(bc)};function vh(j,Z,ne,se){return Z.type===c.init?a({columnOrder:[]},j):Z.type===c.resetColumnOrder?a({},j,{columnOrder:se.initialState.columnOrder||[]}):Z.type===c.setColumnOrder?a({},j,{columnOrder:g(Z.columnOrder,j.columnOrder)}):void 0}function Xg(j,Z){var ne=Z.instance.state.columnOrder;if(!ne||!ne.length)return j;for(var se=[].concat(ne),ye=[].concat(j),he=[],we=function(){var qe=se.shift(),Xe=ye.findIndex(function(Qe){return Qe.id===qe});Xe>-1&&he.push(ye.splice(Xe,1)[0])};ye.length&&se.length;)we();return[].concat(he,ye)}function bc(j){var Z=j.dispatch;j.setColumnOrder=r.useCallback(function(ne){return Z({type:c.setColumnOrder,columnOrder:ne})},[Z])}Pp.pluginName="useColumnOrder",h.canResize=!0,c.columnStartResizing="columnStartResizing",c.columnResizing="columnResizing",c.columnDoneResizing="columnDoneResizing",c.resetResize="resetResize";var Al=function(j){j.getResizerProps=[Kg],j.getHeaderProps.push({style:{position:"relative"}}),j.stateReducers.push(yh),j.useInstance.push(xh),j.useInstanceBeforeDimensions.push(bh)},Kg=function(j,Z){var ne=Z.instance,se=Z.header,ye=ne.dispatch,he=function(we,qe){var Xe=!1;if(we.type==="touchstart"){if(we.touches&&we.touches.length>1)return;Xe=!0}var Qe,xt,gt=function(St){var wt=[];return function nn(ft){ft.columns&&ft.columns.length&&ft.columns.map(nn),wt.push(ft)}(St),wt}(qe).map(function(St){return[St.id,St.totalWidth]}),xe=Xe?Math.round(we.touches[0].clientX):we.clientX,it=function(){window.cancelAnimationFrame(Qe),Qe=null,ye({type:c.columnDoneResizing})},vt=function(){window.cancelAnimationFrame(Qe),Qe=null,ye({type:c.columnResizing,clientX:xt})},It=function(St){xt=St,Qe||(Qe=window.requestAnimationFrame(vt))},Ot={mouse:{moveEvent:"mousemove",moveHandler:function(St){return It(St.clientX)},upEvent:"mouseup",upHandler:function(St){document.removeEventListener("mousemove",Ot.mouse.moveHandler),document.removeEventListener("mouseup",Ot.mouse.upHandler),it()}},touch:{moveEvent:"touchmove",moveHandler:function(St){return St.cancelable&&(St.preventDefault(),St.stopPropagation()),It(St.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(St){document.removeEventListener(Ot.touch.moveEvent,Ot.touch.moveHandler),document.removeEventListener(Ot.touch.upEvent,Ot.touch.moveHandler),it()}}},Vt=Xe?Ot.touch:Ot.mouse,gn=!!function(){if(typeof de=="boolean")return de;var St=!1;try{var wt={get passive(){return St=!0,!1}};window.addEventListener("test",null,wt),window.removeEventListener("test",null,wt)}catch{St=!1}return de=St}()&&{passive:!1};document.addEventListener(Vt.moveEvent,Vt.moveHandler,gn),document.addEventListener(Vt.upEvent,Vt.upHandler,gn),ye({type:c.columnStartResizing,columnId:qe.id,columnWidth:qe.totalWidth,headerIdWidths:gt,clientX:xe})};return[j,{onMouseDown:function(we){return we.persist()||he(we,se)},onTouchStart:function(we){return we.persist()||he(we,se)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function yh(j,Z){if(Z.type===c.init)return a({columnResizing:{columnWidths:{}}},j);if(Z.type===c.resetResize)return a({},j,{columnResizing:{columnWidths:{}}});if(Z.type===c.columnStartResizing){var ne=Z.clientX,se=Z.columnId,ye=Z.columnWidth,he=Z.headerIdWidths;return a({},j,{columnResizing:a({},j.columnResizing,{startX:ne,headerIdWidths:he,columnWidth:ye,isResizingColumn:se})})}if(Z.type===c.columnResizing){var we=Z.clientX,qe=j.columnResizing,Xe=qe.startX,Qe=qe.columnWidth,xt=qe.headerIdWidths,gt=(we-Xe)/Qe,xe={};return(xt===void 0?[]:xt).forEach(function(it){var vt=it[0],It=it[1];xe[vt]=Math.max(It+It*gt,0)}),a({},j,{columnResizing:a({},j.columnResizing,{columnWidths:a({},j.columnResizing.columnWidths,{},xe)})})}return Z.type===c.columnDoneResizing?a({},j,{columnResizing:a({},j.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Al.pluginName="useResizeColumns";var bh=function(j){var Z=j.flatHeaders,ne=j.disableResizing,se=j.getHooks,ye=j.state.columnResizing,he=C(j);Z.forEach(function(we){var qe=W(we.disableResizing!==!0&&void 0,ne!==!0&&void 0,!0);we.canResize=qe,we.width=ye.columnWidths[we.id]||we.originalWidth||we.width,we.isResizing=ye.isResizingColumn===we.id,qe&&(we.getResizerProps=m(se().getResizerProps,{instance:he(),header:we}))})};function xh(j){var Z=j.plugins,ne=j.dispatch,se=j.autoResetResize,ye=se===void 0||se,he=j.columns;w(Z,["useAbsoluteLayout"],"useResizeColumns");var we=C(ye);N(function(){we()&&ne({type:c.resetResize})},[he]);var qe=r.useCallback(function(){return ne({type:c.resetResize})},[ne]);Object.assign(j,{resetResizing:qe})}var ni={position:"absolute",top:0},Ru=function(j){j.getTableBodyProps.push(Nl),j.getRowProps.push(Nl),j.getHeaderGroupProps.push(Nl),j.getFooterGroupProps.push(Nl),j.getHeaderProps.push(function(Z,ne){var se=ne.column;return[Z,{style:a({},ni,{left:se.totalLeft+"px",width:se.totalWidth+"px"})}]}),j.getCellProps.push(function(Z,ne){var se=ne.cell;return[Z,{style:a({},ni,{left:se.column.totalLeft+"px",width:se.column.totalWidth+"px"})}]}),j.getFooterProps.push(function(Z,ne){var se=ne.column;return[Z,{style:a({},ni,{left:se.totalLeft+"px",width:se.totalWidth+"px"})}]})};Ru.pluginName="useAbsoluteLayout";var Nl=function(j,Z){return[j,{style:{position:"relative",width:Z.instance.totalColumnsWidth+"px"}}]},wh={display:"inline-block",boxSizing:"border-box"},xc=function(j,Z){return[j,{style:{display:"flex",width:Z.instance.totalColumnsWidth+"px"}}]},Mp=function(j){j.getRowProps.push(xc),j.getHeaderGroupProps.push(xc),j.getFooterGroupProps.push(xc),j.getHeaderProps.push(function(Z,ne){var se=ne.column;return[Z,{style:a({},wh,{width:se.totalWidth+"px"})}]}),j.getCellProps.push(function(Z,ne){var se=ne.cell;return[Z,{style:a({},wh,{width:se.column.totalWidth+"px"})}]}),j.getFooterProps.push(function(Z,ne){var se=ne.column;return[Z,{style:a({},wh,{width:se.totalWidth+"px"})}]})};function Bp(j){j.getTableProps.push(_h),j.getRowProps.push(wc),j.getHeaderGroupProps.push(wc),j.getFooterGroupProps.push(wc),j.getHeaderProps.push(Sh),j.getCellProps.push(_c),j.getFooterProps.push(Jg)}Mp.pluginName="useBlockLayout",Bp.pluginName="useFlexLayout";var _h=function(j,Z){return[j,{style:{minWidth:Z.instance.totalColumnsMinWidth+"px"}}]},wc=function(j,Z){return[j,{style:{display:"flex",flex:"1 0 auto",minWidth:Z.instance.totalColumnsMinWidth+"px"}}]},Sh=function(j,Z){var ne=Z.column;return[j,{style:{boxSizing:"border-box",flex:ne.totalFlexWidth?ne.totalFlexWidth+" 0 auto":void 0,minWidth:ne.totalMinWidth+"px",width:ne.totalWidth+"px"}}]},_c=function(j,Z){var ne=Z.cell;return[j,{style:{boxSizing:"border-box",flex:ne.column.totalFlexWidth+" 0 auto",minWidth:ne.column.totalMinWidth+"px",width:ne.column.totalWidth+"px"}}]},Jg=function(j,Z){var ne=Z.column;return[j,{style:{boxSizing:"border-box",flex:ne.totalFlexWidth?ne.totalFlexWidth+" 0 auto":void 0,minWidth:ne.totalMinWidth+"px",width:ne.totalWidth+"px"}}]};function Ou(j){j.stateReducers.push(Th),j.getTableProps.push(Ch),j.getHeaderProps.push(kh),j.getRowProps.push(Eh)}c.columnStartResizing="columnStartResizing",c.columnResizing="columnResizing",c.columnDoneResizing="columnDoneResizing",c.resetResize="resetResize",Ou.pluginName="useGridLayout";var Ch=function(j,Z){var ne=Z.instance;return[j,{style:{display:"grid",gridTemplateColumns:ne.visibleColumns.map(function(se){var ye;return ne.state.gridLayout.columnWidths[se.id]?ne.state.gridLayout.columnWidths[se.id]+"px":(ye=ne.state.columnResizing)!=null&&ye.isResizingColumn?ne.state.gridLayout.startWidths[se.id]+"px":typeof se.width=="number"?se.width+"px":se.width}).join(" ")}}]},kh=function(j,Z){var ne=Z.column;return[j,{id:"header-cell-"+ne.id,style:{position:"sticky",gridColumn:"span "+ne.totalVisibleHeaderCount}}]},Eh=function(j,Z){var ne=Z.row;return ne.isExpanded?[j,{style:{gridColumn:"1 / "+(ne.cells.length+1)}}]:[j,{}]};function Th(j,Z,ne,se){if(Z.type===c.init)return a({gridLayout:{columnWidths:{}}},j);if(Z.type===c.resetResize)return a({},j,{gridLayout:{columnWidths:{}}});if(Z.type===c.columnStartResizing){var ye=Z.columnId,he=Z.headerIdWidths,we=Sc(ye);if(we!==void 0){var qe=se.visibleColumns.reduce(function(wt,nn){var ft;return a({},wt,((ft={})[nn.id]=Sc(nn.id),ft))},{}),Xe=se.visibleColumns.reduce(function(wt,nn){var ft;return a({},wt,((ft={})[nn.id]=nn.minWidth,ft))},{}),Qe=se.visibleColumns.reduce(function(wt,nn){var ft;return a({},wt,((ft={})[nn.id]=nn.maxWidth,ft))},{}),xt=he.map(function(wt){var nn=wt[0];return[nn,Sc(nn)]});return a({},j,{gridLayout:a({},j.gridLayout,{startWidths:qe,minWidths:Xe,maxWidths:Qe,headerIdGridWidths:xt,columnWidth:we})})}return j}if(Z.type===c.columnResizing){var gt=Z.clientX,xe=j.columnResizing.startX,it=j.gridLayout,vt=it.columnWidth,It=it.minWidths,Ot=it.maxWidths,Vt=it.headerIdGridWidths,gn=(gt-xe)/vt,St={};return(Vt===void 0?[]:Vt).forEach(function(wt){var nn=wt[0],ft=wt[1];St[nn]=Math.min(Math.max(It[nn],ft+ft*gn),Ot[nn])}),a({},j,{gridLayout:a({},j.gridLayout,{columnWidths:a({},j.gridLayout.columnWidths,{},St)})})}return Z.type===c.columnDoneResizing?a({},j,{gridLayout:a({},j.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function Sc(j){var Z,ne=(Z=document.getElementById("header-cell-"+j))==null?void 0:Z.offsetWidth;if(ne!==void 0)return ne}n._UNSTABLE_usePivotColumns=Tu,n.actions=c,n.defaultColumn=h,n.defaultGroupByFn=Fa,n.defaultOrderByFn=xr,n.defaultRenderer=u,n.emptyRenderer=d,n.ensurePluginOrder=w,n.flexRender=O,n.functionalUpdate=g,n.loopHooks=b,n.makePropGetter=m,n.makeRenderer=A,n.reduceHooks=f,n.safeUseLayoutEffect=k,n.useAbsoluteLayout=Ru,n.useAsyncDebounce=function(j,Z){Z===void 0&&(Z=0);var ne=r.useRef({}),se=C(j),ye=C(Z);return r.useCallback(function(){var he=i(regeneratorRuntime.mark(function we(){var qe,Xe,Qe,xt=arguments;return regeneratorRuntime.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:for(qe=xt.length,Xe=new Array(qe),Qe=0;Qe<qe;Qe++)Xe[Qe]=xt[Qe];return ne.current.promise||(ne.current.promise=new Promise(function(xe,it){ne.current.resolve=xe,ne.current.reject=it})),ne.current.timeout&&clearTimeout(ne.current.timeout),ne.current.timeout=setTimeout(i(regeneratorRuntime.mark(function xe(){return regeneratorRuntime.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return delete ne.current.timeout,it.prev=1,it.t0=ne.current,it.next=5,se().apply(void 0,Xe);case 5:it.t1=it.sent,it.t0.resolve.call(it.t0,it.t1),it.next=12;break;case 9:it.prev=9,it.t2=it.catch(1),ne.current.reject(it.t2);case 12:return it.prev=12,delete ne.current.promise,it.finish(12);case 15:case"end":return it.stop()}},xe,null,[[1,9,12,15]])})),ye()),gt.abrupt("return",ne.current.promise);case 5:case"end":return gt.stop()}},we)}));return function(){return he.apply(this,arguments)}}(),[se,ye])},n.useBlockLayout=Mp,n.useColumnOrder=Pp,n.useExpanded=Ve,n.useFilters=Dr,n.useFlexLayout=Bp,n.useGetLatest=C,n.useGlobalFilter=La,n.useGridLayout=Ou,n.useGroupBy=Fn,n.useMountedLayoutEffect=N,n.usePagination=Eu,n.useResizeColumns=Al,n.useRowSelect=Iu,n.useRowState=Dp,n.useSortBy=cn,n.useTable=function(j){for(var Z=arguments.length,ne=new Array(Z>1?Z-1:0),se=1;se<Z;se++)ne[se-1]=arguments[se];j=Y(j),ne=[ot].concat(ne);var ye=r.useRef({}),he=C(ye.current);Object.assign(he(),a({},j,{plugins:ne,hooks:We()})),ne.filter(Boolean).forEach(function(Zt){Zt(he().hooks)});var we=C(he().hooks);he().getHooks=we,delete he().hooks,Object.assign(he(),f(we().useOptions,Y(j)));var qe=he(),Xe=qe.data,Qe=qe.columns,xt=qe.initialState,gt=qe.defaultColumn,xe=qe.getSubRows,it=qe.getRowId,vt=qe.stateReducer,It=qe.useControlledState,Ot=C(vt),Vt=r.useCallback(function(Zt,en){if(!en.type)throw console.info({action:en}),new Error("Unknown Action ");return[].concat(we().stateReducers,Array.isArray(Ot())?Ot():[Ot()]).reduce(function(Hr,Qt){return Qt(Hr,en,Zt,he())||Hr},Zt)},[we,Ot,he]),gn=r.useReducer(Vt,void 0,function(){return Vt(xt,{type:c.init})}),St=gn[0],wt=gn[1],nn=f([].concat(we().useControlledState,[It]),St,{instance:he()});Object.assign(he(),{state:nn,dispatch:wt});var ft=r.useMemo(function(){return R(f(we().columns,Qe,{instance:he()}))},[we,he,Qe].concat(f(we().columnsDeps,[],{instance:he()})));he().columns=ft;var Ue=r.useMemo(function(){return f(we().allColumns,$(ft),{instance:he()}).map(D)},[ft,we,he].concat(f(we().allColumnsDeps,[],{instance:he()})));he().allColumns=Ue;var wn=r.useMemo(function(){for(var Zt=[],en=[],Hr={},Qt=[].concat(Ue);Qt.length;){var vn=Qt.shift();ge({data:Xe,rows:Zt,flatRows:en,rowsById:Hr,column:vn,getRowId:it,getSubRows:xe,accessValueHooks:we().accessValue,getInstance:he})}return[Zt,en,Hr]},[Ue,Xe,it,xe,we,he]),mt=wn[0],Pt=wn[1],Mn=wn[2];Object.assign(he(),{rows:mt,initialRows:[].concat(mt),flatRows:Pt,rowsById:Mn}),b(we().useInstanceAfterData,he());var Gt=r.useMemo(function(){return f(we().visibleColumns,Ue,{instance:he()}).map(function(Zt){return B(Zt,gt)})},[we,Ue,he,gt].concat(f(we().visibleColumnsDeps,[],{instance:he()})));Ue=r.useMemo(function(){var Zt=[].concat(Gt);return Ue.forEach(function(en){Zt.find(function(Hr){return Hr.id===en.id})||Zt.push(en)}),Zt},[Ue,Gt]),he().allColumns=Ue;var Bt=r.useMemo(function(){return f(we().headerGroups,M(Gt,gt),he())},[we,Gt,gt,he].concat(f(we().headerGroupsDeps,[],{instance:he()})));he().headerGroups=Bt;var En=r.useMemo(function(){return Bt.length?Bt[0].headers:[]},[Bt]);he().headers=En,he().flatHeaders=Bt.reduce(function(Zt,en){return[].concat(Zt,en.headers)},[]),b(we().useInstanceBeforeDimensions,he());var Tn=Gt.filter(function(Zt){return Zt.isVisible}).map(function(Zt){return Zt.id}).sort().join("_");Gt=r.useMemo(function(){return Gt.filter(function(Zt){return Zt.isVisible})},[Gt,Tn]),he().visibleColumns=Gt;var _t=me(En),rn=_t[0],or=_t[1],Rn=_t[2];return he().totalColumnsMinWidth=rn,he().totalColumnsWidth=or,he().totalColumnsMaxWidth=Rn,b(we().useInstance,he()),[].concat(he().flatHeaders,he().allColumns).forEach(function(Zt){Zt.render=A(he(),Zt),Zt.getHeaderProps=m(we().getHeaderProps,{instance:he(),column:Zt}),Zt.getFooterProps=m(we().getFooterProps,{instance:he(),column:Zt})}),he().headerGroups=r.useMemo(function(){return Bt.filter(function(Zt,en){return Zt.headers=Zt.headers.filter(function(Hr){return Hr.headers?function Qt(vn){return vn.filter(function(la){return la.headers?Qt(la.headers):la.isVisible}).length}(Hr.headers):Hr.isVisible}),!!Zt.headers.length&&(Zt.getHeaderGroupProps=m(we().getHeaderGroupProps,{instance:he(),headerGroup:Zt,index:en}),Zt.getFooterGroupProps=m(we().getFooterGroupProps,{instance:he(),headerGroup:Zt,index:en}),!0)})},[Bt,he,we]),he().footerGroups=[].concat(he().headerGroups).reverse(),he().prepareRow=r.useCallback(function(Zt){Zt.getRowProps=m(we().getRowProps,{instance:he(),row:Zt}),Zt.allCells=Ue.map(function(en){var Hr=Zt.values[en.id],Qt={column:en,row:Zt,value:Hr};return Qt.getCellProps=m(we().getCellProps,{instance:he(),cell:Qt}),Qt.render=A(he(),en,{row:Zt,cell:Qt,value:Hr}),Qt}),Zt.cells=Gt.map(function(en){return Zt.allCells.find(function(Hr){return Hr.column.id===en.id})}),b(we().prepareRow,Zt,{instance:he()})},[we,he,Ue,Gt]),he().getTableProps=m(we().getTableProps,{instance:he()}),he().getTableBodyProps=m(we().getTableBodyProps,{instance:he()}),b(we().useFinalInstance,he()),he()},Object.defineProperty(n,"__esModule",{value:!0})})})(Woe,B_);(function(t){t.exports=B_})(Uoe);function f9({columns:t,data:e}){console.log("data"),console.log(e);const{getTableProps:n,getTableBodyProps:r,headerGroups:s,prepareRow:i,pageOptions:a,page:o,nextPage:l,previousPage:c,canNextPage:u,canPreviousPage:d,pageCount:h,gotoPage:p,state:{pageIndex:m}}=M_.useTable({columns:t,data:e,initialState:{pageIndex:0}},M_.usePagination);return S.jsxs(S.Fragment,{children:[S.jsxs("table",{className:"table-responsive  w-[100%] h-[227px] border shadow-[0px_1px_3px_rgba(0,0,0,0.25)] rounded-[10px_10px_0px_0px]  bg-[#ffffff]",...n(),children:[S.jsx("thead",{className:"rounded-[10px_10px_0px_0px] bg-[#f7f7f7]",children:s.map(f=>S.jsx("tr",{...f.getHeaderGroupProps(),children:f.headers.map(b=>S.jsx("th",{...b.getHeaderProps(),children:b.render("Header")}))}))}),S.jsx("tbody",{...r(),children:o.map(f=>(i(f),S.jsx("tr",{...f.getRowProps(),children:f.cells.map(b=>S.jsx("td",{...b.getCellProps(),children:b.render("Cell")}))})))})]}),S.jsxs("div",{className:"flex flex-wrap justify-between items-center px-4 py-2 border-t border-gray-200 sm:px-6",children:[S.jsx("button",{onClick:()=>p(0),disabled:!d,className:"py-2 px-4 bg-gray-200 text-gray-700 rounded-l",children:"<<"}),S.jsx("button",{onClick:()=>c(),disabled:!d,className:"py-2 px-4 bg-gray-200 text-gray-700",children:"<"}),S.jsx("button",{onClick:()=>l(),disabled:!u,className:"py-2 px-4 bg-gray-200 text-gray-700",children:">"}),S.jsx("button",{onClick:()=>p(h-1),disabled:!u,className:"py-2 px-4 bg-gray-200 text-gray-700 rounded-r",children:">>"}),S.jsxs("span",{className:"text-gray-700",children:["Page"," ",S.jsxs("strong",{children:[m+1," of ",a.length]})," "]}),S.jsxs("span",{className:"text-gray-700",children:["| Go to page:"," ",S.jsx("input",{type:"number",defaultValue:m+1,onChange:f=>{const b=f.target.value?Number(f.target.value)-1:0;p(b)},className:"w-20 py-1 px-2 text-gray-700 rounded"})]})]})]})}function Voe(){var M;const t=yl(z=>z),e=bp(),n=Qi(),[r,s]=Q.useState(!1),[i,a]=Q.useState(0),[o,l]=Q.useState({}),[c,u]=Q.useState(0);Q.useState([]);const[d,h]=Q.useState([]),[p,m]=Q.useState([]),[f,b]=Q.useState(null),[w,g]=Q.useState({name:"",email:"",address:"",userType:"",password:""}),C=[{Header:"Index",accessor:"Key"},{Header:"Name",accessor:"Record.Name"},{Header:"Mode",accessor:"Record.Email"},{Header:"User Type",accessor:"Record.User_Type"},{Header:"Action",Cell:({row:z})=>S.jsx(zoe,{className:"text-red-600",onClick:()=>N(z.original.Key)})}],k=z=>{const{name:W,value:V}=z.target;g(q=>({...q,[W]:V}))},N=z=>{alert(z)};async function A(){var V,q,H;const z=await Yv.fetchuser((V=t.authAdmin)==null?void 0:V.admin),W=O((q=z.data)==null?void 0:q.success);l(W),h((H=z.data)==null?void 0:H.success)}function O(z){const W=[];return a(z.length),z.forEach(V=>{console.log(V);const q=V.Record.User_Type;console.log(q),W[q]=W[q]?W[q]+1:1,console.log(W[q]),console.log(W)}),W}async function R(){var W,V,q,H;const z=await Yv.fetchproduct((W=t.authAdmin)==null?void 0:W.admin);m((V=z==null?void 0:z.data)==null?void 0:V.success),u((H=(q=z==null?void 0:z.data)==null?void 0:q.success)==null?void 0:H.length)}Q.useEffect(()=>{A(),R()},[]);function $(){}Q.useState(!1),Q.useState(!1);const D=z=>{alert("hello");const W=z.target.files[0];b(W),console.log(W)},B=async z=>{var q;z.preventDefault();const W=new FormData;console.log("file"),console.log(f),W.append("file",f),W.append("name",w.name),W.append("id",(q=t.authAdmin)==null?void 0:q.admin),W.append("email",w.email),W.append("address",w.address),W.append("userType",w.userType),W.append("password",w.password);const V=await Yv.createUserAdd(W);console.log(V),s(!1),g({name:"",email:"",address:"",userType:""})};return S.jsxs(Ta,{fluid:!0,children:[S.jsxs(ki,{className:"bg-title",children:[S.jsx(er,{lg:3,md:4,sm:4,xs:12,children:S.jsxs("h4",{className:"page-title",children:["Dashboard of ",(M=t.authAdmin)==null?void 0:M.admin]})}),S.jsx(er,{lg:9,md:8,sm:8,xs:12,children:t.authAdmin.isAdminAuthenticated?S.jsx(dn,{onClick:()=>{e(_oe()),n("/")},className:"pull-right m-l-20 btn-info btn-rounded btn-outline hidden-xs hidden-sm waves-effect waves-light",children:"Log out"}):S.jsx(dn,{onClick:()=>{e(a9("jerry"))},className:"pull-right m-l-20 btn-info btn-rounded btn-outline hidden-xs hidden-sm waves-effect waves-light",children:"Log in"})})]}),S.jsxs(ki,{children:[S.jsx(er,{lg:4,sm:6,children:S.jsxs("div",{className:"white-box",children:[S.jsx("h3",{className:"box-title",children:"Users"}),S.jsxs("ul",{className:"list-inline two-part",children:[S.jsx("li",{children:S.jsx("i",{className:"icon-user text-info"})}),S.jsx("li",{className:"text-right",children:S.jsx("span",{className:"counter text-info",children:i})})]})]})}),S.jsx(er,{lg:4,sm:6,children:S.jsxs("div",{className:"white-box",children:[S.jsx("h3",{className:"box-title",children:"Total Roles"}),S.jsxs("ul",{className:"list-inline two-part",children:[S.jsx("li",{children:S.jsx("i",{className:"icon-graduation text-purple"})}),S.jsx("li",{className:"text-right",children:S.jsx("span",{className:"counter text-purple",children:t.count.value})})]})]})}),S.jsx(er,{lg:4,sm:6,children:S.jsxs("div",{className:"white-box",children:[S.jsx("h3",{className:"box-title",children:"Total Batches"}),S.jsxs("ul",{className:"list-inline two-part",children:[S.jsx("li",{children:S.jsx("i",{className:"icon-doc text-success"})}),S.jsx("li",{className:"text-right",children:S.jsx("span",{className:"counter text-success",children:c})})]})]})}),S.jsx(er,{lg:12,m:1,children:S.jsx(dn,{className:"btn btn-info pull-right m-l-20 btn-rounded btn-outline hidden-xs hidden-sm waves-effect waves-light",onClick:()=>{n("statistics")},children:"View Details"})})]}),S.jsx(ki,{children:S.jsx(er,{md:12,children:S.jsxs("div",{className:"alert alert-info white-box",id:"divOngoingTransaction",style:{display:"none"},children:["Ongoing Transaction: ",S.jsx("span",{id:"linkOngoingTransaction",children:"None"})," "]})})}),S.jsx(ki,{children:S.jsxs(er,{md:12,lg:12,sm:12,xs:12,children:[S.jsx(dn,{className:"btn btn-info pull-right m-l-20 btn-rounded btn-outline hidden-xs hidden-sm waves-effect waves-light",onClick:$,children:"Create Batch"}),S.jsxs("div",{className:"white-box",children:[S.jsx("h3",{className:"box-title",children:"Batches Overview"}),S.jsx("div",{className:"table-responsive",children:S.jsx("div",{id:"batchcontainer",children:S.jsxs(Wo,{className:"product-overview",id:"adminCultivationTable",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Batch ID"}),S.jsx("th",{children:"Farmer"}),S.jsx("th",{children:"Exporter"}),S.jsx("th",{children:"Importer"}),S.jsx("th",{children:"Logistic"}),S.jsx("th",{children:"Retail"}),S.jsx("th",{children:"Status"}),S.jsx("th",{children:"view"})]})}),S.jsx("tbody",{children:p==null?void 0:p.map(z=>{var W,V,q,H;return S.jsxs("tr",{children:[S.jsx("td",{children:z.Record.name}),S.jsx("td",{children:(W=z.Record.producer)==null?void 0:W.id}),S.jsx("td",{children:(V=z.Record.importer)==null?void 0:V.id}),S.jsx("td",{children:(q=z.Record.logistic)==null?void 0:q.id}),S.jsx("td",{children:(H=z.Record.producer)==null?void 0:H.id}),S.jsx("td",{children:z.Record.status}),S.jsx("td",{children:z.Record.status}),S.jsx("td",{children:z.Record.status})]},z.Key)})})]})})})]})]})}),S.jsxs(ki,{children:[S.jsx(er,{md:12,lg:4,sm:12,children:S.jsxs("div",{className:"white-box",children:[S.jsx("h3",{className:"box-title",children:"User Roles"}),S.jsx("div",{className:"table-responsive",children:S.jsxs(Wo,{className:"product-overview",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Role Name"}),S.jsx("th",{children:"Role Slug"}),S.jsx("th",{children:"Count"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"Admin"}),S.jsx("td",{children:S.jsx("span",{className:"label label-danger font-weight-100",children:"Admin"})}),S.jsx("td",{children:o==null?void 0:o.admin})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Farmer"}),S.jsx("td",{children:S.jsx("span",{className:"label label-info font-weight-100",children:"FARMER"})}),S.jsx("td",{children:o==null?void 0:o.manufacturer})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"exporter"}),S.jsx("td",{children:S.jsx("span",{className:"label label-success font-weight-100",children:"EXPORTER"})}),S.jsx("td",{children:o==null?void 0:o.exporter})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Importer"}),S.jsx("td",{children:S.jsx("span",{className:"label label-warning font-weight-100",children:"IMPORTER"})}),S.jsx("td",{children:o==null?void 0:o.importer})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Logistic"}),S.jsx("td",{children:S.jsx("span",{className:"label label-danger font-weight-100",children:"LOGISTIC"})}),S.jsx("td",{children:o==null?void 0:o.logistic})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Retailer"}),S.jsx("td",{children:S.jsx("span",{className:"label label-default font-weight-100",children:"Retailer"})}),S.jsx("td",{children:o==null?void 0:o.retailer})]})]})]})})]})}),S.jsxs(er,{md:12,lg:8,sm:12,children:[S.jsx(dn,{className:"btn btn-info pull-right m-l-20 btn-rounded btn-outline hidden-xs hidden-sm waves-effect waves-light",id:"userFormClick",onClick:()=>s(!0),children:"Create User"}),S.jsxs("div",{className:"white-box",children:[S.jsx("h3",{className:"box-title",children:"Users"}),S.jsx("div",{className:"table-responsive",id:"tblUserdiv",children:S.jsx(f9,{data:d,columns:C})})]})]})]}),S.jsxs(ln,{show:r,toggle:()=>s(!1),children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{children:"Add User"})}),S.jsx(ln.Body,{children:S.jsxs("form",{children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"First Name"}),S.jsx("input",{type:"text",name:"name",value:w.name,onChange:k,className:"form-control",placeholder:"Name",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Email"}),S.jsx("input",{type:"email",name:"email",value:w.email,onChange:k,className:"form-control",placeholder:"name@domain.com",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Address"}),S.jsx("input",{type:"text",name:"address",value:w.address,onChange:k,className:"form-control",placeholder:"Address",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Password"}),S.jsx("input",{type:"text",name:"password",value:w.password,onChange:k,className:"form-control",placeholder:"password",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Role"}),S.jsxs("select",{name:"userType",value:w.userType,onChange:k,className:"form-control",children:[S.jsx("option",{value:"",children:"Select Role"}),S.jsx("option",{value:"manufacturer",children:"Farmer"}),S.jsx("option",{value:"exporter",children:"Exporter"}),S.jsx("option",{value:"importer",children:"Importer"}),S.jsx("option",{value:"logistic",children:"Logistic"}),S.jsx("option",{value:"retailer",children:"Retailer"})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Profile Pic"}),S.jsx("div",{className:"form-group",children:S.jsx("input",{type:"file",name:"file",onChange:D})})]})]})}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>s(!1),children:"Close"}),S.jsx(dn,{variant:"primary",onClick:B,children:"Save changes"})]})]})]})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Rb(t){return t+.5|0}const ed=(t,e,n)=>Math.max(Math.min(t,n),e);function wv(t){return ed(Rb(t*2.55),0,255)}function kd(t){return ed(Rb(t*255),0,255)}function Yc(t){return ed(Rb(t/2.55)/100,0,1)}function dL(t){return ed(Rb(t*100),0,100)}const ca={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zA=[..."0123456789ABCDEF"],Goe=t=>zA[t&15],Hoe=t=>zA[(t&240)>>4]+zA[t&15],I1=t=>(t&240)>>4===(t&15),Yoe=t=>I1(t.r)&&I1(t.g)&&I1(t.b)&&I1(t.a);function qoe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ca[t[1]]*17,g:255&ca[t[2]]*17,b:255&ca[t[3]]*17,a:e===5?ca[t[4]]*17:255}:(e===7||e===9)&&(n={r:ca[t[1]]<<4|ca[t[2]],g:ca[t[3]]<<4|ca[t[4]],b:ca[t[5]]<<4|ca[t[6]],a:e===9?ca[t[7]]<<4|ca[t[8]]:255})),n}const Xoe=(t,e)=>t<255?e(t):"";function Koe(t){var e=Yoe(t)?Goe:Hoe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Xoe(t.a,e):void 0}const Joe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function p9(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function Qoe(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Zoe(t,e,n){const r=p9(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function eae(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function c$(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),o=(i+a)/2;let l,c,u;return i!==a&&(u=i-a,c=o>.5?u/(2-i-a):u/(i+a),l=eae(n,r,s,u,i),l=l*60+.5),[l|0,c||0,o]}function u$(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(kd)}function d$(t,e,n){return u$(p9,t,e,n)}function tae(t,e,n){return u$(Zoe,t,e,n)}function nae(t,e,n){return u$(Qoe,t,e,n)}function m9(t){return(t%360+360)%360}function rae(t){const e=Joe.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?wv(+e[5]):kd(+e[5]));const s=m9(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=tae(s,i,a):e[1]==="hsv"?r=nae(s,i,a):r=d$(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function sae(t,e){var n=c$(t);n[0]=m9(n[0]+e),n=d$(n),t.r=n[0],t.g=n[1],t.b=n[2]}function iae(t){if(!t)return;const e=c$(t),n=e[0],r=dL(e[1]),s=dL(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Yc(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const hL={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fL={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oae(){const t={},e=Object.keys(fL),n=Object.keys(hL);let r,s,i,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],s=0;s<n.length;s++)i=n[s],o=o.replace(i,hL[i]);i=parseInt(fL[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let A1;function aae(t){A1||(A1=oae(),A1.transparent=[0,0,0,0]);const e=A1[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const lae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cae(t){const e=lae.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?wv(a):ed(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?wv(r):ed(r,0,255)),s=255&(e[4]?wv(s):ed(s,0,255)),i=255&(e[6]?wv(i):ed(i,0,255)),{r,g:s,b:i,a:n}}}function uae(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Yc(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const wT=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Up=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function dae(t,e,n){const r=Up(Yc(t.r)),s=Up(Yc(t.g)),i=Up(Yc(t.b));return{r:kd(wT(r+n*(Up(Yc(e.r))-r))),g:kd(wT(s+n*(Up(Yc(e.g))-s))),b:kd(wT(i+n*(Up(Yc(e.b))-i))),a:t.a+n*(e.a-t.a)}}function N1(t,e,n){if(t){let r=c$(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=d$(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function g9(t,e){return t&&Object.assign(e||{},t)}function pL(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=kd(t[3]))):(e=g9(t,{r:0,g:0,b:0,a:1}),e.a=kd(e.a)),e}function hae(t){return t.charAt(0)==="r"?cae(t):rae(t)}class Dy{constructor(e){if(e instanceof Dy)return e;const n=typeof e;let r;n==="object"?r=pL(e):n==="string"&&(r=qoe(e)||aae(e)||hae(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=g9(this._rgb);return e&&(e.a=Yc(e.a)),e}set rgb(e){this._rgb=pL(e)}rgbString(){return this._valid?uae(this._rgb):void 0}hexString(){return this._valid?Koe(this._rgb):void 0}hslString(){return this._valid?iae(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,o=2*a-1,l=r.a-s.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=dae(this._rgb,e._rgb,n)),this}clone(){return new Dy(this.rgb)}alpha(e){return this._rgb.a=kd(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Rb(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return N1(this._rgb,2,e),this}darken(e){return N1(this._rgb,2,-e),this}saturate(e){return N1(this._rgb,1,e),this}desaturate(e){return N1(this._rgb,1,-e),this}rotate(e){return sae(this._rgb,e),this}}/*!
 * Chart.js v4.2.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function jc(){}const fae=(()=>{let t=0;return()=>t++})();function pr(t){return t===null||typeof t>"u"}function Zr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Qn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Xs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function jo(t,e){return Xs(t)?t:e}function Pn(t,e){return typeof t>"u"?e:t}const pae=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,v9=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ir(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function fr(t,e,n,r){let s,i,a;if(Zr(t))if(i=t.length,r)for(s=i-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<i;s++)e.call(n,t[s],s);else if(Qn(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function L_(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function F_(t){if(Zr(t))return t.map(F_);if(Qn(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=F_(t[n[s]]);return e}return t}function y9(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mae(t,e,n,r){if(!y9(t))return;const s=e[t],i=n[t];Qn(s)&&Qn(i)?Py(s,i,r):e[t]=F_(i)}function Py(t,e,n){const r=Zr(e)?e:[e],s=r.length;if(!Qn(t))return t;n=n||{};const i=n.merger||mae;let a;for(let o=0;o<s;++o){if(a=r[o],!Qn(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)i(l[c],t,a,n)}return t}function qv(t,e){return Py(t,e,{merger:gae})}function gae(t,e,n){if(!y9(t))return;const r=e[t],s=n[t];Qn(r)&&Qn(s)?qv(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=F_(s))}const mL={"":t=>t,x:t=>t.x,y:t=>t.y};function vae(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function yae(t){const e=vae(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Jf(t,e){return(mL[e]||(mL[e]=yae(e)))(t)}function h$(t){return t.charAt(0).toUpperCase()+t.slice(1)}const $a=t=>typeof t<"u",Bd=t=>typeof t=="function",gL=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function bae(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const os=Math.PI,es=2*os,xae=es+os,j_=Number.POSITIVE_INFINITY,wae=os/180,cs=os/2,Jh=os/4,vL=os*2/3,td=Math.log10,ec=Math.sign;function Xv(t,e,n){return Math.abs(t-e)<n}function yL(t){const e=Math.round(t);t=Xv(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(td(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function _ae(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function My(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Sae(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function b9(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Gl(t){return t*(os/180)}function f$(t){return t*(180/os)}function bL(t){if(!Xs(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function x9(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*os&&(i+=es),{angle:i,distance:s}}function UA(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Cae(t,e){return(t-e+xae)%es-os}function il(t){return(t%es+es)%es}function By(t,e,n,r){const s=il(t),i=il(e),a=il(n),o=il(i-s),l=il(a-s),c=il(s-i),u=il(s-a);return s===i||s===a||r&&i===a||o>l&&c<u}function Ti(t,e,n){return Math.max(e,Math.min(n,t))}function kae(t){return Ti(t,-32768,32767)}function nd(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function p$(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Ef=(t,e,n,r)=>p$(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),Eae=(t,e,n)=>p$(t,n,r=>t[r][e]>=n);function Tae(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const w9=["push","pop","shift","splice","unshift"];function Iae(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),w9.forEach(n=>{const r="_onData"+h$(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),a}})})}function xL(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(w9.forEach(i=>{delete t[i]}),delete t._chartjs)}function _9(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}const S9=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function C9(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,S9.call(window,()=>{r=!1,t.apply(e,n)}))}}function Aae(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const m$=t=>t==="start"?"left":t==="end"?"right":"center",xi=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Nae=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Rae(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,_parsed:o}=t,l=a.axis,{min:c,max:u,minDefined:d,maxDefined:h}=a.getUserBounds();d&&(s=Ti(Math.min(Ef(o,a.axis,c).lo,n?r:Ef(e,l,a.getPixelForValue(c)).lo),0,r-1)),h?i=Ti(Math.max(Ef(o,a.axis,u,!0).hi+1,n?0:Ef(e,l,a.getPixelForValue(u),!0).hi+1),s,r)-s:i=r-s}return{start:s,count:i}}function Oae(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const R1=t=>t===0||t===1,wL=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*es/n)),_L=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*es/n)+1,Kv={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*cs)+1,easeOutSine:t=>Math.sin(t*cs),easeInOutSine:t=>-.5*(Math.cos(os*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>R1(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>R1(t)?t:wL(t,.075,.3),easeOutElastic:t=>R1(t)?t:_L(t,.075,.3),easeInOutElastic(t){return R1(t)?t:t<.5?.5*wL(t*2,.1125,.45):.5+.5*_L(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Kv.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Kv.easeInBounce(t*2)*.5:Kv.easeOutBounce(t*2-1)*.5+.5};function k9(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function SL(t){return k9(t)?t:new Dy(t)}function _T(t){return k9(t)?t:new Dy(t).saturate(.5).darken(.1).hexString()}const $ae=["x","y","borderWidth","radius","tension"],Dae=["color","borderColor","backgroundColor"];function Pae(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Dae},numbers:{type:"number",properties:$ae}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Mae(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const CL=new Map;function Bae(t,e){e=e||{};const n=t+JSON.stringify(e);let r=CL.get(n);return r||(r=new Intl.NumberFormat(t,e),CL.set(n,r)),r}function CC(t,e,n){return Bae(e,n).format(t)}const E9={values(t){return Zr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=Lae(t,n)}const a=td(Math.abs(i)),o=Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),CC(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(td(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?E9.numeric.call(this,t,e,n):""}};function Lae(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var kC={formatters:E9};function Fae(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Qf=Object.create(null),WA=Object.create(null);function Jv(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function ST(t,e,n){return typeof e=="string"?Py(Jv(t,e),n):Py(Jv(t,""),e)}class jae{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>_T(s.backgroundColor),this.hoverBorderColor=(r,s)=>_T(s.borderColor),this.hoverColor=(r,s)=>_T(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ST(this,e,n)}get(e){return Jv(this,e)}describe(e,n){return ST(WA,e,n)}override(e,n){return ST(Qf,e,n)}route(e,n,r,s){const i=Jv(this,e),a=Jv(this,r),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[s];return Qn(l)?Object.assign({},c,l):Pn(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var xs=new jae({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Pae,Mae,Fae]);function zae(t){return!t||pr(t.size)||pr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function z_(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Uae(t,e,n,r){r=r||{};let s=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(s=r.data={},i=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const o=n.length;let l,c,u,d,h;for(l=0;l<o;l++)if(d=n[l],d!=null&&Zr(d)!==!0)a=z_(t,s,i,a,d);else if(Zr(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Zr(h)&&(a=z_(t,s,i,a,h));t.restore();const p=i.length/2;if(p>n.length){for(l=0;l<p;l++)delete s[i[l]];i.splice(0,p)}return a}function Qh(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function kL(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function VA(t,e,n,r){T9(t,e,n,r,null)}function T9(t,e,n,r,s){let i,a,o,l,c,u,d,h;const p=e.pointStyle,m=e.rotation,f=e.radius;let b=(m||0)*wae;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(f)||f<=0)){switch(t.beginPath(),p){default:s?t.ellipse(n,r,s/2,f,0,0,es):t.arc(n,r,f,0,es),t.closePath();break;case"triangle":u=s?s/2:f,t.moveTo(n+Math.sin(b)*u,r-Math.cos(b)*f),b+=vL,t.lineTo(n+Math.sin(b)*u,r-Math.cos(b)*f),b+=vL,t.lineTo(n+Math.sin(b)*u,r-Math.cos(b)*f),t.closePath();break;case"rectRounded":c=f*.516,l=f-c,a=Math.cos(b+Jh)*l,d=Math.cos(b+Jh)*(s?s/2-c:l),o=Math.sin(b+Jh)*l,h=Math.sin(b+Jh)*(s?s/2-c:l),t.arc(n-d,r-o,c,b-os,b-cs),t.arc(n+h,r-a,c,b-cs,b),t.arc(n+d,r+o,c,b,b+cs),t.arc(n-h,r+a,c,b+cs,b+os),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*f,u=s?s/2:l,t.rect(n-u,r-l,2*u,2*l);break}b+=Jh;case"rectRot":d=Math.cos(b)*(s?s/2:f),a=Math.cos(b)*f,o=Math.sin(b)*f,h=Math.sin(b)*(s?s/2:f),t.moveTo(n-d,r-o),t.lineTo(n+h,r-a),t.lineTo(n+d,r+o),t.lineTo(n-h,r+a),t.closePath();break;case"crossRot":b+=Jh;case"cross":d=Math.cos(b)*(s?s/2:f),a=Math.cos(b)*f,o=Math.sin(b)*f,h=Math.sin(b)*(s?s/2:f),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a);break;case"star":d=Math.cos(b)*(s?s/2:f),a=Math.cos(b)*f,o=Math.sin(b)*f,h=Math.sin(b)*(s?s/2:f),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a),b+=Jh,d=Math.cos(b)*(s?s/2:f),a=Math.cos(b)*f,o=Math.sin(b)*f,h=Math.sin(b)*(s?s/2:f),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a);break;case"line":a=s?s/2:Math.cos(b)*f,o=Math.sin(b)*f,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:f),r+Math.sin(b)*f);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ly(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function g$(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function v$(t){t.restore()}function Wae(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Vae(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Zf(t,e,n,r,s,i={}){const a=Zr(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,Gae(t,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&Yae(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),pr(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),Hae(t,n,r,c,i),r+=s.lineHeight;t.restore()}function Gae(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),pr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Hae(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function Yae(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Fy(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-cs,os,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,os,cs,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,cs,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-cs,!0),t.lineTo(n+a.topLeft,r)}const qae=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Xae=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Kae(t,e){const n=(""+t).match(qae);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Jae=t=>+t||0;function y$(t,e){const n={},r=Qn(e),s=r?Object.keys(e):e,i=Qn(t)?r?a=>Pn(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=Jae(i(a));return n}function I9(t){return y$(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Mf(t){return y$(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ni(t){const e=I9(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ms(t,e){t=t||{},e=e||xs.font;let n=Pn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Pn(t.style,e.style);r&&!(""+r).match(Xae)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Pn(t.family,e.family),lineHeight:Kae(Pn(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Pn(t.weight,e.weight),string:""};return s.string=zae(s),s}function O1(t,e,n,r){let s=!0,i,a,o;for(i=0,a=t.length;i<a;++i)if(o=t[i],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),s=!1),n!==void 0&&Zr(o)&&(o=o[n%o.length],s=!1),o!==void 0))return r&&!s&&(r.cacheable=!1),o}function Qae(t,e,n){const{min:r,max:s}=t,i=v9(e,(s-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function th(t,e){return Object.assign(Object.create(t),e)}function b$(t,e=[""],n=t,r,s=()=>t[0]){$a(r)||(r=O9("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:s,override:a=>b$([a,...t],e,n,r)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete a._keys,delete t[0][o],!0},get(a,o){return N9(a,o,()=>ole(o,e,t,a))},getOwnPropertyDescriptor(a,o){return Reflect.getOwnPropertyDescriptor(a._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,o){return TL(a).includes(o)},ownKeys(a){return TL(a)},set(a,o,l){const c=a._storage||(a._storage=s());return a[o]=c[o]=l,delete a._keys,!0}})}function Km(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:A9(t,r),setContext:i=>Km(t,i,n,r),override:i=>Km(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return N9(i,a,()=>ele(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function A9(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Bd(n)?n:()=>n,isIndexable:Bd(r)?r:()=>r}}const Zae=(t,e)=>t?t+h$(e):e,x$=(t,e)=>Qn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function N9(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function ele(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let o=r[e];return Bd(o)&&a.isScriptable(e)&&(o=tle(e,o,t,n)),Zr(o)&&o.length&&(o=nle(e,o,t,a.isIndexable)),x$(e,o)&&(o=Km(o,s,i&&i[e],a)),o}function tle(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);return o.add(t),e=e(i,a||r),o.delete(t),x$(t,e)&&(e=w$(s._scopes,s,t,e)),e}function nle(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=n;if($a(i.index)&&r(t))e=e[i.index%e.length];else if(Qn(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=w$(c,s,t,u);e.push(Km(d,i,a&&a[t],o))}}return e}function R9(t,e,n){return Bd(t)?t(e,n):t}const rle=(t,e)=>t===!0?e:typeof t=="string"?Jf(e,t):void 0;function sle(t,e,n,r,s){for(const i of e){const a=rle(n,i);if(a){t.add(a);const o=R9(a._fallback,n,s);if($a(o)&&o!==n&&o!==r)return o}else if(a===!1&&$a(r)&&n!==r)return null}return!1}function w$(t,e,n,r){const s=e._rootScopes,i=R9(e._fallback,n,r),a=[...t,...s],o=new Set;o.add(r);let l=EL(o,a,n,i||n,r);return l===null||$a(i)&&i!==n&&(l=EL(o,a,i,l,r),l===null)?!1:b$(Array.from(o),[""],s,i,()=>ile(e,n,r))}function EL(t,e,n,r,s){for(;n;)n=sle(t,e,n,r,s);return n}function ile(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Zr(s)&&Qn(n)?n:s||{}}function ole(t,e,n,r){let s;for(const i of e)if(s=O9(Zae(i,t),n),$a(s))return x$(t,s)?w$(n,r,t,s):s}function O9(t,e){for(const n of e){if(!n)continue;const r=n[t];if($a(r))return r}}function TL(t){let e=t._keys;return e||(e=t._keys=ale(t._scopes)),e}function ale(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const lle=Number.EPSILON||1e-14,Jm=(t,e)=>e<t.length&&!t[e].skip&&t[e],$9=t=>t==="x"?"y":"x";function cle(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,o=UA(i,s),l=UA(a,i);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:i.x-d*(a.x-s.x),y:i.y-d*(a.y-s.y)},next:{x:i.x+h*(a.x-s.x),y:i.y+h*(a.y-s.y)}}}function ule(t,e,n){const r=t.length;let s,i,a,o,l,c=Jm(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Jm(t,u+1),!(!l||!c)){if(Xv(e[u],0,lle)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],i=n[u+1]/e[u],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),n[u]=s*a*e[u],n[u+1]=i*a*e[u])}}function dle(t,e,n="x"){const r=$9(n),s=t.length;let i,a,o,l=Jm(t,0);for(let c=0;c<s;++c){if(a=o,o=l,l=Jm(t,c+1),!o)continue;const u=o[n],d=o[r];a&&(i=(u-a[n])/3,o[`cp1${n}`]=u-i,o[`cp1${r}`]=d-i*e[c]),l&&(i=(l[n]-u)/3,o[`cp2${n}`]=u+i,o[`cp2${r}`]=d+i*e[c])}}function hle(t,e="x"){const n=$9(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,o,l,c=Jm(t,0);for(a=0;a<r;++a)if(o=l,l=c,c=Jm(t,a+1),!!l){if(c){const u=c[e]-l[e];s[a]=u!==0?(c[n]-l[n])/u:0}i[a]=o?c?ec(s[a-1])!==ec(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}ule(t,s,i),dle(t,i,e)}function $1(t,e,n){return Math.max(Math.min(t,n),e)}function fle(t,e){let n,r,s,i,a,o=Ly(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=o,o=n<r-1&&Ly(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=$1(s.cp1x,e.left,e.right),s.cp1y=$1(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=$1(s.cp2x,e.left,e.right),s.cp2y=$1(s.cp2y,e.top,e.bottom)))}function ple(t,e,n,r,s){let i,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")hle(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],l=cle(c,o,t[Math.min(i+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&fle(t,n)}function D9(){return typeof window<"u"&&typeof document<"u"}function _$(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function U_(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const EC=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function mle(t,e){return EC(t).getPropertyValue(e)}const gle=["top","right","bottom","left"];function Bf(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=gle[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const vle=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function yle(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,o,l;if(vle(s,i,t.target))o=s,l=i;else{const c=e.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function pf(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=EC(n),i=s.boxSizing==="border-box",a=Bf(s,"padding"),o=Bf(s,"border","width"),{x:l,y:c,box:u}=yle(t,n),d=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:p,height:m}=e;return i&&(p-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-h)/m*n.height/r)}}function ble(t,e,n){let r,s;if(e===void 0||n===void 0){const i=_$(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),o=EC(i),l=Bf(o,"border","width"),c=Bf(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,r=U_(o.maxWidth,i,"clientWidth"),s=U_(o.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||j_,maxHeight:s||j_}}const D1=t=>Math.round(t*10)/10;function xle(t,e,n,r){const s=EC(t),i=Bf(s,"margin"),a=U_(s.maxWidth,t,"clientWidth")||j_,o=U_(s.maxHeight,t,"clientHeight")||j_,l=ble(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const h=Bf(s,"border","width"),p=Bf(s,"padding");c-=p.width+h.width,u-=p.height+h.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=D1(Math.min(c,a,l.maxWidth)),u=D1(Math.min(u,o,l.maxHeight)),c&&!u&&(u=D1(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=D1(Math.floor(u*r))),{width:c,height:u}}function IL(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const wle=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function AL(t,e){const n=mle(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function mf(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _le(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Sle(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=mf(t,s,n),o=mf(s,i,n),l=mf(i,e,n),c=mf(a,o,n),u=mf(o,l,n);return mf(c,u,n)}const Cle=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},kle=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function km(t,e,n){return t?Cle(e,n):kle()}function P9(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function M9(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function B9(t){return t==="angle"?{between:By,compare:Cae,normalize:il}:{between:nd,compare:(e,n)=>e-n,normalize:e=>e}}function NL({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function Ele(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:o}=B9(r),l=e.length;let{start:c,end:u,loop:d}=t,h,p;if(d){for(c+=l,u+=l,h=0,p=l;h<p&&a(o(e[c%l][r]),s,i);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Tle(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:o,between:l,normalize:c}=B9(r),{start:u,end:d,loop:h,style:p}=Ele(t,e,n),m=[];let f=!1,b=null,w,g,C;const k=()=>l(s,C,w)&&o(s,C)!==0,N=()=>o(i,w)===0||l(i,C,w),A=()=>f||k(),O=()=>!f||N();for(let R=u,$=u;R<=d;++R)g=e[R%a],!g.skip&&(w=c(g[r]),w!==C&&(f=l(w,s,i),b===null&&A()&&(b=o(w,s)===0?R:$),b!==null&&O()&&(m.push(NL({start:b,end:R,loop:h,count:a,style:p})),b=null),$=R,C=w));return b!==null&&m.push(NL({start:b,end:d,loop:h,count:a,style:p})),m}function Ile(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=Tle(r[s],t.points,e);i.length&&n.push(...i)}return n}function Ale(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function Nle(t,e,n,r){const s=t.length,i=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?o.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function Rle(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:o}=Ale(n,s,i,r);if(r===!0)return RL(t,[{start:a,end:o,loop:i}],n,e);const l=o<a?o+s:o,c=!!t._fullLoop&&a===0&&o===s-1;return RL(t,Nle(n,a,l,c),n,e)}function RL(t,e,n,r){return!r||!r.setContext||!n?e:Ole(t,e,n,r)}function Ole(t,e,n,r){const s=t._chart.getContext(),i=OL(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let u=i,d=e[0].start,h=d;function p(m,f,b,w){const g=o?-1:1;if(m!==f){for(m+=l;n[m%l].skip;)m-=g;for(;n[f%l].skip;)f+=g;m%l!==f%l&&(c.push({start:m%l,end:f%l,loop:b,style:w}),u=w,d=f%l)}}for(const m of e){d=o?d:m.start;let f=n[d%l],b;for(h=d+1;h<=m.end;h++){const w=n[h%l];b=OL(r.setContext(th(s,{type:"segment",p0:f,p1:w,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),$le(b,u)&&p(d,h-1,m.loop,u),f=w,u=b}d<h-1&&p(d,h-1,m.loop,u)}return c}function OL(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function $le(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v4.2.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Dle{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=S9.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Wc=new Dle;const $L="transparent",Ple={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=SL(t||$L),s=r.valid&&SL(e||$L);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Mle{constructor(e,n,r,s){const i=n[r];s=O1([e.to,s,i,e.from]);const a=O1([e.from,i,s]);this._active=!0,this._fn=e.fn||Ple[e.type||typeof a],this._easing=Kv[e.easing]||Kv.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=O1([e.to,n,s,e.from]),this._from=O1([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||n<r),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class L9{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Qn(e))return;const n=Object.keys(xs.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Qn(i))return;const a={};for(const o of n)a[o]=i[o];(Zr(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,s=Lle(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&Ble(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let d=i[c];const h=r.get(c);if(d)if(h&&d.active()){d.update(h,u,o);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}i[c]=d=new Mle(h,e,c,u),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Wc.add(this._chart,r),!0}}function Ble(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function Lle(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function DL(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function Fle(t,e,n){if(n===!1)return!1;const r=DL(t,n),s=DL(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function jle(t){let e,n,r,s;return Qn(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function F9(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function PL(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,o,l,c;if(e!==null){for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(r.all)continue;break}c=t.values[l],Xs(c)&&(i||e===0||ec(e)===ec(c))&&(e+=c)}return e}}function zle(t){const e=Object.keys(t),n=new Array(e.length);let r,s,i;for(r=0,s=e.length;r<s;++r)i=e[r],n[r]={x:i,y:t[i]};return n}function ML(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Ule(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Wle(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Vle(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function BL(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function LL(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=r,l=i.axis,c=a.axis,u=Ule(i,a,r),d=e.length;let h;for(let p=0;p<d;++p){const m=e[p],{[l]:f,[c]:b}=m,w=m._stacks||(m._stacks={});h=w[c]=Vle(s,u,f),h[o]=b,h._top=BL(h,a,!0,r.type),h._bottom=BL(h,a,!1,r.type);const g=h._visualValues||(h._visualValues={});g[o]=b}}function CT(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Gle(t,e){return th(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Hle(t,e,n){return th(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ev(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const kT=t=>t==="reset"||t==="none",FL=(t,e)=>e?t:Object.assign({},t),Yle=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:F9(n,!0),values:null};class Lf{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ML(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ev(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(d,h,p,m)=>d==="x"?h:d==="r"?m:p,i=n.xAxisID=Pn(r.xAxisID,CT(e,"x")),a=n.yAxisID=Pn(r.yAxisID,CT(e,"y")),o=n.rAxisID=Pn(r.rAxisID,CT(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,a,o),u=n.vAxisID=s(l,a,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xL(this._data,this),e._stacked&&ev(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Qn(n))this._data=zle(n);else if(r!==n){if(r){xL(r,this);const s=this._cachedMeta;ev(s),s._parsed=[]}n&&Object.isExtensible(n)&&Iae(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=ML(n.vScale,n),n.stack!==r.stack&&(s=!0,ev(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&LL(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,o=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{Zr(s[e])?h=this.parseArrayData(r,s,e,n):Qn(s[e])?h=this.parseObjectData(r,s,e,n):h=this.parsePrimitiveData(r,s,e,n);const p=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<n;++u)r._parsed[u+e]=d=h[u],l&&(p()&&(l=!1),c=d);r._sorted=l}a&&LL(this,h)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,o=i.axis,l=a.axis,c=i.getLabels(),u=i===a,d=new Array(s);let h,p,m;for(h=0,p=s;h<p;++h)m=h+r,d[h]={[o]:u||i.parse(c[m],m),[l]:a.parse(n[m],m)};return d}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,o=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+r,d=n[u],o[l]={x:i.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,h,p;for(u=0,d=s;u<d;++u)h=u+r,p=n[h],c[u]={x:i.parse(Jf(p,o),h),y:a.parse(Jf(p,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],o={keys:F9(s,!0),values:n._stacks[e.axis]._visualValues};return PL(o,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const o=s&&r._stacks[n.axis];s&&o&&(s.values=o,a=PL(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,o=this._getOtherScale(e),l=Yle(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Wle(o);let h,p;function m(){p=s[h];const f=p[o.axis];return!Xs(p[e.axis])||u>f||d<f}for(h=0;h<a&&!(!m()&&(this.updateRangeFromParsed(c,e,p,l),i));++h);if(i){for(h=a-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Xs(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=jle(Pn(this.options.clip,Fle(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,o,l),u=o;u<o+l;++u){const d=s[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,i))}for(u=0;u<a.length;++u)a[u].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=Hle(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Gle(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,o=i[a],l=this.enableOptionSharing&&$a(r);if(o)return FL(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),p=Object.keys(xs.elements[e]),m=()=>this.getContext(r,s,n),f=c.resolveNamedOptions(h,p,m,d);return f.$shared&&(f.$shared=l,i[a]=Object.freeze(FL(f,l))),f}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,o=i[a];if(o)return o;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,r,n))}const c=new L9(s,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||kT(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){kT(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!kT(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&ev(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ut(Lf,"defaults",{}),ut(Lf,"datasetElementType",null),ut(Lf,"dataElementType",null);function qle(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=_9(r.sort((s,i)=>s-i))}return t._cache.$bar}function Xle(t){const e=t.iScale,n=qle(e,t.type);let r=e._length,s,i,a,o;const l=()=>{a===32767||a===-32768||($a(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(s=0,i=n.length;s<i;++s)a=e.getPixelForValue(n[s]),l();for(o=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),l();return r}function Kle(t,e,n,r){const s=n.barThickness;let i,a;return pr(s)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[t]-i/2}}function Jle(t,e,n,r){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const c=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}function Qle(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),a=Math.min(s,i),o=Math.max(s,i);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:i,min:a,max:o}}function j9(t,e,n,r){return Zr(t)?Qle(t,e,n,r):e[n.axis]=n.parse(t,r),e}function jL(t,e,n,r){const s=t.iScale,i=t.vScale,a=s.getLabels(),o=s===i,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=e[c],d={},d[s.axis]=o||s.parse(a[c],c),l.push(j9(h,d,i,c));return l}function ET(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Zle(t,e,n){return t!==0?ec(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function ece(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function tce(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=ece(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=u:(i[zL(u,a,o,l)]=!0,s=c)),i[zL(s,a,o,l)]=!0,t.borderSkipped=i}function zL(t,e,n,r){return r?(t=nce(t,e,n),t=UL(t,n,e)):t=UL(t,e,n),t}function nce(t,e,n){return t===e?n:t===n?e:t}function UL(t,e,n){return t==="start"?e:t==="end"?n:t}function rce(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Pw extends Lf{parsePrimitiveData(e,n,r,s){return jL(e,n,r,s)}parseArrayData(e,n,r,s){return jL(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?o:l,u=a.axis==="x"?o:l,d=[];let h,p,m,f;for(h=r,p=r+s;h<p;++h)f=n[h],m={},m[i.axis]=i.parse(Jf(f,c),h),d.push(j9(Jf(f,u),m,a,h));return d}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),a=i._custom,o=ET(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s);for(let p=n;p<n+r;p++){const m=this.getParsed(p),f=i||pr(m[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,u),w=(m._stacks||{})[o.axis],g={horizontal:c,base:f.base,enableBorderRadius:!w||ET(m._custom)||a===w._top||a===w._bottom,x:c?f.head:b.center,y:c?b.center:f.head,height:c?b.size:Math.abs(f.size),width:c?Math.abs(f.size):b.size};h&&(g.options=d||this.resolveDataElementOptions(p,e[p].active?"active":s));const C=g.options||e[p].options;tce(g,C,w,a),rce(g,C,u.ratio),this.updateElement(e[p],p,g,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),i=r.options.stacked,a=[],o=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(pr(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&o(l))&&((i===!1||a.indexOf(l.stack)===-1||i===void 0&&l.stack===void 0)&&a.push(l.stack),l.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=e.barThickness;return{min:o||Xle(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(e),c=l._custom,u=ET(c);let d=l[n.axis],h=0,p=r?this.applyStack(n,l,r):d,m,f;p!==d&&(h=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&ec(d)!==ec(c.barEnd)&&(h=0),h+=d);const b=!pr(i)&&!u?i:h;let w=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(h+p):m=w,f=m-w,Math.abs(f)<a){f=Zle(f,n,o)*a,d===o&&(w-=f/2);const g=n.getPixelForDecimal(0),C=n.getPixelForDecimal(1),k=Math.min(g,C),N=Math.max(g,C);w=Math.max(Math.min(w,N),k),m=w+f,r&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(m)-n.getValueForPixel(w))}if(w===n.getPixelForValue(o)){const g=ec(f)*n.getLineWidthForValue(o)/2;w+=g,f-=g}return{size:f,base:w,head:m,center:m+f/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,a=Pn(s.maxBarThickness,1/0);let o,l;if(n.grouped){const c=i?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?Jle(e,n,s,c):Kle(e,n,s,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);o=u.start+u.chunk*d+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&r[i].draw(this._ctx)}}ut(Pw,"id","bar"),ut(Pw,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ut(Pw,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function sce(t,e,n){let r=1,s=1,i=0,a=0;if(e<es){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),p=(C,k,N)=>By(C,o,l,!0)?1:Math.max(k,k*n,N,N*n),m=(C,k,N)=>By(C,o,l,!0)?-1:Math.min(k,k*n,N,N*n),f=p(0,c,d),b=p(cs,u,h),w=m(os,c,d),g=m(os+cs,u,h);r=(f-w)/2,s=(b-g)/2,i=-(f+w)/2,a=-(b+g)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class _v extends Lf{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(Qn(r[e])){const{key:l="value"}=this._parsing;i=c=>+Jf(r[c],l)}let a,o;for(a=e,o=e+n;a<o;++a)s._parsed[a]=i(a)}}_getRotation(){return Gl(this.options.rotation-90)}_getCircumference(){return Gl(this.options.circumference)}_getRotationExtents(){let e=es,n=-es;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(pae(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:m,offsetY:f}=sce(d,u,l),b=(r.width-a)/h,w=(r.height-a)/p,g=Math.max(Math.min(b,w)/2,0),C=v9(this.options.radius,g),k=Math.max(C*l,0),N=(C-k)/this._getVisibleDatasetWeightTotal();this.offsetX=m*C,this.offsetY=f*C,s.total=this.calculateTotal(),this.outerRadius=C-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/es)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=i&&c.animateScale,p=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:f,includeOptions:b}=this._getSharedOptions(n,s);let w=this._getRotation(),g;for(g=0;g<n;++g)w+=this._circumference(g,i);for(g=n;g<n+r;++g){const C=this._circumference(g,i),k=e[g],N={x:u+this.offsetX,y:d+this.offsetY,startAngle:w,endAngle:w+C,circumference:C,outerRadius:m,innerRadius:p};b&&(N.options=f||this.resolveDataElementOptions(g,k.active?"active":s)),w+=C,this.updateElement(k,g,N,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?es*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=CC(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,o,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,o=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=o.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Pn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ut(_v,"id","doughnut"),ut(_v,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ut(_v,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"}),ut(_v,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Mw extends Lf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=Rae(n,s,a);this._drawStart=o,this._drawCount=l,Oae(n)&&(o=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},e),this.updateElements(s,o,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),h=a.axis,p=o.axis,{spanGaps:m,segment:f}=this.options,b=My(m)?m:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||s==="none",g=n+r,C=e.length;let k=n>0&&this.getParsed(n-1);for(let N=0;N<C;++N){const A=e[N],O=w?A:{};if(N<n||N>=g){O.skip=!0;continue}const R=this.getParsed(N),$=pr(R[p]),D=O[h]=a.getPixelForValue(R[h],N),B=O[p]=i||$?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,R,l):R[p],N);O.skip=isNaN(D)||isNaN(B)||$,O.stop=N>0&&Math.abs(R[h]-k[h])>b,f&&(O.parsed=R,O.raw=c.data[N]),d&&(O.options=u||this.resolveDataElementOptions(N,A.active?"active":s)),w||this.updateElement(A,N,O,s),k=R}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ut(Mw,"id","line"),ut(Mw,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ut(Mw,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class GA extends _v{}ut(GA,"id","pie"),ut(GA,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Zh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class S${static override(e){Object.assign(S$.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return Zh()}parse(){return Zh()}format(){return Zh()}add(){return Zh()}diff(){return Zh()}startOf(){return Zh()}endOf(){return Zh()}}var ice={_date:S$};function oce(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,o=s._cachedMeta.iScale;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const l=o._reversePixels?Eae:Ef;if(r){if(s._sharedOptions){const c=i[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(i,e,n-u),h=l(i,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(i,e,n)}return{lo:0,hi:i.length-1}}function Ob(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=i.length;o<l;++o){const{index:c,data:u}=i[o],{lo:d,hi:h}=oce(i[o],e,a,s);for(let p=d;p<=h;++p){const m=u[p];m.skip||r(m,c,p)}}}function ace(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function TT(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Ob(t,n,e,function(o,l,c){!s&&!Ly(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&i.push({element:o,datasetIndex:l,index:c})},!0),i}function lce(t,e,n,r){let s=[];function i(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],r),{angle:d}=x9(a,{x:e.x,y:e.y});By(d,c,u)&&s.push({element:a,datasetIndex:o,index:l})}return Ob(t,n,e,i),s}function cce(t,e,n,r,s,i){let a=[];const o=ace(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const p=u.inRange(e.x,e.y,s);if(r&&!p)return;const m=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(m))&&!p)return;const b=o(e,m);b<l?(a=[{element:u,datasetIndex:d,index:h}],l=b):b===l&&a.push({element:u,datasetIndex:d,index:h})}return Ob(t,n,e,c),a}function IT(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?lce(t,e,n,s):cce(t,e,n,r,s,i)}function WL(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return Ob(t,n,e,(l,c,u)=>{l[a](e[n],s)&&(i.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,s))}),r&&!o?[]:i}var uce={evaluateInteractionItems:Ob,modes:{index(t,e,n,r){const s=pf(e,t),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?TT(t,s,i,r,a):IT(t,s,i,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const s=pf(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?TT(t,s,i,r,a):IT(t,s,i,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,n,r){const s=pf(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return TT(t,s,i,r,a)},nearest(t,e,n,r){const s=pf(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return IT(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=pf(e,t);return WL(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=pf(e,t);return WL(t,s,"y",n.intersect,r)}}};const z9=["left","top","right","bottom"];function tv(t,e){return t.filter(n=>n.pos===e)}function VL(t,e){return t.filter(n=>z9.indexOf(n.pos)===-1&&n.box.axis===e)}function nv(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function dce(t){const e=[];let n,r,s,i,a,o;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:o=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return e}function hce(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!z9.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function fce(t,e){const n=hce(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:l}=o.box,c=n[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*r:l&&e.availableWidth,o.height=s):(o.width=r,o.height=u?u*s:l&&e.availableHeight)}return n}function pce(t){const e=dce(t),n=nv(e.filter(c=>c.box.fullSize),!0),r=nv(tv(e,"left"),!0),s=nv(tv(e,"right")),i=nv(tv(e,"top"),!0),a=nv(tv(e,"bottom")),o=VL(e,"x"),l=VL(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:tv(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(a).concat(o)}}function GL(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function U9(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function mce(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!Qn(s)){n.size&&(t[s]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[s]+=n.size}i.getPadding&&U9(a,i.getPadding());const o=Math.max(0,e.outerWidth-GL(a,t,"left","right")),l=Math.max(0,e.outerHeight-GL(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function gce(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function vce(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function Sv(t,e,n,r){const s=[];let i,a,o,l,c,u;for(i=0,a=t.length,c=0;i<a;++i){o=t[i],l=o.box,l.update(o.width||e.w,o.height||e.h,vce(o.horizontal,e));const{same:d,other:h}=mce(e,n,o,r);c|=d&&s.length,u=u||h,l.fullSize||s.push(o)}return c&&Sv(s,e,n,r)||u}function P1(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function HL(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const o of t){const l=o.box,c=r[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,h=c.size||l.height;$a(c.start)&&(a=c.start),l.fullSize?P1(l,s.left,a,n.outerWidth-s.right-s.left,h):P1(l,e.left+c.placed,a,d,h),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,h=c.size||l.width;$a(c.start)&&(i=c.start),l.fullSize?P1(l,i,s.top,h,n.outerHeight-s.bottom-s.top):P1(l,i,e.top+c.placed,h,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=a}var xa={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Ni(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),o=pce(t.boxes),l=o.vertical,c=o.horizontal;fr(t.boxes,f=>{typeof f.beforeLayout=="function"&&f.beforeLayout()});const u=l.reduce((f,b)=>b.box.options&&b.box.options.display===!1?f:f+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},s);U9(h,Ni(r));const p=Object.assign({maxPadding:h,w:i,h:a,x:s.left,y:s.top},s),m=fce(l.concat(c),d);Sv(o.fullSize,p,d,m),Sv(l,p,d,m),Sv(c,p,d,m)&&Sv(l,p,d,m),gce(p),HL(o.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,HL(o.rightAndBottom,p,d,m),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},fr(o.chartArea,f=>{const b=f.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class W9{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class yce extends W9{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bw="$chartjs",bce={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},YL=t=>t===null||t==="";function xce(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Bw]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",YL(s)){const i=AL(t,"width");i!==void 0&&(t.width=i)}if(YL(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=AL(t,"height");i!==void 0&&(t.height=i)}return t}const V9=wle?{passive:!0}:!1;function wce(t,e,n){t.addEventListener(e,n,V9)}function _ce(t,e,n){t.canvas.removeEventListener(e,n,V9)}function Sce(t,e){const n=bce[t.type]||t.type,{x:r,y:s}=pf(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function W_(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Cce(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||W_(o.addedNodes,r),a=a&&!W_(o.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function kce(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||W_(o.removedNodes,r),a=a&&!W_(o.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const jy=new Map;let qL=0;function G9(){const t=window.devicePixelRatio;t!==qL&&(qL=t,jy.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Ece(t,e){jy.size||window.addEventListener("resize",G9),jy.set(t,e)}function Tce(t){jy.delete(t),jy.size||window.removeEventListener("resize",G9)}function Ice(t,e,n){const r=t.canvas,s=r&&_$(r);if(!s)return;const i=C9((o,l)=>{const c=s.clientWidth;n(o,l),c<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return a.observe(s),Ece(t,i),a}function AT(t,e,n){n&&n.disconnect(),e==="resize"&&Tce(t)}function Ace(t,e,n){const r=t.canvas,s=C9(i=>{t.ctx!==null&&n(Sce(i,t))},t);return wce(r,e,s),s}class Nce extends W9{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(xce(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Bw])return!1;const r=n[Bw].initial;["height","width"].forEach(i=>{const a=r[i];pr(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Bw],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:Cce,detach:kce,resize:Ice}[n]||Ace;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:AT,detach:AT,resize:AT}[n]||_ce)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return xle(e,n,r,s)}isAttached(e){const n=_$(e);return!!(n&&n.isConnected)}}function Rce(t){return!D9()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?yce:Nce}var mw;let vu=(mw=class{constructor(){ut(this,"active",!1)}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return My(this.x)&&My(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},ut(mw,"defaults",{}),ut(mw,"defaultRoutes"),mw);function Oce(t,e){const n=t.options.ticks,r=$ce(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?Pce(e):[],a=i.length,o=i[0],l=i[a-1],c=[];if(a>s)return Mce(e,c,i,a/s),c;const u=Dce(i,e,s);if(a>0){let d,h;const p=a>1?Math.round((l-o)/(a-1)):null;for(M1(e,c,u,pr(p)?0:o-p,o),d=0,h=a-1;d<h;d++)M1(e,c,u,i[d],i[d+1]);return M1(e,c,u,l,pr(p)?e.length:l+p),c}return M1(e,c,u),c}function $ce(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function Dce(t,e,n){const r=Bce(t),s=e.length/n;if(!r)return Math.max(s,1);const i=_ae(r);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>s)return l}return Math.max(s,1)}function Pce(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Mce(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function M1(t,e,n,r,s){const i=Pn(r,0),a=Math.min(Pn(s,t.length),t.length);let o=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),u=i;u<0;)o++,u=Math.round(i+o*n);for(c=Math.max(i,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(i+o*n))}function Bce(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Lce=t=>t==="left"?"right":t==="right"?"left":t,XL=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,KL=(t,e)=>Math.min(e||t,t);function JL(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function Fce(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-o||l>a+o)))return l}function jce(t,e){fr(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function rv(t){return t.drawTicks?t.tickLength:0}function QL(t,e){if(!t.display)return 0;const n=Ms(t.font,e),r=Ni(t.padding);return(Zr(t.text)?t.text.length:1)*n.lineHeight+r.height}function zce(t,e){return th(t,{scale:e,type:"scale"})}function Uce(t,e,n){return th(t,{tick:n,index:e,type:"tick"})}function Wce(t,e,n){let r=m$(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Lce(r)),r}function Vce(t,e,n,r){const{top:s,left:i,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,p,m;const f=a-s,b=o-i;if(t.isHorizontal()){if(p=xi(r,i,o),Qn(n)){const w=Object.keys(n)[0],g=n[w];m=u[w].getPixelForValue(g)+f-e}else n==="center"?m=(c.bottom+c.top)/2+f-e:m=XL(t,n,e);h=o-i}else{if(Qn(n)){const w=Object.keys(n)[0],g=n[w];p=u[w].getPixelForValue(g)-b+e}else n==="center"?p=(c.left+c.right)/2-b+e:p=XL(t,n,e);m=xi(r,a,s),d=n==="left"?-cs:cs}return{titleX:p,titleY:m,maxWidth:h,rotation:d}}class xp extends vu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=jo(e,Number.POSITIVE_INFINITY),n=jo(n,Number.NEGATIVE_INFINITY),r=jo(r,Number.POSITIVE_INFINITY),s=jo(s,Number.NEGATIVE_INFINITY),{min:jo(e,r),max:jo(n,s),minDefined:Xs(e),maxDefined:Xs(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:jo(n,jo(r,n)),max:jo(r,jo(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ir(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Qae(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?JL(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Oce(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ir(this.options.afterUpdate,[this])}beforeSetDimensions(){Ir(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ir(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ir(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ir(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Ir(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Ir(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ir(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=KL(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,o,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,p=Ti(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/r:p/(r-1),d+6>o&&(o=p/(r-(e.offset?.5:1)),l=this.maxHeight-rv(e.grid)-n.padding-QL(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),a=f$(Math.min(Math.asin(Ti((u.highest.height+6)/o,-1,1)),Math.asin(Ti(l/c,-1,1))-Math.asin(Ti(h/c,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ir(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ir(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=QL(s,n.options.font);if(o?(e.width=this.maxWidth,e.height=rv(i)+l):(e.height=this.maxHeight,e.width=rv(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),p=r.padding*2,m=Gl(this.labelRotation),f=Math.cos(m),b=Math.sin(m);if(o){const w=r.mirror?0:b*d.width+f*h.height;e.height=Math.min(this.maxHeight,e.height+w+p)}else{const w=r.mirror?0:f*d.width+b*h.height;e.width=Math.min(this.maxWidth,e.width+w+p)}this._calculatePadding(c,u,b,f)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=s*e.width,p=r*n.height):(h=r*e.height,p=s*n.width):i==="start"?p=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,p=n.width/2),this.paddingLeft=Math.max((h-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+a)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=n.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ir(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)pr(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=JL(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(n/KL(n,r));let c=0,u=0,d,h,p,m,f,b,w,g,C,k,N;for(d=0;d<n;d+=l){if(m=e[d].label,f=this._resolveTickFontOptions(d),s.font=b=f.string,w=i[b]=i[b]||{data:{},gc:[]},g=f.lineHeight,C=k=0,!pr(m)&&!Zr(m))C=z_(s,w.data,w.gc,C,m),k=g;else if(Zr(m))for(h=0,p=m.length;h<p;++h)N=m[h],!pr(N)&&!Zr(N)&&(C=z_(s,w.data,w.gc,C,N),k+=g);a.push(C),o.push(k),c=Math.max(C,c),u=Math.max(k,u)}jce(i,n);const A=a.indexOf(c),O=o.indexOf(u),R=$=>({width:a[$]||0,height:o[$]||0});return{first:R(0),last:R(n-1),widest:R(A),highest:R(O),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return kae(this._alignToPixels?Qh(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Uce(this.getContext(),e,r))}return this.$context||(this.$context=zce(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Gl(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*r>o*s?o/r:l/s:l*s<o*r?l/r:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:o}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=rv(i),p=[],m=o.setContext(this.getContext()),f=m.display?m.width:0,b=f/2,w=function(q){return Qh(r,q,f)};let g,C,k,N,A,O,R,$,D,B,M,z;if(a==="top")g=w(this.bottom),O=this.bottom-h,$=g-b,B=w(e.top)+b,z=e.bottom;else if(a==="bottom")g=w(this.top),B=e.top,z=w(e.bottom)-b,O=g+b,$=this.top+h;else if(a==="left")g=w(this.right),A=this.right-h,R=g-b,D=w(e.left)+b,M=e.right;else if(a==="right")g=w(this.left),D=e.left,M=w(e.right)-b,A=g+b,R=this.left+h;else if(n==="x"){if(a==="center")g=w((e.top+e.bottom)/2+.5);else if(Qn(a)){const q=Object.keys(a)[0],H=a[q];g=w(this.chart.scales[q].getPixelForValue(H))}B=e.top,z=e.bottom,O=g+b,$=O+h}else if(n==="y"){if(a==="center")g=w((e.left+e.right)/2);else if(Qn(a)){const q=Object.keys(a)[0],H=a[q];g=w(this.chart.scales[q].getPixelForValue(H))}A=g-b,R=A-h,D=e.left,M=e.right}const W=Pn(s.ticks.maxTicksLimit,d),V=Math.max(1,Math.ceil(d/W));for(C=0;C<d;C+=V){const q=this.getContext(C),H=i.setContext(q),K=o.setContext(q),F=H.lineWidth,ie=H.color,de=K.dash||[],ee=K.dashOffset,J=H.tickWidth,ae=H.tickColor,ue=H.tickBorderDash||[],le=H.tickBorderDashOffset;k=Fce(this,C,l),k!==void 0&&(N=Qh(r,k,F),c?A=R=D=M=N:O=$=B=z=N,p.push({tx1:A,ty1:O,tx2:R,ty2:$,x1:D,y1:B,x2:M,y2:z,width:F,color:ie,borderDash:de,borderDashOffset:ee,tickWidth:J,tickColor:ae,tickBorderDash:ue,tickBorderDashOffset:le}))}return this._ticksLength=d,this._borderValue=g,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,h=rv(r.grid),p=h+u,m=d?-u:p,f=-Gl(this.labelRotation),b=[];let w,g,C,k,N,A,O,R,$,D,B,M,z="middle";if(s==="top")A=this.bottom-m,O=this._getXAxisLabelAlignment();else if(s==="bottom")A=this.top+m,O=this._getXAxisLabelAlignment();else if(s==="left"){const V=this._getYAxisLabelAlignment(h);O=V.textAlign,N=V.x}else if(s==="right"){const V=this._getYAxisLabelAlignment(h);O=V.textAlign,N=V.x}else if(n==="x"){if(s==="center")A=(e.top+e.bottom)/2+p;else if(Qn(s)){const V=Object.keys(s)[0],q=s[V];A=this.chart.scales[V].getPixelForValue(q)+p}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")N=(e.left+e.right)/2-p;else if(Qn(s)){const V=Object.keys(s)[0],q=s[V];N=this.chart.scales[V].getPixelForValue(q)}O=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?z="top":l==="end"&&(z="bottom"));const W=this._getLabelSizes();for(w=0,g=o.length;w<g;++w){C=o[w],k=C.label;const V=i.setContext(this.getContext(w));R=this.getPixelForTick(w)+i.labelOffset,$=this._resolveTickFontOptions(w),D=$.lineHeight,B=Zr(k)?k.length:1;const q=B/2,H=V.color,K=V.textStrokeColor,F=V.textStrokeWidth;let ie=O;a?(N=R,O==="inner"&&(w===g-1?ie=this.options.reverse?"left":"right":w===0?ie=this.options.reverse?"right":"left":ie="center"),s==="top"?c==="near"||f!==0?M=-B*D+D/2:c==="center"?M=-W.highest.height/2-q*D+D:M=-W.highest.height+D/2:c==="near"||f!==0?M=D/2:c==="center"?M=W.highest.height/2-q*D:M=W.highest.height-B*D,d&&(M*=-1),f!==0&&!V.showLabelBackdrop&&(N+=D/2*Math.sin(f))):(A=R,M=(1-B)*D/2);let de;if(V.showLabelBackdrop){const ee=Ni(V.backdropPadding),J=W.heights[w],ae=W.widths[w];let ue=M-ee.top,le=0-ee.left;switch(z){case"middle":ue-=J/2;break;case"bottom":ue-=J;break}switch(O){case"center":le-=ae/2;break;case"right":le-=ae;break}de={left:le,top:ue,width:ae+ee.width,height:J+ee.height,color:V.backdropColor}}b.push({label:k,font:$,textOffset:M,options:{rotation:f,color:H,strokeColor:K,strokeWidth:F,textAlign:ie,textBaseline:z,translation:[N,A],backdrop:de}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Gl(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,l=a.widest.width;let c,u;return n==="left"?s?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const l=s[i];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Qh(e,this.left,a)-a/2,u=Qh(e,this.right,o)+o/2,d=h=l):(d=Qh(e,this.top,a)-a/2,h=Qh(e,this.bottom,o)+o/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&g$(r,s);const i=this.getLabelItems(e);for(const a of i){const o=a.options,l=a.font,c=a.label,u=a.textOffset;Zf(r,c,0,u,l,o)}s&&v$(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Ms(r.font),a=Ni(r.padding),o=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Qn(n)?(l+=a.bottom,Zr(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=Vce(this,l,n,o);Zf(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:h,textAlign:Wce(o,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Pn(e.grid&&e.grid.z,-1),s=Pn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==xp.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];o[r]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ms(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class B1{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Yce(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,Gce(e,a,r),this.override&&xs.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in xs[s]&&(delete xs[s][r],this.override&&delete Qf[r])}}function Gce(t,e,n){const r=Py(Object.create(null),[n?xs.get(n):{},xs.get(e),t.defaults]);xs.set(e,r),t.defaultRoutes&&Hce(e,t.defaultRoutes),t.descriptors&&xs.describe(e,t.descriptors)}function Hce(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");xs.route(i,s,l,o)})}function Yce(t){return"id"in t&&"defaults"in t}class qce{constructor(){this.controllers=new B1(Lf,"datasets",!0),this.elements=new B1(vu,"elements"),this.plugins=new B1(Object,"plugins"),this.scales=new B1(xp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):fr(s,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const s=h$(e);Ir(r["before"+s],[],r),n[e](r),Ir(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Bl=new qce;class Xce{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,o=a[r],l=[n,s,i.options];if(Ir(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){pr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Pn(r.options&&r.options.plugins,{}),i=Kce(r);return s===!1&&!n?[]:Qce(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function Kce(t){const e={},n=[],r=Object.keys(Bl.plugins.items);for(let i=0;i<r.length;i++)n.push(Bl.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Jce(t,e){return!e&&t===!1?null:t===!0?{}:t}function Qce(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const o of e){const l=o.id,c=Jce(r[l],s);c!==null&&i.push({plugin:o,options:Zce(t.config,{plugin:o,local:n[l]},c,a)})}return i}function Zce(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function HA(t,e){const n=xs.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function eue(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function tue(t,e){return t===e?"_index_":"_value_"}function nue(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function V_(t,e){if(t==="x"||t==="y"||t==="r"||(t=e.axis||nue(e.position)||t.length>1&&V_(t[0].toLowerCase(),e),t))return t;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function rue(t,e){const n=Qf[t.type]||{scales:{}},r=e.scales||{},s=HA(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!Qn(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=V_(a,o),c=tue(l,s),u=n.scales||{};i[a]=qv(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||HA(o,e),u=(Qf[o]||{}).scales||{};Object.keys(u).forEach(d=>{const h=eue(d,l),p=a[h+"AxisID"]||h;i[p]=i[p]||Object.create(null),qv(i[p],[{axis:h},r[p],u[d]])})}),Object.keys(i).forEach(a=>{const o=i[a];qv(o,[xs.scales[o.type],xs.scale])}),i}function H9(t){const e=t.options||(t.options={});e.plugins=Pn(e.plugins,{}),e.scales=rue(t,e)}function Y9(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function sue(t){return t=t||{},t.data=Y9(t.data),H9(t),t}const ZL=new Map,q9=new Set;function L1(t,e){let n=ZL.get(t);return n||(n=e(),ZL.set(t,n),q9.add(n)),n}const sv=(t,e,n)=>{const r=Jf(e,n);r!==void 0&&t.add(r)};class iue{constructor(e){this._config=sue(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Y9(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),H9(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return L1(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return L1(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return L1(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return L1(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>sv(l,e,d))),u.forEach(d=>sv(l,s,d)),u.forEach(d=>sv(l,Qf[i]||{},d)),u.forEach(d=>sv(l,xs,d)),u.forEach(d=>sv(l,WA,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),q9.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Qf[n]||{},xs.datasets[n]||{},{type:n},xs,WA]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=eF(this._resolverCache,e,s);let l=a;if(aue(a,n)){i.$shared=!1,r=Bd(r)?r():r;const c=this.createResolver(e,r,o);l=Km(a,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=eF(this._resolverCache,e,r);return Qn(n)?Km(i,n,void 0,s):i}}function eF(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:b$(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(s,i)),i}const oue=t=>Qn(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Bd(t[n]),!1);function aue(t,e){const{isScriptable:n,isIndexable:r}=A9(t);for(const s of e){const i=n(s),a=r(s),o=(a||i)&&t[s];if(i&&(Bd(o)||oue(o))||a&&Zr(o))return!0}return!1}var lue="4.2.1";const cue=["top","bottom","left","right","chartArea"];function tF(t,e){return t==="top"||t==="bottom"||cue.indexOf(t)===-1&&e==="x"}function nF(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function rF(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ir(n&&n.onComplete,[t],e)}function uue(t){const e=t.chart,n=e.options.animation;Ir(n&&n.onProgress,[t],e)}function X9(t){return D9()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Lw={},sF=t=>{const e=X9(t);return Object.values(Lw).filter(n=>n.canvas===e).pop()};function due(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function hue(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function fue(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}var Uu;let Tg=(Uu=class{static register(...e){Bl.add(...e),iF()}static unregister(...e){Bl.remove(...e),iF()}constructor(e,n){const r=this.config=new iue(n),s=X9(e),i=sF(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Rce(s)),this.platform.updateConfig(r);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=fae(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Xce,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Aae(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],Lw[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Wc.listen(this,"complete",rF),Wc.listen(this,"progress",uue),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return pr(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():IL(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kL(this.canvas,this.ctx),this}stop(){return Wc.stop(this),this}resize(e,n){Wc.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,IL(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Ir(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};fr(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const o=n[a],l=V_(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),fr(i,a=>{const o=a.options,l=o.id,c=V_(l,o),u=Pn(o.type,a.dtype);(o.position===void 0||tF(o.position,c)!==tF(a.dposition))&&(o.position=a.dposition),s[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const h=Bl.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(o,e)}),fr(s,(a,o)=>{a||delete r[o]}),fr(r,a=>{xa.configure(this,a,a.options),xa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(nF("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=i.indexAxis||HA(o,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Bl.getController(o),{datasetElementType:c,dataElementType:u}=xs.datasets[o];Object.assign(l,{dataElementType:Bl.getElement(u),datasetElementType:c&&Bl.getElement(c)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){fr(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(h),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||fr(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(nF("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){fr(this.scales,e=>{xa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!gL(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;due(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!gL(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xa.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],fr(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Bd(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Wc.has(this)?this.attached&&!Wc.running(this)&&Wc.start(this):(this.draw(),rF({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resize(r,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,s=!r.disabled,i=fue(e)||this.chartArea,a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&g$(n,{left:r.left===!1?0:i.left-r.left,right:r.right===!1?this.width:i.right+r.right,top:r.top===!1?0:i.top-r.top,bottom:r.bottom===!1?this.height:i.bottom+r.bottom}),e.controller.draw(),s&&v$(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Ly(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=uce.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=th(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);$a(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Wc.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),kL(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Lw[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};fr(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){fr(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},fr(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,o,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!L_(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=i(n,e),o=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,o=this._getActiveElements(e,s,r,a),l=bae(e),c=hue(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ir(i.onHover,[e,o,this],this),l&&Ir(i.onClick,[e,o,this],this));const u=!L_(o,s);return(u||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},ut(Uu,"defaults",xs),ut(Uu,"instances",Lw),ut(Uu,"overrides",Qf),ut(Uu,"registry",Bl),ut(Uu,"version",lue),ut(Uu,"getChart",sF),Uu);function iF(){return fr(Tg.instances,t=>t._plugins.invalidate())}function pue(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:l}=e;let c=s/o;t.beginPath(),t.arc(i,a,o,r-c,n+c),l>s?(c=s/l,t.arc(i,a,l,n+c,r-c,!0)):t.arc(i,a,s,n+cs,r-cs),t.closePath(),t.clip()}function mue(t){return y$(t,["outerStart","outerEnd","innerStart","innerEnd"])}function gue(t,e,n,r){const s=mue(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),o=l=>{const c=(n-Math.min(i,l))*r/2;return Ti(l,0,Math.min(i,c))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:Ti(s.innerStart,0,a),innerEnd:Ti(s.innerEnd,0,a)}}function Wp(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function G_(t,e,n,r,s,i){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let p=0;const m=s-l;if(r){const V=u>0?u-r:0,q=d>0?d-r:0,H=(V+q)/2,K=H!==0?m*H/(H+r):m;p=(m-K)/2}const f=Math.max(.001,m*d-n/os)/d,b=(m-f)/2,w=l+b+p,g=s-b-p,{outerStart:C,outerEnd:k,innerStart:N,innerEnd:A}=gue(e,h,d,g-w),O=d-C,R=d-k,$=w+C/O,D=g-k/R,B=h+N,M=h+A,z=w+N/B,W=g-A/M;if(t.beginPath(),i){const V=($+D)/2;if(t.arc(a,o,d,$,V),t.arc(a,o,d,V,D),k>0){const F=Wp(R,D,a,o);t.arc(F.x,F.y,k,D,g+cs)}const q=Wp(M,g,a,o);if(t.lineTo(q.x,q.y),A>0){const F=Wp(M,W,a,o);t.arc(F.x,F.y,A,g+cs,W+Math.PI)}const H=(g-A/h+(w+N/h))/2;if(t.arc(a,o,h,g-A/h,H,!0),t.arc(a,o,h,H,w+N/h,!0),N>0){const F=Wp(B,z,a,o);t.arc(F.x,F.y,N,z+Math.PI,w-cs)}const K=Wp(O,w,a,o);if(t.lineTo(K.x,K.y),C>0){const F=Wp(O,$,a,o);t.arc(F.x,F.y,C,w-cs,$)}}else{t.moveTo(a,o);const V=Math.cos($)*d+a,q=Math.sin($)*d+o;t.lineTo(V,q);const H=Math.cos(D)*d+a,K=Math.sin(D)*d+o;t.lineTo(H,K)}t.closePath()}function vue(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:o}=e;let l=e.endAngle;if(i){G_(t,e,n,r,l,s);for(let c=0;c<i;++c)t.fill();isNaN(o)||(l=a+(o%es||es))}return G_(t,e,n,r,l,s),t.fill(),l}function yue(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=l.borderAlign==="inner";if(!c)return;d?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let h=e.endAngle;if(i){G_(t,e,n,r,h,s);for(let p=0;p<i;++p)t.stroke();isNaN(o)||(h=a+(o%es||es))}d&&pue(t,e,h),i||(G_(t,e,n,r,h,s),t.stroke())}class Fw extends vu{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:i,distance:a}=x9(s,{x:e,y:n}),{startAngle:o,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=this.options.spacing/2,m=Pn(d,l-o)>=es||By(i,o,l),f=nd(a,c+h,u+h);return m&&f}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:i,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(s+i)/2,d=(a+o+c+l)/2;return{x:n+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>es?Math.floor(r/es):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*s,Math.sin(o)*s);const l=1-Math.sin(Math.min(os,r||0)),c=s*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,vue(e,this,c,i,a),yue(e,this,c,i,a),e.restore()}}ut(Fw,"id","arc"),ut(Fw,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ut(Fw,"defaultRoutes",{backgroundColor:"backgroundColor"});function K9(t,e,n=e){t.lineCap=Pn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Pn(n.borderDash,e.borderDash)),t.lineDashOffset=Pn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Pn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Pn(n.borderWidth,e.borderWidth),t.strokeStyle=Pn(n.borderColor,e.borderColor)}function bue(t,e,n){t.lineTo(n.x,n.y)}function xue(t){return t.stepped?Wae:t.tension||t.cubicInterpolationMode==="monotone"?Vae:bue}function J9(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:o}=e,l=Math.max(s,a),c=Math.min(i,o),u=s<a&&i<a||s>o&&i>o;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function wue(t,e,n,r){const{points:s,options:i}=e,{count:a,start:o,loop:l,ilen:c}=J9(s,n,r),u=xue(i);let{move:d=!0,reverse:h}=r||{},p,m,f;for(p=0;p<=c;++p)m=s[(o+(h?c-p:p))%a],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,f,m,h,i.stepped),f=m);return l&&(m=s[(o+(h?c:0))%a],u(t,f,m,h,i.stepped)),!!l}function _ue(t,e,n,r){const s=e.points,{count:i,start:a,ilen:o}=J9(s,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,h,p,m,f,b,w;const g=k=>(a+(c?o-k:k))%i,C=()=>{f!==b&&(t.lineTo(u,b),t.lineTo(u,f),t.lineTo(u,w))};for(l&&(p=s[g(0)],t.moveTo(p.x,p.y)),h=0;h<=o;++h){if(p=s[g(h)],p.skip)continue;const k=p.x,N=p.y,A=k|0;A===m?(N<f?f=N:N>b&&(b=N),u=(d*u+k)/++d):(C(),t.lineTo(k,N),m=A,d=0,f=b=N),w=N}C()}function YA(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?_ue:wue}function Sue(t){return t.stepped?_le:t.tension||t.cubicInterpolationMode==="monotone"?Sle:mf}function Cue(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),K9(t,e.options),t.stroke(s)}function kue(t,e,n,r){const{segments:s,options:i}=e,a=YA(e);for(const o of s)K9(t,i,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Eue=typeof Path2D=="function";function Tue(t,e,n,r){Eue&&!e.options.segment?Cue(t,e,n,r):kue(t,e,n,r)}class Cv extends vu{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;ple(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Rle(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=Ile(this,{property:n,start:s,end:s});if(!a.length)return;const o=[],l=Sue(r);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:h}=a[c],p=i[d],m=i[h];if(p===m){o.push(p);continue}const f=Math.abs((s-p[n])/(m[n]-p[n])),b=l(p,m,f,r.stepped);b[n]=e[n],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,n,r){return YA(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=YA(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of s)a&=i(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Tue(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ut(Cv,"id","line"),ut(Cv,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ut(Cv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ut(Cv,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function oF(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class jw extends vu{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:i,y:a}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return oF(this,e,"x",n)}inYRange(e,n){return oF(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Ly(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,VA(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}ut(jw,"id","point"),ut(jw,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ut(jw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Q9(t,e){const{x:n,y:r,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return t.horizontal?(d=a/2,o=Math.min(n,s),l=Math.max(n,s),c=r-d,u=r+d):(d=i/2,o=n-d,l=n+d,c=Math.min(r,s),u=Math.max(r,s)),{left:o,top:c,right:l,bottom:u}}function rd(t,e,n,r){return t?0:Ti(e,n,r)}function Iue(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=I9(r);return{t:rd(s.top,i.top,0,n),r:rd(s.right,i.right,0,e),b:rd(s.bottom,i.bottom,0,n),l:rd(s.left,i.left,0,e)}}function Aue(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Mf(s),a=Math.min(e,n),o=t.borderSkipped,l=r||Qn(s);return{topLeft:rd(!l||o.top||o.left,i.topLeft,0,a),topRight:rd(!l||o.top||o.right,i.topRight,0,a),bottomLeft:rd(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:rd(!l||o.bottom||o.right,i.bottomRight,0,a)}}function Nue(t){const e=Q9(t),n=e.right-e.left,r=e.bottom-e.top,s=Iue(t,n/2,r/2),i=Aue(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function NT(t,e,n,r){const s=e===null,i=n===null,o=t&&!(s&&i)&&Q9(t,r);return o&&(s||nd(e,o.left,o.right))&&(i||nd(n,o.top,o.bottom))}function Rue(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Oue(t,e){t.rect(e.x,e.y,e.w,e.h)}function RT(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class Qv extends vu{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=Nue(this),o=Rue(a.radius)?Fy:Oue;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,RT(a,n,i)),e.clip(),o(e,RT(i,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,RT(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return NT(this,e,n,r)}inXRange(e,n){return NT(this,e,null,n)}inYRange(e,n){return NT(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ut(Qv,"id","bar"),ut(Qv,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ut(Qv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const aF=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},$ue=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class lF extends vu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ir(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Ms(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=aF(r,i);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,i,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,s,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+o;let d=e;i.textAlign="left",i.textBaseline="middle";let h=-1,p=-u;return this.legendItems.forEach((m,f)=>{const b=r+n/2+i.measureText(m.text).width;(f===0||c[c.length-1]+b+2*o>a)&&(d+=u,c[c.length-(f>0?0:1)]=0,p+=u,h++),l[f]={left:0,top:p,row:h,width:b,height:s},c[c.length-1]+=b+o}),d}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,h=0,p=0,m=0,f=0;return this.legendItems.forEach((b,w)=>{const{itemWidth:g,itemHeight:C}=Due(r,n,i,b,s);w>0&&p+C+2*o>u&&(d+=h+o,c.push({width:h,height:p}),m+=h+o,f++,h=p=0),l[w]={left:m,top:p,col:f,width:g,height:C},h=Math.max(h,g),p+=C+o}),d+=h,c.push({width:h,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=km(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=xi(r,this.left+s,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=xi(r,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+e+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let o=0,l=xi(r,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=xi(r,this.top+e+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;g$(e,this),this._draw(),v$(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,o=xs.color,l=km(e.rtl,this.left,this.width),c=Ms(a.font),{padding:u}=a,d=c.size,h=d/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:f,itemHeight:b}=aF(a,d),w=function(A,O,R){if(isNaN(m)||m<=0||isNaN(f)||f<0)return;s.save();const $=Pn(R.lineWidth,1);if(s.fillStyle=Pn(R.fillStyle,o),s.lineCap=Pn(R.lineCap,"butt"),s.lineDashOffset=Pn(R.lineDashOffset,0),s.lineJoin=Pn(R.lineJoin,"miter"),s.lineWidth=$,s.strokeStyle=Pn(R.strokeStyle,o),s.setLineDash(Pn(R.lineDash,[])),a.usePointStyle){const D={radius:f*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:$},B=l.xPlus(A,m/2),M=O+h;T9(s,D,B,M,a.pointStyleWidth&&m)}else{const D=O+Math.max((d-f)/2,0),B=l.leftForLtr(A,m),M=Mf(R.borderRadius);s.beginPath(),Object.values(M).some(z=>z!==0)?Fy(s,{x:B,y:D,w:m,h:f,radius:M}):s.rect(B,D,m,f),s.fill(),$!==0&&s.stroke()}s.restore()},g=function(A,O,R){Zf(s,R.text,A,O+b/2,c,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},C=this.isHorizontal(),k=this._computeTitleHeight();C?p={x:xi(i,this.left+u,this.right-r[0]),y:this.top+u+k,line:0}:p={x:this.left+u,y:xi(i,this.top+k+u,this.bottom-n[0].height),line:0},P9(this.ctx,e.textDirection);const N=b+u;this.legendItems.forEach((A,O)=>{s.strokeStyle=A.fontColor,s.fillStyle=A.fontColor;const R=s.measureText(A.text).width,$=l.textAlign(A.textAlign||(A.textAlign=a.textAlign)),D=m+h+R;let B=p.x,M=p.y;l.setWidth(this.width),C?O>0&&B+D+u>this.right&&(M=p.y+=N,p.line++,B=p.x=xi(i,this.left+u,this.right-r[p.line])):O>0&&M+N>this.bottom&&(B=p.x=B+n[p.line].width+u,p.line++,M=p.y=xi(i,this.top+k+u,this.bottom-n[p.line].height));const z=l.x(B);if(w(z,M,A),B=Nae($,B+m+h,C?B+D:this.right,e.rtl),g(l.x(B),M,A),C)p.x+=D+u;else if(typeof A.text!="string"){const W=c.lineHeight;p.y+=Z9(A,W)}else p.y+=N}),M9(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Ms(n.font),s=Ni(n.padding);if(!n.display)return;const i=km(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,c=s.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=xi(e.align,d,this.right-h);else{const m=this.columnSizes.reduce((f,b)=>Math.max(f,b.height),0);u=c+xi(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=xi(o,d,d+h);a.textAlign=i.textAlign(m$(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Zf(a,n.text,p,u,r)}_computeTitleHeight(){const e=this.options.title,n=Ms(e.font),r=Ni(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(nd(e,this.left,this.right)&&nd(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],nd(e,s.left,s.left+s.width)&&nd(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Bue(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=$ue(s,r);s&&!i&&Ir(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Ir(n.onHover,[e,r,this],this)}else r&&Ir(n.onClick,[e,r,this],this)}}function Due(t,e,n,r,s){const i=Pue(r,t,e,n),a=Mue(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function Pue(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function Mue(t,e,n){let r=t;return typeof e.text!="string"&&(r=Z9(e,n)),r}function Z9(t,e){const n=t.text?t.text.length+.5:0;return e*n}function Bue(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var H_={id:"legend",_element:lF,start(t,e,n){const r=t.legend=new lF({ctx:t.ctx,options:n,chart:t});xa.configure(t,r,n),xa.addBox(t,r)},stop(t){xa.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;xa.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Ni(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class eW extends vu{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Zr(r.text)?r.text.length:1;this._padding=Ni(r.padding);const i=s*Ms(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,o=a.align;let l=0,c,u,d;return this.isHorizontal()?(u=xi(o,r,i),d=n+e,c=i-r):(a.position==="left"?(u=r+e,d=xi(o,s,n),l=os*-.5):(u=i-e,d=xi(o,n,s),l=os*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Ms(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(i);Zf(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:m$(n.align),textBaseline:"middle",translation:[a,o]})}}function Lue(t,e){const n=new eW({ctx:t.ctx,options:e,chart:t});xa.configure(t,n,e),xa.addBox(t,n),t.titleBlock=n}var C$={id:"title",_element:eW,start(t,e,n){Lue(t,n)},stop(t){const e=t.titleBlock;xa.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;xa.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kv={average(t){if(!t.length)return!1;let e,n,r=0,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const o=a.tooltipPosition();r+=o.x,s+=o.y,++i}}return{x:r/i,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=UA(e,c);u<s&&(s=u,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Pl(t,e){return e&&(Zr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vc(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Fue(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function cF(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:o}=e,l=Ms(e.bodyFont),c=Ms(e.titleFont),u=Ms(e.footerFont),d=i.length,h=s.length,p=r.length,m=Ni(e.padding);let f=m.height,b=0,w=r.reduce((k,N)=>k+N.before.length+N.lines.length+N.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,d&&(f+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),w){const k=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;f+=p*k+(w-p)*l.lineHeight+(w-1)*e.bodySpacing}h&&(f+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let g=0;const C=function(k){b=Math.max(b,n.measureText(k).width+g)};return n.save(),n.font=c.string,fr(t.title,C),n.font=l.string,fr(t.beforeBody.concat(t.afterBody),C),g=e.displayColors?a+2+e.boxPadding:0,fr(r,k=>{fr(k.before,C),fr(k.lines,C),fr(k.after,C)}),g=0,n.font=u.string,fr(t.footer,C),n.restore(),b+=m.width,{width:b,height:f}}function jue(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function zue(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function Uue(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return r==="center"?c=s<=(o+l)/2?"left":"right":s<=i/2?c="left":s>=a-i/2&&(c="right"),zue(c,t,e,n)&&(c="center"),c}function uF(t,e,n){const r=n.yAlign||e.yAlign||jue(t,n);return{xAlign:n.xAlign||e.xAlign||Uue(t,e,n,r),yAlign:r}}function Wue(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Vue(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function dF(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=s+i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Mf(a);let m=Wue(e,o);const f=Vue(e,l,c);return l==="center"?o==="left"?m+=c:o==="right"&&(m-=c):o==="left"?m-=Math.max(u,h)+s:o==="right"&&(m+=Math.max(d,p)+s),{x:Ti(m,0,r.width-e.width),y:Ti(f,0,r.height-e.height)}}function F1(t,e,n){const r=Ni(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function hF(t){return Pl([],Vc(t))}function Gue(t,e,n){return th(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function fF(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const tW={beforeTitle:jc,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:jc,beforeBody:jc,beforeLabel:jc,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return pr(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:jc,afterBody:jc,beforeFooter:jc,footer:jc,afterFooter:jc};function ao(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?tW[e].call(n,r):s}class qA extends vu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new L9(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Gue(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=ao(r,"beforeTitle",this,e),i=ao(r,"title",this,e),a=ao(r,"afterTitle",this,e);let o=[];return o=Pl(o,Vc(s)),o=Pl(o,Vc(i)),o=Pl(o,Vc(a)),o}getBeforeBody(e,n){return hF(ao(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return fr(e,i=>{const a={before:[],lines:[],after:[]},o=fF(r,i);Pl(a.before,Vc(ao(o,"beforeLabel",this,i))),Pl(a.lines,ao(o,"label",this,i)),Pl(a.after,Vc(ao(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return hF(ao(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=ao(r,"beforeFooter",this,e),i=ao(r,"footer",this,e),a=ao(r,"afterFooter",this,e);let o=[];return o=Pl(o,Vc(s)),o=Pl(o,Vc(i)),o=Pl(o,Vc(a)),o}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(Fue(this.chart,n[l]));return e.filter&&(o=o.filter((u,d,h)=>e.filter(u,d,h,r))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,r))),fr(o,u=>{const d=fF(e.callbacks,u);s.push(ao(d,"labelColor",this,u)),i.push(ao(d,"labelPointStyle",this,u)),a.push(ao(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=kv[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=cF(this,r),c=Object.assign({},o,l),u=uF(this.chart,r,c),d=dF(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Mf(o),{x:h,y:p}=e,{width:m,height:f}=n;let b,w,g,C,k,N;return i==="center"?(k=p+f/2,s==="left"?(b=h,w=b-a,C=k+a,N=k-a):(b=h+m,w=b+a,C=k-a,N=k+a),g=b):(s==="left"?w=h+Math.max(l,u)+a:s==="right"?w=h+m-Math.max(c,d)-a:w=this.caretX,i==="top"?(C=p,k=C-a,b=w-a,g=w+a):(C=p+f,k=C+a,b=w+a,g=w-a),N=C),{x1:b,x2:w,x3:g,y1:C,y2:k,y3:N}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,o,l;if(i){const c=km(r.rtl,this.x,this.width);for(e.x=F1(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",a=Ms(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===i&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c,boxPadding:u}=i,d=Ms(i.bodyFont),h=F1(this,"left",i),p=s.x(h),m=l<d.lineHeight?(d.lineHeight-l)/2:0,f=n.y+m;if(i.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},w=s.leftForLtr(p,c)+c/2,g=f+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,VA(e,b,w,g),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,VA(e,b,w,g)}else{e.lineWidth=Qn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=s.leftForLtr(p,c-u),w=s.leftForLtr(s.xPlus(p,1),c-u-2),g=Mf(a.borderRadius);Object.values(g).some(C=>C!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Fy(e,{x:b,y:f,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Fy(e,{x:w,y:f+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(b,f,c,l),e.strokeRect(b,f,c,l),e.fillStyle=a.backgroundColor,e.fillRect(w,f+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Ms(r.bodyFont);let h=d.lineHeight,p=0;const m=km(r.rtl,this.x,this.width),f=function(R){n.fillText(R,m.x(e.x+p),e.y+h/2),e.y+=h+i},b=m.textAlign(a);let w,g,C,k,N,A,O;for(n.textAlign=a,n.textBaseline="middle",n.font=d.string,e.x=F1(this,b,r),n.fillStyle=r.bodyColor,fr(this.beforeBody,f),p=o&&b!=="right"?a==="center"?c/2+u:c+2+u:0,k=0,A=s.length;k<A;++k){for(w=s[k],g=this.labelTextColors[k],n.fillStyle=g,fr(w.before,f),C=w.lines,o&&C.length&&(this._drawColorBox(n,e,k,m,r),h=Math.max(d.lineHeight,l)),N=0,O=C.length;N<O;++N)f(C[N]),h=d.lineHeight;fr(w.after,f)}p=0,h=d.lineHeight,fr(this.afterBody,f),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,o;if(i){const l=km(r.rtl,this.x,this.width);for(e.x=F1(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=Ms(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<i;++o)n.fillText(s[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:m}=Mf(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+d,l),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(o+c-h,l),n.quadraticCurveTo(o+c,l,o+c,l+h),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(o+c,l+u-m),n.quadraticCurveTo(o+c,l+u,o+c-m,l+u),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(o+p,l+u),n.quadraticCurveTo(o,l+u,o,l+u-p),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=kv[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=cF(this,e),l=Object.assign({},a,this._size),c=uF(n,e,l),u=dF(e,l,c,n);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ni(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),P9(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),M9(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),i=!L_(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),o=this._positionChanged(a,e),l=n||!L_(a,i)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n;const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=kv[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}ut(qA,"positioners",kv);var Y_={id:"tooltip",_element:qA,positioners:kv,afterInit(t,e,n){n&&(t.tooltip=new qA({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tW},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Hue=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Yue(t,e,n,r){const s=t.indexOf(e);if(s===-1)return Hue(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const que=(t,e)=>t===null?null:Ti(Math.round(t),0,e);function pF(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class zy extends xp{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(pr(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Yue(r,e,Pn(n,e),this._addedLabels),que(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return pF.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ut(zy,"id","category"),ut(zy,"defaults",{ticks:{callback:pF}});function Xue(t,e){const n=[],{bounds:s,step:i,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,p=i||1,m=u-1,{min:f,max:b}=e,w=!pr(a),g=!pr(o),C=!pr(c),k=(b-f)/(d+1);let N=yL((b-f)/m/p)*p,A,O,R,$;if(N<1e-14&&!w&&!g)return[{value:f},{value:b}];$=Math.ceil(b/N)-Math.floor(f/N),$>m&&(N=yL($*N/m/p)*p),pr(l)||(A=Math.pow(10,l),N=Math.ceil(N*A)/A),s==="ticks"?(O=Math.floor(f/N)*N,R=Math.ceil(b/N)*N):(O=f,R=b),w&&g&&i&&Sae((o-a)/i,N/1e3)?($=Math.round(Math.min((o-a)/N,u)),N=(o-a)/$,O=a,R=o):C?(O=w?a:O,R=g?o:R,$=c-1,N=(R-O)/$):($=(R-O)/N,Xv($,Math.round($),N/1e3)?$=Math.round($):$=Math.ceil($));const D=Math.max(bL(N),bL(O));A=Math.pow(10,pr(l)?D:l),O=Math.round(O*A)/A,R=Math.round(R*A)/A;let B=0;for(w&&(h&&O!==a?(n.push({value:a}),O<a&&B++,Xv(Math.round((O+B*N)*A)/A,a,mF(a,k,t))&&B++):O<a&&B++);B<$;++B)n.push({value:Math.round((O+B*N)*A)/A});return g&&h&&R!==o?n.length&&Xv(n[n.length-1].value,o,mF(o,k,t))?n[n.length-1].value=o:n.push({value:o}):(!g||R===o)&&n.push({value:R}),n}function mF(t,e,{horizontal:n,minRotation:r}){const s=Gl(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class q_ extends xp{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return pr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=l=>s=n?s:l,o=l=>i=r?i:l;if(e){const l=ec(s),c=ec(i);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||a(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=Xue(s,i);return e.bounds==="ticks"&&b9(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return CC(e,this.chart.options.locale,this.options.ticks.format)}}class Uy extends q_{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Xs(e)?e:0,this.max=Xs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Gl(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ut(Uy,"id","linear"),ut(Uy,"defaults",{ticks:{callback:kC.formatters.numeric}});const Wy=t=>Math.floor(td(t)),ef=(t,e)=>Math.pow(10,Wy(t)+e);function gF(t){return t/Math.pow(10,Wy(t))===1}function vF(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function Kue(t,e){const n=e-t;let r=Wy(n);for(;vF(t,e,r)>10;)r++;for(;vF(t,e,r)<10;)r--;return Math.min(r,Wy(t))}function Jue(t,{min:e,max:n}){e=jo(t.min,e);const r=[],s=Wy(e);let i=Kue(e,n),a=i<0?Math.pow(10,Math.abs(i)):1;const o=Math.pow(10,i),l=s>i?Math.pow(10,s):0,c=Math.round((e-l)*a)/a,u=Math.floor((e-l)/o/10)*o*10;let d=Math.floor((c-u)/Math.pow(10,i)),h=jo(t.min,Math.round((l+u+d*Math.pow(10,i))*a)/a);for(;h<n;)r.push({value:h,major:gF(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(i++,d=2,a=i>=0?1:a),h=Math.round((l+u+d*Math.pow(10,i))*a)/a;const p=jo(t.max,h);return r.push({value:p,major:gF(p),significand:d}),r}class yF extends xp{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=q_.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Xs(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Xs(e)?Math.max(0,e):null,this.max=Xs(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Xs(this._userMin)&&(this.min=e===ef(this.min,0)?ef(this.min,-1):ef(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=o=>r=e?r:o,a=o=>s=n?s:o;r===s&&(r<=0?(i(1),a(10)):(i(ef(r,-1)),a(ef(s,1)))),r<=0&&i(ef(s,-1)),s<=0&&a(ef(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=Jue(n,this);return e.bounds==="ticks"&&b9(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":CC(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=td(e),this._valueRange=td(this.max)-td(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(td(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ut(yF,"id","logarithmic"),ut(yF,"defaults",{ticks:{callback:kC.formatters.logarithmic,major:{enabled:!0}}});function XA(t){const e=t.ticks;if(e.display&&t.display){const n=Ni(e.backdropPadding);return Pn(e.font&&e.font.size,xs.font.size)+n.height}return 0}function Que(t,e,n){return n=Zr(n)?n:[n],{w:Uae(t,e.string,n),h:n.length*e.lineHeight}}function bF(t,e,n,r,s){return t===r||t===s?{start:e-n/2,end:e+n/2}:t<r||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function Zue(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],s=[],i=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?os/i:0;for(let l=0;l<i;l++){const c=a.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],o),d=Ms(c.font),h=Que(t.ctx,d,t._pointLabels[l]);r[l]=h;const p=il(t.getIndexAngle(l)+o),m=Math.round(f$(p)),f=bF(m,u.x,h.w,0,180),b=bF(m,u.y,h.h,90,270);ede(n,e,p,f,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=tde(t,r,s)}function ede(t,e,n,r,s){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<e.l?(o=(e.l-r.start)/i,t.l=Math.min(t.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/i,t.r=Math.max(t.r,e.r+o)),s.start<e.t?(l=(e.t-s.start)/a,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function tde(t,e,n){const r=[],s=t._pointLabels.length,i=t.options,a=XA(i)/2,o=t.drawingArea,l=i.pointLabels.centerPointLabels?os/s:0;for(let c=0;c<s;c++){const u=t.getPointPosition(c,o+a+n[c],l),d=Math.round(f$(il(u.angle+cs))),h=e[c],p=sde(u.y,h.h,d),m=nde(d),f=rde(u.x,h.w,m);r.push({x:u.x,y:p,textAlign:m,left:f,top:p,right:f+h.w,bottom:p+h.h})}return r}function nde(t){return t===0||t===180?"center":t<180?"left":"right"}function rde(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function sde(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function ide(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let s=e-1;s>=0;s--){const i=r.setContext(t.getPointLabelContext(s)),a=Ms(i.font),{x:o,y:l,textAlign:c,left:u,top:d,right:h,bottom:p}=t._pointLabelItems[s],{backdropColor:m}=i;if(!pr(m)){const f=Mf(i.borderRadius),b=Ni(i.backdropPadding);n.fillStyle=m;const w=u-b.left,g=d-b.top,C=h-u+b.width,k=p-d+b.height;Object.values(f).some(N=>N!==0)?(n.beginPath(),Fy(n,{x:w,y:g,w:C,h:k,radius:f}),n.fill()):n.fillRect(w,g,C,k)}Zf(n,t._pointLabels[s],o,l+a.lineHeight/2,a,{color:i.color,textAlign:c,textBaseline:"middle"})}}function nW(t,e,n,r){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,es);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=t.getPointPosition(a,e),s.lineTo(i.x,i.y)}}function ode(t,e,n,r,s){const i=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!r||!o||!l||n<0||(i.save(),i.strokeStyle=o,i.lineWidth=l,i.setLineDash(s.dash),i.lineDashOffset=s.dashOffset,i.beginPath(),nW(t,n,a,r),i.closePath(),i.stroke(),i.restore())}function ade(t,e,n){return th(t,{label:n,index:e,type:"pointLabel"})}class j1 extends q_{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ni(XA(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Xs(e)&&!isNaN(e)?e:0,this.max=Xs(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/XA(this.options))}generateTickLabels(e){q_.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const s=Ir(this.options.pointLabels.callback,[n,r],this);return s||s===0?s:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Zue(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,s))}getIndexAngle(e){const n=es/(this._pointLabels.length||1),r=this.options.startAngle||0;return il(e*n+Gl(r))}getDistanceFromCenterForValue(e){if(pr(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(pr(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return ade(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const s=this.getIndexAngle(e)-cs+r;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:s,bottom:i}=this._pointLabelItems[e];return{left:n,top:r,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),nW(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:s,border:i}=n,a=this._pointLabels.length;let o,l,c;if(n.pointLabels.display&&ide(this,a),s.display&&this.ticks.forEach((u,d)=>{if(d!==0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),p=s.setContext(h),m=i.setContext(h);ode(this,p,l,a,m)}}),r.display){for(e.save(),o=a-1;o>=0;o--){const u=r.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const s=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=Ms(c.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,a=e.measureText(o.label).width,e.fillStyle=c.backdropColor;const d=Ni(c.backdropPadding);e.fillRect(-a/2-d.left,-i-u.size/2-d.top,a+d.width,u.size+d.height)}Zf(e,o.label,0,-i,u,{color:c.color})}),e.restore()}drawTitle(){}}ut(j1,"id","radialLinear"),ut(j1,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:kC.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ut(j1,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ut(j1,"descriptors",{angleLines:{_fallback:"grid"}});const TC={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fo=Object.keys(TC);function lde(t,e){return t-e}function xF(t,e){if(pr(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Xs(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(My(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function wF(t,e,n,r){const s=fo.length;for(let i=fo.indexOf(t);i<s-1;++i){const a=TC[fo[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return fo[i]}return fo[s-1]}function cde(t,e,n,r,s){for(let i=fo.length-1;i>=fo.indexOf(n);i--){const a=fo[i];if(TC[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return fo[n?fo.indexOf(n):0]}function ude(t){for(let e=fo.indexOf(t)+1,n=fo.length;e<n;++e)if(TC[fo[e]].common)return fo[e]}function _F(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=p$(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function dde(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=i;o<=a;o=+s.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function SF(t,e,n){const r=[],s={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],s[o]=a,r.push({value:o,major:!1});return i===0||!n?r:dde(t,r,s,n)}class X_ extends xp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new ice._date(e.adapters.date);s.init(n),qv(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:xF(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Xs(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Xs(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=Tae(s,i,a);return this._unit=n.unit||(r.autoSkip?wF(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):cde(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ude(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),SF(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Ti(n,0,a),r=Ti(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||wF(i.minUnit,n,r,this._getLabelCapacity(n)),o=Pn(s.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,c=My(l)||l===!0,u={};let d=n,h,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(h=d,p=0;h<r;h=+e.add(h,o,a),p++)_F(u,h,m);return(h===r||s.bounds==="ticks"||p===1)&&_F(u,h,m),Object.keys(u).sort((f,b)=>f-b).map(f=>+f)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return Ir(a,[e,n,r],this);const o=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],h=r[n],p=c&&d&&h&&h.major;return this._adapter.format(e,s||(p?d:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Gl(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*a,h:r*a+o*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,SF(this,[e],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(xF(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _9(e.sort(lde))}}ut(X_,"id","time"),ut(X_,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function z1(t,e,n){let r=0,s=t.length-1,i,a,o,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Ef(t,"pos",e)),{pos:i,time:o}=t[r],{pos:a,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Ef(t,"time",e)),{time:i,pos:o}=t[r],{time:a,pos:l}=t[s]);const c=a-i;return c?o+(l-o)*(e-i)/c:o}class CF extends X_{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=z1(n,this.min),this._tableRange=z1(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=s.length;a<o;++a)u=s[a+1],l=s[a-1],c=s[a],Math.round((u+l)/2)!==c&&i.push({time:c,pos:a/(o-1)});return i}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(z1(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return z1(this._table,r*this._tableRange+this._minPos,!0)}}ut(CF,"id","timeseries"),ut(CF,"defaults",X_.defaults);const rW="label";function kF(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function hde(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function sW(t,e){t.labels=e}function iW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rW;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function fde(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rW;const n={labels:[],datasets:[]};return sW(n,t.labels),iW(n,t.datasets,e),n}function pde(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,p=Q.useRef(null),m=Q.useRef(),f=()=>{p.current&&(m.current=new Tg(p.current,{type:a,data:fde(o,i),options:l&&{...l},plugins:c}),kF(e,m.current))},b=()=>{kF(e,null),m.current&&(m.current.destroy(),m.current=null)};return Q.useEffect(()=>{!s&&m.current&&l&&hde(m.current,l)},[s,l]),Q.useEffect(()=>{!s&&m.current&&sW(m.current.config.data,o.labels)},[s,o.labels]),Q.useEffect(()=>{!s&&m.current&&o.datasets&&iW(m.current.config.data,o.datasets,i)},[s,o.datasets]),Q.useEffect(()=>{m.current&&(s?(b(),setTimeout(f)):m.current.update(d))},[s,l,o.labels,o.datasets,d]),Q.useEffect(()=>{m.current&&(b(),setTimeout(f))},[a]),Q.useEffect(()=>(f(),()=>b()),[]),sn.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},h),u)}const mde=Q.forwardRef(pde);function k$(t,e){return Tg.register(e),Q.forwardRef((n,r)=>sn.createElement(mde,Object.assign({},n,{ref:r,type:t})))}const gde=k$("line",Mw),zw=k$("bar",Pw),vde=k$("pie",GA);Tg.register(zy,Uy,Qv,Fw,Y_,H_,C$,Y_,H_);const yde={responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0}}},bde={labels:["Raw-material","InProcess","Finished"],datasets:[{label:"Inventory",data:[1e5,5e4,2e4],backgroundColor:"rgba(255, 99, 132, 0.5)"}]},xde={labels:["Reveue","Expense","Profit"],datasets:[{label:"Fincance",data:[1e5,5e4,2e4],backgroundColor:"rgba(255, 99, 132, 0.5)"}]},wde={labels:["ordered","fullfilled","cancelled"],datasets:[{label:"2021",data:[1e5,5e4,-2e4],backgroundColor:"rgb(255, 99, 132)"},{label:"2022",data:[1e5,-5e4,2e4],backgroundColor:"rgb(75, 192, 192)"},{label:"2023",data:[-1e5,5e4,2e4],backgroundColor:"rgb(53, 162, 235)"}]},_de={labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},Sde=()=>{const[t,e]=Q.useState({});return Q.useEffect(()=>{e({labels:["Revenue","Expenses"],datasets:[{label:"Amount",data:[1e5,5e4],backgroundColor:["rgba(54, 162, 235, 0.2)","rgba(255, 99, 132, 0.2)"],borderColor:["rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]})},[]),S.jsxs(Ta,{fluid:!0,children:[S.jsxs(ki,{children:[S.jsx(er,{md:4,children:S.jsx(Vn,{className:"equal-height-card",children:S.jsxs(Vn.Body,{children:[S.jsx(Vn.Title,{children:"Inventory"}),S.jsx(zw,{className:"mh-15",options:{responsive:!0},data:bde}),S.jsxs(Wo,{responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Product"}),S.jsx("th",{children:"Quantity"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"Raw materials"}),S.jsx("td",{children:"1000 units"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Work-in-progress"}),S.jsx("td",{children:"500 units"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Finished goods"}),S.jsx("td",{children:"200 units"})]})]})]})]})})}),S.jsx(er,{md:4,children:S.jsx(Vn,{className:"equal-height-card",children:S.jsxs(Vn.Body,{children:[S.jsx(Vn.Title,{children:"Orders"}),S.jsx(zw,{options:yde,data:wde}),S.jsxs(Wo,{className:"Table",responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Status"}),S.jsx("th",{children:"Volume"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"Received"}),S.jsx("td",{children:"1000 units"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Fulfilled"}),S.jsx("td",{children:"800 units"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Canceled"}),S.jsx("td",{children:"50 units"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Returns"}),S.jsx("td",{children:"20 units"})]})]})]})]})})}),S.jsx(er,{md:4,children:S.jsx(Vn,{className:"equal-height-card",children:S.jsxs(Vn.Body,{children:[S.jsx(Vn.Title,{children:"Logistics"}),S.jsxs(Wo,{className:"Table",responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Transportation"}),S.jsx("th",{children:"Performance"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"On-time delivery"}),S.jsx("td",{children:"90%"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Delivery lead time"}),S.jsx("td",{children:"3 days"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Freight volume"}),S.jsx("td",{children:"10,000 lbs"})]})]})]})]})})})]}),S.jsxs(ki,{children:[S.jsx(er,{md:6,children:S.jsx(Vn,{className:"equal-height-card",children:S.jsxs(Vn.Body,{children:[S.jsx(Vn.Title,{children:"Quality"}),S.jsx("div",{className:"pie",children:S.jsx(vde,{className:"pie",options:{responsive:!0},data:_de})}),S.jsxs(Wo,{className:"Table",responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Supplier/Product"}),S.jsx("th",{children:"Defect rate"}),S.jsx("th",{children:"Complaints"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"Supplier A"}),S.jsx("td",{children:"1%"}),S.jsx("td",{children:"10"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Supplier B"}),S.jsx("td",{children:"2%"}),S.jsx("td",{children:"5"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Product X"}),S.jsx("td",{children:"0.5%"}),S.jsx("td",{})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Product Y"}),S.jsx("td",{children:"0.8%"}),S.jsx("td",{children:"2"})]})]})]})]})})}),S.jsx(er,{md:6,children:S.jsx(Vn,{className:"equal-height-card",children:S.jsxs(Vn.Body,{children:[S.jsx(Vn.Title,{children:"Finance"}),S.jsx(zw,{options:{responsive:!0},data:xde}),S.jsxs(Wo,{className:"Table",responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Revenue"}),S.jsx("th",{children:"Expenses"}),S.jsx("th",{children:"Profit"})]})}),S.jsx("tbody",{children:S.jsxs("tr",{children:[S.jsx("td",{children:"$100,000"}),S.jsx("td",{children:"$50,000"}),S.jsx("td",{children:"$50,000"})]})})]})]})})})]})]})};function Cde(){return S.jsxs(vb,{children:[S.jsx(yr,{path:"/",element:S.jsx(Voe,{})}),S.jsx(yr,{path:"/statistics",element:S.jsx(Sde,{})})]})}function EF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(n),!0).forEach(function(r){js(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K_(t){return K_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K_(t)}function kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ede(t,e,n){return e&&TF(t.prototype,e),n&&TF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function js(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t,e){return Ide(t)||Nde(t,e)||oW(t,e)||Ode()}function $b(t){return Tde(t)||Ade(t)||oW(t)||Rde()}function Tde(t){if(Array.isArray(t))return KA(t)}function Ide(t){if(Array.isArray(t))return t}function Ade(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,i=!1,a,o;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(l){i=!0,o=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function oW(t,e){if(t){if(typeof t=="string")return KA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(t,e)}}function KA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ode(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var IF=function(){},T$={},aW={},lW=null,cW={mark:IF,measure:IF};try{typeof window<"u"&&(T$=window),typeof document<"u"&&(aW=document),typeof MutationObserver<"u"&&(lW=MutationObserver),typeof performance<"u"&&(cW=performance)}catch{}var $de=T$.navigator||{},AF=$de.userAgent,NF=AF===void 0?"":AF,Ld=T$,Ur=aW,RF=lW,U1=cW;Ld.document;var yu=!!Ur.documentElement&&!!Ur.head&&typeof Ur.addEventListener=="function"&&typeof Ur.createElement=="function",uW=~NF.indexOf("MSIE")||~NF.indexOf("Trident/"),W1,V1,G1,H1,Y1,lu="___FONT_AWESOME___",JA=16,dW="fa",hW="svg-inline--fa",ep="data-fa-i2svg",QA="data-fa-pseudo-element",Dde="data-fa-pseudo-element-pending",I$="data-prefix",A$="data-icon",OF="fontawesome-i2svg",Pde="async",Mde=["HTML","HEAD","STYLE","SCRIPT"],fW=function(){try{return!0}catch{return!1}}(),jr="classic",ls="sharp",N$=[jr,ls];function Db(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[jr]}})}var Vy=Db((W1={},js(W1,jr,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),js(W1,ls,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),W1)),Gy=Db((V1={},js(V1,jr,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),js(V1,ls,{solid:"fass",regular:"fasr",light:"fasl"}),V1)),Hy=Db((G1={},js(G1,jr,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),js(G1,ls,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),G1)),Bde=Db((H1={},js(H1,jr,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),js(H1,ls,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),H1)),Lde=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,pW="fa-layers-text",Fde=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,jde=Db((Y1={},js(Y1,jr,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),js(Y1,ls,{900:"fass",400:"fasr",300:"fasl"}),Y1)),mW=[1,2,3,4,5,6,7,8,9,10],zde=mW.concat([11,12,13,14,15,16,17,18,19,20]),Ude=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Tf={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Yy=new Set;Object.keys(Gy[jr]).map(Yy.add.bind(Yy));Object.keys(Gy[ls]).map(Yy.add.bind(Yy));var Wde=[].concat(N$,$b(Yy),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Tf.GROUP,Tf.SWAP_OPACITY,Tf.PRIMARY,Tf.SECONDARY]).concat(mW.map(function(t){return"".concat(t,"x")})).concat(zde.map(function(t){return"w-".concat(t)})),Zv=Ld.FontAwesomeConfig||{};function Vde(t){var e=Ur.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function Gde(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Ur&&typeof Ur.querySelector=="function"){var Hde=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];Hde.forEach(function(t){var e=E$(t,2),n=e[0],r=e[1],s=Gde(Vde(n));s!=null&&(Zv[r]=s)})}var gW={styleDefault:"solid",familyDefault:"classic",cssPrefix:dW,replacementClass:hW,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Zv.familyPrefix&&(Zv.cssPrefix=Zv.familyPrefix);var Qm=jt(jt({},gW),Zv);Qm.autoReplaceSvg||(Qm.observeMutations=!1);var Xt={};Object.keys(gW).forEach(function(t){Object.defineProperty(Xt,t,{enumerable:!0,set:function(n){Qm[t]=n,ey.forEach(function(r){return r(Xt)})},get:function(){return Qm[t]}})});Object.defineProperty(Xt,"familyPrefix",{enumerable:!0,set:function(e){Qm.cssPrefix=e,ey.forEach(function(n){return n(Xt)})},get:function(){return Qm.cssPrefix}});Ld.FontAwesomeConfig=Xt;var ey=[];function Yde(t){return ey.push(t),function(){ey.splice(ey.indexOf(t),1)}}var Lu=JA,Hl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function qde(t){if(!(!t||!yu)){var e=Ur.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ur.head.childNodes,r=null,s=n.length-1;s>-1;s--){var i=n[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}return Ur.head.insertBefore(e,r),t}}var Xde="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function qy(){for(var t=12,e="";t-- >0;)e+=Xde[Math.random()*62|0];return e}function Ig(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function R$(t){return t.classList?Ig(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function vW(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Kde(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(vW(t[n]),'" ')},"").trim()}function IC(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function O$(t){return t.size!==Hl.size||t.x!==Hl.x||t.y!==Hl.y||t.rotate!==Hl.rotate||t.flipX||t.flipY}function Jde(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(i," ").concat(a," ").concat(o)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:l,path:c}}function Qde(t){var e=t.transform,n=t.width,r=n===void 0?JA:n,s=t.height,i=s===void 0?JA:s,a=t.startCentered,o=a===void 0?!1:a,l="";return o&&uW?l+="translate(".concat(e.x/Lu-r/2,"em, ").concat(e.y/Lu-i/2,"em) "):o?l+="translate(calc(-50% + ".concat(e.x/Lu,"em), calc(-50% + ").concat(e.y/Lu,"em)) "):l+="translate(".concat(e.x/Lu,"em, ").concat(e.y/Lu,"em) "),l+="scale(".concat(e.size/Lu*(e.flipX?-1:1),", ").concat(e.size/Lu*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var Zde=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function yW(){var t=dW,e=hW,n=Xt.cssPrefix,r=Xt.replacementClass,s=Zde;if(n!==t||r!==e){var i=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return s}var $F=!1;function OT(){Xt.autoAddCss&&!$F&&(qde(yW()),$F=!0)}var ehe={mixout:function(){return{dom:{css:yW,insertCss:OT}}},hooks:function(){return{beforeDOMElementCreation:function(){OT()},beforeI2svg:function(){OT()}}}},cu=Ld||{};cu[lu]||(cu[lu]={});cu[lu].styles||(cu[lu].styles={});cu[lu].hooks||(cu[lu].hooks={});cu[lu].shims||(cu[lu].shims=[]);var ul=cu[lu],bW=[],the=function t(){Ur.removeEventListener("DOMContentLoaded",t),J_=1,bW.map(function(e){return e()})},J_=!1;yu&&(J_=(Ur.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ur.readyState),J_||Ur.addEventListener("DOMContentLoaded",the));function nhe(t){yu&&(J_?setTimeout(t,0):bW.push(t))}function Pb(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,s=t.children,i=s===void 0?[]:s;return typeof t=="string"?vW(t):"<".concat(e," ").concat(Kde(r),">").concat(i.map(Pb).join(""),"</").concat(e,">")}function DF(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var rhe=function(e,n){return function(r,s,i,a){return e.call(n,r,s,i,a)}},$T=function(e,n,r,s){var i=Object.keys(e),a=i.length,o=s!==void 0?rhe(n,s):n,l,c,u;for(r===void 0?(l=1,u=e[i[0]]):(l=0,u=r);l<a;l++)c=i[l],u=o(u,e[c],c,e);return u};function she(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function ZA(t){var e=she(t);return e.length===1?e[0].toString(16):null}function ihe(t,e){var n=t.length,r=t.charCodeAt(e),s;return r>=55296&&r<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function PF(t){return Object.keys(t).reduce(function(e,n){var r=t[n],s=!!r.icon;return s?e[r.iconName]=r.icon:e[n]=r,e},{})}function eN(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,s=r===void 0?!1:r,i=PF(e);typeof ul.hooks.addPack=="function"&&!s?ul.hooks.addPack(t,PF(e)):ul.styles[t]=jt(jt({},ul.styles[t]||{}),i),t==="fas"&&eN("fa",e)}var q1,X1,K1,dm=ul.styles,ohe=ul.shims,ahe=(q1={},js(q1,jr,Object.values(Hy[jr])),js(q1,ls,Object.values(Hy[ls])),q1),$$=null,xW={},wW={},_W={},SW={},CW={},lhe=(X1={},js(X1,jr,Object.keys(Vy[jr])),js(X1,ls,Object.keys(Vy[ls])),X1);function che(t){return~Wde.indexOf(t)}function uhe(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!che(s)?s:null}var kW=function(){var e=function(i){return $T(dm,function(a,o,l){return a[l]=$T(o,i,{}),a},{})};xW=e(function(s,i,a){if(i[3]&&(s[i[3]]=a),i[2]){var o=i[2].filter(function(l){return typeof l=="number"});o.forEach(function(l){s[l.toString(16)]=a})}return s}),wW=e(function(s,i,a){if(s[a]=a,i[2]){var o=i[2].filter(function(l){return typeof l=="string"});o.forEach(function(l){s[l]=a})}return s}),CW=e(function(s,i,a){var o=i[2];return s[a]=a,o.forEach(function(l){s[l]=a}),s});var n="far"in dm||Xt.autoFetchSvg,r=$T(ohe,function(s,i){var a=i[0],o=i[1],l=i[2];return o==="far"&&!n&&(o="fas"),typeof a=="string"&&(s.names[a]={prefix:o,iconName:l}),typeof a=="number"&&(s.unicodes[a.toString(16)]={prefix:o,iconName:l}),s},{names:{},unicodes:{}});_W=r.names,SW=r.unicodes,$$=AC(Xt.styleDefault,{family:Xt.familyDefault})};Yde(function(t){$$=AC(t.styleDefault,{family:Xt.familyDefault})});kW();function D$(t,e){return(xW[t]||{})[e]}function dhe(t,e){return(wW[t]||{})[e]}function If(t,e){return(CW[t]||{})[e]}function EW(t){return _W[t]||{prefix:null,iconName:null}}function hhe(t){var e=SW[t],n=D$("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Fd(){return $$}var P$=function(){return{prefix:null,iconName:null,rest:[]}};function AC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?jr:n,s=Vy[r][t],i=Gy[r][t]||Gy[r][s],a=t in ul.styles?t:null;return i||a||null}var MF=(K1={},js(K1,jr,Object.keys(Hy[jr])),js(K1,ls,Object.keys(Hy[ls])),K1);function NC(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,s=r===void 0?!1:r,i=(e={},js(e,jr,"".concat(Xt.cssPrefix,"-").concat(jr)),js(e,ls,"".concat(Xt.cssPrefix,"-").concat(ls)),e),a=null,o=jr;(t.includes(i[jr])||t.some(function(c){return MF[jr].includes(c)}))&&(o=jr),(t.includes(i[ls])||t.some(function(c){return MF[ls].includes(c)}))&&(o=ls);var l=t.reduce(function(c,u){var d=uhe(Xt.cssPrefix,u);if(dm[u]?(u=ahe[o].includes(u)?Bde[o][u]:u,a=u,c.prefix=u):lhe[o].indexOf(u)>-1?(a=u,c.prefix=AC(u,{family:o})):d?c.iconName=d:u!==Xt.replacementClass&&u!==i[jr]&&u!==i[ls]&&c.rest.push(u),!s&&c.prefix&&c.iconName){var h=a==="fa"?EW(c.iconName):{},p=If(c.prefix,c.iconName);h.prefix&&(a=null),c.iconName=h.iconName||p||c.iconName,c.prefix=h.prefix||c.prefix,c.prefix==="far"&&!dm.far&&dm.fas&&!Xt.autoFetchSvg&&(c.prefix="fas")}return c},P$());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&o===ls&&(dm.fass||Xt.autoFetchSvg)&&(l.prefix="fass",l.iconName=If(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||a==="fa")&&(l.prefix=Fd()||"fas"),l}var fhe=function(){function t(){kde(this,t),this.definitions={}}return Ede(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var a=s.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){n.definitions[o]=jt(jt({},n.definitions[o]||{}),a[o]),eN(o,a[o]);var l=Hy[jr][o];l&&eN(l,a[o]),kW()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(i){var a=s[i],o=a.prefix,l=a.iconName,c=a.icon,u=c[2];n[o]||(n[o]={}),u.length>0&&u.forEach(function(d){typeof d=="string"&&(n[o][d]=c)}),n[o][l]=c}),n}}]),t}(),BF=[],hm={},Em={},phe=Object.keys(Em);function mhe(t,e){var n=e.mixoutsTo;return BF=t,hm={},Object.keys(Em).forEach(function(r){phe.indexOf(r)===-1&&delete Em[r]}),BF.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(a){typeof s[a]=="function"&&(n[a]=s[a]),K_(s[a])==="object"&&Object.keys(s[a]).forEach(function(o){n[a]||(n[a]={}),n[a][o]=s[a][o]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(a){hm[a]||(hm[a]=[]),hm[a].push(i[a])})}r.provides&&r.provides(Em)}),n}function tN(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=hm[t]||[];return i.forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function tp(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=hm[t]||[];s.forEach(function(i){i.apply(null,n)})}function uu(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Em[t]?Em[t].apply(null,e):void 0}function nN(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Fd();if(e)return e=If(n,e)||e,DF(TW.definitions,n,e)||DF(ul.styles,n,e)}var TW=new fhe,ghe=function(){Xt.autoReplaceSvg=!1,Xt.observeMutations=!1,tp("noAuto")},vhe={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return yu?(tp("beforeI2svg",e),uu("pseudoElements2svg",e),uu("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Xt.autoReplaceSvg===!1&&(Xt.autoReplaceSvg=!0),Xt.observeMutations=!0,nhe(function(){bhe({autoReplaceSvgRoot:n}),tp("watch",e)})}},yhe={icon:function(e){if(e===null)return null;if(K_(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:If(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=AC(e[0]);return{prefix:r,iconName:If(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Xt.cssPrefix,"-"))>-1||e.match(Lde))){var s=NC(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||Fd(),iconName:If(s.prefix,s.iconName)||s.iconName}}if(typeof e=="string"){var i=Fd();return{prefix:i,iconName:If(i,e)||e}}}},na={noAuto:ghe,config:Xt,dom:vhe,parse:yhe,library:TW,findIconDefinition:nN,toHtml:Pb},bhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Ur:n;(Object.keys(ul.styles).length>0||Xt.autoFetchSvg)&&yu&&Xt.autoReplaceSvg&&na.dom.i2svg({node:r})};function RC(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Pb(r)})}}),Object.defineProperty(t,"node",{get:function(){if(yu){var r=Ur.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function xhe(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,i=t.styles,a=t.transform;if(O$(a)&&n.found&&!r.found){var o=n.width,l=n.height,c={x:o/l/2,y:.5};s.style=IC(jt(jt({},i),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function whe(t){var e=t.prefix,n=t.iconName,r=t.children,s=t.attributes,i=t.symbol,a=i===!0?"".concat(e,"-").concat(Xt.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:jt(jt({},s),{},{id:a}),children:r}]}]}function M$(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,i=t.iconName,a=t.transform,o=t.symbol,l=t.title,c=t.maskId,u=t.titleId,d=t.extra,h=t.watchable,p=h===void 0?!1:h,m=r.found?r:n,f=m.width,b=m.height,w=s==="fak",g=[Xt.replacementClass,i?"".concat(Xt.cssPrefix,"-").concat(i):""].filter(function($){return d.classes.indexOf($)===-1}).filter(function($){return $!==""||!!$}).concat(d.classes).join(" "),C={children:[],attributes:jt(jt({},d.attributes),{},{"data-prefix":s,"data-icon":i,class:g,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(b)})},k=w&&!~d.classes.indexOf("fa-fw")?{width:"".concat(f/b*16*.0625,"em")}:{};p&&(C.attributes[ep]=""),l&&(C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(u||qy())},children:[l]}),delete C.attributes.title);var N=jt(jt({},C),{},{prefix:s,iconName:i,main:n,mask:r,maskId:c,transform:a,symbol:o,styles:jt(jt({},k),d.styles)}),A=r.found&&n.found?uu("generateAbstractMask",N)||{children:[],attributes:{}}:uu("generateAbstractIcon",N)||{children:[],attributes:{}},O=A.children,R=A.attributes;return N.children=O,N.attributes=R,o?whe(N):xhe(N)}function LF(t){var e=t.content,n=t.width,r=t.height,s=t.transform,i=t.title,a=t.extra,o=t.watchable,l=o===void 0?!1:o,c=jt(jt(jt({},a.attributes),i?{title:i}:{}),{},{class:a.classes.join(" ")});l&&(c[ep]="");var u=jt({},a.styles);O$(s)&&(u.transform=Qde({transform:s,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=IC(u);d.length>0&&(c.style=d);var h=[];return h.push({tag:"span",attributes:c,children:[e]}),i&&h.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),h}function _he(t){var e=t.content,n=t.title,r=t.extra,s=jt(jt(jt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=IC(r.styles);i.length>0&&(s.style=i);var a=[];return a.push({tag:"span",attributes:s,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}var DT=ul.styles;function rN(t){var e=t[0],n=t[1],r=t.slice(4),s=E$(r,1),i=s[0],a=null;return Array.isArray(i)?a={tag:"g",attributes:{class:"".concat(Xt.cssPrefix,"-").concat(Tf.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Xt.cssPrefix,"-").concat(Tf.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Xt.cssPrefix,"-").concat(Tf.PRIMARY),fill:"currentColor",d:i[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:a}}var She={found:!1,width:512,height:512};function Che(t,e){!fW&&!Xt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function sN(t,e){var n=e;return e==="fa"&&Xt.styleDefault!==null&&(e=Fd()),new Promise(function(r,s){if(uu("missingIconAbstract"),n==="fa"){var i=EW(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&DT[e]&&DT[e][t]){var a=DT[e][t];return r(rN(a))}Che(t,e),r(jt(jt({},She),{},{icon:Xt.showMissingIcons&&t?uu("missingIconAbstract")||{}:{}}))})}var FF=function(){},iN=Xt.measurePerformance&&U1&&U1.mark&&U1.measure?U1:{mark:FF,measure:FF},Ev='FA "6.4.0"',khe=function(e){return iN.mark("".concat(Ev," ").concat(e," begins")),function(){return IW(e)}},IW=function(e){iN.mark("".concat(Ev," ").concat(e," ends")),iN.measure("".concat(Ev," ").concat(e),"".concat(Ev," ").concat(e," begins"),"".concat(Ev," ").concat(e," ends"))},B$={begin:khe,end:IW},Uw=function(){};function jF(t){var e=t.getAttribute?t.getAttribute(ep):null;return typeof e=="string"}function Ehe(t){var e=t.getAttribute?t.getAttribute(I$):null,n=t.getAttribute?t.getAttribute(A$):null;return e&&n}function The(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Xt.replacementClass)}function Ihe(){if(Xt.autoReplaceSvg===!0)return Ww.replace;var t=Ww[Xt.autoReplaceSvg];return t||Ww.replace}function Ahe(t){return Ur.createElementNS("http://www.w3.org/2000/svg",t)}function Nhe(t){return Ur.createElement(t)}function AW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?Ahe:Nhe:n;if(typeof t=="string")return Ur.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(a){s.setAttribute(a,t.attributes[a])});var i=t.children||[];return i.forEach(function(a){s.appendChild(AW(a,{ceFn:r}))}),s}function Rhe(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Ww={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(AW(s),n)}),n.getAttribute(ep)===null&&Xt.keepOriginalSource){var r=Ur.createComment(Rhe(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~R$(n).indexOf(Xt.replacementClass))return Ww.replace(e);var s=new RegExp("".concat(Xt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(o,l){return l===Xt.replacementClass||l.match(s)?o.toSvg.push(l):o.toNode.push(l),o},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",i.toNode.join(" "))}var a=r.map(function(o){return Pb(o)}).join(`
`);n.setAttribute(ep,""),n.innerHTML=a}};function zF(t){t()}function NW(t,e){var n=typeof e=="function"?e:Uw;if(t.length===0)n();else{var r=zF;Xt.mutateApproach===Pde&&(r=Ld.requestAnimationFrame||zF),r(function(){var s=Ihe(),i=B$.begin("mutate");t.map(s),i(),n()})}}var L$=!1;function RW(){L$=!0}function oN(){L$=!1}var Q_=null;function UF(t){if(RF&&Xt.observeMutations){var e=t.treeCallback,n=e===void 0?Uw:e,r=t.nodeCallback,s=r===void 0?Uw:r,i=t.pseudoElementsCallback,a=i===void 0?Uw:i,o=t.observeMutationsRoot,l=o===void 0?Ur:o;Q_=new RF(function(c){if(!L$){var u=Fd();Ig(c).forEach(function(d){if(d.type==="childList"&&d.addedNodes.length>0&&!jF(d.addedNodes[0])&&(Xt.searchPseudoElements&&a(d.target),n(d.target)),d.type==="attributes"&&d.target.parentNode&&Xt.searchPseudoElements&&a(d.target.parentNode),d.type==="attributes"&&jF(d.target)&&~Ude.indexOf(d.attributeName))if(d.attributeName==="class"&&Ehe(d.target)){var h=NC(R$(d.target)),p=h.prefix,m=h.iconName;d.target.setAttribute(I$,p||u),m&&d.target.setAttribute(A$,m)}else The(d.target)&&s(d.target)})}}),yu&&Q_.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Ohe(){Q_&&Q_.disconnect()}function $he(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var i=s.split(":"),a=i[0],o=i.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),n}function Dhe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",s=NC(R$(t));return s.prefix||(s.prefix=Fd()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=dhe(s.prefix,t.innerText)||D$(s.prefix,ZA(t.innerText))),!s.iconName&&Xt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function Phe(t){var e=Ig(t.attributes).reduce(function(s,i){return s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Xt.autoA11y&&(n?e["aria-labelledby"]="".concat(Xt.replacementClass,"-title-").concat(r||qy()):(e["aria-hidden"]="true",e.focusable="false")),e}function Mhe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Hl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function WF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=Dhe(t),r=n.iconName,s=n.prefix,i=n.rest,a=Phe(t),o=tN("parseNodeAttributes",{},t),l=e.styleParser?$he(t):[];return jt({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:s,transform:Hl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:a}},o)}var Bhe=ul.styles;function OW(t){var e=Xt.autoReplaceSvg==="nest"?WF(t,{styleParser:!1}):WF(t);return~e.extra.classes.indexOf(pW)?uu("generateLayersText",t,e):uu("generateSvgReplacementMutation",t,e)}var jd=new Set;N$.map(function(t){jd.add("fa-".concat(t))});Object.keys(Vy[jr]).map(jd.add.bind(jd));Object.keys(Vy[ls]).map(jd.add.bind(jd));jd=$b(jd);function VF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!yu)return Promise.resolve();var n=Ur.documentElement.classList,r=function(d){return n.add("".concat(OF,"-").concat(d))},s=function(d){return n.remove("".concat(OF,"-").concat(d))},i=Xt.autoFetchSvg?jd:N$.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Bhe));i.includes("fa")||i.push("fa");var a=[".".concat(pW,":not([").concat(ep,"])")].concat(i.map(function(u){return".".concat(u,":not([").concat(ep,"])")})).join(", ");if(a.length===0)return Promise.resolve();var o=[];try{o=Ig(t.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),s("complete");else return Promise.resolve();var l=B$.begin("onTree"),c=o.reduce(function(u,d){try{var h=OW(d);h&&u.push(h)}catch(p){fW||p.name==="MissingIcon"&&console.error(p)}return u},[]);return new Promise(function(u,d){Promise.all(c).then(function(h){NW(h,function(){r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),l(),u()})}).catch(function(h){l(),d(h)})})}function Lhe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;OW(t).then(function(n){n&&NW([n],e)})}function Fhe(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:nN(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:nN(s||{})),t(r,jt(jt({},n),{},{mask:s}))}}var jhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,s=r===void 0?Hl:r,i=n.symbol,a=i===void 0?!1:i,o=n.mask,l=o===void 0?null:o,c=n.maskId,u=c===void 0?null:c,d=n.title,h=d===void 0?null:d,p=n.titleId,m=p===void 0?null:p,f=n.classes,b=f===void 0?[]:f,w=n.attributes,g=w===void 0?{}:w,C=n.styles,k=C===void 0?{}:C;if(e){var N=e.prefix,A=e.iconName,O=e.icon;return RC(jt({type:"icon"},e),function(){return tp("beforeDOMElementCreation",{iconDefinition:e,params:n}),Xt.autoA11y&&(h?g["aria-labelledby"]="".concat(Xt.replacementClass,"-title-").concat(m||qy()):(g["aria-hidden"]="true",g.focusable="false")),M$({icons:{main:rN(O),mask:l?rN(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:N,iconName:A,transform:jt(jt({},Hl),s),symbol:a,title:h,maskId:u,titleId:m,extra:{attributes:g,styles:k,classes:b}})})}},zhe={mixout:function(){return{icon:Fhe(jhe)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=VF,n.nodeCallback=Lhe,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=r===void 0?Ur:r,i=n.callback,a=i===void 0?function(){}:i;return VF(s,a)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,i=r.title,a=r.titleId,o=r.prefix,l=r.transform,c=r.symbol,u=r.mask,d=r.maskId,h=r.extra;return new Promise(function(p,m){Promise.all([sN(s,o),u.iconName?sN(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(f){var b=E$(f,2),w=b[0],g=b[1];p([n,M$({icons:{main:w,mask:g},prefix:o,iconName:s,transform:l,symbol:c,maskId:d,title:i,titleId:a,extra:h,watchable:!0})])}).catch(m)})},e.generateAbstractIcon=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.transform,o=n.styles,l=IC(o);l.length>0&&(s.style=l);var c;return O$(a)&&(c=uu("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),r.push(c||i.icon),{children:r,attributes:s}}}},Uhe={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.classes,i=s===void 0?[]:s;return RC({type:"layer"},function(){tp("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(o){Array.isArray(o)?o.map(function(l){a=a.concat(l.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(Xt.cssPrefix,"-layers")].concat($b(i)).join(" ")},children:a}]})}}}},Whe={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.title,i=s===void 0?null:s,a=r.classes,o=a===void 0?[]:a,l=r.attributes,c=l===void 0?{}:l,u=r.styles,d=u===void 0?{}:u;return RC({type:"counter",content:n},function(){return tp("beforeDOMElementCreation",{content:n,params:r}),_he({content:n.toString(),title:i,extra:{attributes:c,styles:d,classes:["".concat(Xt.cssPrefix,"-layers-counter")].concat($b(o))}})})}}}},Vhe={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.transform,i=s===void 0?Hl:s,a=r.title,o=a===void 0?null:a,l=r.classes,c=l===void 0?[]:l,u=r.attributes,d=u===void 0?{}:u,h=r.styles,p=h===void 0?{}:h;return RC({type:"text",content:n},function(){return tp("beforeDOMElementCreation",{content:n,params:r}),LF({content:n,transform:jt(jt({},Hl),i),title:o,extra:{attributes:d,styles:p,classes:["".concat(Xt.cssPrefix,"-layers-text")].concat($b(c))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.title,i=r.transform,a=r.extra,o=null,l=null;if(uW){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();o=u.width/c,l=u.height/c}return Xt.autoA11y&&!s&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,LF({content:n.innerHTML,width:o,height:l,transform:i,title:s,extra:a,watchable:!0})])}}},Ghe=new RegExp('"',"ug"),GF=[1105920,1112319];function Hhe(t){var e=t.replace(Ghe,""),n=ihe(e,0),r=n>=GF[0]&&n<=GF[1],s=e.length===2?e[0]===e[1]:!1;return{value:ZA(s?e[0]:e),isSecondary:r||s}}function HF(t,e){var n="".concat(Dde).concat(e.replace(":","-"));return new Promise(function(r,s){if(t.getAttribute(n)!==null)return r();var i=Ig(t.children),a=i.filter(function(O){return O.getAttribute(QA)===e})[0],o=Ld.getComputedStyle(t,e),l=o.getPropertyValue("font-family").match(Fde),c=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!l)return t.removeChild(a),r();if(l&&u!=="none"&&u!==""){var d=o.getPropertyValue("content"),h=~["Sharp"].indexOf(l[2])?ls:jr,p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Gy[h][l[2].toLowerCase()]:jde[h][c],m=Hhe(d),f=m.value,b=m.isSecondary,w=l[0].startsWith("FontAwesome"),g=D$(p,f),C=g;if(w){var k=hhe(f);k.iconName&&k.prefix&&(g=k.iconName,p=k.prefix)}if(g&&!b&&(!a||a.getAttribute(I$)!==p||a.getAttribute(A$)!==C)){t.setAttribute(n,C),a&&t.removeChild(a);var N=Mhe(),A=N.extra;A.attributes[QA]=e,sN(g,p).then(function(O){var R=M$(jt(jt({},N),{},{icons:{main:O,mask:P$()},prefix:p,iconName:C,extra:A,watchable:!0})),$=Ur.createElement("svg");e==="::before"?t.insertBefore($,t.firstChild):t.appendChild($),$.outerHTML=R.map(function(D){return Pb(D)}).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function Yhe(t){return Promise.all([HF(t,"::before"),HF(t,"::after")])}function qhe(t){return t.parentNode!==document.head&&!~Mde.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(QA)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function YF(t){if(yu)return new Promise(function(e,n){var r=Ig(t.querySelectorAll("*")).filter(qhe).map(Yhe),s=B$.begin("searchPseudoElements");RW(),Promise.all(r).then(function(){s(),oN(),e()}).catch(function(){s(),oN(),n()})})}var Xhe={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=YF,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,s=r===void 0?Ur:r;Xt.searchPseudoElements&&YF(s)}}},qF=!1,Khe={mixout:function(){return{dom:{unwatch:function(){RW(),qF=!0}}}},hooks:function(){return{bootstrap:function(){UF(tN("mutationObserverCallbacks",{}))},noAuto:function(){Ohe()},watch:function(n){var r=n.observeMutationsRoot;qF?oN():UF(tN("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},XF=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,s){var i=s.toLowerCase().split("-"),a=i[0],o=i.slice(1).join("-");if(a&&o==="h")return r.flipX=!0,r;if(a&&o==="v")return r.flipY=!0,r;if(o=parseFloat(o),isNaN(o))return r;switch(a){case"grow":r.size=r.size+o;break;case"shrink":r.size=r.size-o;break;case"left":r.x=r.x-o;break;case"right":r.x=r.x+o;break;case"up":r.y=r.y-o;break;case"down":r.y=r.y+o;break;case"rotate":r.rotate=r.rotate+o;break}return r},n)},Jhe={mixout:function(){return{parse:{transform:function(n){return XF(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=XF(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,i=n.containerWidth,a=n.iconWidth,o={transform:"translate(".concat(i/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),c="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),u="rotate(".concat(s.rotate," 0 0)"),d={transform:"".concat(l," ").concat(c," ").concat(u)},h={transform:"translate(".concat(a/2*-1," -256)")},p={outer:o,inner:d,path:h};return{tag:"g",attributes:jt({},p.outer),children:[{tag:"g",attributes:jt({},p.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:jt(jt({},r.icon.attributes),p.path)}]}]}}}},PT={x:0,y:0,width:"100%",height:"100%"};function KF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Qhe(t){return t.tag==="g"?t.children:[t]}var Zhe={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),i=s?NC(s.split(" ").map(function(a){return a.trim()})):P$();return i.prefix||(i.prefix=Fd()),n.mask=i,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.mask,o=n.maskId,l=n.transform,c=i.width,u=i.icon,d=a.width,h=a.icon,p=Jde({transform:l,containerWidth:d,iconWidth:c}),m={tag:"rect",attributes:jt(jt({},PT),{},{fill:"white"})},f=u.children?{children:u.children.map(KF)}:{},b={tag:"g",attributes:jt({},p.inner),children:[KF(jt({tag:u.tag,attributes:jt(jt({},u.attributes),p.path)},f))]},w={tag:"g",attributes:jt({},p.outer),children:[b]},g="mask-".concat(o||qy()),C="clip-".concat(o||qy()),k={tag:"mask",attributes:jt(jt({},PT),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[m,w]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:Qhe(h)},k]};return r.push(N,{tag:"rect",attributes:jt({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(g,")")},PT)}),{children:r,attributes:s}}}},efe={provides:function(e){var n=!1;Ld.matchMedia&&(n=Ld.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:jt(jt({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=jt(jt({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:jt(jt({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||o.children.push({tag:"animate",attributes:jt(jt({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:jt(jt({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(o),r.push({tag:"path",attributes:jt(jt({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:jt(jt({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:jt(jt({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:jt(jt({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},tfe={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return n.symbol=i,n}}}},nfe=[ehe,zhe,Uhe,Whe,Vhe,Xhe,Khe,Jhe,Zhe,efe,tfe];mhe(nfe,{mixoutsTo:na});na.noAuto;na.config;na.library;na.dom;var aN=na.parse;na.findIconDefinition;na.toHtml;var rfe=na.icon;na.layer;na.text;na.counter;function JF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(n),!0).forEach(function(r){fm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z_(t){return Z_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z_(t)}function fm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ife(t,e){if(t==null)return{};var n=sfe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lN(t){return ofe(t)||afe(t)||lfe(t)||cfe()}function ofe(t){if(Array.isArray(t))return cN(t)}function afe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lfe(t,e){if(t){if(typeof t=="string")return cN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(t,e)}}function cN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ufe(t){var e,n=t.beat,r=t.fade,s=t.beatFade,i=t.bounce,a=t.shake,o=t.flash,l=t.spin,c=t.spinPulse,u=t.spinReverse,d=t.pulse,h=t.fixedWidth,p=t.inverse,m=t.border,f=t.listItem,b=t.flip,w=t.size,g=t.rotation,C=t.pull,k=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":a,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":h,"fa-inverse":p,"fa-border":m,"fa-li":f,"fa-flip":b===!0,"fa-flip-horizontal":b==="horizontal"||b==="both","fa-flip-vertical":b==="vertical"||b==="both"},fm(e,"fa-".concat(w),typeof w<"u"&&w!==null),fm(e,"fa-rotate-".concat(g),typeof g<"u"&&g!==null&&g!==0),fm(e,"fa-pull-".concat(C),typeof C<"u"&&C!==null),fm(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(k).map(function(N){return k[N]?N:null}).filter(function(N){return N})}function dfe(t){return t=t-0,t===t}function $W(t){return dfe(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var hfe=["style"];function ffe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function pfe(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=$W(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?e[ffe(s)]=i:e[s]=i,e},{})}function DW(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return DW(t,l)}),s=Object.keys(e.attributes||{}).reduce(function(l,c){var u=e.attributes[c];switch(c){case"class":l.attrs.className=u,delete e.attributes.class;break;case"style":l.attrs.style=pfe(u);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=u:l.attrs[$W(c)]=u}return l},{attrs:{}}),i=n.style,a=i===void 0?{}:i,o=ife(n,hfe);return s.attrs.style=sd(sd({},s.attrs.style),a),t.apply(void 0,[e.tag,sd(sd({},s.attrs),o)].concat(lN(r)))}var PW=!1;try{PW=!0}catch{}function mfe(){if(!PW&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function QF(t){if(t&&Z_(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(aN.icon)return aN.icon(t);if(t===null)return null;if(t&&Z_(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function MT(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?fm({},t,e):{}}var Mb=sn.forwardRef(function(t,e){var n=t.icon,r=t.mask,s=t.symbol,i=t.className,a=t.title,o=t.titleId,l=t.maskId,c=QF(n),u=MT("classes",[].concat(lN(ufe(t)),lN(i.split(" ")))),d=MT("transform",typeof t.transform=="string"?aN.transform(t.transform):t.transform),h=MT("mask",QF(r)),p=rfe(c,sd(sd(sd(sd({},u),d),h),{},{symbol:s,title:a,titleId:o,maskId:l}));if(!p)return mfe("Could not find icon",c),null;var m=p.abstract,f={ref:e};return Object.keys(t).forEach(function(b){Mb.defaultProps.hasOwnProperty(b)||(f[b]=t[b])}),gfe(m[0],f)});Mb.displayName="FontAwesomeIcon";Mb.propTypes={beat:qt.bool,border:qt.bool,beatFade:qt.bool,bounce:qt.bool,className:qt.string,fade:qt.bool,flash:qt.bool,mask:qt.oneOfType([qt.object,qt.array,qt.string]),maskId:qt.string,fixedWidth:qt.bool,inverse:qt.bool,flip:qt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:qt.oneOfType([qt.object,qt.array,qt.string]),listItem:qt.bool,pull:qt.oneOf(["right","left"]),pulse:qt.bool,rotation:qt.oneOf([0,90,180,270]),shake:qt.bool,size:qt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:qt.bool,spinPulse:qt.bool,spinReverse:qt.bool,symbol:qt.oneOfType([qt.bool,qt.string]),title:qt.string,titleId:qt.string,transform:qt.oneOfType([qt.string,qt.object]),swapOpacity:qt.bool};Mb.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var gfe=DW.bind(null,sn.createElement),vfe={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]};const yi="https://8fdb-2409-40e6-2d-3b86-a0c1-15ef-a3da-83dd.ngrok-free.app";var Vs;let pa=(Vs=class{},ut(Vs,"addProduct",async e=>{try{return(await Dn.post(yi+"/product",e)).data}catch(n){return n.data}}),ut(Vs,"action",async e=>{try{console.log("approved");const n=await Dn.post(yi+"v1/startup/action",e);return console.log(n),n.data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"delete",async e=>{try{return(await Dn.post(yi+"/v1/startup/delete",e)).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"login",async e=>{try{return(await Dn.post(yi+"/user/signin/manufacturer",e)).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"loginAdmin",async e=>{try{return(await Dn.post(yi+"/user/signin/manufacturer",e)).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"fetchbyrole",async e=>{try{return console.log("boom go"),(await Dn.get(yi+"/product/productsbyRole",{params:e})).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"fetchRawProduct",async e=>{try{return(await Dn.get(yi+"/product/raw_products",{params:e})).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"fetchInventory",async e=>{try{return(await Dn.get(yi+"/user/inventory",{params:e})).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"buyProduct",async e=>{try{return(await Dn.post(yi+"/transact/buyProduct",e)).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"selectLogistic",async e=>{try{return(await Dn.post(yi+"/transact/selectLogistic",e)).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"selectLogistic",async e=>{try{return(await Dn.post(yi+"/transact/selectLogistic",e)).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"productPickup",async e=>{try{return(await Dn.post(yi+"/transact/productPickup",e)).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"productDelivery",async e=>{try{return(await Dn.post(yi+"/transact/productDelivery",e)).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"fetchShopProduct",async e=>{try{const n=await Dn.get(yi+"/product/shopProduct",{params:e});return console.log("res Api"),console.log(n),n.data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"buyRawProduct",async e=>{try{return(await Dn.post(yi+"/product/raw_products",e)).data}catch(n){return console.log(n.data),n.data}}),ut(Vs,"listProduct",async e=>{try{return(await Dn.post(yi+"/transact/listItem",e)).data}catch(n){return console.log(n.data),n.data}}),Vs);const zc="https://8fdb-2409-40e6-2d-3b86-a0c1-15ef-a3da-83dd.ngrok-free.app";class zo{}ut(zo,"StartupForm",async e=>{try{const n=await Dn.post(zc+"/v1/startup/register",e);return console.log(n),n.data}catch(n){return console.log(n.data),n.data}}),ut(zo,"action",async e=>{try{console.log("approved");const n=await Dn.post(zc+"v1/startup/action",e);return console.log(n),n.data}catch(n){return console.log(n.data),n.data}}),ut(zo,"delete",async e=>{try{return(await Dn.post(zc+"/v1/startup/delete",e)).data}catch(n){return console.log(n.data),n.data}}),ut(zo,"login",async e=>{try{return(await Dn.post(zc+"/user/signin/manufacturer",e)).data}catch(n){return console.log(n.data),n.data}}),ut(zo,"loginAdmin",async e=>{try{return(await Dn.post(zc+"/user/signin/manufacturer",e)).data}catch(n){return console.log(n.data),n.data}}),ut(zo,"fetch",async e=>{try{return(await Dn.post(zc+"/v1/kyc/add_other",e)).data}catch(n){return console.log(n.data),n.data}}),ut(zo,"fetchTransaction",async e=>{try{return(await Dn.get(zc+"/transact/listInvoice",{params:e})).data}catch(n){return console.log(n.data),n.data}}),ut(zo,"fetchUserbyrole",async e=>{try{const n=await Dn.get(`${zc}/user/userbytype`,{params:e});return console.log("Response:",n.data),n.data}catch(n){return console.log("Error:",n),n.data}}),ut(zo,"fetchUserbyById",async e=>{try{const n=await Dn.get(`${zc}/user/userbyid`,{params:e});return console.log("Response:",n.data),n.data}catch(n){return console.log("Error:",n),n.data}});var Bb={},yfe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},MW={},ra={};let F$;const bfe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ra.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ra.getSymbolTotalCodewords=function(e){return bfe[e]};ra.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ra.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');F$=e};ra.isKanjiModeEnabled=function(){return typeof F$<"u"};ra.toSJIS=function(e){return F$(e)};var OC={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(OC);function BW(){this.buffer=[],this.length=0}BW.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var xfe=BW;function Lb(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Lb.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};Lb.prototype.get=function(t,e){return this.data[t*this.size+e]};Lb.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Lb.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var wfe=Lb,LW={};(function(t){const e=ra.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),a=i===145?26:Math.ceil((i-13)/(2*s-2))*2,o=[i-7];for(let l=1;l<s-1;l++)o[l]=o[l-1]-a;return o.push(6),o.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),a=i.length;for(let o=0;o<a;o++)for(let l=0;l<a;l++)o===0&&l===0||o===0&&l===a-1||o===a-1&&l===0||s.push([i[o],i[l]]);return s}})(LW);var FW={};const _fe=ra.getSymbolSize,ZF=7;FW.getPositions=function(e){const n=_fe(e);return[[0,0],[n-ZF,0],[0,n-ZF]]};var jW={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let a=0,o=0,l=0,c=null,u=null;for(let d=0;d<i;d++){o=l=0,c=u=null;for(let h=0;h<i;h++){let p=s.get(d,h);p===c?o++:(o>=5&&(a+=e.N1+(o-5)),c=p,o=1),p=s.get(h,d),p===u?l++:(l>=5&&(a+=e.N1+(l-5)),u=p,l=1)}o>=5&&(a+=e.N1+(o-5)),l>=5&&(a+=e.N1+(l-5))}return a},t.getPenaltyN2=function(s){const i=s.size;let a=0;for(let o=0;o<i-1;o++)for(let l=0;l<i-1;l++){const c=s.get(o,l)+s.get(o,l+1)+s.get(o+1,l)+s.get(o+1,l+1);(c===4||c===0)&&a++}return a*e.N2},t.getPenaltyN3=function(s){const i=s.size;let a=0,o=0,l=0;for(let c=0;c<i;c++){o=l=0;for(let u=0;u<i;u++)o=o<<1&2047|s.get(c,u),u>=10&&(o===1488||o===93)&&a++,l=l<<1&2047|s.get(u,c),u>=10&&(l===1488||l===93)&&a++}return a*e.N3},t.getPenaltyN4=function(s){let i=0;const a=s.data.length;for(let l=0;l<a;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/a/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const a=i.size;for(let o=0;o<a;o++)for(let l=0;l<a;l++)i.isReserved(l,o)||i.xor(l,o,n(s,l,o))},t.getBestMask=function(s,i){const a=Object.keys(t.Patterns).length;let o=0,l=1/0;for(let c=0;c<a;c++){i(c),t.applyMask(c,s);const u=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),u<l&&(l=u,o=c)}return o}})(jW);var $C={};const id=OC,J1=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Q1=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];$C.getBlocksCount=function(e,n){switch(n){case id.L:return J1[(e-1)*4+0];case id.M:return J1[(e-1)*4+1];case id.Q:return J1[(e-1)*4+2];case id.H:return J1[(e-1)*4+3];default:return}};$C.getTotalCodewordsCount=function(e,n){switch(n){case id.L:return Q1[(e-1)*4+0];case id.M:return Q1[(e-1)*4+1];case id.Q:return Q1[(e-1)*4+2];case id.H:return Q1[(e-1)*4+3];default:return}};var zW={},DC={};const ty=new Uint8Array(512),eS=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)ty[n]=e,eS[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)ty[n]=ty[n-255]})();DC.log=function(e){if(e<1)throw new Error("log("+e+")");return eS[e]};DC.exp=function(e){return ty[e]};DC.mul=function(e,n){return e===0||n===0?0:ty[eS[e]+eS[n]]};(function(t){const e=DC;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let a=0;a<r.length;a++)for(let o=0;o<s.length;o++)i[a+o]^=e.mul(r[a],s[o]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const a=i[0];for(let l=0;l<s.length;l++)i[l]^=e.mul(s[l],a);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(zW);const UW=zW;function j$(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}j$.prototype.initialize=function(e){this.degree=e,this.genPoly=UW.generateECPolynomial(this.degree)};j$.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=UW.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var Sfe=j$,WW={},nh={},z$={};z$.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var fc={};const VW="[0-9]+",Cfe="[A-Z $%*+\\-./:]+";let Xy="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xy=Xy.replace(/u/g,"\\u");const kfe="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xy+`)(?:.|[\r
]))+`;fc.KANJI=new RegExp(Xy,"g");fc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");fc.BYTE=new RegExp(kfe,"g");fc.NUMERIC=new RegExp(VW,"g");fc.ALPHANUMERIC=new RegExp(Cfe,"g");const Efe=new RegExp("^"+Xy+"$"),Tfe=new RegExp("^"+VW+"$"),Ife=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");fc.testKanji=function(e){return Efe.test(e)};fc.testNumeric=function(e){return Tfe.test(e)};fc.testAlphanumeric=function(e){return Ife.test(e)};(function(t){const e=z$,n=fc;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,a){if(t.isValid(i))return i;try{return r(i)}catch{return a}}})(nh);(function(t){const e=ra,n=$C,r=OC,s=nh,i=z$,a=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,o=e.getBCHDigit(a);function l(h,p,m){for(let f=1;f<=40;f++)if(p<=t.getCapacity(f,m,h))return f}function c(h,p){return s.getCharCountIndicator(h,p)+4}function u(h,p){let m=0;return h.forEach(function(f){const b=c(f.mode,p);m+=b+f.getBitsLength()}),m}function d(h,p){for(let m=1;m<=40;m++)if(u(h,m)<=t.getCapacity(m,p,s.MIXED))return m}t.from=function(p,m){return i.isValid(p)?parseInt(p,10):m},t.getCapacity=function(p,m,f){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof f>"u"&&(f=s.BYTE);const b=e.getSymbolTotalCodewords(p),w=n.getTotalCodewordsCount(p,m),g=(b-w)*8;if(f===s.MIXED)return g;const C=g-c(f,p);switch(f){case s.NUMERIC:return Math.floor(C/10*3);case s.ALPHANUMERIC:return Math.floor(C/11*2);case s.KANJI:return Math.floor(C/13);case s.BYTE:default:return Math.floor(C/8)}},t.getBestVersionForData=function(p,m){let f;const b=r.from(m,r.M);if(Array.isArray(p)){if(p.length>1)return d(p,b);if(p.length===0)return 1;f=p[0]}else f=p;return l(f.mode,f.getLength(),b)},t.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;e.getBCHDigit(m)-o>=0;)m^=a<<e.getBCHDigit(m)-o;return p<<12|m}})(WW);var GW={};const uN=ra,HW=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Afe=1<<14|1<<12|1<<10|1<<4|1<<1,ej=uN.getBCHDigit(HW);GW.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;uN.getBCHDigit(s)-ej>=0;)s^=HW<<uN.getBCHDigit(s)-ej;return(r<<10|s)^Afe};var YW={};const Nfe=nh;function Zm(t){this.mode=Nfe.NUMERIC,this.data=t.toString()}Zm.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Zm.prototype.getLength=function(){return this.data.length};Zm.prototype.getBitsLength=function(){return Zm.getBitsLength(this.data.length)};Zm.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var Rfe=Zm;const Ofe=nh,BT=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function eg(t){this.mode=Ofe.ALPHANUMERIC,this.data=t}eg.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};eg.prototype.getLength=function(){return this.data.length};eg.prototype.getBitsLength=function(){return eg.getBitsLength(this.data.length)};eg.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=BT.indexOf(this.data[n])*45;r+=BT.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(BT.indexOf(this.data[n]),6)};var $fe=eg,Dfe=function(e){for(var n=[],r=e.length,s=0;s<r;s++){var i=e.charCodeAt(s);if(i>=55296&&i<=56319&&r>s+1){var a=e.charCodeAt(s+1);a>=56320&&a<=57343&&(i=(i-55296)*1024+a-56320+65536,s+=1)}if(i<128){n.push(i);continue}if(i<2048){n.push(i>>6|192),n.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128);continue}if(i>=65536&&i<=1114111){n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(i&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Pfe=Dfe,Mfe=nh;function tg(t){this.mode=Mfe.BYTE,typeof t=="string"&&(t=Pfe(t)),this.data=new Uint8Array(t)}tg.getBitsLength=function(e){return e*8};tg.prototype.getLength=function(){return this.data.length};tg.prototype.getBitsLength=function(){return tg.getBitsLength(this.data.length)};tg.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Bfe=tg;const Lfe=nh,Ffe=ra;function ng(t){this.mode=Lfe.KANJI,this.data=t}ng.getBitsLength=function(e){return e*13};ng.prototype.getLength=function(){return this.data.length};ng.prototype.getBitsLength=function(){return ng.getBitsLength(this.data.length)};ng.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Ffe.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var jfe=ng,dN={},zfe={get exports(){return dN},set exports(t){dN=t}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},a={};a[r]=0;var o=e.PriorityQueue.make();o.push(r,0);for(var l,c,u,d,h,p,m,f,b;!o.empty();){l=o.pop(),c=l.value,d=l.cost,h=n[c]||{};for(u in h)h.hasOwnProperty(u)&&(p=h[u],m=d+p,f=a[u],b=typeof a[u]>"u",(b||f>m)&&(a[u]=m,o.push(u,m),i[u]=c))}if(typeof s<"u"&&typeof a[s]>"u"){var w=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(w)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(zfe);(function(t){const e=nh,n=Rfe,r=$fe,s=Bfe,i=jfe,a=fc,o=ra,l=dN;function c(w){return unescape(encodeURIComponent(w)).length}function u(w,g,C){const k=[];let N;for(;(N=w.exec(C))!==null;)k.push({data:N[0],index:N.index,mode:g,length:N[0].length});return k}function d(w){const g=u(a.NUMERIC,e.NUMERIC,w),C=u(a.ALPHANUMERIC,e.ALPHANUMERIC,w);let k,N;return o.isKanjiModeEnabled()?(k=u(a.BYTE,e.BYTE,w),N=u(a.KANJI,e.KANJI,w)):(k=u(a.BYTE_KANJI,e.BYTE,w),N=[]),g.concat(C,k,N).sort(function(O,R){return O.index-R.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function h(w,g){switch(g){case e.NUMERIC:return n.getBitsLength(w);case e.ALPHANUMERIC:return r.getBitsLength(w);case e.KANJI:return i.getBitsLength(w);case e.BYTE:return s.getBitsLength(w)}}function p(w){return w.reduce(function(g,C){const k=g.length-1>=0?g[g.length-1]:null;return k&&k.mode===C.mode?(g[g.length-1].data+=C.data,g):(g.push(C),g)},[])}function m(w){const g=[];for(let C=0;C<w.length;C++){const k=w[C];switch(k.mode){case e.NUMERIC:g.push([k,{data:k.data,mode:e.ALPHANUMERIC,length:k.length},{data:k.data,mode:e.BYTE,length:k.length}]);break;case e.ALPHANUMERIC:g.push([k,{data:k.data,mode:e.BYTE,length:k.length}]);break;case e.KANJI:g.push([k,{data:k.data,mode:e.BYTE,length:c(k.data)}]);break;case e.BYTE:g.push([{data:k.data,mode:e.BYTE,length:c(k.data)}])}}return g}function f(w,g){const C={},k={start:{}};let N=["start"];for(let A=0;A<w.length;A++){const O=w[A],R=[];for(let $=0;$<O.length;$++){const D=O[$],B=""+A+$;R.push(B),C[B]={node:D,lastCount:0},k[B]={};for(let M=0;M<N.length;M++){const z=N[M];C[z]&&C[z].node.mode===D.mode?(k[z][B]=h(C[z].lastCount+D.length,D.mode)-h(C[z].lastCount,D.mode),C[z].lastCount+=D.length):(C[z]&&(C[z].lastCount=D.length),k[z][B]=h(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,g))}}N=R}for(let A=0;A<N.length;A++)k[N[A]].end=0;return{map:k,table:C}}function b(w,g){let C;const k=e.getBestModeForData(w);if(C=e.from(g,k),C!==e.BYTE&&C.bit<k.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(C)+`.
 Suggested mode is: `+e.toString(k));switch(C===e.KANJI&&!o.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new n(w);case e.ALPHANUMERIC:return new r(w);case e.KANJI:return new i(w);case e.BYTE:return new s(w)}}t.fromArray=function(g){return g.reduce(function(C,k){return typeof k=="string"?C.push(b(k,null)):k.data&&C.push(b(k.data,k.mode)),C},[])},t.fromString=function(g,C){const k=d(g,o.isKanjiModeEnabled()),N=m(k),A=f(N,C),O=l.find_path(A.map,"start","end"),R=[];for(let $=1;$<O.length-1;$++)R.push(A.table[O[$]].node);return t.fromArray(p(R))},t.rawSplit=function(g){return t.fromArray(d(g,o.isKanjiModeEnabled()))}})(YW);const PC=ra,LT=OC,Ufe=xfe,Wfe=wfe,Vfe=LW,Gfe=FW,hN=jW,fN=$C,Hfe=Sfe,tS=WW,Yfe=GW,qfe=nh,FT=YW;function Xfe(t,e){const n=t.size,r=Gfe.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],a=r[s][1];for(let o=-1;o<=7;o++)if(!(i+o<=-1||n<=i+o))for(let l=-1;l<=7;l++)a+l<=-1||n<=a+l||(o>=0&&o<=6&&(l===0||l===6)||l>=0&&l<=6&&(o===0||o===6)||o>=2&&o<=4&&l>=2&&l<=4?t.set(i+o,a+l,!0,!0):t.set(i+o,a+l,!1,!0))}}function Kfe(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Jfe(t,e){const n=Vfe.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let a=-2;a<=2;a++)for(let o=-2;o<=2;o++)a===-2||a===2||o===-2||o===2||a===0&&o===0?t.set(s+a,i+o,!0,!0):t.set(s+a,i+o,!1,!0)}}function Qfe(t,e){const n=t.size,r=tS.getEncodedBits(e);let s,i,a;for(let o=0;o<18;o++)s=Math.floor(o/3),i=o%3+n-8-3,a=(r>>o&1)===1,t.set(s,i,a,!0),t.set(i,s,a,!0)}function jT(t,e,n){const r=t.size,s=Yfe.getEncodedBits(e,n);let i,a;for(i=0;i<15;i++)a=(s>>i&1)===1,i<6?t.set(i,8,a,!0):i<8?t.set(i+1,8,a,!0):t.set(r-15+i,8,a,!0),i<8?t.set(8,r-i-1,a,!0):i<9?t.set(8,15-i-1+1,a,!0):t.set(8,15-i-1,a,!0);t.set(r-8,8,1,!0)}function Zfe(t,e){const n=t.size;let r=-1,s=n-1,i=7,a=0;for(let o=n-1;o>0;o-=2)for(o===6&&o--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,o-l)){let c=!1;a<e.length&&(c=(e[a]>>>i&1)===1),t.set(s,o-l,c),i--,i===-1&&(a++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function epe(t,e,n){const r=new Ufe;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),qfe.getCharCountIndicator(l.mode,t)),l.write(r)});const s=PC.getSymbolTotalCodewords(t),i=fN.getTotalCodewordsCount(t,e),a=(s-i)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const o=(a-r.getLengthInBits())/8;for(let l=0;l<o;l++)r.put(l%2?17:236,8);return tpe(r,t,e)}function tpe(t,e,n){const r=PC.getSymbolTotalCodewords(e),s=fN.getTotalCodewordsCount(e,n),i=r-s,a=fN.getBlocksCount(e,n),o=r%a,l=a-o,c=Math.floor(r/a),u=Math.floor(i/a),d=u+1,h=c-u,p=new Hfe(h);let m=0;const f=new Array(a),b=new Array(a);let w=0;const g=new Uint8Array(t.buffer);for(let O=0;O<a;O++){const R=O<l?u:d;f[O]=g.slice(m,m+R),b[O]=p.encode(f[O]),m+=R,w=Math.max(w,R)}const C=new Uint8Array(r);let k=0,N,A;for(N=0;N<w;N++)for(A=0;A<a;A++)N<f[A].length&&(C[k++]=f[A][N]);for(N=0;N<h;N++)for(A=0;A<a;A++)C[k++]=b[A][N];return C}function npe(t,e,n,r){let s;if(Array.isArray(t))s=FT.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=FT.rawSplit(t);c=tS.getBestVersionForData(u,n)}s=FT.fromString(t,c||40)}else throw new Error("Invalid data");const i=tS.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=epe(e,n,s),o=PC.getSymbolSize(e),l=new Wfe(o);return Xfe(l,e),Kfe(l),Jfe(l,e),jT(l,n,0),e>=7&&Qfe(l,e),Zfe(l,a),isNaN(r)&&(r=hN.getBestMask(l,jT.bind(null,l,n))),hN.applyMask(r,l),jT(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}MW.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=LT.M,s,i;return typeof n<"u"&&(r=LT.from(n.errorCorrectionLevel,LT.M),s=tS.from(n.version),i=hN.from(n.maskPattern),n.toSJISFunc&&PC.setToSJISFunction(n.toSJISFunc)),npe(e,s,r,i)};var qW={},U$={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const a=s.modules.size,o=s.modules.data,l=t.getScale(a,i),c=Math.floor((a+i.margin*2)*l),u=i.margin*l,d=[i.color.light,i.color.dark];for(let h=0;h<c;h++)for(let p=0;p<c;p++){let m=(h*c+p)*4,f=i.color.light;if(h>=u&&p>=u&&h<c-u&&p<c-u){const b=Math.floor((h-u)/l),w=Math.floor((p-u)/l);f=d[o[b*a+w]?1:0]}r[m++]=f.r,r[m++]=f.g,r[m++]=f.b,r[m]=f.a}}})(U$);(function(t){const e=U$;function n(s,i,a){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,a,o){let l=o,c=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(i.modules.size,l),d=c.getContext("2d"),h=d.createImageData(u,u);return e.qrToImageData(h.data,i,l),n(d,c,u),d.putImageData(h,0,0),c},t.renderToDataURL=function(i,a,o){let l=o;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const c=t.render(i,a,l),u=l.type||"image/png",d=l.rendererOpts||{};return c.toDataURL(u,d.quality)}})(qW);var XW={};const rpe=U$;function tj(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function zT(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function spe(t,e,n){let r="",s=0,i=!1,a=0;for(let o=0;o<t.length;o++){const l=Math.floor(o%e),c=Math.floor(o/e);!l&&!i&&(i=!0),t[o]?(a++,o>0&&l>0&&t[o-1]||(r+=i?zT("M",l+n,.5+c+n):zT("m",s,0),s=0,i=!1),l+1<e&&t[o+1]||(r+=zT("h",a),a=0)):s++}return r}XW.render=function(e,n,r){const s=rpe.getOptions(n),i=e.modules.size,a=e.modules.data,o=i+s.margin*2,l=s.color.light.a?"<path "+tj(s.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",c="<path "+tj(s.color.dark,"stroke")+' d="'+spe(a,i,s.margin)+'"/>',u='viewBox="0 0 '+o+" "+o+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,h),h};const ipe=yfe,pN=MW,KW=qW,ope=XW;function W$(t,e,n,r,s){const i=[].slice.call(arguments,1),a=i.length,o=typeof i[a-1]=="function";if(!o&&!ipe())throw new Error("Callback required as last argument");if(o){if(a<2)throw new Error("Too few arguments provided");a===2?(s=n,n=e,e=r=void 0):a===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=e,e=r=void 0):a===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=pN.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=pN.create(n,r);s(null,t(l,e,r))}catch(l){s(l)}}Bb.create=pN.create;Bb.toCanvas=W$.bind(null,KW.render);Bb.toDataURL=W$.bind(null,KW.renderToDataURL);Bb.toString=W$.bind(null,function(t,e,n){return ope.render(t,n)});const ape=({price:t,manufacturingDate:e,shippingDate:n})=>{const[r,s]=Q.useState("");Q.useEffect(()=>{(async()=>{try{const o=await Bb.toDataURL("https://smart-farming-and-retail.vercel.app/preview?id=Product3");s(o)}catch(o){console.error(o)}})()},[t,e,n]);const i=()=>{const a=document.querySelector(".border-solid");if(a){const o=a.innerHTML,l=window.open("","","width=600,height=800");l.document.open(),l.document.write(`
        <html>
          <head>
            <style>
              @media print {
                body * {
                  visibility: hidden;
                }
                .border-solid, .border-solid * {
                  visibility: visible;
                }
              }
            </style>
          </head>
          <body>
            <div class="border-solid">
              ${o}
            </div>
          </body>
        </html>
      `),l.document.close(),l.print()}};return S.jsx("div",{children:S.jsxs("div",{className:"border-solid border-2 border-black ...",children:[S.jsxs("div",{style:{display:"flex"},children:[S.jsx("div",{children:r&&S.jsx("img",{src:r,alt:"QR Code"})}),S.jsxs("div",{style:{margin:"20px"},children:[S.jsxs("p",{children:["Price: "," 50"]}),S.jsxs("p",{children:["Manufacturing Date: ",e]}),S.jsxs("p",{children:["Shipping Date: ",n]})]})]}),S.jsx(dn,{variant:"primary",size:"sm",style:{margin:"10px"},onClick:i,children:"Print"})]})})},lpe="/assets/farmer2-be5e932f.jpg",cpe="/assets/user1-88e69c5c.jpg";/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const upe=1e-7,dpe=1e-4;class JW{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class V${refCount(e){return lo("refCount")}incRef(e){return lo("incRef")}timerAvailable(){return!0}time(e){return lo("time")}read(e){return lo("read")}readSync(e){return lo("readSync")}readToGPU(e,n){return lo("readToGPU")}numDataIds(){return lo("numDataIds")}disposeData(e,n){return lo("disposeData")}write(e,n,r){return lo("write")}move(e,n,r,s,i){return lo("move")}createTensorFromGPUData(e,n,r){return lo("createTensorFromGPUData")}memory(){return lo("memory")}floatPrecision(){return lo("floatPrecision")}epsilon(){return this.floatPrecision()===32?upe:dpe}dispose(){return lo("dispose")}}function lo(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hpe(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,Kp(t,e,n)}function np(t,e,n){return Math.max(t,Math.min(e,n))}function G$(t){return t%2===0?t:t+1}function Kp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fpe(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function oe(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function H$(t,e,n=""){oe(rr(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function Y$(t){oe(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function He(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function rr(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function rg(t){return t%1===0}function mN(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function Tm(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function nj(t,e=s=>0,n,r){return new Promise((s,i)=>{let a=0;const o=()=>{if(t()){s();return}a++;const l=e(a);if(n!=null&&a>=n){i();return}r!=null?r(o,l):setTimeout(o,l)};o()})}function QW(t,e){let n=1,r=-1;for(let i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(t[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(t[i]<0)throw Error(`Shapes can not be < 0. Found ${t[i]} at dim ${i}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const s=t.slice();return s[r]=e/n,s}function An(t,e){const n=e.length;return t=t==null?e.map((r,s)=>s):[].concat(t),oe(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),oe(t.every(r=>rg(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function rh(t,e){const n=[],r=[],s=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||s?null:An(e,t).sort();let a=0;for(let o=0;o<t.length;++o){if(i!=null){if(i[a]===o&&t[o]!==1)throw new Error(`Can't squeeze axis ${o} since its dim '${t[o]}' is not 1`);(i[a]==null||i[a]>o)&&t[o]===1&&(n.push(t[o]),r.push(o)),i[a]<=o&&a++}t[o]!==1&&(n.push(t[o]),r.push(o))}return{newShape:n,keptDims:r}}function ui(t,e){return us(t,e)}function us(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function ppe(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function mpe(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function ZW(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function nS(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function gpe(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function Fb(t){return typeof t=="string"||t instanceof String}function vpe(t){return typeof t=="boolean"}function gN(t){return typeof t=="number"}function Ag(t){return Array.isArray(t)?Ag(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":gN(t)?"float32":Fb(t)?"string":vpe(t)?"bool":"float32"}function vN(t){return!!(t&&t.constructor&&t.call&&t.apply)}function yN(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function tn(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function e3(t,e,n,r=!1){const s=new Array;if(e.length===1){const i=e[0]*(r?2:1);for(let a=0;a<i;a++)s[a]=n[t+a]}else{const i=e[0],a=e.slice(1),o=a.reduce((l,c)=>l*c)*(r?2:1);for(let l=0;l<i;l++)s[l]=e3(t+l*o,a,n,r)}return s}function pl(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((s,i)=>s*i)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return e3(0,t,e,n)}function ype(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function q$(t,e){const n=di(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function di(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function t3(t,e){const n=t.reduce((r,s)=>r*s,1);if(e==null||e==="float32")return pl(t,new Float32Array(n));if(e==="int32")return pl(t,new Int32Array(n));if(e==="bool")return pl(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function bu(t){t.forEach(e=>{oe(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function tc(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=n[s]*t[s];return r}function Ng(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(t/n[s]),t-=r[s]*n[s];return r[r.length-1]=t,r}function X$(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rj="tfjsflags";class bpe{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=xpe,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(je().getBool("IS_TEST")||je().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const s=this.urlFlags[e];je().getBool("IS_TEST")||je().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${s}.`),this.set(e,s)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(X$(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);rj in e&&e[rj].split(",").forEach(r=>{const[s,i]=r.split(":");this.urlFlags[s]=_pe(s,i)})}}function xpe(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(wpe(e,r[0],r[1]),r.join("="))),e}function wpe(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function _pe(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function je(){return n3}let n3=null;function Spe(t){n3=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let UT;function r3(){if(UT==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");UT=t}return UT}function Cpe(){const t=r3();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function K$(t,e){const n=Cpe();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const MC="Abs",jb="Acos",zb="Acosh",Rg="Add",J$="AddN",Q$="All",Z$="Any",BC="ArgMax",LC="ArgMin",Ub="Asin",Wb="Asinh",Vb="Atan",Gb="Atanh",Hb="Atan2",FC="AvgPool",eD="AvgPoolGrad",jC="AvgPool3D",tD="AvgPool3DGrad",zC="BatchMatMul",UC="BatchToSpaceND",nD="Bincount",kpe="BroadcastTo",s3="BroadcastArgs",Yb="Cast",qb="Ceil",Xb="ClipByValue",rD="Complex",WC="ComplexAbs",VC="Concat",GC="Conv2D",sD="Conv2DBackpropFilter",HC="Conv2DBackpropInput",YC="Conv3D",iD="Conv3DBackpropFilterV2",oD="Conv3DBackpropInputV2",Kb="Cos",Jb="Cosh",aD="Cumprod",qC="Cumsum",lD="CropAndResize",cD="DenseBincount",uD="DepthToSpace",XC="DepthwiseConv2dNative",dD="DepthwiseConv2dNativeBackpropFilter",hD="DepthwiseConv2dNativeBackpropInput",i3="Diag",KC="Dilation2D",bN="Dilation2DBackpropInput",xN="Dilation2DBackpropFilter",Qb="RealDiv",o3="Einsum",Zb="Elu",fD="EluGrad",ex="Erf",JC="Equal",tx="Exp",QC="ExpandDims",nx="Expm1",pD="FFT",mD="Fill",gD="FlipLeftRight",rx="Floor",sx="FloorDiv",ZC="FusedBatchNorm",ek="GatherV2",a3="GatherNd",tk="Greater",ix="GreaterEqual",ox="Identity",vD="IFFT",yD="Imag",ax="IsFinite",lx="IsInf",cx="IsNan",nk="LeakyRelu",rk="Less",sk="LessEqual",l3="LinSpace",ux="Log",dx="Log1p",ik="LogicalAnd",ok="LogicalNot",ak="LogicalOr",Epe="LogSoftmax",lk="LRN",bD="LRNGrad",ck="Max",hx="Maximum",uk="MaxPool",xD="MaxPoolGrad",dk="MaxPool3D",wD="MaxPool3DGrad",c3="MaxPoolWithArgmax",hk="Mean",fk="Min",fx="Minimum",pk="MirrorPad",px="Mod",u3="Multinomial",mx="Multiply",mk="Neg",gk="NotEqual",_D="NonMaxSuppressionV3",SD="NonMaxSuppressionV4",CD="NonMaxSuppressionV5",vk="OnesLike",yk="OneHot",bk="Pack",xk="PadV2",gx="Pow",wk="Prelu",_k="Prod",d3="RaggedGather",h3="RaggedRange",f3="RaggedTensorToTensor",kD="Range",ED="Real",vx="Reciprocal",yx="Relu",Sk="Reshape",Ck="ResizeNearestNeighbor",TD="ResizeNearestNeighborGrad",kk="ResizeBilinear",ID="ResizeBilinearGrad",bx="Relu6",Ek="Reverse",xx="Round",wx="Rsqrt",p3="ScatterNd",m3="TensorScatterUpdate",g3="SearchSorted",Tk="Select",_x="Selu",Ik="Slice",Sx="Sin",Cx="Sinh",kx="Sign",Ex="Sigmoid",Tx="Softplus",Ix="Sqrt",Ak="Sum",Nk="SpaceToBatchND",Rk="SplitV",Ok="Softmax",v3="SparseFillEmptyRows",y3="SparseReshape",b3="SparseSegmentMean",x3="SparseSegmentSum",w3="SparseToDense",Ax="SquaredDifference",AD="Square",ND="StaticRegexReplace",RD="StridedSlice",_3="StringNGrams",S3="StringSplit",C3="StringToHashBucketFast",Nx="Sub",Rx="Tan",Ox="Tanh",$x="Tile",OD="TopK",$D="Transform",Im="Transpose",DD="Unique",$k="Unpack",Dk="UnsortedSegmentSum",Pk="ZerosLike",Dx="Step",wN="FromPixels",PD="RotateWithOffset",rS="_FusedMatMul",sS="FusedConv2D",k3="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vo(...t){je().getBool("IS_TEST")||je().getBool("PROD")||console.warn(...t)}function Tpe(...t){je().getBool("IS_TEST")||je().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iS=K$("kernelRegistry",()=>new Map),_N=K$("gradRegistry",()=>new Map);function SN(t,e){const n=T3(t,e);return iS.get(n)}function sj(t){return _N.get(t)}function ij(t){const e=iS.entries(),n=[];for(;;){const{done:r,value:s}=e.next();if(r)break;const[i,a]=s,[o]=i.split("_");o===t&&n.push(a)}return n}function E3(t){const{kernelName:e,backendName:n}=t,r=T3(e,n);iS.has(r)&&Vo(`The kernel '${e}' for backend '${n}' is already registered`),iS.set(r,t)}function Ipe(t){const{kernelName:e}=t;_N.has(e)&&je().getBool("DEBUG")&&Vo(`Overriding the gradient for '${e}'`),_N.set(e,t)}function T3(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I3(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var CN=Or,wa=null;try{wa=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Or(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Or.prototype.__isLong__;Object.defineProperty(Or.prototype,"__isLong__",{value:!0});function Io(t){return(t&&t.__isLong__)===!0}Or.isLong=Io;var oj={},aj={};function wp(t,e){var n,r,s;return e?(t>>>=0,(s=0<=t&&t<256)&&(r=aj[t],r)?r:(n=$r(t,(t|0)<0?-1:0,!0),s&&(aj[t]=n),n)):(t|=0,(s=-128<=t&&t<128)&&(r=oj[t],r)?r:(n=$r(t,t<0?-1:0,!1),s&&(oj[t]=n),n))}Or.fromInt=wp;function _a(t,e){if(isNaN(t))return e?Af:Sa;if(e){if(t<0)return Af;if(t>=A3)return O3}else{if(t<=-cj)return vo;if(t+1>=cj)return R3}return t<0?_a(-t,e).neg():$r(t%sg|0,t/sg|0,e)}Or.fromNumber=_a;function $r(t,e,n){return new Or(t,e,n)}Or.fromBits=$r;var oS=Math.pow;function MD(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Sa;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return MD(t.substring(1),e,n).neg();for(var s=_a(oS(n,8)),i=Sa,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),l=parseInt(t.substring(a,a+o),n);if(o<8){var c=_a(oS(n,o));i=i.mul(c).add(_a(l))}else i=i.mul(s),i=i.add(_a(l))}return i.unsigned=e,i}Or.fromString=MD;function kl(t,e){return typeof t=="number"?_a(t,e):typeof t=="string"?MD(t,e):$r(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Or.fromValue=kl;var lj=1<<16,Ape=1<<24,sg=lj*lj,A3=sg*sg,cj=A3/2,uj=wp(Ape),Sa=wp(0);Or.ZERO=Sa;var Af=wp(0,!0);Or.UZERO=Af;var pm=wp(1);Or.ONE=pm;var N3=wp(1,!0);Or.UONE=N3;var kN=wp(-1);Or.NEG_ONE=kN;var R3=$r(-1,2147483647,!1);Or.MAX_VALUE=R3;var O3=$r(-1,-1,!0);Or.MAX_UNSIGNED_VALUE=O3;var vo=$r(0,-2147483648,!1);Or.MIN_VALUE=vo;var At=Or.prototype;At.toInt=function(){return this.unsigned?this.low>>>0:this.low};At.toNumber=function(){return this.unsigned?(this.high>>>0)*sg+(this.low>>>0):this.high*sg+(this.low>>>0)};At.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(vo)){var n=_a(e),r=this.div(n),s=r.mul(n).sub(this);return r.toString(e)+s.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=_a(oS(e,6),this.unsigned),a=this,o="";;){var l=a.div(i),c=a.sub(l.mul(i)).toInt()>>>0,u=c.toString(e);if(a=l,a.isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}};At.getHighBits=function(){return this.high};At.getHighBitsUnsigned=function(){return this.high>>>0};At.getLowBits=function(){return this.low};At.getLowBitsUnsigned=function(){return this.low>>>0};At.getNumBitsAbs=function(){if(this.isNegative())return this.eq(vo)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};At.isZero=function(){return this.high===0&&this.low===0};At.eqz=At.isZero;At.isNegative=function(){return!this.unsigned&&this.high<0};At.isPositive=function(){return this.unsigned||this.high>=0};At.isOdd=function(){return(this.low&1)===1};At.isEven=function(){return(this.low&1)===0};At.equals=function(e){return Io(e)||(e=kl(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};At.eq=At.equals;At.notEquals=function(e){return!this.eq(e)};At.neq=At.notEquals;At.ne=At.notEquals;At.lessThan=function(e){return this.comp(e)<0};At.lt=At.lessThan;At.lessThanOrEqual=function(e){return this.comp(e)<=0};At.lte=At.lessThanOrEqual;At.le=At.lessThanOrEqual;At.greaterThan=function(e){return this.comp(e)>0};At.gt=At.greaterThan;At.greaterThanOrEqual=function(e){return this.comp(e)>=0};At.gte=At.greaterThanOrEqual;At.ge=At.greaterThanOrEqual;At.compare=function(e){if(Io(e)||(e=kl(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};At.comp=At.compare;At.negate=function(){return!this.unsigned&&this.eq(vo)?vo:this.not().add(pm)};At.neg=At.negate;At.add=function(e){Io(e)||(e=kl(e));var n=this.high>>>16,r=this.high&65535,s=this.low>>>16,i=this.low&65535,a=e.high>>>16,o=e.high&65535,l=e.low>>>16,c=e.low&65535,u=0,d=0,h=0,p=0;return p+=i+c,h+=p>>>16,p&=65535,h+=s+l,d+=h>>>16,h&=65535,d+=r+o,u+=d>>>16,d&=65535,u+=n+a,u&=65535,$r(h<<16|p,u<<16|d,this.unsigned)};At.subtract=function(e){return Io(e)||(e=kl(e)),this.add(e.neg())};At.sub=At.subtract;At.multiply=function(e){if(this.isZero())return Sa;if(Io(e)||(e=kl(e)),wa){var n=wa.mul(this.low,this.high,e.low,e.high);return $r(n,wa.get_high(),this.unsigned)}if(e.isZero())return Sa;if(this.eq(vo))return e.isOdd()?vo:Sa;if(e.eq(vo))return this.isOdd()?vo:Sa;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(uj)&&e.lt(uj))return _a(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,s=this.high&65535,i=this.low>>>16,a=this.low&65535,o=e.high>>>16,l=e.high&65535,c=e.low>>>16,u=e.low&65535,d=0,h=0,p=0,m=0;return m+=a*u,p+=m>>>16,m&=65535,p+=i*u,h+=p>>>16,p&=65535,p+=a*c,h+=p>>>16,p&=65535,h+=s*u,d+=h>>>16,h&=65535,h+=i*c,d+=h>>>16,h&=65535,h+=a*l,d+=h>>>16,h&=65535,d+=r*u+s*c+i*l+a*o,d&=65535,$r(p<<16|m,d<<16|h,this.unsigned)};At.mul=At.multiply;At.divide=function(e){if(Io(e)||(e=kl(e)),e.isZero())throw Error("division by zero");if(wa){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?wa.div_u:wa.div_s)(this.low,this.high,e.low,e.high);return $r(n,wa.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Af:Sa;var r,s,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Af;if(e.gt(this.shru(1)))return N3;i=Af}else{if(this.eq(vo)){if(e.eq(pm)||e.eq(kN))return vo;if(e.eq(vo))return pm;var a=this.shr(1);return r=a.div(e).shl(1),r.eq(Sa)?e.isNegative()?pm:kN:(s=this.sub(e.mul(r)),i=r.add(s.div(e)),i)}else if(e.eq(vo))return this.unsigned?Af:Sa;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=Sa}for(s=this;s.gte(e);){r=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),l=o<=48?1:oS(2,o-48),c=_a(r),u=c.mul(e);u.isNegative()||u.gt(s);)r-=l,c=_a(r,this.unsigned),u=c.mul(e);c.isZero()&&(c=pm),i=i.add(c),s=s.sub(u)}return i};At.div=At.divide;At.modulo=function(e){if(Io(e)||(e=kl(e)),wa){var n=(this.unsigned?wa.rem_u:wa.rem_s)(this.low,this.high,e.low,e.high);return $r(n,wa.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};At.mod=At.modulo;At.rem=At.modulo;At.not=function(){return $r(~this.low,~this.high,this.unsigned)};At.and=function(e){return Io(e)||(e=kl(e)),$r(this.low&e.low,this.high&e.high,this.unsigned)};At.or=function(e){return Io(e)||(e=kl(e)),$r(this.low|e.low,this.high|e.high,this.unsigned)};At.xor=function(e){return Io(e)||(e=kl(e)),$r(this.low^e.low,this.high^e.high,this.unsigned)};At.shiftLeft=function(e){return Io(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?$r(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):$r(0,this.low<<e-32,this.unsigned)};At.shl=At.shiftLeft;At.shiftRight=function(e){return Io(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?$r(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):$r(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};At.shr=At.shiftRight;At.shiftRightUnsigned=function(e){if(Io(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return $r(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?$r(n,0,this.unsigned):$r(n>>>e-32,0,this.unsigned)};At.shru=At.shiftRightUnsigned;At.shr_u=At.shiftRightUnsigned;At.toSigned=function(){return this.unsigned?$r(this.low,this.high,!1):this};At.toUnsigned=function(){return this.unsigned?this:$r(this.low,this.high,!0)};At.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};At.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};At.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Or.fromBytes=function(e,n,r){return r?Or.fromBytesLE(e,n):Or.fromBytesBE(e,n)};Or.fromBytesLE=function(e,n){return new Or(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};Or.fromBytesBE=function(e,n){return new Or(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const Npe=y4({__proto__:null,default:CN},[CN]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yf=CN||Npe;function Mk(t){return yf.fromString(t,!0,16)}const $3=Mk("c3a5c85c97cb3127"),gf=Mk("b492b66fbe98f273"),Ci=Mk("9ae16a3b2f90404f");function EN(t){return t.xor(t.shru(47))}function D3(t,e,n){const r=t.slice(e,e+n);return yf.fromBytes(Array.from(r),!0,!0)}function _r(t,e){return D3(t,e,8)}function dj(t,e){return D3(t,e,4)}function Ds(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Ed(t,e,n=Mk("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let s=e.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function Rpe(t,e,n,r,s,i){s=s.add(t),i=Ds(i.add(s).add(r),21);const a=s;return s=s.add(e),s=s.add(n),i=i.add(Ds(s,44)),[s.add(r),i.add(a)]}function Z1(t,e,n,r){return Rpe(_r(t,e),_r(t,e+8),_r(t,e+16),_r(t,e+24),n,r)}function Ope(t,e=t.length){if(e>=8){const n=Ci.add(e*2),r=_r(t,0).add(Ci),s=_r(t,e-8),i=Ds(s,37).mul(n).add(r),a=Ds(r,25).add(s).mul(n);return Ed(i,a,n)}if(e>=4){const n=Ci.add(e*2),r=dj(t,0);return Ed(r.shl(3).add(e),dj(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],s=t[e-1],i=n+(r<<8),a=e+(s<<2);return EN(Ci.mul(i).xor($3.mul(a))).mul(Ci)}return Ci}function $pe(t,e=t.length){const n=Ci.add(e*2),r=_r(t,0).mul(gf),s=_r(t,8),i=_r(t,e-8).mul(n),a=_r(t,e-16).mul(Ci);return Ed(Ds(r.add(s),43).add(Ds(i,30)).add(a),r.add(Ds(s.add(Ci),18)).add(i),n)}function Dpe(t,e=t.length){const n=Ci.add(e*2),r=_r(t,0).mul(Ci),s=_r(t,8),i=_r(t,e-8).mul(n),a=_r(t,e-16).mul(Ci),o=Ds(r.add(s),43).add(Ds(i,30)).add(a),l=Ed(o,r.add(Ds(s.add(Ci),18)).add(i),n),c=_r(t,16).mul(n),u=_r(t,24),d=o.add(_r(t,e-32)).mul(n),h=l.add(_r(t,e-24)).mul(n);return Ed(Ds(c.add(u),43).add(Ds(d,30)).add(h),c.add(Ds(u.add(r),18)).add(d),n)}function Ppe(t,e=t.length){const n=yf.fromNumber(81,!0);if(e<=32)return e<=16?Ope(t,e):$pe(t,e);if(e<=64)return Dpe(t,e);let r=n,s=n.mul(gf).add(113),i=EN(s.mul(Ci).add(113)).mul(Ci),a=[yf.UZERO,yf.UZERO],o=[yf.UZERO,yf.UZERO];r=r.mul(Ci).add(_r(t,0));let l=0;const c=(e-1>>6)*64,u=c+(e-1&63)-63;do r=Ds(r.add(s).add(a[0]).add(_r(t,l+8)),37).mul(gf),s=Ds(s.add(a[1]).add(_r(t,l+48)),42).mul(gf),r=r.xor(o[1]),s=s.add(a[0]).add(_r(t,l+40)),i=Ds(i.add(o[0]),33).mul(gf),a=Z1(t,l,a[1].mul(gf),r.add(o[0])),o=Z1(t,l+32,i.add(o[1]),s.add(_r(t,l+16))),[i,r]=[r,i],l+=64;while(l!==c);const d=gf.add(i.and(255).shl(1));return l=u,o[0]=o[0].add(e-1&63),a[0]=a[0].add(o[0]),o[0]=o[0].add(a[0]),r=Ds(r.add(s).add(a[0]).add(_r(t,l+8)),37).mul(d),s=Ds(s.add(a[1]).add(_r(t,l+48)),42).mul(d),r=r.xor(o[1].mul(9)),s=s.add(a[0].mul(9).add(_r(t,l+40))),i=Ds(i.add(o[0]),33).mul(d),a=Z1(t,l,a[1].mul(d),r.add(o[0])),o=Z1(t,l+32,i.add(o[1]),s.add(_r(t,l+16))),[i,r]=[r,i],Ed(Ed(a[0],o[0],d).add(EN(s).mul($3)).add(i),Ed(a[1],o[1],d).add(r),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sh(t,e){return e==="string"?Td(t):_p([t],e)}function Mpe(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function _p(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=rp(t)),je().getBool("DEBUG")&&ppe(t,e),Mpe(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function _i(){return je().platform.now()}function Td(t,e="utf-8"){return e=e||"utf-8",je().platform.encode(t,e)}function zd(t,e="utf-8"){return e=e||"utf-8",je().platform.decode(t,e)}function bl(t){return je().platform.isTypedArray!=null?je().platform.isTypedArray(t):I3(t)}function rp(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||X$(t)||t==null||bl(t)&&n)e.push(t);else if(Array.isArray(t)||bl(t))for(let r=0;r<t.length;++r)rp(t[r],e,n);else{let r=-1;for(const s of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)rp(t[s],e,n)}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bpe{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new Fpe)}profileKernel(e,n,r){let s;const i=()=>{s=r()};let a;const o=_i();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{i();for(const c of s)c.dataSync();a=Promise.resolve({kernelMs:_i()-o})}if(je().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let c=0;c<s.length;c++){const u=s[c];u.data().then(d=>{Lpe(d,u.dtype,e)})}return{kernelName:e,outputs:s,inputs:n,timeMs:a.then(c=>c.kernelMs),extraInfo:a.then(c=>c.getExtraProfileInfo!=null?c.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:s,inputs:i,extraInfo:a}=e;r.forEach(o=>{Promise.all([o.data(),s,a]).then(l=>{this.logger.logKernelProfile(n,o,l[0],l[1],i,l[2])})})}}function Lpe(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const s=t[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class Fpe{logKernelProfile(e,n,r,s,i,a){const o=typeof s=="number"?Tm(`${s}ms`,9):s.error,l=Tm(e,25),c=n.rank,u=n.size,d=Tm(n.shape.toString(),14);let h="";for(const p in i){const m=i[p];if(m!=null){const f=m.shape||n.shape,b=f.length;h+=`${p}: ${b}D ${b>0?f:""} `}}console.log(`%c${l}	%c${o}	%c${c}D ${d}	%c${u}	%c${h}	%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jpe(t,e,n){const r={},s={};for(let l=0;l<e.length;l++)r[e[l].id]=!0;for(let l=0;l<t.length;l++){const c=t[l],u=c.inputs;for(const d in u){const h=u[d];let p=!1;for(let m=0;m<e.length;m++)if(r[h.id]){c.outputs.forEach(f=>r[f.id]=!0),p=!0,s[c.id]=!0;break}if(p)break}}const i={};i[n.id]=!0;const a={};for(let l=t.length-1;l>=0;l--){const c=t[l],u=c.inputs;for(let d=0;d<c.outputs.length;d++)if(i[c.outputs[d].id]){for(const h in u)i[u[h].id]=!0,a[c.id]=!0;break}}const o=[];for(let l=0;l<t.length;l++){const c=t[l];if(s[c.id]&&a[c.id]){const u={};for(const h in c.inputs){const p=c.inputs[h];r[p.id]&&(u[h]=p)}const d=Object.assign({},c);d.inputs=u,d.outputs=c.outputs,o.push(d)}}return o}function zpe(t,e,n,r){for(let s=e.length-1;s>=0;s--){const i=e[s],a=[];if(i.outputs.forEach(l=>{const c=t[l.id];c!=null?a.push(c):a.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const o=i.gradient(a);for(const l in i.inputs){if(!(l in o))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(o)}.`);const c=n(()=>o[l]());if(c.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${c.dtype}'`);const u=i.inputs[l];if(!rr(c.shape,u.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${l}' has shape '${c.shape}', which does not match the shape of the input '${u.shape}'`);if(t[u.id]==null)t[u.id]=c;else{const d=t[u.id];t[u.id]=r(d,c),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hj=20,iv=3,WT=7;function Upe(t,e,n,r){const s=tn(e),i=Wpe(t,e,n,s),a=e.length,o=Vw(t,e,n,s,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${a}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(o.map(c=>"    "+c).join(`
`)),l.join(`
`)}function Wpe(t,e,n,r){const s=He(e),i=r[r.length-1],a=new Array(i).fill(0),o=e.length,l=n==="complex64"?Iv(t):t;if(o>1)for(let c=0;c<s/i;c++){const u=c*i;for(let d=0;d<i;d++)a[d]=Math.max(a[d],Tv(l[u+d],0,n).length)}return a}function Tv(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(WT))} + ${parseFloat(t[1].toFixed(WT))}j`:Fb(t)?r=`'${t}'`:n==="bool"?r=P3(t):r=parseFloat(t.toFixed(WT)).toString(),Tm(r,e)}function P3(t){return t===0?"false":"true"}function Vw(t,e,n,r,s,i=!0){const a=n==="complex64"?2:1,o=e[0],l=e.length;if(l===0){if(n==="complex64"){const f=Iv(t);return[Tv(f[0],0,n)]}return n==="bool"?[P3(t[0])]:[t[0].toString()]}if(l===1){if(o>hj){const b=iv*a;let w=Array.from(t.slice(0,b)),g=Array.from(t.slice((o-iv)*a,o*a));return n==="complex64"&&(w=Iv(w),g=Iv(g)),["["+w.map((C,k)=>Tv(C,s[k],n)).join(", ")+", ..., "+g.map((C,k)=>Tv(C,s[o-iv+k],n)).join(", ")+"]"]}return["["+(n==="complex64"?Iv(t):Array.from(t)).map((b,w)=>Tv(b,s[w],n)).join(", ")+"]"]}const c=e.slice(1),u=r.slice(1),d=r[0]*a,h=[];if(o>hj){for(let f=0;f<iv;f++){const b=f*d,w=b+d;h.push(...Vw(t.slice(b,w),c,n,u,s,!1))}h.push("...");for(let f=o-iv;f<o;f++){const b=f*d,w=b+d;h.push(...Vw(t.slice(b,w),c,n,u,s,f===o-1))}}else for(let f=0;f<o;f++){const b=f*d,w=b+d;h.push(...Vw(t.slice(b,w),c,n,u,s,f===o-1))}const p=l===2?",":"";h[0]="["+(o>0?h[0]+p:"");for(let f=1;f<h.length-1;f++)h[f]=" "+h[f]+p;let m=`,
`;for(let f=2;f<l;f++)m+=`
`;return h[h.length-1]=" "+h[h.length-1]+"]"+(i?"":m),h}function Iv(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Js{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=He(e),r!=null){const s=r.length;oe(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||us(n,this.size),this.strides=tn(e)}set(e,...n){n.length===0&&(n=[0]),oe(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const s of e){if(s<0||s>=this.shape[n]){const i=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=this.strides[s]*e[s];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return al().makeTensor(this.values,this.shape,this.dtype)}}let al=null,Jp=null;function Vpe(t){al=t}function Gpe(t){Jp=t}class Qr{constructor(e,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=He(e),this.strides=tn(e),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Jp.buffer(this.shape,this.dtype,e)}bufferSync(){return Jp.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return pl(this.shape,e,this.dtype==="complex64")}arraySync(){return pl(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=al().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>zd(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),al().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=al().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>zd(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await al().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(al().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Jp.print(this,e)}clone(){return this.throwIfDisposed(),Jp.clone(this)}toString(e=!1){const n=this.dataSync();return Upe(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Jp.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),al().makeVariable(this,e,n,r)}}Object.defineProperty(Qr,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function Ge(){return K$("Tensor",()=>Qr)}Ge();class aS extends Qr{constructor(e,n,r,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!rr(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);al().disposeTensor(this),this.dataId=e.dataId,al().incRef(this,null)}dispose(){al().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(aS,Symbol.hasInstance,{value:t=>t instanceof Qr&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var fj;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(fj||(fj={}));var TN;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(TN||(TN={}));var IN;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(IN||(IN={}));var AN;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(AN||(AN={}));var NN;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(NN||(NN={}));const Hpe={float32:AN,int32:TN,bool:IN,complex64:NN};function ko(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return Hpe[t][e]}function BD(t){return ko(t,"int32")}function M3(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function B3(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hs(t,e){if(t.dtype===e.dtype)return[t,e];const n=ko(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function LD(t,e){return e.some(n=>n.id===t.id)}function Ud(t){const e=[];return L3(t,e,new Set),e}function L3(t,e,n){if(t==null)return;if(t instanceof Qr){e.push(t);return}if(!Ype(t))return;const r=t;for(const s in r){const i=r[s];n.has(i)||(n.add(i),L3(i,e,n))}}function Ype(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VT(t){return t.kernelName!=null}class pj{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class ig{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new pj}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(Vo(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Bpe(this.backendInstance),!0}setupRegisteredKernels(){ij(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){ij(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof V$)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,i=r.then(a=>s<this.pendingBackendInitId?!1:(this.registry[e]=a,this.pendingBackendInit=null,!0)).catch(a=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,Vo(`Initialization of backend ${e} failed`),Vo(a.stack||a.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return Vo(`Initialization of backend ${e} failed`),Vo(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:s,asyncInit:i}=this.initializeBackend(r);if(i||s)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),s=r.backend,i=this.readSync(n),a=s.refCount(n);s.disposeData(n,!0),r.backend=e,e.move(n,i,r.shape,r.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(e,n,r){e();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return ig.nextTensorId++}nextVariableId(){return ig.nextVariableId++}clone(e){const n=ke.runKernel(ox,{x:e}),r={x:e},s=a=>({x:()=>{const o="float32",l={x:a},c={dtype:o};return ke.runKernel(Yb,l,c)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,i,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(SN(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const s=this.backend.numDataIds();let i=0;r.forEach(l=>{i+=l.dtype==="complex64"?3:1});const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=s-n-i-a;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const s=this.isTapeOn(),i=this.state.numBytes,a=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let o;this.backendName==null&&this.backend;let l;const c=VT(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(VT(e)){const{kernelName:m,inputs:f,attrs:b}=e;this.backendName==null&&this.backend;const w=SN(m,this.backendName);oe(w!=null,()=>`Cannot find registered kernel '${m}' for backend '${this.backendName}'`),o=()=>{const g=this.backend.numDataIds();l=w.kernelFunc({inputs:f,attrs:b,backend:this.backend});const C=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(m,g,C);const k=C.map(N=>N.rank!=null?N:this.makeTensorFromTensorInfo(N));if(s){const N=this.getTensorsForGradient(m,f,k);r=this.saveTensorsForBackwardMode(N)}return k}}else{const{forwardFunc:m}=e,f=b=>{s&&(r=b.map(w=>this.keep(this.clone(w))))};o=()=>{const b=this.backend.numDataIds();l=this.tidy(()=>m(this.backend,f));const w=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,b,w),w}}const{inputs:u,attrs:d}=e,h=VT(e)?null:e.backwardsFunc;let p;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=o():(p=this.profiler.profileKernel(c,u,()=>o()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),n=p.outputs)}),s&&this.addTapeNode(c,u,n,h,r,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(m=>u[m]!=null?u[m].shape:null),outputShapes:n.map(m=>m.shape),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const s=sj(e);if(s!=null){const i=s.inputsToSave||[],a=s.outputsToSave||[];let o;s.saveAllInputs?(oe(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(n).map(c=>n[c])):o=i.map(c=>n[c]);const l=r.filter((c,u)=>a[u]);return o.concat(l)}return[]}makeTensor(e,n,r,s){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let i=e;r==="string"&&Fb(e[0])&&(i=e.map(l=>Td(l)));const a=s.write(i,n,r),o=new Qr(n,r,a,this.nextTensorId());if(this.trackTensor(o,s),r==="string"){const l=this.state.tensorInfo.get(a),c=gpe(i);this.state.numBytes+=c-l.bytes,l.bytes=c}return o}makeTensorFromDataId(e,n,r,s){r=r||"float32";const i={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,s)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:s,dtype:i}=e,a=new Qr(s,i,r,this.nextTensorId());return this.trackTensor(a,n),a}makeVariable(e,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==e.dtype&&(e=e.cast(s));const i=new aS(e,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*nS(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof aS||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*nS(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,s,i,a){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:i},l=sj(e);l!=null&&(s=l.gradFunc),s!=null&&(o.gradient=c=>(c=c.map((u,d)=>{if(u==null){const h=r[d],p=di(h.size,h.dtype);return this.makeTensor(p,h.shape,h.dtype)}return u}),s(c.length>1?c:c[0],i,a))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=Ud(e),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const a=this.state.activeScope.track[i];!a.kept&&!r.has(a.id)&&a.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===s.id&&this.track(i)})}gradients(e,n,r,s=!1){if(oe(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));oe(i instanceof Qr,()=>"The result y returned by f() must be a tensor.");const a=jpe(this.state.activeTape,n,i);if(!s&&a.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const o={};o[i.id]=r??qpe(i.shape),zpe(o,a,c=>this.tidy(c),Xpe);const l=n.map(c=>o[c.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(c=>{for(const u of c.saved)u.dispose()}),this.state.activeTape=null),{value:i,grads:l}})}customGrad(e){return oe(vN(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{oe(n.every(o=>o instanceof Qr),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((o,l)=>{s[l]=o});const i=(o,l)=>(r=e(...n,l),oe(r.value instanceof Qr,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),oe(vN(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),a=(o,l)=>{const c=r.gradFunc(o,l),u=Array.isArray(c)?c:[c];oe(u.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),oe(u.every(h=>h instanceof Qr),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return u.forEach((h,p)=>{d[p]=()=>h}),d};return this.runKernelFunc({forwardFunc:i,backwardsFunc:a,inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=_i(),r=await this.backend.time(e);return r.wallMs=_i()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new pj;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}ig.nextTensorId=0;ig.nextVariableId=0;function qpe(t){const e=q$(He(t),"float32");return ke.makeTensor(e,t,"float32")}function F3(){const t=r3();if(t._tfengine==null){const e=new bpe(t);t._tfengine=new ig(e)}return Spe(t._tfengine.ENV),Vpe(()=>t._tfengine),t._tfengine}const ke=F3();function Xpe(t,e){const n={a:t,b:e};return ke.runKernel(Rg,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kpe(){return typeof navigator<"u"&&navigator!=null}function j3(t){if(t||Kpe()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function z3(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qi=je();qi.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});qi.registerFlag("IS_BROWSER",()=>z3());qi.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");qi.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));qi.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));qi.registerFlag("PROD",()=>!1);qi.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>qi.getBool("DEBUG"));qi.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);qi.registerFlag("IS_TEST",()=>!1);qi.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>qi.getBool("DEBUG"));qi.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);qi.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);qi.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Px(t,e){let n=t;if(bl(t))return e==="string"?[]:[t.length];if(M3(t)){const s=t.channels||"RGBA";return[t.height,t.width*s.length]}else if(B3(t))return[t.buffer.size/(e==null?4:nS(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||bl(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&je().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&U3(t,r,[]),r}function U3(t,e,n){if(n=n||[],!Array.isArray(t)&&!bl(t)){oe(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}oe(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),oe(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let s=0;s<t.length;++s)U3(t[s],r,n.concat(s))}function mj(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function ve(t,e,n,r="numeric"){if(t instanceof Qr)return mj(r,t.dtype,e,n),t;let s=Ag(t);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),mj(r,s,e,n),t==null||!bl(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const i=Px(t,s);!bl(t)&&!Array.isArray(t)&&(t=[t]);const o=s!=="string"?_p(t,s):rp(t,[],!0);return ke.makeTensor(o,i,s)}function W3(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((i,a)=>ve(i,`${e}[${a}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jpe="__op";function $e(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+Jpe;const s=(...i)=>{ke.startScope(n);try{const a=r(...i);return X$(a)&&console.error("Cannot return a Promise inside of tidy."),ke.endScope(a),a}catch(a){throw ke.endScope(null),a}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qpe(t,e){const n=ve(t,"real","complex"),r=ve(e,"imag","complex");H$(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return ke.runKernel(rD,s)}const sp=$e({complex_:Qpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mx(t,e,n,r){if(r==null)r=Ag(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(B3(t)||M3(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return ke.backend.createTensorFromGPUData(t,e||n,r)}if(!bl(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){bu(e);const s=He(e),i=He(n);oe(s===i,()=>`Based on the provided shape, [${e}], the tensor should have ${s} values but has ${i}`);for(let a=0;a<n.length;++a){const o=n[a],l=a===n.length-1?o!==He(e.slice(a)):!0;oe(n[a]===e[a]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!bl(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?_p(t,r):rp(t,[],!0),ke.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ny(t,e,n){const r=Px(t,n);return Mx(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gj={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lS=4;async function vj(t,e){const n=[],r=[],s=Array.isArray(t)?t.map(a=>a.name):Object.keys(t);for(let a=0;a<s.length;++a){const o=s[a],l=Array.isArray(t)?t[a].tensor:t[o];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${o}': ${l.dtype}`);const c={name:o,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const u=new Promise(async d=>{const h=await l.bytes(),p=h.reduce((b,w)=>b+w.length,0)+lS*h.length,m=new Uint8Array(p);let f=0;for(let b=0;b<h.length;b++){const w=h[b],g=new Uint8Array(new Uint32Array([w.length]).buffer);m.set(g,f),f+=lS,m.set(w,f),f+=w.length}d(m)});r.push(u)}else r.push(l.data());e!=null&&(c.group=e),n.push(c)}const i=await Promise.all(r);return{data:eme(i),specs:n}}function Zpe(t,e){const n={};let r,s=0;for(const i of e){const a=i.name,o=i.dtype,l=i.shape,c=He(l);let u;if("quantization"in i){const d=i.quantization;if(d.dtype==="uint8"||d.dtype==="uint16"){if(!("min"in d&&"scale"in d))throw new Error(`Weight ${i.name} with quantization ${d.dtype} doesn't have corresponding metadata min and scale.`)}else if(d.dtype==="float16"){if(o!=="float32")throw new Error(`Weight ${i.name} is quantized with ${d.dtype} which only supports weights of type float32 not ${o}.`)}else throw new Error(`Weight ${i.name} has unknown quantization dtype ${d.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const h=gj[d.dtype],p=t.slice(s,s+c*h),m=d.dtype==="uint8"?new Uint8Array(p):new Uint16Array(p);if(o==="float32")if(d.dtype==="uint8"||d.dtype==="uint16"){u=new Float32Array(m.length);for(let f=0;f<m.length;f++){const b=m[f];u[f]=b*d.scale+d.min}}else if(d.dtype==="float16")r===void 0&&(r=ume()),u=r(m);else throw new Error(`Unsupported quantization type ${d.dtype} for weight type float32.`);else if(o==="int32"){if(d.dtype!=="uint8"&&d.dtype!=="uint16")throw new Error(`Unsupported quantization type ${d.dtype} for weight type int32.`);u=new Int32Array(m.length);for(let f=0;f<m.length;f++){const b=m[f];u[f]=Math.round(b*d.scale+d.min)}}else throw new Error(`Unsupported dtype in weight '${a}': ${o}`);s+=c*h}else if(o==="string"){const d=He(i.shape);u=[];for(let h=0;h<d;h++){const p=new Uint32Array(t.slice(s,s+lS))[0];s+=lS;const m=new Uint8Array(t.slice(s,s+p));u.push(m),s+=p}}else{const d=gj[o],h=t.slice(s,s+c*d);if(o==="float32")u=new Float32Array(h);else if(o==="int32")u=new Int32Array(h);else if(o==="bool")u=new Uint8Array(h);else if(o==="complex64"){u=new Float32Array(h);const p=new Float32Array(u.length/2),m=new Float32Array(u.length/2);for(let w=0;w<p.length;w++)p[w]=u[w*2],m[w]=u[w*2+1];const f=ny(p,l,"float32"),b=ny(m,l,"float32");n[a]=sp(f,b),f.dispose(),b.dispose()}else throw new Error(`Unsupported dtype in weight '${a}': ${o}`);s+=c*d}o!=="complex64"&&(n[a]=ny(u,l,o))}return n}function eme(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(i=>{if(e+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(e);let s=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),s),s+=i.byteLength}),r.buffer}const FD=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function yj(t){return FD?Buffer.byteLength(t):new Blob([t]).size}function tme(t){if(FD)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,s=e.length;r<s;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function nme(t){if(FD){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function V3(t){if(t.length===1)return t[0];let e=0;t.forEach(s=>{e+=s.byteLength});const n=new Uint8Array(e);let r=0;return t.forEach(s=>{n.set(new Uint8Array(s),r),r+=s.byteLength}),n.buffer}function rme(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function sme(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function ime(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),sme(t,n,r)}function jD(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:yj(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:yj(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}function ome(t){const e=[];for(const n of t)e.push(...n.weights);return e}function ame(){const t=n=>{let r=n<<13,s=0;for(;!(r&8388608);)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function lme(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function cme(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function ume(){const t=ame(),e=lme(),n=cme();return r=>{const s=new ArrayBuffer(4*r.length),i=new Uint32Array(s);for(let a=0;a<r.length;a++){const o=r[a],l=t[n[o>>10]+(o&1023)]+e[o>>10];i[a]=l}return new Float32Array(s)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Os{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Os.instance==null&&(Os.instance=new Os),Os.instance}static registerSaveRouter(e){Os.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Os.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Os.getHandlers(e,"save")}static getLoadHandlers(e,n){return Os.getHandlers(e,"load",n)}static getHandlers(e,n,r){const s=[];return(n==="load"?Os.getInstance().loadRouters:Os.getInstance().saveRouters).forEach(a=>{const o=a(e,r);o!==null&&s.push(o)}),s}}const dme=t=>Os.getSaveHandlers(t),hme=(t,e)=>Os.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RN="tensorflowjs",ON=1,Nf="models_store",od="model_info_store";function G3(){if(!je().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function $N(t){const e=t.result;e.createObjectStore(Nf,{keyPath:"modelPath"}),e.createObjectStore(od,{keyPath:"modelPath"})}class ip{constructor(e){if(this.indexedDB=G3(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,s)=>{const i=this.indexedDB.open(RN,ON);i.onupgradeneeded=()=>$N(i),i.onsuccess=()=>{const a=i.result;if(n==null){const o=a.transaction(Nf,"readonly"),c=o.objectStore(Nf).get(this.modelPath);c.onsuccess=()=>{if(c.result==null)return a.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(c.result.modelArtifacts)},c.onerror=u=>(a.close(),s(c.error)),o.oncomplete=()=>a.close()}else{const o=jD(n),l=a.transaction(od,"readwrite");let c=l.objectStore(od),u;try{u=c.put({modelPath:this.modelPath,modelArtifactsInfo:o})}catch(h){return s(h)}let d;u.onsuccess=()=>{d=a.transaction(Nf,"readwrite");const h=d.objectStore(Nf);let p;try{p=h.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:o})}catch(m){return s(m)}p.onsuccess=()=>r({modelArtifactsInfo:o}),p.onerror=m=>{c=l.objectStore(od);const f=c.delete(this.modelPath);f.onsuccess=()=>(a.close(),s(p.error)),f.onerror=b=>(a.close(),s(p.error))}},u.onerror=h=>(a.close(),s(u.error)),l.oncomplete=()=>{d==null?a.close():d.oncomplete=()=>a.close()}}},i.onerror=a=>s(i.error)})}}ip.URL_SCHEME="indexeddb://";const H3=t=>je().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(ip.URL_SCHEME)?fme(t.slice(ip.URL_SCHEME.length)):null;Os.registerSaveRouter(H3);Os.registerLoadRouter(H3);function fme(t){return new ip(t)}function pme(t){return t.startsWith(ip.URL_SCHEME)?t.slice(ip.URL_SCHEME.length):t}class mme{constructor(){this.indexedDB=G3()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(RN,ON);r.onupgradeneeded=()=>$N(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(od,"readonly"),o=i.objectStore(od).getAll();o.onsuccess=()=>{const l={};for(const c of o.result)l[c.modelPath]=c.modelArtifactsInfo;e(l)},o.onerror=l=>(s.close(),n(o.error)),i.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(e){return e=pme(e),new Promise((n,r)=>{const s=this.indexedDB.open(RN,ON);s.onupgradeneeded=()=>$N(s),s.onsuccess=()=>{const i=s.result,a=i.transaction(od,"readwrite"),o=a.objectStore(od),l=o.get(e);let c;l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const u=o.delete(e),d=()=>{c=i.transaction(Nf,"readwrite");const p=c.objectStore(Nf).delete(e);p.onsuccess=()=>n(l.result.modelArtifactsInfo),p.onerror=m=>r(l.error)};u.onsuccess=d,u.onerror=h=>(d(),i.close(),r(l.error))}},l.onerror=u=>(i.close(),r(l.error)),a.oncomplete=()=>{c==null?i.close():c.oncomplete=()=>i.close()}},s.onerror=i=>r(s.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xc="/",Qp="tensorflowjs_models",Y3="info",gme="model_topology",vme="weight_specs",yme="weight_data",bme="model_metadata";function q3(t){return{info:[Qp,t,Y3].join(Xc),topology:[Qp,t,gme].join(Xc),weightSpecs:[Qp,t,vme].join(Xc),weightData:[Qp,t,yme].join(Xc),modelMetadata:[Qp,t,bme].join(Xc)}}function X3(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function xme(t){const e=t.split(Xc);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Xc)}function wme(t){return t.startsWith(op.URL_SCHEME)?t.slice(op.URL_SCHEME.length):t}class op{constructor(e){if(!je().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=q3(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),s=jD(e);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,tme(e.weightData));const i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:s}}catch{throw X3(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const o=JSON.parse(i);n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,o.signature!=null&&(n.signature=o.signature),o.userDefinedMetadata!=null&&(n.userDefinedMetadata=o.userDefinedMetadata),o.modelInitializer!=null&&(n.modelInitializer=o.modelInitializer),o.initializerSignature!=null&&(n.initializerSignature=o.initializerSignature),o.trainingConfig!=null&&(n.trainingConfig=o.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(a==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=nme(a),n}}op.URL_SCHEME="localstorage://";const K3=t=>je().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(op.URL_SCHEME)?_me(t.slice(op.URL_SCHEME.length)):null;Os.registerSaveRouter(K3);Os.registerLoadRouter(K3);function _me(t){return new op(t)}class Sme{constructor(){oe(je().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),oe(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Qp+Xc,r=Xc+Y3;for(let s=0;s<this.LS.length;++s){const i=this.LS.key(s);if(i.startsWith(n)&&i.endsWith(r)){const a=xme(i);e[a]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){e=wme(e);const n=q3(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return X3(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bj="://";class Fl{constructor(){this.managers={}}static getInstance(){return Fl.instance==null&&(Fl.instance=new Fl),Fl.instance}static registerManager(e,n){oe(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(bj)&&(e=e.slice(0,e.indexOf(bj))),oe(e.length>0,()=>"scheme must not be an empty string.");const r=Fl.getInstance();oe(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=Fl.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(Fl.getInstance().managers)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cme{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!je().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return I3(e)}}if(je().get("IS_BROWSER")){je().setPlatform("browser",new Cme);try{Fl.registerManager(op.URL_SCHEME,new Sme)}catch{}try{Fl.registerManager(ip.URL_SCHEME,new mme)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kme={importFetch:()=>require("node-fetch")};let GT;class Eme{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return je().global.fetch!=null?je().global.fetch(e,n):(GT==null&&(GT=kme.importFetch()),GT(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}je().get("IS_NODE")&&!je().get("IS_BROWSER")&&je().setPlatform("node",new Eme);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function In(t,e="float32",n){return e=e||"float32",bu(t),new Js(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tme(t,e){const n=ve(t,"x","cast");if(!mpe(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:e};return ke.runKernel(Yb,r,s)}const Dt=$e({cast_:Tme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ime(t){const n={x:ve(t,"x","clone","string_or_numeric")};return ke.runKernel(ox,n)}const Ff=$e({clone_:Ime});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ame(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */F3();const Nme={buffer:In,cast:Dt,clone:Ff,print:Ame};Gpe(Nme);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ll(){return ke}function DN(){return ke.memory()}function De(t,e){return ke.tidy(t,e)}function kn(t){Ud(t).forEach(n=>n.dispose())}function nc(t){return ke.keep(t)}function J3(t,e,n=1){return ke.registerBackend(t,e,n)}function Rme(){return ke.backend}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ome(t,e){let n=ve(t,"a","add"),r=ve(e,"b","add");[n,r]=hs(n,r);const s={a:n,b:r};return ke.runKernel(Rg,s)}const yt=$e({add_:Ome});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $me(t,e){let n=ve(t,"a","floorDiv"),r=ve(e,"b","floorDiv");[n,r]=hs(n,r);const s={a:n,b:r};return ke.runKernel(sx,s)}const Q3=$e({floorDiv_:$me});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dme(t,e){let n=ve(t,"a","div"),r=ve(e,"b","div");if([n,r]=hs(n,r),n.dtype==="int32"&&r.dtype==="int32")return Q3(n,r);const s={a:n,b:r},i={};return ke.runKernel(Qb,s,i)}const un=$e({div_:Dme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pme(t,e){let n=ve(t,"a","mul"),r=ve(e,"b","mul");[n,r]=hs(n,r);const s={a:n,b:r};return ke.runKernel(mx,s)}const Te=$e({mul_:Pme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mme(t){const e=ve(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return ke.runKernel(WC,n)}else{const n={x:e};return ke.runKernel(MC,n)}}const wi=$e({abs_:Mme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bme(t){const n={x:ve(t,"x","acos")};return ke.runKernel(jb,n)}const Lme=$e({acos_:Bme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fme(t){const n={x:ve(t,"x","acosh")};return ke.runKernel(zb,n)}const jme=$e({acosh_:Fme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zme(t,e=null,n=!1){const s={x:ve(t,"x","all","bool")},i={axis:e,keepDims:n};return ke.runKernel(Q$,s,i)}const Z3=$e({all_:zme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ume(t,e=null,n=!1){const s={x:ve(t,"x","any","bool")},i={axis:e,keepDims:n};return ke.runKernel(Z$,s,i)}const PN=$e({any_:Ume});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wme(t,e=0){const r={x:ve(t,"x","argMax")},s={axis:e};return ke.runKernel(BC,r,s)}const Ky=$e({argMax_:Wme});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vme(t,e=0){const r={x:ve(t,"x","argMin")},s={axis:e};return ke.runKernel(LC,r,s)}const Gme=$e({argMin_:Vme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hme(t){const n={x:ve(t,"x","asin")};return ke.runKernel(Ub,n)}const Yme=$e({asin_:Hme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qme(t){const n={x:ve(t,"x","asinh")};return ke.runKernel(Wb,n)}const Xme=$e({asinh_:qme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kme(t){const n={x:ve(t,"x","atan")};return ke.runKernel(Vb,n)}const Jme=$e({atan_:Kme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qme(t,e){let n=ve(t,"a","atan2"),r=ve(e,"b","atan2");[n,r]=hs(n,r);const s={a:n,b:r};return ke.runKernel(Hb,s)}const Zme=$e({atan2_:Qme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ege(t){const n={x:ve(t,"x","atanh")};return ke.runKernel(Gb,n)}const tge=$e({atanh_:ege});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bx(t,e,n,r,s="NHWC",i){const a=t[3],o=[...e,a],l=wu(s);return Zs(t,o,n,i,r,null,null,l)}function Pa(t,e,n,r,s,i,a="channelsLast"){const[o,l]=Jy(e);let c;if(a==="channelsLast")c=[o,l,t[3],t[3]];else if(a==="channelsFirst")c=[o,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${a}`);return Zs(t,c,n,r,s,i,!1,a)}function xu(t,e,n,r,s,i,a="NDHWC"){const[o,l,c]=MN(e);let u,d;if(a==="NDHWC")d="channelsLast",u=[o,l,c,t[4],t[4]];else if(a==="NCDHW")d="channelsFirst",u=[o,l,c,t[1],t[1]];else throw new Error(`Unknown dataFormat ${a}`);return ih(t,u,n,r,s,!1,d,i)}function Zs(t,e,n,r,s,i,a=!1,o="channelsLast"){let[l,c,u,d]=[-1,-1,-1,-1];if(o==="channelsLast")[l,c,u,d]=t;else if(o==="channelsFirst")[l,d,c,u]=t;else throw new Error(`Unknown dataFormat ${o}`);const[h,p,,m]=e,[f,b]=Jy(n),[w,g]=Jy(r),C=Am(h,w),k=Am(p,g),{padInfo:N,outHeight:A,outWidth:O}=sge(s,c,u,f,b,C,k,i,o),R=a?m*d:m;let $;return o==="channelsFirst"?$=[l,R,A,O]:o==="channelsLast"&&($=[l,A,O,R]),{batchSize:l,dataFormat:o,inHeight:c,inWidth:u,inChannels:d,outHeight:A,outWidth:O,outChannels:R,padInfo:N,strideHeight:f,strideWidth:b,filterHeight:h,filterWidth:p,effectiveFilterHeight:C,effectiveFilterWidth:k,dilationHeight:w,dilationWidth:g,inShape:t,outShape:$,filterShape:e}}function ih(t,e,n,r,s,i=!1,a="channelsLast",o){let[l,c,u,d,h]=[-1,-1,-1,-1,-1];if(a==="channelsLast")[l,c,u,d,h]=t;else if(a==="channelsFirst")[l,h,c,u,d]=t;else throw new Error(`Unknown dataFormat ${a}`);const[p,m,f,,b]=e,[w,g,C]=MN(n),[k,N,A]=MN(r),O=Am(p,k),R=Am(m,N),$=Am(f,A),{padInfo:D,outDepth:B,outHeight:M,outWidth:z}=ige(s,c,u,d,w,g,C,O,R,$,o),W=i?b*h:b;let V;return a==="channelsFirst"?V=[l,W,B,M,z]:a==="channelsLast"&&(V=[l,B,M,z,W]),{batchSize:l,dataFormat:a,inDepth:c,inHeight:u,inWidth:d,inChannels:h,outDepth:B,outHeight:M,outWidth:z,outChannels:W,padInfo:D,strideDepth:w,strideHeight:g,strideWidth:C,filterDepth:p,filterHeight:m,filterWidth:f,effectiveFilterDepth:O,effectiveFilterHeight:R,effectiveFilterWidth:$,dilationDepth:k,dilationHeight:N,dilationWidth:A,inShape:t,outShape:V,filterShape:e}}function nge(t,e,n,r,s){r==null&&(r=zD(t,e,n));const i=t[0],a=t[1],o=Qy((i-e+2*r)/n+1,s),l=Qy((a-e+2*r)/n+1,s);return[o,l]}function rge(t,e,n,r,s,i){s==null&&(s=zD(t,e[0],r[0]));const a=[0,0,0,n];for(let o=0;o<3;o++)t[o]+2*s>=e[o]&&(a[o]=Qy((t[o]-e[o]+2*s)/r[o]+1,i));return a}function zD(t,e,n,r=1){const s=Am(e,r);return Math.floor((t[0]*(n-1)-n+s)/2)}function Jy(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function MN(t){return typeof t=="number"?[t,t,t]:t}function Am(t,e){return e<=1?t:t+(t-1)*(e-1)}function sge(t,e,n,r,s,i,a,o,l){let c,u,d;if(typeof t=="number"){c={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const p=nge([e,n],i,r,t,o);u=p[0],d=p[1]}else if(t==="same"){u=Math.ceil(e/r),d=Math.ceil(n/s);const h=Math.max(0,(u-1)*r+i-e),p=Math.max(0,(d-1)*s+a-n),m=Math.floor(h/2),f=h-m,b=Math.floor(p/2),w=p-b;c={top:m,bottom:f,left:b,right:w,type:"SAME"}}else if(t==="valid")c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-i+1)/r),d=Math.ceil((n-a+1)/s);else if(typeof t=="object"){const h=l==="channelsLast"?t[1][0]:t[2][0],p=l==="channelsLast"?t[1][1]:t[2][1],m=l==="channelsLast"?t[2][0]:t[3][0],f=l==="channelsLast"?t[2][1]:t[3][1];c={top:h,bottom:p,left:m,right:f,type:h===0&&p===0&&m===0&&f===0?"VALID":"EXPLICIT"},u=Qy((e-i+h+p)/r+1,o),d=Qy((n-a+m+f)/s+1,o)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:c,outHeight:u,outWidth:d}}function ige(t,e,n,r,s,i,a,o,l,c,u){let d,h,p,m;if(t==="valid"&&(t=0),typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const b=rge([e,n,r,1],[o,l,c],1,[s,i,a],t,u);h=b[0],p=b[1],m=b[2]}else if(t==="same"){h=Math.ceil(e/s),p=Math.ceil(n/i),m=Math.ceil(r/a);const f=(h-1)*s+o-e,b=(p-1)*i+l-n,w=(m-1)*a+c-r,g=Math.floor(f/2),C=f-g,k=Math.floor(b/2),N=b-k,A=Math.floor(w/2),O=w-A;d={top:k,bottom:N,left:A,right:O,front:g,back:C,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:d,outDepth:h,outHeight:p,outWidth:m}}function Qy(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function ap(t){const[e,n,r]=Jy(t);return e===1&&n===1&&r===1}function fi(t,e){return ap(t)||ap(e)}function lp(t){return Jy(t).every(e=>e>0)}function wu(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Zi(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")oe(rg(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(s=>{oe(rg(s),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oge(t,e){const r={x:ve(t,"x","reshape","string_or_numeric")},s={shape:e};return ke.runKernel(Sk,r,s)}const Oe=$e({reshape_:oge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function age(t,e,n,r,s){const i=ve(t,"x","avgPool","float32"),a=1;oe(fi(n,a),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`);let o=i,l=!1;i.rank===3&&(l=!0,o=Oe(i,[1,i.shape[0],i.shape[1],i.shape[2]])),oe(o.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`),Zi("avgPool",r,s);const c={x:o},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s};let d=ke.runKernel(FC,c,u);return d=Dt(d,i.dtype),l?Oe(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const UD=$e({avgPool_:age});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lge(t,e,n,r,s,i="NDHWC"){const a=ve(t,"x","avgPool3d","float32");let o=a,l=!1;a.rank===4&&(l=!0,o=Oe(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),oe(o.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`),oe(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),oe(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),Zi("avgPool3d",r,s);const c={x:o},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i};let d=ke.runKernel(jC,c,u);return d=Dt(d,o.dtype),l?Oe(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const cge=$e({avgPool3d_:lge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uge(t,e=0){oe(t.length>=1,()=>"Pass at least one tensor to concat");const n=W3(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return Ff(n[0]);const r=n,s={axis:e};return ke.runKernel(VC,r,s)}const Yi=$e({concat_:uge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dge(t,e,n=!1,r=!1){let s=ve(t,"a","matMul"),i=ve(e,"b","matMul");[s,i]=hs(s,i);const a={a:s,b:i},o={transposeA:n,transposeB:r};return ke.runKernel(zC,a,o)}const tr=$e({matMul_:dge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hge(t){const n={x:ve(t,"x","sigmoid","float32")};return ke.runKernel(Ex,n)}const Og=$e({sigmoid_:hge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fge(t,e,n){const r=ve(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},i={begin:e,size:n};return ke.runKernel(Ik,s,i)}const Sr=$e({slice_:fge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pge(t){const n={x:ve(t,"x","tanh","float32")};return ke.runKernel(Ox,n)}const WD=$e({tanh_:pge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mge(t,e,n){const r=ve(t,"x","batchToSpaceND"),s=e.reduce((o,l)=>o*l);oe(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),oe(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),oe(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${s}`);const i={x:r},a={blockShape:e,crops:n};return ke.runKernel(UC,i,a)}const VD=$e({batchToSpaceND_:mge});function gge(t){let e;return t.rank===0||t.rank===1?e=Oe(t,[1,1,1,t.size]):t.rank===2?e=Oe(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Oe(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vge(t,e,n,r,s,i){i==null&&(i=.001);const a=ve(t,"x","batchNorm"),o=ve(e,"mean","batchNorm"),l=ve(n,"variance","batchNorm");let c;s!=null&&(c=ve(s,"scale","batchNorm"));let u;r!=null&&(u=ve(r,"offset","batchNorm")),oe(o.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),oe(u==null||o.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),oe(c==null||o.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const h={x:gge(a),scale:c,offset:u,mean:o,variance:l},p={varianceEpsilon:i},m=ke.runKernel(ZC,h,p);return Oe(m,a.shape)}const Bk=$e({batchNorm_:vge});function yge(t,e,n,r,s,i){const a=ve(t,"x","batchNorm"),o=ve(e,"mean","batchNorm"),l=ve(n,"variance","batchNorm");let c;s!=null&&(c=ve(s,"scale","batchNorm"));let u;return r!=null&&(u=ve(r,"offset","batchNorm")),oe(a.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`),oe(o.rank===2||o.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`),oe(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),c!=null&&oe(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`),u!=null&&oe(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`),Bk(a,o,l,u,c,i)}const bge=$e({batchNorm2d_:yge});function xge(t,e,n,r,s,i){const a=ve(t,"x","batchNorm"),o=ve(e,"mean","batchNorm"),l=ve(n,"variance","batchNorm");let c;s!=null&&(c=ve(s,"scale","batchNorm"));let u;return r!=null&&(u=ve(r,"offset","batchNorm")),oe(a.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`),oe(o.rank===3||o.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`),oe(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),c!=null&&oe(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`),u!=null&&oe(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`),Bk(a,o,l,u,c,i)}const wge=$e({batchNorm3d_:xge});function _ge(t,e,n,r,s,i){const a=ve(t,"x","batchNorm"),o=ve(e,"mean","batchNorm"),l=ve(n,"variance","batchNorm");let c;s!=null&&(c=ve(s,"scale","batchNorm"));let u;return r!=null&&(u=ve(r,"offset","batchNorm")),oe(a.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`),oe(o.rank===4||o.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`),oe(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),c!=null&&oe(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`),u!=null&&oe(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`),Bk(a,o,l,u,c,i)}const Sge=$e({batchNorm4d_:_ge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cge(t,e,n){const r=ve(t,"x","bincount"),s=ve(e,"weights","bincount");oe(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),oe(n>=0,()=>`size must be non-negative, but got ${n}.`),oe(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const i={x:r,weights:s},a={size:n};return ke.runKernel(nD,i,a)}const kge=$e({bincount_:Cge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ege(t,e){let n=ve(t,"broadcastTo","x");const r=n.shape;if(bu(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const c=n.shape.slice();for(;c.length<e.length;)c.unshift(1);n=Oe(n,c)}const s=n.shape,i=Array.from(e);for(let c=e.length-1;c>=0;c--)if(s[c]===e[c])i[c]=1;else if(n.shape[c]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(i.map((c,u)=>c>1?u:-1).filter(c=>c>=0).length===0)return Ff(n);const o={x:n},l={reps:i};return ke.runKernel($x,o,l)}const ry=$e({broadcastTo_:Ege});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tge(t){const n={x:ve(t,"x","ceil","float32")};return ke.runKernel(qb,n)}const Ige=$e({ceil_:Tge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lk(t,e,n){bu(t),n=n||Ag(e);const r={shape:t,value:e,dtype:n};return ke.runKernel(mD,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Age(t,e,n){const r=ve(t,"x","clipByValue");if(oe(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return Lk(r.shape,e,r.dtype);const s={x:r},i={clipValueMin:e,clipValueMax:n};return ke.runKernel(Xb,s,i)}const Qo=$e({clipByValue_:Age});function Nge(t){return Yi(t,0)}const Rge=$e({concat1d_:Nge});function Oge(t,e){return Yi(t,e)}const $ge=$e({concat2d_:Oge});function Dge(t,e){return Yi(t,e)}const Pge=$e({concat3d_:Dge});function Mge(t,e){return Yi(t,e)}const Bge=$e({concat4d_:Mge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lge(t,e,n,r,s="NHWC",i=[1,1],a){const o=ve(t,"x","conv2d","float32"),l=ve(e,"filter","conv2d","float32");let c=o,u=!1;o.rank===3&&(u=!0,c=Oe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),oe(c.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`),oe(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),Zi("conv2d",r,a);const d=s==="NHWC"?c.shape[3]:c.shape[1];oe(d===l.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`),oe(fi(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),oe(lp(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),oe(lp(n),()=>"Error in conv2D: Strides should be larger than 0.");const h={x:c,filter:l},p={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a},m=ke.runKernel(GC,h,p);return u?Oe(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const cp=$e({conv2d_:Lge});function Fge(t,e,n,r,s="NWC",i=1,a){const o=ve(t,"x","conv1d"),l=ve(e,"filter","conv1d");let c=o,u=!1;o.rank===2&&(u=!0,c=Oe(o,[1,o.shape[0],o.shape[1]])),oe(c.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`),oe(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),Zi("conv1d",r,a),oe(c.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${l.shape[1]}.`),oe(fi(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),oe(lp(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),oe(lp(n),()=>"Error in conv1D: Stride should be larger than 0."),oe(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const d=Oe(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=Oe(c,[c.shape[0],1,c.shape[1],c.shape[2]]),b=cp(h,d,[1,n],r,"NHWC",[1,i],a);return u?Oe(b,[b.shape[2],b.shape[3]]):Oe(b,[b.shape[0],b.shape[2],b.shape[3]])}const eV=$e({conv1d_:Fge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jge(t,e,n,r,s,i="NHWC",a){oe(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,l=e,c=!1;e.rank===3&&(c=!0,l=Oe(e,[1,e.shape[0],e.shape[1],e.shape[2]]),o=[1,t[0],t[1],t[2]]),oe(o.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`),oe(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),oe(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const u=i==="NHWC"?o[3]:o[1],d=i==="NHWC"?l.shape[3]:l.shape[1];oe(u===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`),oe(d===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`),Zi("conv2dDerInput",s,a);const h={dy:l,filter:n},p={strides:r,pad:s,dataFormat:i,dimRoundingMode:a,inputShape:o},m=ke.runKernel(HC,h,p);return c?Oe(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const GD=$e({conv2DBackpropInput_:jge});function zge(t,e,n,r,s,i){const a=ve(t,"x","conv2dTranspose"),o=ve(e,"filter","conv2dTranspose");return GD(n,a,o,r,s,"NHWC",i)}const tV=$e({conv2dTranspose_:zge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uge(t,e,n,r,s="NDHWC",i=[1,1,1]){const a=ve(t,"x","conv3d"),o=ve(e,"filter","conv3d");let l=a,c=!1;a.rank===4&&(c=!0,l=Oe(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),oe(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),oe(o.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`),oe(l.shape[4]===o.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`),oe(fi(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),oe(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`),oe(lp(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),oe(lp(n),()=>"Error in conv3D: Strides should be larger than 0.");const u={x:l,filter:o},d={strides:n,pad:r,dataFormat:s,dilations:i},h=ke.runKernel(YC,u,d);return c?Oe(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const Wge=$e({conv3d_:Uge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vge(t,e,n,r,s){oe(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,a=e,o=!1;e.rank===4&&(o=!0,a=Oe(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),i=[1,t[0],t[1],t[2],t[3]]);const l=i[4],c=a.shape[4];oe(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),oe(a.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`),oe(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),oe(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),oe(c===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`);const u={dy:a,filter:n},d={pad:s,strides:r,inputShape:i},h=ke.runKernel(oD,u,d);return o?Oe(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const nV=$e({conv3DBackpropInput_:Vge});function Gge(t,e,n,r,s){const i=ve(t,"x","conv3dTranspose"),a=ve(e,"filter","conv3dTranspose");return nV(n,i,a,r,s)}const Hge=$e({conv3dTranspose_:Gge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yge(t){const n={x:ve(t,"x","cos","float32")};return ke.runKernel(Kb,n)}const HD=$e({cos_:Yge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qge(t){const n={x:ve(t,"x","cosh","float32")};return ke.runKernel(Jb,n)}const rV=$e({cosh_:qge});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xge(t,e=0,n=!1,r=!1){const i={x:ve(t,"x","cumprod")},a={axis:e,exclusive:n,reverse:r};return ke.runKernel(aD,i,a)}const BN=$e({cumprod_:Xge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kge(t,e=0,n=!1,r=!1){const i={x:ve(t,"x","cumsum")},a={axis:e,exclusive:n,reverse:r};return ke.runKernel(qC,i,a)}const sV=$e({cumsum_:Kge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jge(t,e,n,r=!1){const s=ve(t,"x","denseBincount"),i=ve(e,"weights","denseBincount");oe(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),oe(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),oe(n>=0,()=>`size must be non-negative, but got ${n}.`),oe(i.size===s.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${i.shape}.`);const a={x:s,weights:i},o={size:n,binaryOutput:r};return ke.runKernel(cD,a,o)}const xj=$e({denseBincount_:Jge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qge(t,e,n="NHWC"){const r=ve(t,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],a=n==="NHWC"?r.shape[3]:r.shape[1];oe(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),oe(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e}  for depthToSpace with input shape
    ${r.shape}`),oe(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e} for depthToSpace with input shape
        ${r.shape}`),oe(a%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${a} for depthToSpace with input shape ${r.shape}`);const o={x:r},l={blockSize:e,dataFormat:n};return ke.runKernel(uD,o,l)}const Zge=$e({depthToSpace_:Qge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e0e(t,e,n,r,s="NHWC",i=[1,1],a){const o=ve(t,"x","depthwiseConv2d","float32"),l=ve(e,"filter","depthwiseConv2d","float32");let c=o,u=!1;o.rank===3&&(u=!0,c=Oe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),oe(c.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`),oe(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const d=s==="NHWC"?c.shape[3]:c.shape[1];oe(d===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`),Zi("depthwiseConv2d",r,a);const h={x:c,filter:l},p={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a},m=ke.runKernel(XC,h,p);return u?Oe(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const YD=$e({depthwiseConv2d_:e0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t0e(t,e,n,r,s=[1,1],i="NHWC"){const a=ve(t,"x","dilation2d"),o=ve(e,"filter","dilation2d");oe(a.rank===3||a.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${a.rank}.`),oe(o.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`),oe(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=a,c=!1;a.rank===3&&(l=Oe(a,[1,a.shape[0],a.shape[1],a.shape[2]]),c=!0),oe(l.shape[3]===o.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${o.shape[2]}`);const u={x:l,filter:o},d={strides:n,pad:r,dilations:s},h=ke.runKernel(KC,u,d);return c?Oe(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const n0e=$e({dilation2d_:t0e});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function og(t,e){const n=t.length,r=[];for(let s=0;s<n;s++){const i=n-1-s,a=t[i]||1;(e[e.length-1-s]||1)>1&&a===1&&r.unshift(i)}return r}function Ns(t,e){const n=[];for(let r=0;r<e.length;r++){const s=t[t.length-r-1],i=e.length-r-1,a=e[i];(s==null||s===1&&a>1)&&n.unshift(i)}return n}function _n(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let s=0;s<n;s++){let i=t[t.length-s-1];i==null&&(i=1);let a=e[e.length-s-1];if(a==null&&(a=1),i===1)r[n-s-1]=a;else if(a===1)r[n-s-1]=i;else if(i!==a){const o=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(o)}else r[n-s-1]=i}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r0e(t,e){let n=ve(t,"a","equal","string_or_numeric"),r=ve(e,"b","equal","string_or_numeric");[n,r]=hs(n,r),_n(n.shape,r.shape);const s={a:n,b:r};return ke.runKernel(JC,s)}const lc=$e({equal_:r0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s0e(t,e,n){const r=ve(e,"a","where"),s=ve(n,"b","where"),i=ve(t,"condition","where","bool"),a=_n(_n(i.shape,r.shape),s.shape),o=ry(i,a),l=ry(r,a),c=ry(s,a),u={condition:o,t:l,e:c};return ke.runKernel(Tk,u)}const Ii=$e({where_:s0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i0e(t){const n={x:ve(t,"x","zerosLike")};return ke.runKernel(Pk,n)}const zn=$e({zerosLike_:i0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o0e(t,e){let n=ve(t,"a","div"),r=ve(e,"b","div");[n,r]=hs(n,r);const s=un(n,r),i=zn(s),a=lc(r,i);return Ii(a,i,s)}const a0e=$e({divNoNan_:o0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l0e(t,e){const n=ve(t,"t1","dot"),r=ve(e,"t2","dot");oe((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(oe(s===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${i}.`),n.rank===1&&r.rank===1){const a=Oe(n,[1,-1]),o=Oe(r,[-1,1]),l=tr(a,o);return Oe(l,[])}else if(n.rank===1&&r.rank===2){const a=Oe(n,[1,-1]),o=Oe(r,[r.shape[0],r.shape[1]]),l=tr(a,o);return Oe(l,[l.size])}else if(n.rank===2&&r.rank===1){const a=Oe(r,[-1,1]),o=tr(n,a);return Oe(o,[o.size])}else{const a=Oe(r,[r.shape[0],r.shape[1]]);return tr(n,a)}}const c0e=$e({dot_:l0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u0e(t){const n={x:ve(t,"x","elu","float32")};return ke.runKernel(Zb,n)}const Fk=$e({elu_:u0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d0e(t){let e=ve(t,"x","erf");oe(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=Dt(e,"float32"));const n={x:e};return ke.runKernel(ex,n)}const h0e=$e({erf_:d0e});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qD(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function iV(t,e,n){const r=t.length+e.length,s=[];let i=0,a=0;for(let o=0;o<r;o++)n.indexOf(o)===-1?s.push(t[i++]):s.push(e[a++]);return s}function zs(t,e){const n=[],r=t.length;for(let i=0;i<r;i++)e.indexOf(i)===-1&&n.push(t[i]);const s=e.map(i=>t[i]);return[n,s]}function ws(t,e){const n=e.map(r=>1);return iV(t,n,e)}function ei(t,e,n){oe(qD(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function ns(t,e){if(qD(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function oh(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function fs(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f0e(t,e=null,n=!1){const s={x:ve(t,"x","max")},i={reductionIndices:e,keepDims:n};return ke.runKernel(ck,s,i)}const ml=$e({max_:f0e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p0e(t,e=null,n=!1){const s={x:ve(t,"x","min")},i={axis:e,keepDims:n};return ke.runKernel(fk,s,i)}const cS=$e({min_:p0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m0e(t,e){let n=ve(t,"base","pow"),r=ve(e,"exp","pow");[n,r]=hs(n,r);const s={a:n,b:r};return ke.runKernel(gx,s)}const ag=$e({pow_:m0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ir(t,e){if((bl(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&bl(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Mx(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g0e(t){const n={x:ve(t,"x","sqrt","float32")};return ke.runKernel(Ix,n)}const Ri=$e({sqrt_:g0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v0e(t){const e=ve(t,"x","square"),n={};return ke.runKernel("Square",{x:e},n)}const Rr=$e({square_:v0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y0e(t,e=null,n=!1){let r=ve(t,"x","sum");r.dtype==="bool"&&(r=Dt(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return ke.runKernel(Ak,s,i)}const on=$e({sum_:y0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b0e(t,e="euclidean",n=null,r=!1){t=ve(t,"x","norm");const s=oV(t,e,n);let i=s.shape;if(r){const a=An(n,t.shape);i=ws(s.shape,a)}return Oe(s,i)}function oV(t,e,n=null){if(t.rank===0)return wi(t);if(t.rank!==1&&n===null)return oV(Oe(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return on(wi(t),n);if(e===1/0)return ml(wi(t),n);if(e===-1/0)return cS(wi(t),n);if(e==="euclidean"||e===2)return Ri(on(ag(wi(t),ir(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return ml(on(wi(t),n[0]),n[1]-1);if(e===1/0)return ml(on(wi(t),n[1]),n[0]);if(e===-1/0)return cS(on(wi(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return Ri(on(Rr(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const jk=$e({norm_:b0e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x0e(t,e=null,n=!1){return jk(t,"euclidean",e,n)}const w0e=$e({euclideanNorm_:x0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _0e(t){const n={x:ve(t,"x","exp")};return ke.runKernel(tx,n)}const du=$e({exp_:_0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S0e(t,e=0){const n=ve(t,"x","expandDims","string_or_numeric");oe(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:e};return ke.runKernel(QC,r,s)}const Vi=$e({expandDims_:S0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C0e(t){const n={x:ve(t,"x","expm1")};return ke.runKernel(nx,n)}const k0e=$e({expm1_:C0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E0e(t,e){const n=ve(t,"x","tile","string_or_numeric");oe(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},s={reps:e};return ke.runKernel($x,r,s)}const dl=$e({tile_:E0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T0e(t,e,n,r="float32"){e==null&&(e=t);const s=In([t,e],r),i=t<=e?t:e;for(let o=0;o<i;++o)s.set(1,o,o);const a=Oe(s.toTensor(),[t,e]);if(n==null)return a;if(n.length===1)return dl(Vi(a,0),[n[0],1,1]);if(n.length===2)return dl(Vi(Vi(a,0),0),[n[0],n[1],1,1]);if(n.length===3)return dl(Vi(Vi(Vi(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const aV=$e({eye_:T0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I0e(t){const n={x:ve(t,"x","floor","float32")};return ke.runKernel(rx,n)}const zk=$e({floor_:I0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A0e(t,e,n=0,r=0){const s=ve(t,"x","gather"),i=ve(e,"indices","gather","int32"),a={x:s,indices:i},o={axis:n,batchDims:r};return ke.runKernel(ek,a,o)}const XD=$e({gather_:A0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N0e(t,e){let n=ve(t,"a","greater","string_or_numeric"),r=ve(e,"b","greater","string_or_numeric");[n,r]=hs(n,r),_n(n.shape,r.shape);const s={a:n,b:r};return ke.runKernel(tk,s)}const sa=$e({greater_:N0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R0e(t,e){let n=ve(t,"a","greaterEqual","string_or_numeric"),r=ve(e,"b","greaterEqual","string_or_numeric");[n,r]=hs(n,r),_n(n.shape,r.shape);const s={a:n,b:r};return ke.runKernel(ix,s)}const Sp=$e({greaterEqual_:R0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O0e(t){const n={input:ve(t,"input","imag")};return ke.runKernel(yD,n)}const KD=$e({imag_:O0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $0e(t){const n={x:ve(t,"x","isFinite")};return ke.runKernel(ax,n)}const D0e=$e({isFinite_:$0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P0e(t){const n={x:ve(t,"x","isInf")};return ke.runKernel(lx,n)}const M0e=$e({isInf_:P0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B0e(t){const n={x:ve(t,"x","isNaN")};return ke.runKernel(cx,n)}const L0e=$e({isNaN_:B0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F0e(t,e=.2){const r={x:ve(t,"x","leakyRelu")},s={alpha:e};return ke.runKernel(nk,r,s)}const JD=$e({leakyRelu_:F0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j0e(t,e){let n=ve(t,"a","less","string_or_numeric"),r=ve(e,"b","less","string_or_numeric");[n,r]=hs(n,r),_n(n.shape,r.shape);const s={a:n,b:r};return ke.runKernel(rk,s)}const uS=$e({less_:j0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z0e(t,e){let n=ve(t,"a","lessEqual","string_or_numeric"),r=ve(e,"b","lessEqual","string_or_numeric");[n,r]=hs(n,r),_n(n.shape,r.shape);const s={a:n,b:r};return ke.runKernel(sk,s)}const $g=$e({lessEqual_:z0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U0e(t,e=5,n=1,r=1,s=.5){const i=ve(t,"x","localResponseNormalization");oe(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),oe(rg(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let a=i,o=!1;i.rank===3&&(o=!0,a=Oe(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:a},c={depthRadius:e,bias:n,alpha:r,beta:s},u=ke.runKernel(lk,l,c);return o?Oe(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const W0e=$e({localResponseNormalization_:U0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V0e(t){const n={x:ve(t,"x","log","float32")};return ke.runKernel(ux,n)}const cc=$e({log_:V0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G0e(t){const n={x:ve(t,"x","log1p")};return ke.runKernel(dx,n)}const lV=$e({log1p_:G0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H0e(t,e){oe(vN(t),()=>"The f passed in variableGrads(f) must be a function"),oe(e==null||Array.isArray(e)&&e.every(c=>c instanceof aS),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const c in ke.registeredVariables)e.push(ke.registeredVariables[c])}const r=n?e.filter(c=>!c.trainable):null,s=e.length;e=e.filter(c=>c.trainable),oe(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const i=!0,{value:a,grads:o}=ke.gradients(t,e,null,i);oe(o.some(c=>c!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),oe(a.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`);const l={};return e.forEach((c,u)=>{o[u]!=null&&(l[c.name]=o[u])}),r!=null&&r.forEach(c=>l[c.name]=null),{value:a,grads:l}}function lg(t){return ke.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y0e(t){const n={x:ve(t,"x","neg")};return ke.runKernel(mk,n)}const ds=$e({neg_:Y0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q0e(t){const n={x:ve(t,"x","softplus")};return ke.runKernel(Tx,n)}const Lx=$e({softplus_:q0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X0e(t){const e=ve(t,"x","logSigmoid");return lg(r=>({value:ds(Lx(ds(r))),gradFunc:a=>Te(a,Og(ds(r)))}))(e)}const K0e=$e({logSigmoid_:X0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J0e(t,e){let n=ve(t,"a","sub"),r=ve(e,"b","sub");[n,r]=hs(n,r);const s={a:n,b:r};return ke.runKernel(Nx,s)}const mn=$e({sub_:J0e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q0e(t,e=-1){const n=ve(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return lg((s,i)=>{const o=ml(s,e,!0),l=mn(s,o),c=mn(Dt(l,"float32"),cc(on(du(l),e,!0)));return i([c]),{value:c,gradFunc:(d,h)=>{const[p]=h,m=!0,f=du(p);return mn(d,Te(on(d,e,m),f))}}})(n)}const cV=$e({logSoftmax_:Q0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z0e(t,e=null,n=!1){const r=ve(t,"x","logSumExp"),s=An(e,r.shape),i=ml(r,s,!0),a=mn(r,i),o=du(a),l=on(o,s),c=cc(l),u=yt(Oe(i,c.shape),c);if(n){const d=ws(u.shape,s);return Oe(u,d)}return u}const eve=$e({logSumExp_:Z0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tve(t,e){const n=ve(t,"a","logicalAnd","bool"),r=ve(e,"b","logicalAnd","bool");_n(n.shape,r.shape);const s={a:n,b:r};return ke.runKernel(ik,s)}const hu=$e({logicalAnd_:tve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nve(t){const n={x:ve(t,"x","logicalNot","bool")};return ke.runKernel(ok,n)}const QD=$e({logicalNot_:nve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rve(t,e){const n=ve(t,"a","logicalOr","bool"),r=ve(e,"b","logicalOr","bool");_n(n.shape,r.shape);const s={a:n,b:r};return ke.runKernel(ak,s)}const uV=$e({logicalOr_:rve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sve(t,e){const n=ve(t,"a","logicalXor","bool"),r=ve(e,"b","logicalXor","bool");return _n(n.shape,r.shape),hu(uV(t,e),QD(hu(t,e)))}const ive=$e({logicalXor_:sve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ove(t,e,n,r,s){const i=ve(t,"x","maxPool"),a=1;let o=i,l=!1;i.rank===3&&(l=!0,o=Oe(i,[1,i.shape[0],i.shape[1],i.shape[2]])),oe(o.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`),oe(fi(n,a),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`),Zi("maxPool",r,s);const c={x:o},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s},d=ke.runKernel(uk,c,u);return l?Oe(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const ZD=$e({maxPool_:ove});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ave(t,e=[1,1,1],n,r,s,i="NDHWC"){const a=ve(t,"x","maxPool3d");let o=a,l=!1;a.rank===4&&(l=!0,o=Oe(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),oe(o.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`),oe(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),Zi("maxPool3d",r,s);const c={x:o},u={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i},d=ke.runKernel(dk,c,u);return l?Oe(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const lve=$e({maxPool3d_:ave});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cve(t,e){let n=ve(t,"a","maximum"),r=ve(e,"b","maximum");[n,r]=hs(n,r),n.dtype==="bool"&&(n=Dt(n,"int32"),r=Dt(r,"int32")),_n(n.shape,r.shape);const s={a:n,b:r};return ke.runKernel(hx,s)}const ah=$e({maximum_:cve});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uve(t,e=null,n=!1){const s={x:ve(t,"x","mean")},i={axis:e,keepDims:n};return ke.runKernel(hk,s,i)}const ys=$e({mean_:uve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bs(t,e="float32"){if(bu(t),e==="complex64"){const r=bs(t,"float32"),s=bs(t,"float32");return sp(r,s)}const n=di(He(t),e);return ke.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cp(t,e="float32"){if(bu(t),e==="complex64"){const r=Cp(t,"float32"),s=bs(t,"float32");return sp(r,s)}const n=q$(He(t),e);return ke.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dve(t,e){let n=ve(t,"a","minimum"),r=ve(e,"b","minimum");[n,r]=hs(n,r),n.dtype==="bool"&&(n=Dt(n,"int32"),r=Dt(r,"int32")),_n(n.shape,r.shape);const s={a:n,b:r};return ke.runKernel(fx,s)}const Zy=$e({minimum_:dve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hve(t,e,n){oe(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=ve(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");oe(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const s=n==="reflect"?1:0;for(let o=0;o<r.rank;o++)oe(e[o].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),oe(e[o][0]>=0&&e[o][0]<=r.shape[o]-s&&e[o][1]>=0&&e[o][1]<=r.shape[o]-s,()=>`Padding in dimension ${o} cannot be greater than or equal to ${r.shape[o]-s} or less than 0 for input of shape ${r.shape}`);const i={paddings:e,mode:n},a={x:r};return ke.runKernel(pk,a,i)}const fve=$e({mirrorPad_:hve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pve(t,e){let n=ve(t,"a","mod"),r=ve(e,"b","mod");[n,r]=hs(n,r);const s={a:n,b:r};return ke.runKernel(px,s)}const mve=$e({mod_:pve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gve(t,e=null,n=!1){t=ve(t,"x","moments");const r=An(e,t.shape),s=ys(t,r,n);let i=s.shape;n||(i=ws(s.shape,r));const a=Rr(mn(Dt(t,"float32"),Oe(s,i))),o=ys(a,r,n);return{mean:s,variance:o}}const eP=$e({moments_:gve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vve(t,e){let n=ve(t,"a","notEqual","string_or_numeric"),r=ve(e,"b","notEqual","string_or_numeric");[n,r]=hs(n,r),_n(n.shape,r.shape);const s={a:n,b:r};return ke.runKernel(gk,s)}const dS=$e({notEqual_:vve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yve(t,e,n=1,r=0,s="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const a={indices:ve(t,"indices","oneHot","int32")},o={dtype:s,depth:e,onValue:n,offValue:r};return ke.runKernel(yk,a,o)}const dV=$e({oneHot_:yve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bve(t){const n={x:ve(t,"x","onesLike")};return ke.runKernel(vk,n)}const Da=$e({onesLike_:bve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xve(t,e,n=0){const r=ve(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:e,constantValue:n},i={x:r};return ke.runKernel(xk,i,s)}const tP=$e({pad_:xve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wve(t,e,n){const r=ve(t,"x","spaceToBatchND");oe(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),oe(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),oe(r.shape.reduce((a,o,l)=>l>0&&l<=e.length?a&&(o+n[l-1][0]+n[l-1][1])%e[l-1]===0:a,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const s={x:r},i={blockShape:e,paddings:n};return ke.runKernel(Nk,s,i)}const nP=$e({spaceToBatchND_:wve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ve(t,e,n,r,s,i,a){s==null&&(s=[1,1]),i==null&&(i=1),r===0&&(r="valid");const o=ve(t,"x","maxPool");let l=o,c=!1;o.rank===3&&(c=!0,l=Oe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),oe(fi(i,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${s}'`);const u=Pa(l.shape,e,i,s,r),d=[u.dilationHeight,u.dilationWidth];let h;r==="same"?h=Cve([u.filterHeight,u.filterWidth],d):h=[[0,0],[0,0]];const p=d[0]===1&&d[1]===1,[m,f]=Sve([u.inHeight,u.inWidth],d,h),b=p?r:"valid",w=p?l:nP(l,d,m),C=(n==="avg"?()=>UD(w,e,i,b,a):()=>ZD(w,e,i,b,a))(),k=p?C:VD(C,d,f);return c?Oe(k,[k.shape[1],k.shape[2],k.shape[3]]):k}function Sve(t,e,n){const r=n.map(u=>u[0]),s=n.map(u=>u[1]),i=t.concat(r,s),a=e.map((u,d)=>(u-i[d]%u)%u),o=s.map((u,d)=>u+a[d]),l=e.map((u,d)=>[r[d],o[d]]),c=e.map((u,d)=>[0,a[d]]);return[l,c]}function Cve(t,e){const r=t.map((a,o)=>a+(a-1)*(e[o]-1)).map(a=>a-1),s=r.map(a=>Math.floor(a/2)),i=r.map((a,o)=>a-s[o]);return r.map((a,o)=>[s[o],i[o]])}const kve=$e({pool_:_ve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eve(t,e){const n=ve(t,"x","prelu"),r=ve(e,"alpha","prelu"),s={x:n,alpha:r};return ke.runKernel(wk,s)}const rP=$e({prelu_:Eve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tve(t,e=null,n=!1){let r=ve(t,"x","prod");r.dtype==="bool"&&(r=Dt(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return ke.runKernel(_k,s,i)}const Ive=$e({prod_:Tve});var LN={},Ave={get exports(){return LN},set exports(t){LN=t}};(function(t){(function(e,n,r){function s(l){var c=this,u=o();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function a(l,c){var u=new s(l),d=c&&c.state,h=u.next;return h.int32=function(){return u.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,d&&(typeof d=="object"&&i(d,u),h.state=function(){return i(u,{})}),h}function o(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(Sl,t,!1)})(Ave);var FN={},Nve={get exports(){return FN},set exports(t){FN=t}};(function(t){(function(e,n,r){function s(o){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},o===(o|0)?l.x=o:c+=o;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function a(o,l){var c=new s(o),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,m=(h+p)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&i(u,c),d.state=function(){return i(c,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(Sl,t,!1)})(Nve);var jN={},Rve={get exports(){return jN},set exports(t){jN=t}};(function(t){(function(e,n,r){function s(o){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:c+=o;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function a(o,l){var c=new s(o),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,m=(h+p)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&i(u,c),d.state=function(){return i(c,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(Sl,t,!1)})(Rve);var zN={},Ove={get exports(){return zN},set exports(t){zN=t}};(function(t){(function(e,n,r){function s(o){var l=this;l.next=function(){var u=l.x,d=l.i,h,p;return h=u[d],h^=h>>>7,p=h^h<<24,h=u[d+1&7],p^=h^h>>>10,h=u[d+3&7],p^=h^h>>>3,h=u[d+4&7],p^=h^h<<7,h=u[d+7&7],h=h^h<<13,p^=h^h<<9,u[d]=p,l.i=d+1&7,p};function c(u,d){var h,p=[];if(d===(d|0))p[0]=d;else for(d=""+d,h=0;h<d.length;++h)p[h&7]=p[h&7]<<15^d.charCodeAt(h)+p[h+1&7]<<13;for(;p.length<8;)p.push(0);for(h=0;h<8&&p[h]===0;++h);for(h==8?p[7]=-1:p[h],u.x=p,u.i=0,h=256;h>0;--h)u.next()}c(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function a(o,l){o==null&&(o=+new Date);var c=new s(o),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,m=(h+p)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.x&&i(u,c),d.state=function(){return i(c,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(Sl,t,!1)})(Ove);var UN={},$ve={get exports(){return UN},set exports(t){UN=t}};(function(t){(function(e,n,r){function s(o){var l=this;l.next=function(){var u=l.w,d=l.X,h=l.i,p,m;return l.w=u=u+1640531527|0,m=d[h+34&127],p=d[h=h+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=d[h]=m^p,l.i=h,m+(u^u>>>16)|0};function c(u,d){var h,p,m,f,b,w=[],g=128;for(d===(d|0)?(p=d,d=null):(d=d+"\0",p=0,g=Math.max(g,d.length)),m=0,f=-32;f<g;++f)d&&(p^=d.charCodeAt((f+32)%d.length)),f===0&&(b=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,f>=0&&(b=b+1640531527|0,h=w[f&127]^=p+b,m=h==0?m+1:0);for(m>=128&&(w[(d&&d.length||0)&127]=-1),m=127,f=4*128;f>0;--f)p=w[m+34&127],h=w[m=m+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,w[m]=p^h;u.w=b,u.X=w,u.i=m}c(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function a(o,l){o==null&&(o=+new Date);var c=new s(o),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,m=(h+p)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.X&&i(u,c),d.state=function(){return i(c,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(Sl,t,!1)})($ve);var WN={},Dve={get exports(){return WN},set exports(t){WN=t}};(function(t){(function(e,n,r){function s(o){var l=this,c="";l.next=function(){var d=l.b,h=l.c,p=l.d,m=l.a;return d=d<<25^d>>>7^h,h=h-p|0,p=p<<24^p>>>8^m,m=m-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-p|0,l.d=p<<16^h>>>16^m,l.a=m-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):c+=o;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function a(o,l){var c=new s(o),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,m=(h+p)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&i(u,c),d.state=function(){return i(c,{})}),d}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(Sl,t,!1)})(Dve);var VN={},Pve={get exports(){return VN},set exports(t){VN=t}};const Mve={},Bve=Object.freeze(Object.defineProperty({__proto__:null,default:Mve},Symbol.toStringTag,{value:"Module"})),Lve=wK(Bve);(function(t){(function(e,n,r){var s=256,i=6,a=52,o="random",l=r.pow(s,i),c=r.pow(2,a),u=c*2,d=s-1,h;function p(k,N,A){var O=[];N=N==!0?{entropy:!0}:N||{};var R=w(b(N.entropy?[k,C(n)]:k??g(),3),O),$=new m(O),D=function(){for(var B=$.g(i),M=l,z=0;B<c;)B=(B+z)*s,M*=s,z=$.g(1);for(;B>=u;)B/=2,M/=2,z>>>=1;return(B+z)/M};return D.int32=function(){return $.g(4)|0},D.quick=function(){return $.g(4)/4294967296},D.double=D,w(C($.S),n),(N.pass||A||function(B,M,z,W){return W&&(W.S&&f(W,$),B.state=function(){return f($,{})}),z?(r[o]=B,M):B})(D,R,"global"in N?N.global:this==r,N.state)}function m(k){var N,A=k.length,O=this,R=0,$=O.i=O.j=0,D=O.S=[];for(A||(k=[A++]);R<s;)D[R]=R++;for(R=0;R<s;R++)D[R]=D[$=d&$+k[R%A]+(N=D[R])],D[$]=N;(O.g=function(B){for(var M,z=0,W=O.i,V=O.j,q=O.S;B--;)M=q[W=d&W+1],z=z*s+q[d&(q[W]=q[V=d&V+M])+(q[V]=M)];return O.i=W,O.j=V,z})(s)}function f(k,N){return N.i=k.i,N.j=k.j,N.S=k.S.slice(),N}function b(k,N){var A=[],O=typeof k,R;if(N&&O=="object")for(R in k)try{A.push(b(k[R],N-1))}catch{}return A.length?A:O=="string"?k:k+"\0"}function w(k,N){for(var A=k+"",O,R=0;R<A.length;)N[d&R]=d&(O^=N[d&R]*19)+A.charCodeAt(R++);return C(N)}function g(){try{var k;return h&&(k=h.randomBytes)?k=k(s):(k=new Uint8Array(s),(e.crypto||e.msCrypto).getRandomValues(k)),C(k)}catch{var N=e.navigator,A=N&&N.plugins;return[+new Date,e,A,e.screen,C(n)]}}function C(k){return String.fromCharCode.apply(0,k)}if(w(r.random(),n),t.exports){t.exports=p;try{h=Lve}catch{}}else r["seed"+o]=p})(typeof self<"u"?self:Sl,[],Math)})(Pve);var Fve=LN,jve=FN,zve=jN,Uve=zN,Wve=UN,Vve=WN,kp=VN;kp.alea=Fve;kp.xor128=jve;kp.xorwow=zve;kp.xorshift7=Uve;kp.xor4096=Wve;kp.tychei=Vve;var Uk=kp;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hV{constructor(e,n,r,s,i){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const a=i||Math.random();this.random=Uk.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let e,n,r=!1;for(;!r;){let s,i,a;do s=2*this.random()-1,i=2*this.random()-1,a=s*s+i*i;while(a>=1||a===0);const o=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*s*o,n=this.mean+this.stdDev*i*o,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Gve{constructor(e=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=Uk.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hve(t,e=0,n=1,r,s){if(bu(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new hV(e,n,r,!1,s),a=In(t,r);for(let o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}const Yve=$e({randomNormal_:Hve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qve(t,e=0,n=1,r="float32",s){bu(t);const i=In(t,r),a=new Gve(e,n,null,s);for(let o=0;o<i.values.length;o++)i.values[o]=a.nextValue();return i.toTensor()}const Fx=$e({randomUniform_:qve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eb(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:t,stop:e,step:n,dtype:r};return ke.runKernel(kD,{},s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xve(t){const n={input:ve(t,"input","real")};return ke.runKernel(ED,n)}const hS=$e({real_:Xve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kve(t){const n={x:ve(t,"x","reciprocal")};return ke.runKernel(vx,n)}const Jve=$e({reciprocal_:Kve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qve(t){const n={x:ve(t,"x","relu")};return ke.runKernel(yx,n)}const Ep=$e({relu_:Qve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zve(t){const n={x:ve(t,"x","relu6")};return ke.runKernel(bx,n)}const fV=$e({relu6_:Zve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eye(t,e){const r={x:ve(t,"x","reverse")},s={dims:e};return ke.runKernel(Ek,r,s)}const up=$e({reverse_:eye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tye(t){const n={x:ve(t,"x","round")};return ke.runKernel(xx,n)}const pV=$e({round_:tye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nye(t){const n={x:ve(t,"x","rsqrt","float32")};return ke.runKernel(wx,n)}const mV=$e({rsqrt_:nye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rye(t){const n={x:ve(t,"x","selu")};return ke.runKernel(_x,n)}const gV=$e({selu_:rye});function sye(t,e,n,r,s,i=[1,1],a="NHWC"){const o=ve(t,"x","separableConv2d"),l=ve(e,"depthwiseFilter","separableConv2d"),c=ve(n,"pointwiseFilter","separableConv2d");let u=o,d=!1;if(o.rank===3&&(d=!0,u=Oe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),a==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");oe(u.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`),oe(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),oe(c.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),oe(c.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`),oe(c.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`);const h=l.shape[2],p=l.shape[3];oe(c.shape[2]===h*p,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${h*p}, but got ${c.shape[2]}.`);const m=YD(u,l,r,s,a,i),b=cp(m,c,1,"valid",a);return d?Oe(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const vV=$e({separableConv2d_:sye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iye(t){const n={x:ve(t,"x","sign")};return ke.runKernel(kx,n)}const oye=$e({sign_:iye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aye(t){const n={x:ve(t,"x","sin","float32")};return ke.runKernel(Sx,n)}const yV=$e({sin_:aye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lye(t){const n={x:ve(t,"x","sinh")};return ke.runKernel(Cx,n)}const bV=$e({sinh_:lye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cye(t,e,n){const r=ve(t,"x","slice1d");return oe(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Sr(r,[e],[n])}const sP=$e({slice1d_:cye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uye(t,e,n){const r=ve(t,"x","slice2d");return oe(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Sr(r,e,n)}const xV=$e({slice2d_:uye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dye(t,e,n){const r=ve(t,"x","slice3d");return oe(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Sr(r,e,n)}const iP=$e({slice3d_:dye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hye(t,e,n){const r=ve(t,"x","slice4d");return oe(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Sr(r,e,n)}const fS=$e({slice4d_:hye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fye(t,e=-1){const n=ve(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},s={dim:e};return ke.runKernel(Ok,r,s)}const oP=$e({softmax_:fye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pye(t){oe(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ke.runKernel(pD,e)}const wV=$e({fft_:pye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mye(t){oe(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ke.runKernel(vD,e)}const GN=$e({ifft_:mye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gye(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const s=Oe(t,[n,e]);r=GN(s)}else{const s=[n,2*(e-1)],i=Oe(hS(t),[n,e]),a=Oe(KD(t),[n,e]),o=up(Sr(i,[0,1],[n,e-2]),1),l=Te(up(Sr(a,[0,1],[n,e-2]),1),ir(-1)),c=Yi([i,o],1),u=Yi([a,l],1),d=Oe(sp(c,u),[s[0],s[1]]);r=GN(d)}if(r=hS(r),t.rank===3&&t.shape[0]!==0){const s=r,i=t.shape[0];r=Oe(r,[i,r.shape[0]/i,r.shape[1]]),s.dispose()}return r}const vye=$e({irfft_:gye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yye(t,e,n=0){const s={x:ve(t,"x","split")},i={numOrSizeSplits:e,axis:n};return ke.runKernel(Rk,s,i)}const qo=$e({split_:yye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bye(t,e){oe(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let s;if(e!=null&&e<n){const m=t.shape.map(b=>0),f=t.shape.map(b=>b);f[t.shape.length-1]=e,s=Sr(t,m,f),n=e}else if(e!=null&&e>n){const m=t.shape.map(f=>f);m[t.shape.length-1]=e-n,s=Yi([t,bs(m)],t.shape.length-1),n=e}else s=t;const i=zn(s),a=Oe(sp(s,i),[r,n]),o=wV(a),l=Math.floor(n/2)+1,c=hS(o),u=KD(o),d=qo(c,[l,n-l],c.shape.length-1),h=qo(u,[l,n-l],u.shape.length-1),p=s.shape.slice();return p[s.shape.length-1]=l,Oe(sp(d[0],h[0]),p)}const xye=$e({rfft_:bye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wye(t,e){let n=ve(t,"a","squaredDifference"),r=ve(e,"b","squaredDifference");[n,r]=hs(n,r),_n(n.shape,r.shape);const s={a:n,b:r},i={};return ke.runKernel(Ax,s,i)}const _ye=$e({squaredDifference_:wye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sye(t,e){const n=ve(t,"x","squeeze","string_or_numeric");return Oe(n,rh(n.shape,e).newShape)}const jx=$e({squeeze_:Sye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cye(t,e=0){const n=W3(t,"tensors","stack","string_or_numeric");oe(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&oe(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:e};return ke.runKernel(bk,r,s)}const Wd=$e({stack_:Cye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kye(t,e=0){const r={x:ve(t,"x","step")},s={alpha:e};return ke.runKernel(Dx,r,s)}const zx=$e({step_:kye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eye(t,e,n,r,s=0,i=0,a=0,o=0,l=0){const u={x:ve(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:r,beginMask:s,endMask:i,ellipsisMask:a,newAxisMask:o,shrinkAxisMask:l};return ke.runKernel(RD,u,d)}const Tye=$e({stridedSlice_:Eye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iye(t){const n={x:ve(t,"x","tan","float32")};return ke.runKernel(Rx,n)}const Aye=$e({tan_:Iye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yo(t,e){Y$(t);const n=Px(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Mx(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sy(t,e,n){if(Y$(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=Px(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Mx(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nye(t,e,n){if(Y$(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=Px(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Mx(t,e,r,n)}function _V(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,s=e.rank>1?e.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(i+` update.rank < ${s}. `);if(t.length<r+(n.rank-s))throw new Error(i+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+t.length-r)throw new Error(i+` update.rank != ${s+t.length-r}`);for(let a=0;a<s;++a)if(n.shape[a]!==e.shape[a])throw new Error(i+` updates.shape[${a}] (${n.shape[a]}) != indices.shape[${a}] (${e.shape[a]}).`);for(let a=0;a<n.rank-s;++a)if(n.shape[a+s]!==t[a+r])throw new Error(i+` updates.shape[${a+s}] (${n.shape[a+s]}) != shape[${a+s}] (${t[a+s]})`)}function Rye(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}_V(n,e,t)}function Tp(t,e,n){const r=e.shape.length,s=r>1?e.shape[r-1]:1,i=n.length;let a=1;for(let d=s;d<i;++d)a*=n[d];const o=s<1?1:s,l=He(e.shape)/o,c=[...tn(n.slice(0,s)),1],u=He(n);return{sliceRank:s,numUpdates:l,sliceSize:a,strides:c,outputSize:u}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oye(t,e=1,n=!0){const r=ve(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${e}`);const i={x:r},a={k:e,sorted:n},[o,l]=ke.runKernel(OD,i,a);return{values:o,indices:l}}const $ye=$e({topk_:Oye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dye(t,e=0,n=1,r,s){if(bu(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new hV(e,n,r,!0,s),a=In(t,r);for(let o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}const SV=$e({truncatedNormal_:Dye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pye(t,e=0){const n=ve(t,"x","unique","string_or_numeric");oe(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:e},[i,a]=ke.runKernel(DD,r,s);return{values:i,indices:a}}const Mye=$e({unique_:Pye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bye(t,e,n){const r=ve(t,"x","unsortedSegmentSum"),s=ve(e,"segmentIds","unsortedSegmentSum","int32");oe(rg(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:s},a={numSegments:n};return ke.runKernel(Dk,i,a)}const CV=$e({unsortedSegmentSum_:Bye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lye(t,e=0){const n=ve(t,"x","unstack","string_or_numeric");oe(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:e};return ke.runKernel($k,r,s)}const dp=$e({unstack_:Lye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fye(t,e=!0,n,r){return ke.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kV(t,e){const n=[];for(let i=0;i<e.length;i++)e[i]&&n.push(i);const r=In(t,"int32"),s=In([n.length,t.length],"int32");for(let i=0;i<n.length;i++){const a=r.indexToLoc(n[i]),o=i*t.length;s.values.set(a,o)}return s.toTensor()}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jye(t,e,n){const r=ve(t,"x","transpose");if(e==null&&(e=r.shape.map((a,o)=>o).reverse()),oe(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(a=>{oe(a>=0&&a<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const s={x:r},i={perm:e};return r.dtype==="complex64"?De(()=>{let a=hS(r),o=KD(r);return a=ke.runKernel(Im,{x:a},i),o=ke.runKernel(Im,{x:o},i),n&&(o=ds(o)),sp(a,o)}):ke.runKernel(Im,s,i)}const jn=$e({transpose_:jye});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zye(t,e){if(e==null)return t.shape.slice();if(rr(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uye(t,e,n,r){const s=ve(t,"x","dropout");if(oe(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),oe(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof Qr?s.clone():s;const i=zye(s,n),a=1-e,o=un(zk(yt(Fx(i,0,1,"float32",r),a)),a);return Te(s,o)}const Wye=$e({dropout_:Uye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vye(t,e,n,r,s,i="NHWC",a){let o=t;t.rank===3&&(o=Oe(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Oe(e,[1,e.shape[0],e.shape[1],e.shape[2]])),oe(o.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`),oe(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),oe(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const c=i==="NHWC"?o.shape[3]:o.shape[1],u=i==="NHWC"?l.shape[3]:l.shape[1];oe(c===n[2],()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`),oe(u===n[3],()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`),Zi("conv2dDerFilter",s,a);const d={x:o,dy:l},h={strides:r,pad:s,dataFormat:i,dimRoundingMode:a,filterShape:n};return ke.runKernel(sD,d,h)}const aP=$e({conv2DBackpropFilter_:Vye});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lP(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return Te(t,zx(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function cP(t,e){let n=e;const r=Ns(t.shape,e.shape);return r.length>0&&(n=on(n,r)),Oe(n,t.shape)}function uP(t,e,n,r){if(e==="linear")return t;if(e==="relu")return Ep(t);if(e==="elu")return Fk(t);if(e==="relu6")return fV(t);if(e==="prelu")return rP(t,n);if(e==="leakyrelu")return JD(t,r);if(e==="sigmoid")return Og(t);throw new Error(`Unknown fused activation ${e}.`)}const dP=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gye({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:a,bias:o,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",dP(ke.state.gradientDepth,l)===!1){oe(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let A=cp(t,e,n,r,s,i,a);return o!=null&&(A=yt(A,o)),uP(A,l,c,u)}const d=ve(t,"x","conv2d","float32"),h=ve(e,"filter","conv2d","float32");let p=d,m=!1;d.rank===3&&(m=!0,p=Oe(d,[1,d.shape[0],d.shape[1],d.shape[2]])),oe(p.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`),oe(h.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`),Zi("fused conv2d",r,a);const f=s==="NHWC"?p.shape[3]:p.shape[1];oe(h.shape[2]===f,()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${h.shape[2]}.`),oe(fi(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const b=Zs(p.shape,h.shape,n,i,r,a);let w;o!=null&&(w=ve(o,"bias","fused conv2d"),[w]=hs(w,d),s==="NHWC"?_n(b.outShape,w.shape):(oe(w.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${w.shape.length}.`),oe(w.shape.length===0||w.shape[0]===b.outChannels||w.shape[0]===1,()=>`Error in fused conv2d: bias shape (${w.shape}) is not compatible with the number of output channels (${b.outChannels})`)));let g;if(c!=null){const A=c.shape;if(oe(A.length<=1||A.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${A.length}.`),A.length===1)oe(A[0]===1||A[0]===b.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${A}) is not compatible with the number of output channels (${b.outChannels}).`);else if(A.length===3)try{_n(A,b.outShape)}catch{const R=`Error in fused conv2d: PReLU activation weights (${A}) is not compatible with the output shape of the conv2d (${b.outShape}).`;throw Error(R)}g=ve(c,"prelu weights","fused conv2d")}const C=(A,O)=>{oe(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[R,$,D,B]=O,M=lP(A,D,l);oe(ap(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const z=GD($.shape,M,R,n,r),W=aP($,M,R.shape,n,r),V=[z,W];if(B!=null){const q=cP(B,M);V.push(q)}return V},k={x:p,filter:h,bias:w,preluActivationWeights:g},N={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a,activation:l,leakyreluAlpha:u};return o==null?lg((O,R,$)=>{let D=ke.runKernel(sS,k,N);return $([R,O,D]),m&&(D=Oe(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:C}})(p,h):lg((O,R,$,D)=>{let B=ke.runKernel(sS,k,N);return D([R,O,B,$]),m&&(B=Oe(B,[B.shape[1],B.shape[2],B.shape[3]])),{value:B,gradFunc:C}})(p,h,w)}const Hye=$e({fusedConv2d_:Gye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yye(t,e,n,r,s,i=[1,1],a){let o=t;t.rank===3&&(o=Oe(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Oe(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={x:o,dy:l},u={strides:r,pad:s,dimRoundingMode:a,dilations:i,filterShape:n};return ke.runKernel(dD,c,u)}const qye=$e({depthwiseConv2dNativeBackpropFilter_:Yye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xye(t,e,n,r,s,i=[1,1],a){let o=e,l=!1;e.rank===3&&(l=!0,o=Oe(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={dy:o,filter:n},u={strides:r,pad:s,dimRoundingMode:a,dilations:i,inputShape:t},d=ke.runKernel(hD,c,u);return l?Oe(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Kye=$e({depthwiseConv2dNativeBackpropInput_:Xye});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jye({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:s,activation:i="linear",preluActivationWeights:a,leakyreluAlpha:o=.2}){if(dP(ke.state.gradientDepth,i)===!1){let B=tr(t,e,n,r);return s!=null&&(B=yt(B,s)),uP(B,i,a,o)}let l=ve(t,"a","fused matMul"),c=ve(e,"b","fused matMul");[l,c]=hs(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=r?c.shape[c.rank-1]:c.shape[c.rank-2],h=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=r?c.shape[c.rank-2]:c.shape[c.rank-1],m=l.shape.slice(0,-2),f=c.shape.slice(0,-2),b=He(m),w=He(f);oe(u===d,()=>`Error in fused matMul: inner shapes (${u}) and (${d}) of Tensors with shapes ${l.shape} and ${c.shape} and transposeA=${n} and transposeB=${r} must match.`);const C=_n(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,p]),k=n?Oe(l,[b,u,h]):Oe(l,[b,h,u]),N=r?Oe(c,[w,p,d]):Oe(c,[w,d,p]);let A;s!=null&&(A=ve(s,"bias","fused matMul"),[A]=hs(A,l),_n(C,A.shape));let O;a!=null&&(O=ve(a,"prelu weights","fused matMul"));const R=(B,M)=>{const[z,W,V,q]=M,H=lP(Oe(B,V.shape),V,i);let K,F;if(!n&&!r?(K=tr(H,W,!1,!0),F=tr(z,H,!0,!1)):!n&&r?(K=tr(H,W,!1,!1),F=tr(H,z,!0,!1)):n&&!r?(K=tr(W,H,!1,!0),F=tr(z,H,!1,!1)):(K=tr(W,H,!0,!0),F=tr(H,z,!0,!0)),s!=null){const ie=cP(q,H);return[K,F,ie]}else return[K,F]},$={a:k,b:N,bias:A,preluActivationWeights:O},D={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:o};return s==null?lg((M,z,W)=>{const V=ke.runKernel(rS,$,D);return W([M,z,V]),{value:Oe(V,C),gradFunc:R}})(k,N):lg((M,z,W,V)=>{const q=ke.runKernel(rS,$,D);return V([M,z,q,W]),{value:Oe(q,C),gradFunc:R}})(k,N,A)}const wj=$e({fusedMatMul_:Jye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qye(t,e,n,r,s="bilinear",i=0){const a=ve(t,"image","cropAndResize"),o=ve(e,"boxes","cropAndResize","float32"),l=ve(n,"boxInd","cropAndResize","int32"),c=o.shape[0];oe(a.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`),oe(o.rank===2&&o.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${o.shape}.`),oe(l.rank===1&&l.shape[0]===c,()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${o.shape}.`),oe(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),oe(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),oe(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const u={image:a,boxes:o,boxInd:l},d={method:s,extrapolationValue:i,cropSize:r};return ke.runKernel(lD,u,d)}const Zye=$e({cropAndResize_:Qye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ebe(t){const e=ve(t,"image","flipLeftRight","float32");oe(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return ke.runKernel(gD,n,{})}const tbe=$e({flipLeftRight_:ebe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nbe(t){const e=ve(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];oe(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),oe(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(e.rank);return s.fill(1,0,n),s[n]=3,dl(e,s)}const rbe=$e({grayscaleToRGB_:nbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sbe(t,e,n=0,r=.5){const s=ve(t,"image","rotateWithOffset","float32");oe(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const i={image:s},a={radians:e,fillValue:n,center:r};return ke.runKernel(PD,i,a)}const ibe=$e({rotateWithOffset_:sbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dg(t,e,n,r,s,i){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),i==null&&(i=0);const a=t.shape[0];return n=Math.min(n,a),oe(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),oe(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),oe(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),oe(e.rank===1,()=>"scores must be a 1D tensor"),oe(e.shape[0]===a,()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${e.shape[0]}`),oe(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function obe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=ve(t,"boxes","nonMaxSuppression","float32"),a=ve(e,"scores","nonMaxSuppression","float32"),o=Dg(i,a,n,r,s);n=o.maxOutputSize,r=o.iouThreshold,s=o.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return ke.runKernel(_D,{boxes:i,scores:a},l)}const abe=$e({nonMaxSuppression_:obe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lbe(t,e,n){const r=cbe(t,e,n),s=r<0?-(r+1):r;t.splice(s,0,e)}function cbe(t,e,n){return dbe(t,e,n||ube)}function ube(t,e){return t>e?1:t<e?-1:0}function dbe(t,e,n){let r=0,s=t.length,i=0,a=!1;for(;r<s;){i=r+(s-r>>>1);const o=n(e,t[i]);o>0?r=i+1:(s=i,a=!o)}return a?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hP(t,e,n,r,s){return mP(t,e,n,r,s,0)}function fP(t,e,n,r,s,i){return mP(t,e,n,r,s,0,!1,i,!0)}function pP(t,e,n,r,s,i){return mP(t,e,n,r,s,i,!0)}function mP(t,e,n,r,s,i,a=!1,o=!1,l=!1){const c=[];for(let b=0;b<e.length;b++)e[b]>s&&c.push({score:e[b],boxIndex:b,suppressBeginIndex:0});c.sort(_j);const u=i>0?-.5/i:0,d=[],h=[];for(;d.length<n&&c.length>0;){const b=c.pop(),{score:w,boxIndex:g,suppressBeginIndex:C}=b;if(w<s)break;let k=!1;for(let N=d.length-1;N>=C;--N){const A=hbe(t,g,d[N]);if(A>=r){k=!0;break}if(b.score=b.score*fbe(r,u,A),b.score<=s)break}b.suppressBeginIndex=d.length,k||(b.score===w?(d.push(g),h.push(b.score)):b.score>s&&lbe(c,b,_j))}const p=d.length,m=n-p;o&&m>0&&(d.push(...new Array(m).fill(0)),h.push(...new Array(m).fill(0)));const f={selectedIndices:d};return a&&(f.selectedScores=h),l&&(f.validOutputs=p),f}function hbe(t,e,n){const r=t.subarray(e*4,e*4+4),s=t.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(s[0],s[2]),u=Math.min(s[1],s[3]),d=Math.max(s[0],s[2]),h=Math.max(s[1],s[3]),p=(o-i)*(l-a),m=(d-c)*(h-u);if(p<=0||m<=0)return 0;const f=Math.max(i,c),b=Math.max(a,u),w=Math.min(o,d),g=Math.min(l,h),C=Math.max(w-f,0)*Math.max(g-b,0);return C/(p+m-C)}function fbe(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function _j(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function pbe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=ve(t,"boxes","nonMaxSuppressionAsync"),a=ve(e,"scores","nonMaxSuppressionAsync"),o=Dg(i,a,n,r,s);n=o.maxOutputSize,r=o.iouThreshold,s=o.scoreThreshold;const l=await Promise.all([i.data(),a.data()]),c=l[0],u=l[1],{selectedIndices:d}=hP(c,u,n,r,s);return i!==t&&i.dispose(),a!==e&&a.dispose(),yo(d,"int32")}const mbe=pbe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gbe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const a=ve(t,"boxes","nonMaxSuppression"),o=ve(e,"scores","nonMaxSuppression"),l=Dg(a,o,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const c={boxes:a,scores:o},u={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i},d=ke.runKernel(CD,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}const vbe=$e({nonMaxSuppressionWithScore_:gbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function ybe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const a=ve(t,"boxes","nonMaxSuppressionAsync"),o=ve(e,"scores","nonMaxSuppressionAsync"),l=Dg(a,o,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const c=await Promise.all([a.data(),o.data()]),u=c[0],d=c[1],{selectedIndices:h,selectedScores:p}=pP(u,d,n,r,s,i);return a!==t&&a.dispose(),o!==e&&o.dispose(),{selectedIndices:yo(h,"int32"),selectedScores:yo(p)}}const bbe=ybe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xbe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const a=ve(t,"boxes","nonMaxSuppression"),o=ve(e,"scores","nonMaxSuppression"),l=Dg(a,o,n,r,s,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,h={boxes:a,scores:o},p={maxOutputSize:c,iouThreshold:u,scoreThreshold:d,padToMaxOutputSize:i},m=ke.runKernel(SD,h,p);return{selectedIndices:m[0],validOutputs:m[1]}}const wbe=$e({nonMaxSuppressionPadded_:xbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function _be(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const a=ve(t,"boxes","nonMaxSuppressionAsync"),o=ve(e,"scores","nonMaxSuppressionAsync"),l=Dg(a,o,n,r,s,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[h,p]=await Promise.all([a.data(),o.data()]),{selectedIndices:m,validOutputs:f}=fP(h,p,c,u,d,i);return a!==t&&a.dispose(),o!==e&&o.dispose(),{selectedIndices:yo(m,"int32"),validOutputs:ir(f,"int32")}}const Sbe=_be;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cbe(t,e,n=!1,r=!1){const s=ve(t,"images","resizeBilinear");oe(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),oe(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),oe(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=s,a=!1;s.rank===3&&(a=!0,i=Oe(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const o={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},c=ke.runKernel(kk,o,l);return a?Oe(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const EV=$e({resizeBilinear_:Cbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kbe(t,e,n=!1,r=!1){const s=ve(t,"images","resizeNearestNeighbor");oe(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),oe(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),oe(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),oe(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=s,a=!1;s.rank===3&&(a=!0,i=Oe(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const o={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},c=ke.runKernel(Ck,o,l);return a?Oe(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const TV=$e({resizeNearestNeighbor_:kbe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ebe(t,e="binary",n=!1,r=.5){const s=ve(t,"image","threshold"),i=.2989,a=.587,o=.114,l=s.shape[0]*s.shape[1];let c=Te(yo([r]),255),u,d,h,p;if(oe(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),oe(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),oe(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),oe(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),s.shape[2]===3){[u,d,h]=qo(s,[1,1,1],-1);const b=Te(u,i),w=Te(d,a),g=Te(h,o);p=yt(yt(b,w),g)}else p=t;if(e==="otsu"){const b=kge(Dt(pV(p),"int32"),ny([]),256);c=Tbe(b,l)}const m=n?$g(p,c):sa(p,c);return Dt(Te(m,255),"int32")}function Tbe(t,e){let n=yo([-1]),r=yo([0]),s=yo([0]),i,a,o,l,c,u;for(let d=0;d<t.size-1;d++){i=Sr(t,0,d+1),a=Sr(t,d+1),c=un(on(i),e),u=un(on(a),e);const h=on(Te(i,eb(0,i.size)));o=un(h,on(i));const p=Lk(a.shape,i.size),m=yt(eb(0,a.size),p),f=Te(a,m);l=un(on(f),on(a));const b=mn(o,l),w=mn(o,l),g=Te(c,u);s=Te(Te(g,b),w);const C=sa(s,r);r=Ii(C,s,r),n=Ii(C,yo([d]),n)}return n}const Ibe=$e({threshold_:Ebe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Abe(t,e,n="nearest",r="constant",s=0,i){const a=ve(t,"image","transform","float32"),o=ve(e,"transforms","transform","float32");oe(a.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`),oe(o.rank===2&&(o.shape[0]===a.shape[0]||o.shape[0]===1)&&o.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),oe(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const l={image:a,transforms:o},c={interpolation:n,fillMode:r,fillValue:s,outputShape:i};return ke.runKernel($D,l,c)}const Nbe=$e({transform_:Abe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rbe(t,e,n){const r=ve(t,"a","bandPart");oe(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[i,a]=r.shape.slice(-2);let o,l;typeof e=="number"?(oe(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),oe(e<=i,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${i}).`),o=ve(e<0?i:e,"numLower","bandPart")):(oe(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),o=Ii(uS(e,0),i,Zy(e,i))),typeof n=="number"?(oe(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),oe(n<=a,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`),l=ve(n<0?a:n,"numUpper","bandPart")):(oe(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=Ii(uS(n,0),a,Zy(n,a)));const c=Oe(eb(0,i,1,"int32"),[-1,1]),u=eb(0,a,1,"int32"),d=mn(c,u),h=hu($g(d,o),Sp(d,ds(l))),p=bs([i,a],r.dtype);return Oe(Wd(dp(Oe(r,[-1,i,a])).map(m=>Ii(h,m,p))),s)}const Obe=$e({bandPart_:Rbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $be(t){let e;if(Array.isArray(t)){e=!1,oe(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=t[0].shape[0];for(let i=1;i<t.length;++i)oe(t[i].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[i].shape[0]} vs. ${s})`)}else e=!0,t=qo(t,t.shape[0],0).map(s=>jx(s,[0]));oe(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let s=0;s<t.length;++s)n.push(ke.tidy(()=>{let i=r[s];if(s>0)for(let a=0;a<s;++a){const o=Te(on(Te(n[a],i)),n[a]);i=mn(i,o)}return un(i,jk(i,"euclidean"))}));return e?Wd(n,0):n}const Dbe=$e({gramSchmidt_:$be});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pbe(t,e=!1){if(oe(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return Sj(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,c)=>l*c),r=dp(Oe(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),s=[],i=[];r.forEach(l=>{const[c,u]=Sj(l,e);s.push(c),i.push(u)});const a=Oe(Wd(s,0),t.shape),o=Oe(Wd(i,0),t.shape);return[a,o]}}function Sj(t,e=!1){return ke.tidy(()=>{oe(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let s=aV(n),i=Ff(t);const a=sy([[1]],[1,1]);let o=Ff(a);const l=n>=r?r:n;for(let c=0;c<l;++c){const u=i,d=o,h=s;[o,i,s]=ke.tidy(()=>{const p=Sr(i,[c,c],[n-c,1]),m=jk(p),f=Sr(i,[c,c],[1,1]),b=Ii(sa(f,0),sy([[-1]]),sy([[1]])),w=mn(f,Te(b,m)),g=un(p,w);g.shape[0]===1?o=Ff(a):o=Yi([a,Sr(g,[1,0],[g.shape[0]-1,g.shape[1]])],0);const C=ds(un(tr(b,w),m)),k=Sr(i,[c,0],[n-c,r]),N=Te(C,o),A=jn(o);if(c===0)i=mn(k,tr(N,tr(A,k)));else{const $=mn(k,tr(N,tr(A,k)));i=Yi([Sr(i,[0,0],[c,r]),$],0)}const O=jn(N),R=Sr(s,[0,c],[n,s.shape[1]-c]);if(c===0)s=mn(R,tr(tr(R,o),O));else{const $=mn(R,tr(tr(R,o),O));s=Yi([Sr(s,[0,0],[n,c]),$],1)}return[o,i,s]}),kn([u,d,h])}return!e&&n>r&&(s=Sr(s,[0,0],[n,r]),i=Sr(i,[0,0],[r,r])),[s,i]})}const Mbe=$e({qr_:Pbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bo={flipLeftRight:tbe,grayscaleToRGB:rbe,resizeNearestNeighbor:TV,resizeBilinear:EV,rotateWithOffset:ibe,cropAndResize:Zye,nonMaxSuppression:abe,nonMaxSuppressionAsync:mbe,nonMaxSuppressionWithScore:vbe,nonMaxSuppressionWithScoreAsync:bbe,nonMaxSuppressionPadded:wbe,nonMaxSuppressionPaddedAsync:Sbe,threshold:Ibe,transform:Nbe},Bbe={bandPart:Obe,gramSchmidt:Dbe,qr:Mbe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Pg{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class ya{constructor(){this.classNameMap={}}static getMap(){return ya.instance==null&&(ya.instance=new ya),ya.instance}static register(e){ya.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function ht(t){oe(t.className!=null,()=>"Class being registered does not have the static className property defined."),oe(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),oe(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),ya.register(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lh extends Pg{minimize(e,n=!1,r){const{value:s,grads:i}=this.computeGradients(e,r);if(r!=null){const a=r.map(o=>({name:o.name,tensor:i[o.name]}));this.applyGradients(a)}else this.applyGradients(i);return kn(i),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return H0e(e,n)}dispose(){this.iterations_!=null&&kn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:ir(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(lh,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IV extends lh{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=ke.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ke.registeredVariables[r],a=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:De(()=>zn(i).variable(a))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:De(()=>zn(i).variable(a))});const o=Array.isArray(e)?e[s].tensor:e[r];if(o==null)return;const l=this.accumulatedGrads[s].variable,c=this.accumulatedUpdates[s].variable;De(()=>{const u=yt(Te(l,this.rho),Te(Rr(o),1-this.rho)),d=Te(un(Ri(yt(c,this.epsilon)),Ri(yt(l,this.epsilon))),o),h=yt(Te(c,this.rho),Te(Rr(d),1-this.rho));l.assign(u),c.assign(h);const p=yt(Te(d,-this.learningRate),i);i.assign(p)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(kn(this.accumulatedGrads.map(e=>e.variable)),kn(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AV extends lh{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ke.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:De(()=>Lk(i.shape,this.initialAccumulatorValue).variable(!1))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const o=this.accumulatedGrads[s].variable;De(()=>{const l=yt(o,Rr(a));o.assign(l);const c=yt(Te(un(a,Ri(yt(l,ke.backend.epsilon()))),-this.learningRate),i);i.assign(c)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&kn(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NV extends lh{static get className(){return"Adam"}constructor(e,n,r,s=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],De(()=>{this.accBeta1=ir(n).variable(),this.accBeta2=ir(r).variable()}),s==null&&(this.epsilon=ke.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);De(()=>{const r=mn(1,this.accBeta1),s=mn(1,this.accBeta2);n.forEach((i,a)=>{const o=ke.registeredVariables[i],l=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${i}/m`,variable:De(()=>zn(o).variable(l))}),this.accumulatedSecondMoment[a]==null&&(this.accumulatedSecondMoment[a]={originalName:`${i}/v`,variable:De(()=>zn(o).variable(l))});const c=Array.isArray(e)?e[a].tensor:e[i];if(c==null)return;const u=this.accumulatedFirstMoment[a].variable,d=this.accumulatedSecondMoment[a].variable,h=yt(Te(u,this.beta1),Te(c,1-this.beta1)),p=yt(Te(d,this.beta2),Te(Rr(c),1-this.beta2)),m=un(h,r),f=un(p,s);u.assign(h),d.assign(p);const b=yt(Te(un(m,yt(Ri(f),this.epsilon)),-this.learningRate),o);o.assign(b)}),this.accBeta1.assign(Te(this.accBeta1,this.beta1)),this.accBeta2.assign(Te(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&kn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&kn(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),De(()=>{this.accBeta1.assign(ag(this.beta1,this.iterations_+1)),this.accBeta2.assign(ag(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RV extends lh{static get className(){return"Adamax"}constructor(e,n,r,s=null,i=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],De(()=>{this.iteration=ir(0).variable(),this.accBeta1=ir(n).variable()}),s==null&&(this.epsilon=ke.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);De(()=>{const r=mn(1,this.accBeta1),s=un(-this.learningRate,yt(Te(this.iteration,this.decay),1));n.forEach((i,a)=>{const o=ke.registeredVariables[i],l=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${i}/m`,variable:zn(o).variable(l)}),this.accumulatedWeightedInfNorm[a]==null&&(this.accumulatedWeightedInfNorm[a]={originalName:`${i}/v`,variable:zn(o).variable(l)});const c=Array.isArray(e)?e[a].tensor:e[i];if(c==null)return;const u=this.accumulatedFirstMoment[a].variable,d=this.accumulatedWeightedInfNorm[a].variable,h=yt(Te(u,this.beta1),Te(c,1-this.beta1)),p=Te(d,this.beta2),m=wi(c),f=ah(p,m);u.assign(h),d.assign(f);const b=yt(Te(un(s,r),un(h,yt(f,this.epsilon))),o);o.assign(b)}),this.iteration.assign(yt(this.iteration,1)),this.accBeta1.assign(Te(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&kn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&kn(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gP extends lh{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Array.isArray(e)?e[s].tensor:e[r];if(i==null)return;const a=ke.registeredVariables[r];De(()=>{const o=yt(Te(this.c,i),a);a.assign(o)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=nc(ir(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OV extends gP{static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=ir(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ke.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:De(()=>zn(i).variable(!1))});const a=this.accumulations[s].variable,o=Array.isArray(e)?e[s].tensor:e[r];o!=null&&De(()=>{let l;const c=yt(Te(this.m,a),o);this.useNesterov?l=yt(Te(this.c,yt(o,Te(c,this.m))),i):l=yt(Te(this.c,c),i),a.assign(c),i.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&kn(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $V extends lh{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,s=null,i=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,s==null&&(this.epsilon=ke.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=ke.registeredVariables[r],a=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:De(()=>zn(i).variable(a))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:De(()=>zn(i).variable(a))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:De(()=>zn(i).variable(a))});const o=Array.isArray(e)?e[s].tensor:e[r];if(o==null)return;const l=this.accumulatedMeanSquares[s].variable,c=this.accumulatedMoments[s].variable;De(()=>{const u=yt(Te(l,this.decay),Te(Rr(o),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[s].variable,h=yt(Te(d,this.decay),Te(o,1-this.decay)),p=un(Te(o,this.learningRate),Ri(mn(u,yt(Rr(h),this.epsilon)))),m=yt(Te(c,this.momentum),p);l.assign(u),d.assign(h),c.assign(m);const f=mn(i,m);i.assign(f)}else{const d=yt(Te(l,this.decay),Te(Rr(o),1-this.decay)),h=yt(Te(c,this.momentum),un(Te(o,this.learningRate),Ri(yt(d,this.epsilon))));l.assign(d),c.assign(h);const p=mn(i,h);i.assign(p)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&kn(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&kn(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&kn(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lbe=[IV,AV,NV,RV,OV,$V,gP];function Fbe(){for(const t of Lbe)ht(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cj(t,e,n,r){a(t),n=n??0,r=r??1,o(n,r);let s=0;const i=l=>(l.then(c=>{const u=n+ ++s/t.length*(r-n);return e(u),c}),l);function a(l){oe(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function o(l,c){oe(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),oe(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${c}`),oe(c>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${c}`)}return Promise.all(t.map(i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function jbe(t,e){e==null&&(e={});const n=e.fetchFunc==null?je().platform.fetch:e.fetchFunc,r=t.map(d=>n(d,e.requestInit,{isBinary:!0})),s=0,i=.5,o=(e.onProgress==null?await Promise.all(r):await Cj(r,e.onProgress,s,i)).map(d=>d.arrayBuffer()),l=.5,c=1;return e.onProgress==null?await Promise.all(o):await Cj(o,e.onProgress,l,c)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zbe="application/octet-stream",Ube="application/json";class vP{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(oe(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=je().platform.fetch,oe(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&oe(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],s=rme(e,r);n.body.append("model.json",new Blob([JSON.stringify(s)],{type:Ube}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:zbe}),"model.weights.bin");const i=await this.fetch(this.path,n);if(i.ok)return{modelArtifactsInfo:jD(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let a=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?a+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":a+=" Please make sure the server is serving valid JSON for this request.",new Error(a)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return ime(n,i=>this.loadWeights(i))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=Wbe(n),i=this.weightPathPrefix||r,a=ome(e),o=[],l=[];for(const u of e)for(const d of u.paths)this.weightUrlConverter!=null?l.push(this.weightUrlConverter(d)):o.push(i+d+s);this.weightUrlConverter&&o.push(...await Promise.all(l));const c=await jbe(o,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[a,V3(c)]}}vP.URL_SCHEME_REGEX=/^https?:\/\//;function Wbe(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),s=n>e?t.substring(n):"";return[r+"/",s]}function kj(t){return t.match(vP.URL_SCHEME_REGEX)!=null}const DV=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>kj(r)):n=kj(t),n)return PV(t,e)}return null};Os.registerSaveRouter(DV);Os.registerLoadRouter(DV);function PV(t,e){return new vP(t,e)}function Vbe(t,e){return PV(t,e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let tf;function Gbe(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,i=!1,a=!1,o=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)i=!0;else if(t.getContext!=null)a=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)o=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(SN(wN,ke.backendName)!=null){const m={pixels:t},f={numChannels:e};return ke.runKernel(wN,m,f)}const[c,u]=s?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(a)d=t.getContext("2d").getImageData(0,0,c,u).data;else if(r||n)d=t.data;else if(i||s||o){if(tf==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")tf=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else tf=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});tf.canvas.width=c,tf.canvas.height=u,tf.drawImage(t,0,0,c,u),d=tf.getImageData(0,0,c,u).data}let h;if(e===4)h=new Int32Array(d);else{const m=c*u;h=new Int32Array(m*e);for(let f=0;f<m;f++)for(let b=0;b<e;++b)h[f*e+b]=d[f*4+b]}return Nye(h,[u,c,e],"int32")}async function MV(t,e){let n=ve(t,"img","toPixels");if(!(t instanceof Qr)){const c=n;n=Dt(c,"int32"),c.dispose()}if(n.rank!==2&&n.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[r,s]=n.shape.slice(0,2),i=n.rank===2?1:n.shape[2];if(i>4||i===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${i}`);if(n.dtype!=="float32"&&n.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const a=await n.data(),o=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(s*r*4);for(let c=0;c<r*s;++c){const u=[0,0,0,255];for(let h=0;h<i;h++){const p=a[c*i+h];if(n.dtype==="float32"){if(p<0||p>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${p}.`)}else if(n.dtype==="int32"&&(p<0||p>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${p}.`);i===1?(u[0]=p*o,u[1]=p*o,u[2]=p*o):u[h]=p*o}const d=c*4;l[d+0]=Math.round(u[0]),l[d+1]=Math.round(u[1]),l[d+2]=Math.round(u[2]),l[d+3]=Math.round(u[3])}if(e!=null){e.width=s,e.height=r;const c=e.getContext("2d"),u=new ImageData(l,s,r);c.putImageData(u,0,0)}return n!==t&&n.dispose(),l}const yP=$e({fromPixels_:Gbe});function bP(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(He(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const s=e.shape,i=s[s.length-1];let a=1;for(let d=0;d<s.length-1;++d)a*=s[d];const o=t.shape,l=s.slice();l.pop();let c=1;for(let d=i;d<n;++d)c*=o[d],l.push(o[d]);const u=[...tn(t.shape).map(d=>d/c),1].slice(0,i);return[l,a,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HN=-2,Hbe=-1;function xP(t,e,n){const r=t.shape.length;oe(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),oe(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let s=0;s<r;++s)oe(e[s]+n[s]<=t.shape[s],()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${e[s]+n[s]}) would overflow input.shape[${s}] (${t.shape[s]})`)}function Ybe(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function wP(t,e,n){const r=[];for(let s=0;s<t.length;s++)r[s]=Math.ceil((e[s]-t[s])/n[s]);return r}function BV(t,e,n,r){const s=[...t];for(let i=s.length;i<r.length;i++)s.push(1);for(let i=0;i<n;i++)i===0?s[e]=1:(s.splice(e,0,1),s.pop());return s}function LV(t,e,n){return n<=t?n:n-(e-1)}function FV(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function qbe(t,e,n,r,s,i,a,o,l){const c=t.length;let u=new Array(c),d=new Array(c),h=new Array(c);if(e.length&&n>0){const p=e[0],m=n+1;u=jV(a,p,m,r,t),d=zV(o,p,m,s,t),h=BV(i,p,m,t)}else for(let p=0;p<c;p++)u[p]=WV(a,r,i,t,p,l),d[p]=VV(o,s,i,t,p,l),h[p]=UV(i,p,l);return{begin:u,end:d,strides:h}}function jV(t,e,n,r,s){const i=[...s],a=FV(n,e);for(let o=0;o<i.length;o++)if(a.indexOf(o)>-1)i[o]=0;else{const l=LV(e,n,o);let c=r[l];t&1<<l&&(c=0),i[o]=c}return i}function zV(t,e,n,r,s){const i=[...s],a=FV(n,e);for(let o=0;o<i.length;o++)if(a.indexOf(o)>-1)i[o]=Number.MAX_SAFE_INTEGER;else{const l=LV(e,n,o);let c=r[l];t&1<<l&&(c=Number.MAX_SAFE_INTEGER),i[o]=c}for(let o=0;o<i.length;o++){const l=s[o];i[o]<0&&(i[o]+=l),i[o]=np(0,i[o],s[o])}return i}function UV(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function WV(t,e,n,r,s,i){let a=e[s];const o=n[s]||1;(t&1<<s||i&1<<s||a==null)&&(o>0?a=Number.MIN_SAFE_INTEGER:a=Number.MAX_SAFE_INTEGER);const l=r[s];return a<0&&(a+=l),a=np(0,a,l-1),a}function VV(t,e,n,r,s,i){let a=e[s];const o=n[s]||1;(t&1<<s||i&1<<s||a==null)&&(o>0?a=Number.MAX_SAFE_INTEGER:a=Number.MIN_SAFE_INTEGER);const l=r[s];return a<0&&(a+=l),o>0?a=np(0,a,l):a=np(-1,a,l-1),a}function _P(t,e,n){let r=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){r=s;break}for(let s=r+1;s<n.length;s++)if(e[s]>0||n[s]!==t[s])return!1;return!0}function SP(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function Wk(t,e,n){let r;const s=t.shape.length;typeof e=="number"?r=[e,...new Array(s-1).fill(0)]:e.length<s?r=e.concat(new Array(s-e.length).fill(0)):r=e.slice(),r.forEach(a=>{oe(a!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(s).fill(-1):typeof n=="number"?i=[n,...new Array(s-1).fill(-1)]:n.length<s?i=n.concat(new Array(s-n.length).fill(-1)):i=n,i=i.map((a,o)=>a>=0?a:(oe(a===-1,()=>`Negative size values should be exactly -1 but got ${a} for the slice() size at index ${o}.`),t.shape[o]-r[o])),[r,i]}function CP(t,e,n,r,s,i,a,o,l){let c;if(r==null?(c=new Array(e.length),c.fill(1)):c=r,a!=null&&a&a-1)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:c.slice(),beginMask:s,endMask:i,ellipsisMask:a,newAxisMask:o,shrinkAxisMask:l};for(let C=0;C<d.dims;C++)u&&1<<C&o&&d.numAddAxisAfterEllipsis++,1<<C&a&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const h={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Xbe(d,h);let p=!0,m=!0,f=!0;const b=[],w=[];for(let C=0;C<t.length;++C){if(h.strides[C]===0)throw Error(`strides[${C}] must be non-zero`);const k=!!(h.shrinkAxisMask&1<<C),N=t[C];if(N===-1){b.push(k?1:-1);continue}const A=[h.beginMask&1<<C,h.endMask&1<<C],O=[h.strides[C]>0?0:-1,h.strides[C]>0?N:N-1];if(k&&h.strides[C]<=0)throw Error("only stride 1 allowed on non-range indexing.");f=f&&h.strides[C]===1;const R=!!(h.beginMask&1<<C&&h.endMask&1<<C);if(h.beginValid&&h.endValid){if(k){const M=h.begin[C]<0?N+h.begin[C]:h.begin[C];if(h.begin[C]=M,h.end[C]=h.begin[C]+1,M<0||M>=N)throw Error(`slice index ${h.begin[C]} of dimension ${C} out of bounds.`)}else h.begin[C]=Ej(h.begin[C],0,h.strides[C],N,A,O),h.end[C]=Ej(h.end[C],1,h.strides[C],N,A,O);const B=h.strides[C]===1&&h.begin[C]===0&&h.end[C]===N;p=p&&B,m=m&&(C===0&&h.strides[C]===1||B)}else p=p&&h.strides[C]===1&&R,m=m&&(C===0&&h.strides[C]===1||R);let $,D=!1;if(h.beginValid&&h.endValid?($=h.end[C]-h.begin[C],D=!0):k?($=1,D=!0):R&&N>=0&&(h.strides[C]<0?$=-N:$=N,D=!0),D){let B;$===0||$<0!=h.strides[C]<0?B=0:B=Math.trunc($/h.strides[C])+($%h.strides[C]!==0?1:0),b.push(B)}else b.push(-1)}for(let C=0;C<h.finalShapeGatherIndices.length;++C){const k=h.finalShapeGatherIndices[C];k>=0?w.push(b[k]):k===HN&&w.push(1)}return{finalShapeSparse:w.filter((C,k)=>h.finalShapeGatherIndices[k]!==HN),finalShape:w,isIdentity:p,sliceDim0:m,isSimpleSlice:f,begin:h.begin,end:h.end,strides:h.strides}}function Xbe(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const s=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<s;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(HN),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(Hbe),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function Ej(t,e,n,r,s,i){if(s[e])return n>0?i[e]:i[e+1&1];{const a=t<0?r+t:t;return a<i[0]?i[0]:a>i[1]?i[1]:a}}const Kbe=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:xP,computeFlatOffset:SP,computeOutShape:wP,getNormalizedAxes:qbe,isSliceContinous:_P,maskToAxes:Ybe,parseSliceParams:Wk,sliceInfo:CP,startForAxis:WV,startIndicesWithElidedDims:jV,stopForAxis:VV,stopIndicesWithElidedDims:zV,stridesForAxis:UV,stridesWithElidedDims:BV},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Jbe{static sgd(e){return new gP(e)}static momentum(e,n,r=!1){return new OV(e,n,r)}static rmsprop(e,n=.9,r=0,s=null,i=!1){return new $V(e,n,r,s,i)}static adam(e=.001,n=.9,r=.999,s=null){return new NV(e,n,r,s)}static adadelta(e=.001,n=.95,r=null){return new IV(e,n,r)}static adamax(e=.002,n=.9,r=.999,s=null,i=0){return new RV(e,n,r,s,i)}static adagrad(e,n=.1){return new AV(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vp=Jbe;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qbe=(()=>typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t())();function GV(){return new Promise(t=>Qbe(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kP(t,e){const n=t[0].length;t.forEach((s,i)=>{oe(s.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),oe(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((s,i)=>{for(let a=0;a<n;a++)oe(a===e||s[a]===r[a],()=>`Error in concat${n}D: Shape of tensors[${i}] (${s}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function rc(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ll;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(ll||(ll={}));function HV(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let s=1;s<n.length;++s){const i=n[s],a=r[r.length-n.length+s],o=r[a];if(i>=0)if(o>=0){if(o!==i)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${s+t}] = ${i} but shape[${s+t}] = ${o}`)}else r[a]=i}return r}function YV(t){const e={FIRST_DIM_SIZE:ll.FIRST_DIM_SIZE,VALUE_ROWIDS:ll.VALUE_ROWIDS,ROW_LENGTHS:ll.ROW_LENGTHS,ROW_SPLITS:ll.ROW_SPLITS,ROW_LIMITS:ll.ROW_LIMITS,ROW_STARTS:ll.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function qV(t){return t.length===0?0:t[0]===ll.FIRST_DIM_SIZE?t.length-1:t.length}function XV(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let s=0;s<Math.min(n,r-1);++s){const i=t[s],a=e[s+1];if(i>=0&&a>=0&&i!==1&&i!==a)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${s-t.length}] = ${i} but ragged tensor input.flatValues.shape[${s-t.length}] = ${a}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EP=30;function Vk(t){return t<=EP?t:yN(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TP(t,e,n){const r=n*(typeof t=="number"?t:t[0]),s=e*(typeof t=="number"?t:t[1]);return[r,s]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ux(t,e,n,r=!0){let s=[];if(r)s=s.concat(e.slice(0)),s.push(t[0]/n),s=s.concat(t.slice(1));else{s=s.concat(t[0]);const i=e.length;for(let a=0;a<i;++a)s=s.concat([t[a+1]/e[a],e[a]]);s=s.concat(t.slice(i+1))}return s}function Wx(t,e,n=!0){const r=[];if(n){r.push(e);for(let s=e+1;s<t;++s)s<=2*e?(r.push(s),r.push(s-(e+1))):r.push(s)}else{const s=[],i=[];for(let a=1;a<t;++a)a>=e*2+1||a%2===1?i.push(a):s.push(a);r.push(...s),r.push(0),r.push(...i)}return r}function Vx(t,e,n,r=!0){const s=[];r?s.push(t[0]/n):s.push(t[0]*n);for(let i=1;i<t.length;++i)i<=e.length?r?s.push(e[i-1]*t[i]):s.push(t[i]/e[i-1]):s.push(t[i]);return s}function IP(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function AP(t,e,n){const r=t.slice(0,1);for(let s=0;s<n;++s)r.push(t[s+1]-e[s][0]-e[s][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gk=1.7580993408473768,Hk=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NP=.3275911,RP=.254829592,OP=-.284496736,$P=1.421413741,DP=-1.453152027,PP=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fu(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function KV(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function JV(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=0;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function QV(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=2;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function MP(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function ZV(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function eG(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let s=0;s<Math.ceil(t/2);s++){const i=(e?2:-2)*Math.PI*(s/t);n[s]=Math.cos(i),r[s]=Math.sin(i)}return{real:n,imag:r}}function tG(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),s=Math.cos(r),i=Math.sin(r);return{real:s,imag:i}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HT="->",Zbe=/->/g,Tj=",",Ij="...";function BP(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(Zbe,"").length)/HT.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${HT}").`);const[r,s]=t.split(HT);oe(r.indexOf(Ij)===-1,()=>`The ellipsis notation ("${Ij}") is not supported yet.`);const i=r.split(Tj),a=i.length;if(e!==a)throw new Error(`Expected ${a} input tensors, received ${e}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let h=0;h<s.length;++h){const p=s[h];if(!i.some(m=>m.indexOf(p)!==-1))throw new Error(`Output subscripts contain the label ${p} not present in the input subscripts.`);o.indexOf(p)===-1&&o.push(p)}for(let h=0;h<r.length;++h){const p=r[h];o.indexOf(p)===-1&&p!==Tj&&o.push(p)}const l=new Array(i.length);for(let h=0;h<a;++h){if(new Set(i[h].split("")).size!==i[h].length)throw new Error(`Found duplicate axes in input component ${i[h]}. Support for duplicate axes in input is not implemented yet.`);l[h]=[];for(let p=0;p<i[h].length;++p)l[h].push(o.indexOf(i[h][p]))}const c=o.length,u=s.length,d=[];for(let h=u;h<c;++h)d.push(h);return{allDims:o,summedDims:d,idDims:l}}function LP(t,e){let n=new Array(t);n.fill(-1);for(let s=0;s<e.length;++s)n[e[s]]=s;const r=[];for(let s=0;s<t;++s)n[s]===-1&&r.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:r}}function FP(t,e,n){const r=new Array(t);for(let s=0;s<n.length;++s){const i=n[s].shape;for(let a=0;a<e[s].length;++a)r[e[s][a]]===void 0?r[e[s][a]]=i[a]:oe(r[e[s][a]]===i[a],()=>`Expected dimension ${r[e[s][a]]} at axis ${a} of input shaped ${JSON.stringify(i)}, but got dimension ${i[a]}`)}}function jP(t,e){const n=t,r=[];let s=0;t.length===0&&n.push(-1),s=t.length+1;for(let a=0;a<s;++a)r.push([]);const i=[];for(let a=0;a<n.length;++a){const o=n[a],l=exe(e,o);for(const c of l)i.indexOf(c)===-1&&(r[a].push(c),i.push(c))}return{path:n,steps:r}}function zP(t){return t.every((e,n)=>e===n)}function exe(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function UP(t,e,n=0){let r=[];if(typeof e=="number")oe(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const s=e.reduce((a,o)=>(o===-1&&(a+=1),a),0);oe(s<=1,()=>"There should be only one negative value in split array.");const i=e.indexOf(-1);if(i!==-1){const a=e.reduce((o,l)=>l>0?o+l:o);e[i]=t.shape[n]-a}oe(t.shape[n]===e.reduce((a,o)=>a+o),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nG(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function rG(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function sG(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iG(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function oG(t,e){return`size ${t} must be non-negative, not ${e}`}function aG(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function lG(t,e){const n=He(t),r=He(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function cG(t,e){const n=He(t),r=He(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YN(){return"segment ids must be >= 0"}function uG(){return"segment ids are not increasing"}function dG(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function hG(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fG(t,e){let n=!1,r;for(t<=EP?(r=t,n=!0):r=yN(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=yN(t,r+1);return r}function pG(t,e,n){const r=[],s=t.length;for(let i=0;i<s;i++)i!==e?r.push(t[i]):r.push(n);return r}function WP(t,e,n,r){const s=e.shape.length,i=t.shape.length;if(r!==0&&(r<-s||r>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${r}`);if(r<0&&(r+=s),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let d=0;d<r;++d)if(t.shape[d]!==e.shape[d])throw new Error(`x.shape[${d}]: ${t.shape[d]} should be equal to indices.shape[${d}]: ${e.shape[d]}.`);const a=t.shape[n],o=[];let l=1,c=1,u=1;for(let d=0;d<r;++d)o.push(t.shape[d]),l*=t.shape[d];for(let d=r;d<n;d++)o.push(t.shape[d]),c*=t.shape[d];for(let d=r;d<s;d++)o.push(e.shape[d]);for(let d=n+1;d<i;d++)o.push(t.shape[d]),u*=t.shape[d];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:a,outputShape:o}}const txe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:WP,computeOutShape:pG,segOpComputeOptimalWindowSize:fG},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pu(t){try{return t.map(e=>zd(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function mG(t){return t.map(e=>Td(e))}const nxe=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:RP,ERF_A2:OP,ERF_A3:$P,ERF_A4:DP,ERF_A5:PP,ERF_P:NP,PARALLELIZE_THRESHOLD:EP,get RowPartitionType(){return ll},SELU_SCALE:Hk,SELU_SCALEALPHA:Gk,applyActivation:uP,assertAndGetBroadcastShape:_n,assertAxesAreInnerMostDims:ei,assertParamsConsistent:kP,assignToTypedArray:ZV,axesAreInnerMostDims:qD,calculateShapes:Tp,checkEinsumDimSizes:FP,checkPadOnDimRoundingMode:Zi,combineLocations:iV,combineRaggedTensorToTensorShapes:HV,complexWithEvenIndex:JV,complexWithOddIndex:QV,computeConv2DInfo:Zs,computeConv3DInfo:ih,computeDefaultPad:zD,computeDilation2DInfo:Bx,computeOptimalWindowSize:Vk,computeOutAndReduceShapes:zs,computeOutShape:rc,computePool2DInfo:Pa,computePool3DInfo:xu,convertConv2DDataFormat:wu,decodeEinsumEquation:BP,eitherStridesOrDilationsAreOne:fi,expandShapeToKeepDim:ws,exponent:tG,exponents:eG,fromStringArrayToUint8:mG,fromUint8ToStringArray:pu,getAxesPermutation:ns,getBroadcastDims:og,getComplexWithIndex:MP,getEinsumComputePath:jP,getEinsumPermutation:LP,getFusedBiasGradient:cP,getFusedDyActivation:lP,getImageCenter:TP,getInnerMostAxes:fs,getPermuted:Wx,getRaggedRank:qV,getReductionAxes:Ns,getReshaped:Ux,getReshapedPermuted:Vx,getRowPartitionTypesHelper:YV,getSliceBeginCoords:IP,getSliceSize:AP,getSparseFillEmptyRowsIndicesDenseShapeMismatch:nG,getSparseFillEmptyRowsNegativeIndexErrorMessage:rG,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:sG,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:aG,getSparseReshapeInputOutputMismatchErrorMessage:cG,getSparseReshapeInputOutputMultipleErrorMessage:lG,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:iG,getSparseReshapeNegativeOutputDimErrorMessage:oG,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:hG,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:YN,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:uG,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:dG,getUndoAxesPermutation:oh,isIdentityPermutation:zP,log:Tpe,mergeRealAndImagArrays:fu,prepareAndValidate:bP,prepareSplitSize:UP,segment_util:txe,shouldFuse:dP,slice_util:Kbe,splitRealAndImagArrays:KV,stridesOrDilationsArePositive:lp,tupleValuesAreOne:ap,upcastType:ko,validateDefaultValueShape:XV,validateInput:Rye,validateUpdateShape:_V,warn:Vo},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Fbe();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gG={kernelName:MC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,zx(Dt(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rxe={kernelName:jb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=Rr(Dt(n,"float32")),s=Ri(mn(ir(1),r));return ds(un(t,s))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sxe={kernelName:zb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=Ri(mn(Rr(Dt(n,"float32")),1));return un(t,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ixe={kernelName:Rg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=_n(n.shape,r.shape);return{a:()=>{let o=t;const l=Ns(n.shape,s);return l.length>0&&(o=on(o,l)),Oe(o,n.shape)},b:()=>{let o=t;const l=Ns(r.shape,s);return l.length>0&&(o=on(o,l)),Oe(o,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oxe={kernelName:J$,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((r,s)=>{n[s]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const axe={kernelName:BC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>zn(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lxe={kernelName:LC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>zn(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cxe={kernelName:Ub,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,Ri(mn(ir(1),Rr(Dt(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uxe={kernelName:Wb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=Ri(yt(ir(1),Rr(Dt(n,"float32"))));return un(t,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dxe={kernelName:Hb,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=_n(n.shape,r.shape);return{a:()=>{const o=yt(Rr(n),Rr(r));let l=Te(t,un(r,o));const c=Ns(n.shape,s);return c.length>0&&(l=on(l,c)),Oe(l,n.shape)},b:()=>{const o=yt(Rr(n),Rr(r));let l=ds(Te(t,un(n,o)));const c=Ns(r.shape,s);return c.length>0&&(l=on(l,c)),Oe(l,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hxe={kernelName:Vb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,yt(Rr(Dt(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fxe={kernelName:Gb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,mn(ir(1),Rr(Dt(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pxe(t,e,n,r,s,i){const a=ve(t,"dy","avgPool3dGrad"),o=ve(e,"input","avgPool3dGrad");let l=a,c=o,u=!1;o.rank===4&&(u=!0,l=Oe(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),c=Oe(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),oe(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),oe(c.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${c.rank}.`),Zi("avgPool3dGrad",s,i);const d={dy:l,input:c},h={filterSize:n,strides:r,pad:s,dimRoundingMode:i},p=ke.runKernel(tD,d,h);return u?Oe(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}const mxe=$e({avgPool3dGrad_:pxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gxe={kernelName:jC,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:a,dimRoundingMode:o}=n;return{x:()=>mxe(t,r,s,i,a,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vxe(t,e,n,r,s){const i=ve(t,"dy","avgPoolGrad"),a=ve(e,"input","avgPoolGrad");oe(a.rank===i.rank,()=>`Rank of input (${a.rank}) does not match rank of dy (${i.rank})`);let o=a,l=i,c=!1;a.rank===3&&(c=!0,o=Oe(a,[1,a.shape[0],a.shape[1],a.shape[2]]),l=Oe(i,[1,i.shape[0],i.shape[1],i.shape[2]])),oe(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),oe(o.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`);const u={dy:l,input:o},d={filterSize:n,strides:r,pad:s},h=ke.runKernel(eD,u,d);return c?Oe(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const yxe=$e({avgPoolGrad_:vxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bxe={kernelName:FC,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:a}=n;return{x:()=>yxe(t,r,s,i,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xxe={kernelName:zC,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[r,s]=e,{transposeA:i,transposeB:a}=n;return!i&&!a?{a:()=>tr(t,s,!1,!0),b:()=>tr(r,t,!0,!1)}:!i&&a?{a:()=>tr(t,s,!1,!1),b:()=>tr(t,r,!0,!1)}:i&&!a?{a:()=>tr(s,t,!1,!0),b:()=>tr(r,t,!1,!1)}:{a:()=>tr(s,t,!0,!0),b:()=>tr(t,r,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wxe={kernelName:UC,gradFunc:(t,e,n)=>{const{blockShape:r,crops:s}=n;return{x:()=>nP(t,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _xe={kernelName:kpe,gradFunc:(t,e,n)=>{const r=n,s=r.inputShape,i=r.shape,a=Array.from(i);for(let l=s.length-1;l>=0;l--)if(s[l]===i[l])a[l]=1;else if(s[l]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${i}].`);const o=[];for(let l=0;l<a.length;l++)a[l]>1&&o.push(l);return{x:()=>on(t,o,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sxe={kernelName:Yb,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cxe={kernelName:qb,gradFunc:t=>({x:()=>zn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kxe={kernelName:Xb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{clipValueMin:s,clipValueMax:i}=n;return{x:()=>Ii(hu(Sp(r,s),$g(r,i)),t,zn(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Exe={kernelName:WC,inputsToSave:["x"],gradFunc:gG.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Txe={kernelName:VC,saveAllInputs:!0,gradFunc:(t,e,n)=>{const r=e.map(l=>l.shape),{axis:s}=n,i=An(s,e[0].shape)[0],a=r.map(l=>l[i]);return qo(t,a,i).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ixe={kernelName:GC,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{dilations:i,strides:a,pad:o,dataFormat:l}=n;return oe(ap(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>GD(r.shape,t,s,a,o,l),filter:()=>aP(r,t,s.shape,a,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Axe={kernelName:HC,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{strides:i,pad:a,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>cp(t,s,i,a,o,1,l),filter:()=>aP(t,r,s.shape,i,a,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nxe(t,e,n,r,s){let i=t;t.rank===4&&(i=Oe(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let a=e;a.rank===4&&(a=Oe(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),oe(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),oe(a.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${a.shape}.`),oe(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),oe(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),oe(a.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${a.shape[4]}) must match output depth for filter (${n[4]}).`);const o={x:i,dy:a},l={strides:r,pad:s,filterShape:n};return ke.runKernel(iD,o,l)}const Rxe=$e({conv3DBackpropFilter_:Nxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oxe={kernelName:YC,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i}=n;oe(ap(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[a,o]=e;return{x:()=>nV(a.shape,t,o,s,i),filter:()=>Rxe(a,t,o.shape,s,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $xe={kernelName:Kb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(ds(yV(Dt(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dxe={kernelName:Jb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(bV(Dt(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pxe={kernelName:qC,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s,exclusive:i,reverse:a}=n;return{x:()=>{const o=ns([s],r.rank);let l=sV(t,s,i,!a);return o!=null&&(l=jn(l,o)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mxe={kernelName:XC,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i,dimRoundingMode:a}=n,o=r??[1,1];oe(ap(o),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[l,c]=e;return oe(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),oe(c.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${c.rank}.`),oe(l.shape[3]===c.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${c.shape[2]}.`),oe(fi(s,o),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${o}'.`),Zi("depthwiseConv2d",i,a),{x:()=>Kye(l.shape,t,c,s,i,o,a),filter:()=>qye(l,t,c.shape,s,i,o,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bxe={kernelName:KC,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,i={x:r,filter:s,dy:t},a={x:r,filter:s,dy:t};return{x:()=>ke.runKernel(bN,i,n),filter:()=>ke.runKernel(xN,a,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lxe={kernelName:Zb,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,r={dy:t,y:n};return{x:()=>ke.runKernel(fD,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fxe={kernelName:ex,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=Te(du(ds(Rr(n))),2/Math.sqrt(Math.PI));return{x:()=>Te(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jxe={kernelName:tx,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zxe={kernelName:QC,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>Oe(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uxe={kernelName:nx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,du(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wxe={kernelName:rx,gradFunc:t=>({x:()=>zn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vxe={kernelName:sx,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=_n(n.shape,r.shape);return{a:()=>{const o=un(t,Dt(r,"float32")),l=Ns(n.shape,s);return l.length>0?Oe(on(o,l),n.shape):o},b:()=>{let o=Te(t,Dt(n,"float32"));const l=Ns(r.shape,s);l.length>0&&(o=Oe(on(o,l),r.shape));const c=Rr(r);return ds(un(o,Dt(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gxe={kernelName:ZC,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:r}=n,[s,i,a,o]=e,l=o??ir(1),c=Ns(i.shape,s.shape),u=[];if(i.rank===1){for(let k=0;k<s.shape.length-1;++k)u.push(s.shape[k]);u.push(1)}const d=mn(s,i),h=Te(t,l),p=mV(yt(a,ir(r))),m=Te(Te(Te(p,p),p),ir(-.5));return{x:()=>i.rank===1?Oe(Te(Te(t,dl(Oe(p,[1,1,1,i.shape[0]]),u)),l),s.shape):Oe(Te(Te(t,p),l),s.shape),mean:()=>{let k=Te(Te(p,ir(-1)),h);return i.rank===1&&(k=on(k,c)),Oe(k,i.shape)},variance:()=>{let k=Te(Te(m,d),h);return i.rank===1&&(k=on(k,c)),Oe(k,i.shape)},scale:()=>{const k=Te(d,p);let N=Te(t,k);return i.rank===1&&(N=on(N,c)),Oe(N,i.shape)},offset:()=>{let k=t;return i.rank===1&&(k=on(k,c)),Oe(k,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hxe={kernelName:ek,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[r,s]=e,{axis:i}=n,a=An(i,r.shape)[0];return{x:()=>{const l=r.shape,c=s.size,u=l.slice(0,a),d=u.length,h=l.slice(i,l.length).slice(1),p=h.length,m=Aj(0,d),f=Aj(d+1,d+1+p),b=Nj([u,[c],h]),w=Oe(t,b),g=Oe(s,[c]),C=Nj([[d],m,f]),k=jn(w,C);let N=CV(k,g,r.shape[a]);const A=oh(C);return N=jn(N,A),N},indices:()=>s}}};function Aj(t,e){const n=[];for(let r=t;r<e;++r)n.push(r);return n}function Nj(t){const e=[];for(let n=0;n<t.length;++n)for(let r=0;r<t[n].length;++r)e.push(t[n][r]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yxe={kernelName:ix,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>zn(n),b:()=>zn(r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qxe={kernelName:ox,gradFunc:t=>({x:()=>Dt(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xxe={kernelName:ax,gradFunc:t=>({x:()=>zn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kxe={kernelName:lx,gradFunc:t=>({x:()=>zn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jxe={kernelName:cx,gradFunc:t=>({x:()=>zn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qxe={kernelName:nk,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{alpha:s}=n,i=sa(r,0);return{x:()=>Ii(i,t,Te(t,s))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zxe={kernelName:dx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,yt(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e1e={kernelName:ux,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,Dt(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t1e={kernelName:Epe,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;return{logits:()=>{const a=du(r);return mn(t,Te(on(t,s,!0),a))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n1e(t,e,n,r=5,s=1,i=1,a=.5){const o={x:t,y:e,dy:n},l={depthRadius:r,bias:s,alpha:i,beta:a};return ke.runKernel(bD,o,l)}const r1e=$e({localResponseNormalizationBackprop_:n1e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s1e={kernelName:lk,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{depthRadius:i,bias:a,alpha:o,beta:l}=n;return{x:()=>r1e(r,s,t,i,a,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vG(t,e,n,r){return e.rank<n.rank&&(e=Oe(e,ws(e.shape,r))),t.rank<n.rank&&(t=Oe(t,ws(t.shape,r))),{x:()=>Te(t,Dt(lc(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rj={kernelName:ck,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{reductionIndices:s}=r,i=e[0],a=e[1],o=An(s,i.shape),l=vG(t,a,i,o);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i1e={kernelName:hx,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>Te(t,Dt(Sp(n,r),"float32")),b:()=>Te(t,Dt(uS(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o1e(t,e,n,r,s,i,a){const o=ve(t,"dy","maxPool3dGrad"),l=ve(e,"input","maxPool3dGrad"),c=ve(n,"output","maxPool3dGrad");let u=o,d=l,h=c,p=!1;l.rank===4&&(p=!0,u=Oe(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),d=Oe(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=Oe(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),oe(u.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`),oe(d.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`),oe(h.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${h.rank}.`),Zi("maxPool3dGrad",i,a);const m={dy:u,input:d,output:h},f={filterSize:r,strides:s,pad:i,dimRoundingMode:a},b=ke.runKernel(wD,m,f);return p?Oe(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}const a1e=$e({maxPool3dGrad_:o1e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l1e={kernelName:dk,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=n;return{x:()=>a1e(t,r,s,i,a,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c1e(t,e,n,r,s,i,a){const o=ve(t,"dy","maxPoolGrad"),l=ve(e,"input","maxPoolGrad"),c=ve(n,"output","maxPoolGrad");oe(l.rank===o.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`),oe(o.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`),oe(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),Zi("maxPoolGrad",i,a);const u={dy:o,input:l,output:c},d={filterSize:r,strides:s,pad:i,dimRoundingMode:a};return ke.runKernel(xD,u,d)}const u1e=$e({maxPoolGrad_:c1e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d1e={kernelName:uk,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:a,pad:o}=n;return{x:()=>u1e(t,r,s,i,a,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h1e={kernelName:hk,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n,i=An(s,r.shape),o=zs(r.shape,i)[1],l=He(o);return{x:()=>{const u=r.shape.slice();i.forEach(p=>{u[p]=1});const d=Oe(t,u);return un(Te(d,Cp(r.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f1e={kernelName:fk,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{axis:s}=r,[i,a]=e,o=An(s,i.shape),l=vG(t,a,i,o);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p1e={kernelName:fx,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>Te(t,Dt($g(n,r),"float32")),b:()=>Te(t,Dt(sa(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m1e={kernelName:pk,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(a=>a[0]);return{x:()=>Sr(t,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g1e={kernelName:px,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=_n(n.shape,r.shape);return{a:()=>{const o=Ns(n.shape,s);return o.length>0?Oe(on(t,o),n.shape):t},b:()=>{const o=Te(t,ds(zk(un(n,r)))),l=Ns(r.shape,s);return l.length>0?Oe(on(o,l),r.shape):o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v1e={kernelName:mx,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=_n(n.shape,r.shape);return{a:()=>{const o=Te(t,Dt(r,"float32")),l=Ns(n.shape,s);return l.length>0?Oe(on(o,l),n.shape):o},b:()=>{const o=Te(t,Dt(n,"float32")),l=Ns(r.shape,s);return l.length>0?Oe(on(o,l),r.shape):o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y1e={kernelName:mk,gradFunc:t=>({x:()=>ds(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b1e={kernelName:yk,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>bs(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x1e={kernelName:vk,gradFunc:t=>({x:()=>zn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w1e={kernelName:bk,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:r}=n;return dp(t,r).map(i=>()=>i)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oj={kernelName:xk,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(a=>a[0]);return{x:()=>Sr(t,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _1e={kernelName:gx,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,r,s]=e,i=n,a=r,o=_n(i.shape,a.shape);return{a:()=>{const u=Dt(a,"float32");let d=Te(t,Te(u,ag(i,mn(u,ir(1)))));const h=Ns(i.shape,o);return h.length>0&&(d=on(d,h)),Oe(d,i.shape)},b:()=>{const u=sa(i,0),d=Ii(u,cc(i),zn(i));let h=Te(t,Te(s,d));const p=Ns(a.shape,o);return p.length>0&&(h=on(h,p)),Oe(h,a.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S1e={kernelName:wk,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,r]=e,s=sa(n,0);return{x:()=>Ii(s,t,Te(t,r)),alpha:()=>{let i=Ii(s,zn(t),Te(t,n));const a=Ns(r.shape,t.shape);return a.length>0&&(i=on(i,a)),Oe(i,r.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C1e(t,e,n){const r=t.shape.slice();r[n]=1;const s=Oe(e,r),i=BN(t,n,!0,!1),a=BN(t,n,!0,!0),o=Te(i,a);return Te(s,o)}function k1e(t,e,n){const r=t.shape.length,s=r-n.length,i=ns(n,r);let a=t;i!=null&&(a=jn(t,i));const o=a.shape.slice(),c=o.splice(r-n.length,n.length).reduce((h,p)=>h*p,1);o.push(c);const u=a.reshape(o);let d=C1e(u,e,s);if(d=d.reshape(a.shape),i!=null){const h=oh(i);d=jn(d,h)}return d}const E1e={kernelName:_k,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;let i=[];return s==null?i=r.shape.map((a,o)=>o):typeof s=="number"?i=[s]:i=s,{x:()=>k1e(r,t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T1e={kernelName:Qb,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=_n(n.shape,r.shape);return{a:()=>{const o=un(t,Dt(r,"float32")),l=Ns(n.shape,s);return l.length>0?Oe(on(o,l),n.shape):o},b:()=>{let o=Te(t,Dt(n,"float32"));const l=Ns(r.shape,s);l.length>0&&(o=Oe(on(o,l),r.shape));const c=Rr(r);return ds(un(o,Dt(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I1e={kernelName:vx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,ds(Rr(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A1e={kernelName:bx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=Te($g(n,6),zx(n));return{x:()=>Te(t,Dt(r,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N1e={kernelName:yx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,Dt(zx(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R1e={kernelName:Sk,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Oe(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O1e={kernelName:kk,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>ke.runKernel(ID,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $1e={kernelName:Ck,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>ke.runKernel(TD,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D1e={kernelName:Ek,gradFunc:(t,e,n)=>{const{dims:r}=n,s=An(r,t.shape);return{x:()=>up(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P1e={kernelName:xx,gradFunc:t=>({x:()=>zn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M1e={kernelName:wx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ds(un(t,Te(ag(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B1e={kernelName:Tk,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>Dt(zn(n),"float32"),t:()=>Te(t,Dt(n,t.dtype)),e:()=>Te(t,Dt(QD(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L1e={kernelName:_x,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=sa(n,ir(0)),s=ir(Gk),i=ir(Hk),a=Te(t,i),o=Te(Te(t,s),du(Dt(n,"float32")));return Ii(r,a,o)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F1e={kernelName:Ex,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,Te(n,mn(ir(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j1e={kernelName:kx,gradFunc:t=>({x:()=>zn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z1e={kernelName:Sx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(HD(Dt(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U1e={kernelName:Cx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(rV(Dt(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W1e={kernelName:Ik,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{begin:s,size:i}=n,a=r.shape,[o,l]=Wk(r,s,i),c=[];for(let u=0;u<t.rank;u++)c.push([o[u],a[u]-o[u]-l[u]]);return{x:()=>tP(t,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V1e={kernelName:Ok,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{dim:s}=n,i=!0,a=Te(t,r);return{logits:()=>mn(a,Te(on(a,[s],i),r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G1e={kernelName:Tx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,Og(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $j={kernelName:Nk,gradFunc:(t,e,n)=>{const{blockShape:r,paddings:s}=n;return{x:()=>VD(t,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dj={kernelName:Rk,gradFunc:(t,e,n)=>{const{axis:r}=n;return{x:()=>Yi(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H1e={kernelName:Ix,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,Te(Ri(Dt(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y1e={kernelName:AD,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,Te(Dt(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q1e={kernelName:Ax,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=ir(2);return{a:()=>Te(t,Te(s,mn(n,r))),b:()=>Te(t,Te(s,mn(r,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X1e={kernelName:Dx,gradFunc:t=>({x:()=>zn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K1e={kernelName:Nx,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=_n(n.shape,r.shape);return{a:()=>{let o=t;const l=Ns(n.shape,s);return l.length>0&&(o=on(o,l)),Oe(o,n.shape)},b:()=>{let o=t;const l=Ns(r.shape,s);return l.length>0&&(o=on(o,l)),Oe(ds(o),r.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J1e={kernelName:Ak,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,s=r.shape.slice(),{axis:i}=n;An(i,r.shape).forEach(c=>{s[c]=1});const o=Oe(t,s),l=Te(o,Cp(r.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q1e={kernelName:Rx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>un(t,Rr(HD(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z1e={kernelName:Ox,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(mn(ir(1),Rr(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ewe={kernelName:$x,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{reps:s}=n;return{x:()=>{let a=zn(r);if(r.rank===1)for(let o=0;o<s[0];++o)a=yt(a,Sr(t,[o*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let o=0;o<s[0];++o)for(let l=0;l<s[1];++l)a=yt(a,Sr(t,[o*r.shape[0],l*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let o=0;o<s[0];++o)for(let l=0;l<s[1];++l)for(let c=0;c<s[2];++c)a=yt(a,Sr(t,[o*r.shape[0],l*r.shape[1],c*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let o=0;o<s[0];++o)for(let l=0;l<s[1];++l)for(let c=0;c<s[2];++c)for(let u=0;u<s[3];++u)a=yt(a,Sr(t,[o*r.shape[0],l*r.shape[1],c*r.shape[2],u*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const twe={kernelName:Im,gradFunc:(t,e,n)=>{const r=n,{perm:s}=r,i=oh(s);return{x:()=>jn(t,i)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nwe={kernelName:$k,gradFunc:(t,e,n)=>{const r=n,{axis:s}=r;return{value:()=>Wd(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rwe={kernelName:Dk,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>swe(t,n)}}};function swe(t,e){const n=ah(e,zn(e)),r=XD(t,n);let s=Sp(e,ir(0,"int32"));const i=r.rank-s.rank;for(let o=0;o<i;++o)s=Vi(s,o+1);s=hu(s,Cp(r.shape,"bool"));const a=zn(r);return Ii(s,r,a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iwe={kernelName:Pk,gradFunc:t=>({x:()=>zn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const owe=[gG,rxe,sxe,ixe,oxe,axe,lxe,cxe,uxe,dxe,hxe,fxe,gxe,bxe,xxe,wxe,_xe,Sxe,Cxe,kxe,Exe,Txe,Axe,Ixe,Oxe,$xe,Dxe,Pxe,Mxe,Bxe,T1e,Lxe,Fxe,jxe,zxe,Uxe,Vxe,Wxe,Gxe,Hxe,Yxe,qxe,Xxe,Kxe,Jxe,Qxe,Zxe,e1e,t1e,s1e,Rj,Rj,i1e,l1e,d1e,h1e,f1e,p1e,m1e,g1e,v1e,y1e,b1e,x1e,w1e,Oj,Oj,_1e,S1e,E1e,I1e,A1e,N1e,R1e,O1e,$1e,D1e,P1e,M1e,B1e,L1e,F1e,j1e,z1e,U1e,W1e,V1e,G1e,$j,$j,Dj,Dj,H1e,q1e,Y1e,X1e,K1e,J1e,Q1e,Z1e,ewe,twe,nwe,rwe,iwe];for(const t of owe)Ipe(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.abs=function(){return this.throwIfDisposed(),wi(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.acos=function(){return this.throwIfDisposed(),Lme(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.acosh=function(){return this.throwIfDisposed(),jme(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.add=function(t){return this.throwIfDisposed(),yt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.all=function(t,e){return this.throwIfDisposed(),Z3(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.any=function(t,e){return this.throwIfDisposed(),PN(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.argMax=function(t){return this.throwIfDisposed(),Ky(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.argMin=function(t){return this.throwIfDisposed(),Gme(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.asScalar=function(){return this.throwIfDisposed(),oe(this.size===1,()=>"The array must have only 1 element."),Oe(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.asType=function(t){return this.throwIfDisposed(),Dt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.as1D=function(){return this.throwIfDisposed(),Oe(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.as2D=function(t,e){return this.throwIfDisposed(),Oe(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),Oe(this,[t,e,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),Oe(this,[t,e,n,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.as5D=function(t,e,n,r,s){return this.throwIfDisposed(),Oe(this,[t,e,n,r,s])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.asin=function(){return this.throwIfDisposed(),Yme(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.asinh=function(){return this.throwIfDisposed(),Xme(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.atan=function(){return this.throwIfDisposed(),Jme(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.atan2=function(t){return this.throwIfDisposed(),Zme(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.atanh=function(){return this.throwIfDisposed(),tge(this)};Ge().prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),UD(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),VD(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.batchNorm=function(t,e,n,r,s){return this.throwIfDisposed(),Bk(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.broadcastTo=function(t){return this.throwIfDisposed(),ry(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.cast=function(t){return this.throwIfDisposed(),Dt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.ceil=function(){return this.throwIfDisposed(),Ige(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),Qo(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof Qr&&(t=[t]),Yi([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.conv1d=function(t,e,n,r,s,i){return this.throwIfDisposed(),eV(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.conv2dTranspose=function(t,e,n,r,s){return this.throwIfDisposed(),tV(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.conv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),cp(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.cos=function(){return this.throwIfDisposed(),HD(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.cosh=function(){return this.throwIfDisposed(),rV(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),BN(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),sV(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),Zge(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.depthwiseConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),YD(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.dilation2d=function(t,e,n,r,s){return this.throwIfDisposed(),n0e(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.divNoNan=function(t){return this.throwIfDisposed(),a0e(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.div=function(t){return this.throwIfDisposed(),un(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.dot=function(t){return this.throwIfDisposed(),c0e(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.elu=function(){return this.throwIfDisposed(),Fk(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.equal=function(t){return this.throwIfDisposed(),lc(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.erf=function(){return this.throwIfDisposed(),h0e(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),w0e(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.exp=function(){return this.throwIfDisposed(),du(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.expandDims=function(t){return this.throwIfDisposed(),Vi(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.expm1=function(){return this.throwIfDisposed(),k0e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.fft=function(){return this.throwIfDisposed(),wV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.flatten=function(){return this.throwIfDisposed(),Oe(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.floor=function(){return this.throwIfDisposed(),zk(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.floorDiv=function(t){return this.throwIfDisposed(),Q3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.gather=function(t,e,n){return this.throwIfDisposed(),XD(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.greaterEqual=function(t){return this.throwIfDisposed(),Sp(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.greater=function(t){return this.throwIfDisposed(),sa(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.ifft=function(){return this.throwIfDisposed(),GN(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.irfft=function(){return this.throwIfDisposed(),vye(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.isFinite=function(){return this.throwIfDisposed(),D0e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.isInf=function(){return this.throwIfDisposed(),M0e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.isNaN=function(){return this.throwIfDisposed(),L0e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.leakyRelu=function(t){return this.throwIfDisposed(),JD(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.lessEqual=function(t){return this.throwIfDisposed(),$g(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.less=function(t){return this.throwIfDisposed(),uS(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.localResponseNormalization=function(t,e,n,r){return this.throwIfDisposed(),W0e(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.logSigmoid=function(){return this.throwIfDisposed(),K0e(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.logSoftmax=function(t){return this.throwIfDisposed(),cV(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),eve(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.log=function(){return this.throwIfDisposed(),cc(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.log1p=function(){return this.throwIfDisposed(),lV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.logicalAnd=function(t){return this.throwIfDisposed(),hu(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.logicalNot=function(){return this.throwIfDisposed(),QD(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.logicalOr=function(t){return this.throwIfDisposed(),uV(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.logicalXor=function(t){return this.throwIfDisposed(),ive(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),tr(this,t,e,n)};Ge().prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),ZD(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.max=function(t,e){return this.throwIfDisposed(),ml(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.maximum=function(t){return this.throwIfDisposed(),ah(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.mean=function(t,e){return this.throwIfDisposed(),ys(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.min=function(t,e){return this.throwIfDisposed(),cS(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.minimum=function(t){return this.throwIfDisposed(),Zy(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),fve(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.mod=function(t){return this.throwIfDisposed(),mve(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.mul=function(t){return this.throwIfDisposed(),Te(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.neg=function(){return this.throwIfDisposed(),ds(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.norm=function(t,e,n){return this.throwIfDisposed(),jk(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.notEqual=function(t){return this.throwIfDisposed(),dS(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),dV(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.onesLike=function(){return this.throwIfDisposed(),Da(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.pad=function(t,e){return this.throwIfDisposed(),tP(this,t,e)};Ge().prototype.pool=function(t,e,n,r,s,i){return this.throwIfDisposed(),kve(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.pow=function(t){return this.throwIfDisposed(),ag(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.prelu=function(t){return this.throwIfDisposed(),rP(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.prod=function(t,e){return this.throwIfDisposed(),Ive(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.reciprocal=function(){return this.throwIfDisposed(),Jve(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.relu=function(){return this.throwIfDisposed(),Ep(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.relu6=function(){return this.throwIfDisposed(),fV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.reshapeAs=function(t){return this.throwIfDisposed(),Oe(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.reshape=function(t){return this.throwIfDisposed(),Oe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),EV(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),TV(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.reverse=function(t){return this.throwIfDisposed(),up(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.rfft=function(){return this.throwIfDisposed(),xye(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.round=function(){return this.throwIfDisposed(),pV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.rsqrt=function(){return this.throwIfDisposed(),mV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.selu=function(){return this.throwIfDisposed(),gV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.separableConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),vV(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.sigmoid=function(){return this.throwIfDisposed(),Og(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.sign=function(){return this.throwIfDisposed(),oye(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.sin=function(){return this.throwIfDisposed(),yV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.sinh=function(){return this.throwIfDisposed(),bV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.slice=function(t,e){return this.throwIfDisposed(),Sr(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.softmax=function(t){return this.throwIfDisposed(),oP(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.softplus=function(){return this.throwIfDisposed(),Lx(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),nP(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.split=function(t,e){return this.throwIfDisposed(),qo(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.sqrt=function(){return this.throwIfDisposed(),Ri(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.square=function(){return this.throwIfDisposed(),Rr(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.squaredDifference=function(t){return this.throwIfDisposed(),_ye(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.squeeze=function(t){return this.throwIfDisposed(),jx(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof Qr?[this,t]:[this,...t];return Wd(n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.step=function(t){return this.throwIfDisposed(),zx(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.stridedSlice=function(t,e,n,r,s,i,a,o){return this.throwIfDisposed(),Tye(this,t,e,n,r,s,i,a,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.sub=function(t){return this.throwIfDisposed(),mn(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.sum=function(t,e){return this.throwIfDisposed(),on(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.tan=function(){return this.throwIfDisposed(),Aye(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.tanh=function(){return this.throwIfDisposed(),WD(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.tile=function(t){return this.throwIfDisposed(),dl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.toBool=function(){return this.throwIfDisposed(),Dt(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.toFloat=function(){return this.throwIfDisposed(),Dt(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.toInt=function(){return this.throwIfDisposed(),Dt(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.topk=function(t,e){return this.throwIfDisposed(),$ye(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.transpose=function(t){return this.throwIfDisposed(),jn(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.unique=function(t){return this.throwIfDisposed(),Mye(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),CV(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.unstack=function(t){return this.throwIfDisposed(),dp(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.where=function(t,e){return this.throwIfDisposed(),Ii(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ge().prototype.zerosLike=function(){return this.throwIfDisposed(),zn(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class jl extends Error{constructor(e){super(e),Object.setPrototypeOf(this,jl.prototype)}}class Ca extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Ca.prototype)}}class Se extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Se.prototype)}}class Cn extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Cn.prototype)}}class VP extends Error{constructor(e){super(e),Object.setPrototypeOf(this,VP.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class yG{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function hp(t,e){if(Array.isArray(t)){let n=[];for(let r=0;r<e;r++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function zl(t,e){if(!t)throw new VP(e)}function Pj(t,e){let n=0;for(const r of t)r===e&&n++;return n}function Gi(t){return t.length===1?t[0]:t}function Ar(t){return Array.isArray(t)?t:[t]}function qc(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function bf(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let ua={};function GP(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function qN(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>qN(e));else{const e=Object.keys(t);for(const n of e){const r=t[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?t[n]=r.value:qN(r))}}}function Gx(t,e={},n={},r="object",s=!1){if(typeof t=="string"){const i=t;let a;if(i in n)a=n[i];else if(i in ua)a=ua[i];else if(a=e[i],a==null)throw new Se(`Unknown ${r}: ${t}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return a}else{const i=t;if(i.className==null||i.config==null)throw new Se(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);const a=i.className;let o,l;if(a in n?[o,l]=n[a]:a in ua?[o,l]=ua.className:a in e&&([o,l]=e[a]),o==null)throw new Se(`Unknown ${r}: ${a}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const c={};for(const p of Object.keys(ua))c[p]=ua[p];for(const p of Object.keys(n))c[p]=n[p];const u=i.config;u.customObjects=c;const d=Object.assign({},ua);for(const p of Object.keys(n))ua[p]=n[p];qN(i.config);const h=l(o,i.config,n,s);return ua=Object.assign({},d),h}else{const c=Object.assign({},ua);for(const d of Object.keys(n))ua[d]=n[d];const u=new o(i.config);return ua=Object.assign({},c),u}}}function awe(t,e){return t<e?-1:t>e?1:0}function ew(t,e){return-1*awe(t,e)}function Id(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function lwe(t){if(t==null)throw new Se(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function Ip(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new Se(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function HP(t,e,n=0,r=1/0){return zl(n>=0),zl(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every(s=>typeof s===e)}function Bs(t,e){Array.isArray(t)?(oe(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,r)=>Bs(n,`element ${r+1} of ${e}`))):oe(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${bG(t)}.`)}function bG(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>bG(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function cwe(t,e,n){let r=n!=null?n():_i(),s;return(...a)=>{const o=n!=null?n():_i();return o-r<e||(r=o,s=t(...a)),s}}function xG(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let uwe=0;function wG(){return uwe++}const tw={};function Yk(t=""){return t in tw||(tw[t]=0),tw[t]+=1,t+tw[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const dwe=["channelsFirst","channelsLast"],hwe=["nearest","bilinear"],fwe=["valid","same","causal"],pwe=["max","avg"],mwe=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Gp=new Map;function ps(t){Ip(dwe,"DataFormat",t)}function gwe(t){Ip(hwe,"InterpolationFormat",t)}function ia(t){Ip(fwe,"PaddingMode",t)}function _G(t){Ip(pwe,"PoolMode",t)}const iy=[],Mj="/";function jf(t,e){iy.push(t);try{const n=e();return iy.pop(),n}catch(n){throw iy.pop(),n}}function vwe(){return iy.length===0?"":iy.join(Mj)+Mj}function SG(t){if(!kG(t))throw new Error("Not a valid tensor name: '"+t+"'");return vwe()+t}function CG(t){if(!kG(t))throw new Error("Not a valid tensor name: '"+t+"'");Gp.has(t)||Gp.set(t,0);const e=Gp.get(t);if(Gp.set(t,Gp.get(t)+1),e>0){const n=`${t}_${e}`;return Gp.set(n,1),n}else return t}const ywe=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function kG(t){return!!t.match(ywe)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function bwe(t){return t===parseInt(t.toString(),10)}function Ad(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let r=1;for(let s=e;s<n;++s)r*=t[s];return r}function cg(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r<e&&(e=r)}return e}function Vd(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r>e&&(e=r)}return e}function xl(t,e){if(e<t)throw new Se(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let r=t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let YT;function Es(){return YT==null&&(YT=Rme().epsilon()),YT}function wl(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function sc(t,e){return Dt(t,e)}function Hx(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),Oe(t,n)}function xwe(t,e){return De(()=>{if(t.shape.length!==2)throw new Se(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=Hx(t,1);return XN(n,[1,e,1])})}function wwe(t){const e=[Ad(t.shape)];return Oe(t,e)}function _we(t){if(t.rank<=1)throw new Se(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],Ad(t.shape,1)];return Oe(t,e)}function zf(t,e,n){return De(()=>{switch(t.rank){case 1:return sP(t,e,n);case 2:return xV(t,[e,0],[n,t.shape[1]]);case 3:return iP(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return fS(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return Sr(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return Sr(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new Se(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function qT(t,e,n){return De(()=>{switch(t.rank){case 1:return sP(t,e,n);case 2:return xV(t,[0,e],[t.shape[0],n]);case 3:return iP(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return fS(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new Se(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function nw(t,e,n,r){return De(()=>{switch(t.rank){case 1:return sP(t,e,n);case 2:switch(r){case 1:return zf(t,e,n);case 2:return qT(t,e,n);default:throw new Se(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return zf(t,e,n);case 2:return iP(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return qT(t,e,n);default:throw new Se(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return zf(t,e,n);case 2:return fS(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return fS(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return qT(t,e,n);default:throw new Se(`The axis is not within the rank of the tensor ${r}`)}default:throw new Se(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function YP(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),Yi(t,e)}function Bj(t,e){switch(t.rank){case 1:return Rge([t,e]);case 2:return $ge([t,e],0);case 3:return Pge([t,e],0);case 4:return Bge([t,e],0);default:throw new Se(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function XN(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new Se(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return dl(t,e)}function qk(t,e=0,n=1,r,s){return Yve(t,e,n,r,s)}function ic(t,e,n,r){if(t.rank<2||e.rank<2)throw new Cn(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const s=t.shape.slice(-1)[0],i=e.shape.slice(-2)[0];if(s!==i)throw new Cn(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return wj({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?KN(t.rank,r,wl()):null,activation:n});{const s=t.shape.slice(),i=s.pop();t=Oe(t,[-1,i]);const a=e.shape.slice(),o=a.pop(),l=a.pop(),c=[...a,o],u=Array.from({length:e.rank},(m,f)=>f===0?e.rank-2:f<=e.rank-2?f-1:f);e=Oe(jn(e,u),[l,-1]);const d=[...s,...c];return Oe(wj({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?KN(t.rank,r,wl()):null,activation:n}),d)}}function EG(t,e,n){return De(()=>(Array.isArray(e)?e=yo(e,"int32"):e=Dt(e,"int32"),XD(t,e,n)))}function Yx(t){return Te(t,t)}function KN(t,e,n){const r=e.shape;if(e.rank!==1&&e.rank!==t)throw new Se(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return r.length===1?Oe(e,[1,r[0],1,1,1]):Oe(e,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?Oe(e,[1,1,1,1,r[0]]):Oe(e,[1].concat(r))}else if(t===4){if(n==="channelsFirst")return r.length===1?Oe(e,[1,r[0],1,1]):Oe(e,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?Oe(e,[1,1,1,r[0]]):Oe(e,[1].concat(r))}else if(t===3){if(n==="channelsFirst")return r.length===1?Oe(e,[1,r[0],1]):Oe(e,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?Oe(e,[1,1,r[0]]):Oe(e,[1].concat(r))}else if(t<3)return e;throw new Se(`Unsupported input rank by biasAdd: ${e.rank}`)}function El(t,e,n){return De(()=>(n==null&&(n=wl()),ps(n),yt(t,KN(t.rank,e,n))))}function Swe(t,e=1){if(e!==1)throw new Cn(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return Fk(t)}function Cwe(t){return De(()=>un(t,yt(wi(t),1)))}function TG(t,e,n,r){return De(()=>Wye(t,e,n,r))}function kwe(t){return De(()=>{const e=yt(.5,Te(.2,t));return Qo(e,0,1)})}function qx(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Ewe=["fanIn","fanOut","fanAvg"],Twe=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Iwe(t){Ip(Ewe,"FanMode",t)}function Awe(t){Ip(Twe,"Distribution",t)}class Ma extends Pg{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class IG extends Ma{apply(e,n){return bs(e,n)}}IG.className="Zeros";ht(IG);class qP extends Ma{apply(e,n){return Cp(e,n)}}qP.className="Ones";ht(qP);class AG extends Ma{constructor(e){if(super(),typeof e!="object")throw new Se(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new Se(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return De(()=>Te(ir(this.value),Cp(e,n)))}getConfig(){return{value:this.value}}}AG.className="Constant";ht(AG);class NG extends Ma{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return Fx(e,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}NG.className="RandomUniform";ht(NG);class RG extends Ma{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Cn(`randomNormal does not support dType ${n}.`);return qk(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}RG.className="RandomNormal";ht(RG);class OG extends Ma{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Cn(`truncatedNormal does not support dType ${n}.`);return SV(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}OG.className="TruncatedNormal";ht(OG);class $G extends Ma{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return De(()=>{if(e.length!==2||e[0]!==e[1])throw new Se("Identity matrix initializer can only be used for 2D square matrices.");return Te(this.gain,aV(e[0]))})}getConfig(){return{gain:this.gain}}}$G.className="Identity";ht($G);function Nwe(t,e="channelsLast"){let n,r;if(ps(e),t.length===2)n=t[0],r=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const s=Ad(t,2);n=t[1]*s,r=t[0]*s}else if(e==="channelsLast"){const s=Ad(t,0,t.length-2);n=t[t.length-2]*s,r=t[t.length-1]*s}}else{const s=Ad(t);n=Math.sqrt(s),r=Math.sqrt(s)}return[n,r]}class Eo extends Ma{constructor(e){if(super(),e.scale<0)throw new Se(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,Iwe(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,Awe(this.distribution),this.seed=e.seed}apply(e,n){const r=Nwe(e),s=r[0],i=r[1];let a=this.scale;if(this.mode==="fanIn"?a/=Math.max(1,s):this.mode==="fanOut"?a/=Math.max(1,i):a/=Math.max(1,(s+i)/2),this.distribution==="normal"){const o=Math.sqrt(a);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Cn(`${this.getClassName()} does not support dType ${n}.`);return SV(e,0,o,n,this.seed)}else{const o=Math.sqrt(3*a);return Fx(e,-o,o,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Eo.className="VarianceScaling";ht(Eo);class XP extends Eo{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Eo.className}}XP.className="GlorotUniform";ht(XP);class KP extends Eo{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Eo.className}}KP.className="GlorotNormal";ht(KP);class JP extends Eo{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Eo.className}}JP.className="HeNormal";ht(JP);class QP extends Eo{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Eo.className}}QP.className="HeUniform";ht(QP);class ZP extends Eo{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Eo.className}}ZP.className="LeCunNormal";ht(ZP);class eM extends Eo{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Eo.className}}eM.className="LeCunUniform";ht(eM);class DG extends Ma{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,n){return De(()=>{if(e.length<2)throw new Cn("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const r=He(e.slice(0,-1)),s=e[e.length-1],i=r*s;i>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${i}) elements: Slowness may result.`);const a=[Math.max(s,r),Math.min(s,r)],o=qk(a,0,1,n,this.seed),l=Bbe.qr(o,!1);let c=l[0];const d=l[1].flatten().stridedSlice([0],[Math.min(s,r)*Math.min(s,r)],[Math.min(s,r)+1]);return c=Te(c,d.sign()),r<s&&(c=c.transpose()),Te(ir(this.gain),c.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}DG.className="Orthogonal";ht(DG);const Lj={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Fj(t,e={}){return Gx(t,ya.getMap().classNameMap,e,"initializer")}function ts(t){return GP(t)}function Wr(t){if(typeof t=="string"){const e=t in Lj?Lj[t]:t;if(e==="GlorotNormal")return new KP;if(e==="GlorotUniform")return new XP;if(e==="HeNormal")return new JP;if(e==="HeUniform")return new QP;if(e==="LeCunNormal")return new ZP;if(e==="LeCunUniform")return new eM;{const n={};return n.className=e,n.config={},Fj(n)}}else return t instanceof Ma?t:Fj(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function JN(t){return Array.isArray(t)&&Array.isArray(t[0])}function pS(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function pn(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new Se(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function Gn(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new Se(`Expected exactly 1 Shape; got ${t.length}`)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function mS(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((r,s)=>r*s);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const jj="Variable";class Rwe{constructor(e,n="float32",r=jj,s=!0,i=null){this.dtype=n??"float32",this.shape=e.shape,this.id=wG(),r=r??jj,this.originalName=SG(r),this.name=CG(this.originalName),this.trainable_=s,this.constraint=i,this.val=Fye(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),Owe(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function Owe(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function QN(t){return t.map(e=>e.read())}function tM(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Ts{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class Yl{constructor(e,n,r,s,i,a,o){this.dtype=e,this.shape=n,this.sourceLayer=r,this.inputs=s,this.callArgs=i,this.outputTensorIndex=o,this.id=wG(),a!=null&&(this.originalName=SG(a),this.name=CG(this.originalName)),this.rank=n.length}}let $we=0,Xk=class{constructor(e,n){this.callArgs=n,this.id=$we++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const r of e.inboundLayers)r!=null&&r.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},Dwe=0;class Nn extends Pg{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Dwe++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const r=this.getClassName();n=qc(r)+"_"+Yk(r)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let r;if(e.batchInputShape!=null)r=e.batchInputShape;else if(e.inputShape!=null){let i=null;e.batchSize!=null&&(i=e.batchSize),r=[i].concat(e.inputShape)}this.batchInputShape=r;let s=e.dtype;s==null&&(s=e.inputDType),s==null&&(s="float32"),this.dtype=s}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new Ca(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new Se(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Gi(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Gi(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new jl(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new jl(`Layer ${this.name} is not connected, no input to return.`);return Gi(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new jl(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new jl(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Gi(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=Ar(e),this.inputSpec==null||this.inputSpec.length===0)return;const n=Ar(this.inputSpec);if(e.length!==n.length)throw new Se(`Layer ${this.name} expects ${n.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(let r=0;r<e.length;r++){const s=e[r],i=n[r];if(i==null)continue;const a=s.rank;if(i.ndim!=null&&a!==i.ndim)throw new Se(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${i.ndim}, found ndim=${a}`);if(i.maxNDim!=null&&a>i.maxNDim)throw new Se(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${i.maxNDim}, found ndim=${a}`);if(i.minNDim!=null&&a<i.minNDim)throw new Se(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${i.minNDim}, found ndim=${a}.`);if(i.dtype!=null&&s.dtype!==i.dtype)throw new Se(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${i.dtype}, found dtype=${s.dtype}.`);if(i.axes){const o=s.shape;for(const l in i.axes){const c=Number(l),u=i.axes[l],d=c>=0?o[c]:o[o.length+c];if(u!=null&&[u,null].indexOf(d)===-1)throw new Se(`Input ${r} is incompatible with layer ${this.name}: expected axis ${c} of input shape to have value ${u} but got shape ${o}.`)}}if(i.shape!=null)for(let o=0;o<i.shape.length;++o){const l=i.shape[o],c=s.shape[o];if(l!=null&&c!=null&&l!==c)throw new Se(`Input ${r} is incompatible with layer ${this.name}: expected shape=${i.shape}, found shape=${s.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const r=Ar(e);let s=!0;for(const a of r)if(!(a instanceof Yl)){s=!1;break}let i=!0;for(const a of r)if(a instanceof Yl){i=!1;break}if(s===i)throw new Se("Arguments to apply() must be all SymbolicTensors or all Tensors");return jf(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const a=[];for(const o of Ar(e))a.push(o.shape);this.build(Gi(a)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let a=this.call(e,n);const o=Ar(a),l=[];for(let c of o)r.indexOf(c)!==-1&&(c=c.clone()),l.push(c);if(a=Gi(l),this.activityRegularizer!=null)throw new Cn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}else{const a=Pwe(e),o=this.computeOutputShape(a);let l;const c=Mwe(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?a[0]:a),o!=null&&o.length>0&&Array.isArray(o[0])?l=o.map((u,d)=>new Yl(c,u,this,Ar(e),n,this.name,d)):l=new Yl(c,o,this,Ar(e),n,this.name),this.addInboundNode(e,l,null,null,a,o,n),this._refCount++,this.activityRegularizer!=null)throw new Cn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,s)=>{r!=null&&e[s]!=null&&e[s]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new jl(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);e.indexOf(r)===-1&&e.push(r)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new jl(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Ca(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return mS(this.weights)}build(e){this.built=!0}getWeights(e=!1){return QN(e?this.trainableWeights:this.weights)}setWeights(e){De(()=>{const n=this.weights;if(n.length!==e.length)throw new Se(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const r=[],s=QN(n);for(let i=0;i<s.length;++i){const a=s[i],o=n[i],l=e[i];if(!rr(a.shape,l.shape))throw new Se(`Layer weight shape ${a.shape} not compatible with provided weight shape ${l.shape}`);r.push([o,l])}tM(r)})}addWeight(e,n,r,s,i,a,o,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new Se(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(s=l!=null?l():Wr("zeros"));const c=s.apply(n,r),u=new Rwe(c,r,e,a,o);return c.dispose(),i!=null&&this.addLoss(()=>i.apply(u.read())),a==null&&(a=!0),a?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=Ar(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}addInboundNode(e,n,r,s,i,a,o=null){const l=Ar(e);n=Ar(n),r=Ar(r),s=Ar(s),i=pS(i),a=pS(a);const c=[],u=[],d=[];for(const h of l)c.push(h.sourceLayer),u.push(h.nodeIndex),d.push(h.tensorIndex);new Xk({outboundLayer:this,inboundLayers:c,nodeIndices:u,tensorIndices:d,inputTensors:l,outputTensors:n,inputMasks:r,outputMasks:s,inputShapes:i,outputShapes:a},o);for(let h=0;h<n.length;h++)n[h].sourceLayer=this,n[h].nodeIndex=this.inboundNodes.length-1,n[h].tensorIndex=h}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function Pwe(t){t=Ar(t);const e=[];for(const n of t)e.push(n.shape);return Gi(e)}function Mwe(t){return"float32"}function PG(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const r=e.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const s=[];for(let i=0;i<r.inboundLayers.length;i++){const a=r.inputTensors[i],o=r.inboundLayers[i],l=r.nodeIndices[i],c=PG(a,o,l);for(const u of c)s.indexOf(u)===-1&&s.push(u)}return s}}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Xx extends Nn{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:Yk("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new Se("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new Se("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new Se("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const s=new Yl(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new Xk({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new Se(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}Xx.className="InputLayer";ht(Xx);function Bwe(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new Se("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new Xx({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Lwe(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return Dt(e,t.dtype)}catch{throw new Se(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class ad{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof ad)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,r){if(this.id2Value[e.id]==null)this.id2Value[e.id]=Lwe(e,n),this.name2Id[e.name]=e.id,r!=null&&(this.id2Mask[e.id]=r);else throw new Se(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof Yl){if(this.id2Value[e.id]==null)throw new Se(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Se(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof Yl){if(this.id2Value[e.id]==null)throw new Se(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Se(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&kn(this.id2Mask)}}const gS=new yG,vS=new yG;function Fwe(t){gS!=null&&gS.setMaxEntries(t),vS!=null&&vS.setMaxEntries(t)}function Av(t,e,n,r){const s=n==null?!1:n.training,i=Array.isArray(t),a=i?t:[t],o=a.map(m=>m.name),l=[],c=e.names();for(const m of o)c.indexOf(m)!==-1?l.push(e.getValue(m)):l.push(null);r!=null&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const u=o.join(",")+"|"+e.names().sort().join(",");let d=gS.get(u),h;if(d==null){const m=jwe(a,e);d=m.sorted,h=m.recipientCounts,gS.put(u,d),vS.put(u,h)}h={},s||Object.assign(h,vS.get(u));const p=new ad(e);for(let m=0;m<d.length;++m){if(r!=null){const $=DN().numTensors;$>r.maxNumTensors&&(r.maxNumTensors=$),$<r.minNumTensors&&(r.minNumTensors=$)}const f=d[m],b=f.sourceLayer;if(b instanceof Xx)continue;const w=[],g=[],C=[];let k=!1;for(const $ of f.inputs){const D=p.getValue($),B=p.getMask($);w.push(D),g.push(B),B!=null&&(k=!0),s||(h[$.name]--,h[$.name]===0&&!e.hasKey($)&&o.indexOf($.name)===-1&&!D.isDisposed&&$.sourceLayer.stateful!==!0&&C.push(D))}k&&(n=n||{},n.mask=g[0]);const N=Ar(b.apply(w,n));let A=null;b.supportsMasking&&(A=b.computeMask(w,g));const O=Uwe(f),R=Array.isArray(O)?O:[O];for(let $=0;$<R.length;++$){p.hasKey(R[$])||p.add(R[$],N[$],Array.isArray(A)?A[0]:A);const D=o.indexOf(R[$].name);D!==-1&&(l[D]=N[$])}s||kn(C)}return p.disposeMasks(),i?l:l[0]}function jwe(t,e){oe(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(t.length===1){const s=zj(t[0],e);n=s.sorted,r=s.recipientMap}else{const s=new Set;for(const i of t){const{sorted:a,recipientMap:o}=zj(i,e);for(const l of a)s.has(l.name)||(n.push(l),s.add(l.name));for(const l in o)r[l]==null&&(r[l]=new Set),o[l].forEach(c=>r[l].add(c))}}return{sorted:n,recipientCounts:zwe(r)}}function zwe(t){const e={};for(const n in t)e[n]=t[n].size;return e}function zj(t,e){const n=new Set,r=[],s={};for(const o of e.names())n.add(o);const i=[],a=[];for(i.push(t);i.length>0;){const o=i[i.length-1];if(n.has(o.name)){i.pop();continue}const l=a[a.length-1]===i.length-1;if(o.inputs.length===0||l)i.pop(),r.push(o),n.add(o.name),l&&a.pop();else{a.push(i.length-1);for(const c of o.inputs)s[c.name]==null&&(s[c.name]=new Set),s[c.name].add(o.name),!n.has(c.name)&&i.push(c)}}return{sorted:r,recipientMap:s}}function Uwe(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let r=0;r<t.sourceLayer.inboundNodes.length;++r)for(const s of t.sourceLayer.inboundNodes[r].outputTensors)if(s.id===t.id){n=r;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wwe=je();Wwe.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,Fwe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function nM(t,e){return De(()=>Ri(on(Te(t,t),e,!0)))}class Kx extends Pg{getConfig(){return{}}}class MG extends Kx{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return De(()=>{const n=nM(e,this.axis),r=Qo(n,0,this.maxValue);return Te(e,un(r,yt(Es(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}MG.className="MaxNorm";ht(MG);class BG extends Kx{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return De(()=>un(e,yt(Es(),nM(e,this.axis))))}getConfig(){return{axis:this.axis}}}BG.className="UnitNorm";ht(BG);class LG extends Kx{apply(e){return Ep(e)}}LG.className="NonNeg";ht(LG);class FG extends Kx{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return De(()=>{const n=nM(e,this.axis),r=yt(Te(this.rate,Qo(n,this.minValue,this.maxValue)),Te(1-this.rate,n));return Te(e,un(r,yt(Es(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}FG.className="MinMaxNorm";ht(FG);const Uj={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Is(t){return GP(t)}function Wj(t,e={}){return Gx(t,ya.getMap().classNameMap,e,"constraint")}function As(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in Uj?Uj[t]:t,config:{}};return Wj(n)}else return t instanceof Kx?t:Wj(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function nf(t){if(t==null)return;const e=[],n=[],r=[];for(const s in t){const i=t[s];if(typeof i!="number"){const a=i;e.push(a.data()),n.push(s),r.push(a)}}if(e.length>0){const s=await Promise.all(e);for(let i=0;i<s.length;++i)t[n[i]]=s[i][0];kn(r)}}function jG(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var Vj;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(Vj||(Vj={}));const Vwe=125;class tb{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class Gwe{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class Hwe extends tb{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const s in n){const i=n[s];if(typeof i=="number")this.totals.hasOwnProperty(s)||(this.totals[s]=0),this.totals[s]=this.totals[s]+i*r;else{let a;s in this.totals?a=this.totals[s]:this.totals[s]=0;const o=De(()=>yt(this.totals[s],Te(i,r)));this.totals[s]=o,a!=null&&a.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:De(()=>{const s=Te(un(1,this.seen),this.totals[r]);n[r]=s,this.totals[r].dispose(),nc(n[r])}))}}class Ywe extends tb{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const e=[],n=[],r=[];for(const i in this.history){const a=this.history[i];for(let o=0;o<a.length;++o)if(typeof a[o]!="number"){const l=a[o];e.push(l.data()),n.push(i),r.push(o)}}const s=await Promise.all(e);for(let i=0;i<s.length;++i)this.history[n[i]][r[i]].dispose(),this.history[n[i]][r[i]]=s[i][0]}}class qwe extends tb{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||GV,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=Vwe),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");gN(this.yieldEvery)&&(this.maybeWait=cwe(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,r){const s=[];this.yield!=null&&(await nf(r),s.push(this.yield(e,n,r))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await nf(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const r=[];this.epochEnd!=null&&(await nf(n),r.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(e,n){this.batchBegin!=null&&(await nf(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const r=[];this.batchEnd!=null&&(await nf(n),r.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):gN(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(r)}async onTrainBegin(e){this.trainBegin!=null&&(await nf(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await nf(e),await this.trainEnd(e))}}function zG(t,e){return t==null&&(t={}),t instanceof tb?[t]:Array.isArray(t)&&t[0]instanceof tb?t:Ar(t).map(r=>new qwe(r,e))}class fa{constructor(){}static registerCallbackConstructor(e,n){oe(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),fa.checkForDuplicate(n),fa.constructors[e]==null&&(fa.constructors[e]=[]),fa.constructors[e].push(n)}static checkForDuplicate(e){for(const n in fa.constructors)fa.constructors[+n].forEach(s=>{if(s===e)throw new Se("Duplicate callback constructor.")})}static clear(){fa.constructors={}}static createCallbacks(e){const n=[];for(const r in fa.constructors){const s=+r;e>=s&&n.push(...fa.constructors[s])}return n.map(r=>new r)}}fa.constructors={};function UG(t,e,n,r,s,i,a,o,l){const c=new Ywe,u=[new Hwe,...fa.createCallbacks(e)];t!=null&&u.push(...t),u.push(c);const d=new Gwe(u);return d.setParams({epochs:n,initialEpoch:r,samples:s,steps:i,batchSize:a,verbose:e,doValidation:o,metrics:l}),{callbackList:d,history:c}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function oc(t,e={},n=!1){return Gx(t,ya.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function yS(t,e){return De(()=>{t.dtype!=="float32"&&(t=Dt(t,"float32"));const n=on(Yx(t),e,!0),r=Lk(n.shape,Es()),s=Ri(ah(n,r));return un(t,s)})}function Kk(t,e){return De(()=>ys(Yx(mn(e,t)),-1))}function rM(t,e){return De(()=>ys(wi(mn(e,t)),-1))}function sM(t,e){return De(()=>{const n=mn(t,e),r=Qo(wi(t),Es(),Number.MAX_VALUE),s=wi(un(n,r));return Te(100,ys(s,-1))})}function Xwe(t,e){return De(()=>{const n=Qo(e,Es(),Number.MAX_VALUE),r=cc(yt(1,n)),s=Qo(t,Es(),Number.MAX_VALUE),i=cc(yt(1,s));return ys(Yx(mn(r,i)),-1)})}function Kwe(t,e){return De(()=>{const n=ah(0,mn(1,Te(t,e)));return ys(Yx(n),-1)})}function Jwe(t,e){return De(()=>{const n=ah(0,mn(1,Te(t,e)));return ys(n,-1)})}function Qwe(t,e){return De(()=>{const n=on(Te(t,e),-1),r=ml(Te(mn(1,t),e),-1);return ah(0,yt(1,mn(r,n)))})}function Zwe(t,e){return De(()=>{const n=Math.log(2),r=mn(e,t),s=mn(yt(r,Lx(Te(-2,r))),n);return ys(s,-1)})}function nb(t,e,n=!1){return De(()=>{if(n)e=oP(e);else{const r=on(e,e.shape.length-1,!0);e=un(e,r)}return e=Qo(e,Es(),1-Es()),ds(on(Te(Dt(t,"float32"),cc(e)),e.shape.length-1))})}function bS(t,e,n=!1){return De(()=>{const r=Dt(zk(wwe(t)),"int32");e=Qo(e,Es(),1-Es());const s=e.shape,i=Oe(dV(r,s[s.length-1]),s);return nb(i,e,n)})}function e_e(t,e){if(!rr(t.shape,e.shape))throw new Se(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return De(()=>{const n=Ep(e),r=ds(wi(e));return yt(mn(n,Te(e,t)),lV(du(r)))})}function Jk(t,e){return De(()=>{let n;return n=Qo(e,Es(),1-Es()),n=cc(un(n,mn(1,n))),ys(e_e(t,n),-1)})}function t_e(t,e){return De(()=>{const n=Qo(t,Es(),1),r=Qo(e,Es(),1);return on(Te(t,cc(un(n,r))),-1)})}function n_e(t,e){return De(()=>{const n=cc(yt(Es(),e));return ys(mn(e,Te(t,n)),-1)})}function WG(t,e){return De(()=>{const n=yS(t,-1),r=yS(e,-1),s=Te(n,r);return ds(on(s,-1))})}const xS={meanSquaredError:Kk,meanAbsoluteError:rM,meanAbsolutePercentageError:sM,meanSquaredLogarithmicError:Xwe,squaredHinge:Kwe,hinge:Jwe,categoricalHinge:Qwe,logcosh:Zwe,categoricalCrossentropy:nb,sparseCategoricalCrossentropy:bS,binaryCrossentropy:Jk,kullbackLeiblerDivergence:t_e,poisson:n_e,cosineProximity:WG};function XT(t){if(typeof t=="string"){if(t in xS)return xS[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new Se(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function VG(t,e){return De(()=>{const n=Te(.5,Da(e)),r=sc(sa(e,n),t.dtype);return ys(lc(t,r),-1)})}function GG(t,e){return De(()=>sc(lc(Ky(t,-1),Ky(e,-1)),"float32"))}function r_e(t,e){return De(()=>Dt(on(hu(lc(t,1),lc(e,1))),"float32"))}function s_e(t,e){return De(()=>Dt(on(hu(lc(t,0),lc(e,1))),"float32"))}function i_e(t,e){return De(()=>{const n=r_e(t,e),r=s_e(t,e),s=yt(n,r);return Dt(Ii(sa(s,0),un(n,s),0),"float32")})}function o_e(t,e){return Jk(t,e)}function a_e(t,e){return t.rank===e.rank&&(t=jx(t,[t.rank-1])),e=Ky(e,-1),e.dtype!==t.dtype&&(e=Dt(e,t.dtype)),Dt(lc(t,e),"float32")}const l_e=Kk,c_e=Kk,u_e=rM,d_e=rM,h_e=sM,f_e=sM,HG=nb,p_e=WG,YG=bS,wS={binaryAccuracy:VG,categoricalAccuracy:GG,precision:i_e,categoricalCrossentropy:HG,sparseCategoricalCrossentropy:YG,mse:l_e,MSE:c_e,mae:u_e,MAE:d_e,mape:h_e,MAPE:f_e,cosine:p_e};function m_e(t){if(typeof t=="string"&&t in wS)return wS[t];if(typeof t!="string"&&t!=null)return t;throw new Se(`Unknown metric ${t}`)}function rw(t){if(zl(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(xS))if(xS[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(wS))if(wS[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function g_e(t){const e={Adagrad:()=>Vp.adagrad(.01),Adadelta:()=>Vp.adadelta(1,.95,Es()),Adam:()=>Vp.adam(.001,.9,.999,Es()),Adamax:()=>Vp.adamax(.002,.9,.999,Es(),0),RMSProp:()=>Vp.rmsprop(.001,.9,0,Es()),SGD:()=>Vp.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new Se(`Unknown Optimizer ${t}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Gj=1*1024*1024;function Hj(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!ZN(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(t);r.length>Gj&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${Gj}.`)}}function ZN(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!ZN(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!ZN(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function v_e(t,e,n,r=console.log){const s=b_e(t),i=["Layer (type)","Input Shape","Output shape","Param #"];s?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(u=>Math.floor(e*u)));let a;if(!s){i.push("Receives inputs"),a=[];for(const u in t.nodesByDepth)a.push(...t.nodesByDepth[u])}r("_".repeat(e)),_S(i,n,r),r("=".repeat(e));const o=t.layers;for(let u=0;u<o.length;++u)s?x_e(o[u],n,r):w_e(o[u],n,a,r),r((u===o.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=y_e(t),c=mS(t.nonTrainableWeights);r(`Total params: ${l+c}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${c}`),r("_".repeat(e))}function y_e(t){let e;return t.collectedTrainableWeights!=null?e=mS(t.collectedTrainableWeights):e=mS(t.trainableWeights),e}function b_e(t){let e=!0;const n=[],r=[];for(const s in t.nodesByDepth)n.push(t.nodesByDepth[s]);for(const s of n){if(s.length>1||s.length===1&&s[0].inboundLayers.length>1){e=!1;break}r.push(...s)}if(e)for(const s of t.layers){let i=!1;for(const a of s.inboundNodes)if(r.indexOf(a)!==-1)if(i){e=!1;break}else i=!0;if(!e)break}return e}function _S(t,e,n=console.log){let r="";for(let s=0;s<t.length;++s)s>0&&(r=r.slice(0,r.length-1)+" "),r+=t[s],r=r.slice(0,e[s]),r+=" ".repeat(e[s]-r.length);n(r)}function x_e(t,e,n){let r,s;try{s=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{s="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const i=t.name,a=t.getClassName(),o=[`${i} (${a})`,s,r,t.countParams().toString()];_S(o,e,n)}function w_e(t,e,n,r){let s,i;try{i=t.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch{i="multiple"}try{s=JSON.stringify(t.outputShape)}catch{s="multiple"}const a=[];for(const d of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(d)===-1))for(let h=0;h<d.inboundLayers.length;++h){const p=d.inboundLayers[h].name,m=d.nodeIndices[h],f=d.tensorIndices[h];a.push(`${p}[${m}][${f}]`)}const o=t.name,l=t.getClassName(),c=a.length===0?"":a[0],u=[`${o} (${l})`,i,s,t.countParams().toString(),c];_S(u,e,r);for(let d=1;d<a.length;++d)_S(["","","","",a[d]],e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function qG(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function SS(t,e){if(t===null)return null;if(typeof t=="string")return bf(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];qG(e,s,i)?n.push(i):n.push(SS(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r];if(r==="name"&&typeof s=="string")n[r]=s;else{const i=bf(r);n[i]=SS(s,i)}}return n}}function eR(t,e){if(t==null)return null;if(typeof t=="string")return qc(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];qG(e,s,i)?n.push(i):n.push(eR(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r],i=qc(r);(r==="name"||r==="className")&&typeof s=="string"?n[i]=s:n[i]=eR(s,r)}return n}}/** @license See the LICENSE file. */const XG="4.4.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class nl extends Nn{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const g=this.getClassName().toLowerCase();this.name=Yk(g)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],Id(this.inputs).length!==this.inputs.length)throw new Se(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(g=>g.name)}`);Id(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(g=>g.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const g of this.outputs){const C=g.sourceLayer,k=g.nodeIndex,N=g.tensorIndex;this.outputLayers.push(C),this.outputLayersNodeIndices.push(k),this.outputLayersTensorIndices.push(N)}for(const g of this.inputs){const C=g.sourceLayer,k=g.nodeIndex,N=g.tensorIndex;zl(k===0,"input layer has >1 nodes"),zl(N===0,"input layer has >1 tensors"),this.inputLayers.push(C),this.inputLayersNodeIndices.push(k),this.inputLayersTensorIndices.push(N)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let g=0;g<this.inputLayers.length;g++){const C=this.inputLayers[g];if(!(C instanceof Xx))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${g} (0-based) originates from layer type ${C.getClassName()}.`);this.inputNames.push(C.name),this.feedInputShapes.push(C.batchInputShape),this.feedInputNames.push(C.name)}for(const g of this.outputLayers)this.outputNames.push(g.name);this.internalInputShapes=this.inputs.map(g=>g.shape),this.internalOutputShapes=this.outputs.map(g=>g.shape);const n={},r={},s={},i={},a={},o=[],l=(g,C,k,N,A,O)=>{(N==null||A==null||O==null)&&(N=g.sourceLayer,A=g.nodeIndex,O=g.tensorIndex);const R=N.inboundNodes[A];if(k.indexOf(R)!==-1)throw new Ca(`The tensor ${g.name} at layer "${N.name}" is part of a cycle.`);if(C.indexOf(R)!==-1)return;this.containerNodes.add(nl.nodeKey(N,A)),N.id in a||(a[N.id]=Object.keys(a).length),k.indexOf(R)===-1&&k.push(R);const $=R.inboundLayers.length;for(let D=0;D<$;D++){const B=R.inputTensors[D],M=R.inboundLayers[D],z=R.nodeIndices[D],W=R.tensorIndices[D];l(B,C,k,M,z,W)}for(C.push(R);k.indexOf(R)>=0;)k.splice(k.indexOf(R),1);o.push(R)},c=[],u=[];for(const g of this.outputs)l(g,c,u);const d=o.slice().reverse();for(const g of d){r[g.id]=g,g.id in n||(n[g.id]=0);let C=n[g.id];const k=s[g.outboundLayer.id]==null?0:s[g.outboundLayer.id];C=Math.max(C,k),s[g.outboundLayer.id]=C,i[g.outboundLayer.id]=g.outboundLayer,n[g.id]=C;for(let N=0;N<g.inboundLayers.length;N++){const A=g.inboundLayers[N],O=g.nodeIndices[N],R=A.inboundNodes[O],$=n[R.id]==null?0:n[R.id];n[R.id]=Math.max(C+1,$),r[R.id]=R}}const h={};for(const g in n){const C=n[g];C in h||(h[C]=[]),h[C].push(r[g])}const p={};for(const g in s){const C=s[g];C in p||(p[C]=[]),p[C].push(i[g])}let m=Object.keys(p).map(g=>parseInt(g,10)).sort(ew);this.layers=[];for(const g of m){const C=p[g];C.sort((k,N)=>{const A=a[k.id],O=a[N.id];return A<O?-1:A>O?1:0});for(const k of C)k instanceof nl&&this.internalContainerRefs.push(k),this.layers.push(k)}this.layersByDepth=p,m=Object.keys(h).map(g=>parseInt(g,10)).sort(ew);const f=this.inputs.slice(),b=[];for(const g of m)for(const C of h[g]){const k=C.outboundLayer;if(k!=null){for(const N of C.inputTensors)if(f.indexOf(N)===-1)throw new Ca(`Graph disconnected: cannot obtain value for tensor ${N} at layer "${k.name}". The following previous layers were accessed without issue: ${b}`);for(const N of C.outputTensors)f.push(N);b.push(k.name)}}this.nodesByDepth=h;const w=this.layers.map(g=>g.name);for(const g of w){const C=w.filter(k=>k===g).length;if(C!==1)throw new Ca(`The name "${g}" is used ${C} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(w))}this.outboundNodes=[],this.inboundNodes=[],new Xk({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(g=>null),outputMasks:this.outputs.map(g=>null),inputShapes:this.inputs.map(g=>g.shape),outputShapes:this.outputs.map(g=>g.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new Se("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const r={};let s=0;for(const a of this.layers)for(const o of a.weights){if(r[o.originalName]!=null)throw new Se(`Duplicate weight name: ${o.originalName}`);r[o.originalName]=o,s++}const i=[];for(const a in e){let o=a;if(r[a]==null){const l=a.split("/");o=l.slice(0,-2).concat([l[l.length-1]]).join("/")}if(r[o]!=null)i.push([r[o],e[a]]);else if(n)throw new Se(`Provided weight data has no target variable: ${a}`);delete r[o]}if(n){const a=[];for(const o in r)a.push(o);if(a.length>0)throw new Se(`${a.length} of ${s} weights are not set: ${a}`)}tM(i)}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${XG}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const r=eR(this.updatedConfig());return n?JSON.stringify(r):r}call(e,n){return De(()=>{e=Ar(e);const r=new ad;for(let s=0;s<this.inputs.length;++s)r.add(this.inputs[s],e[s]);return Av(this.outputs,r,n)})}computeMask(e,n){return De(()=>{e=Ar(e);let r;return n==null?r=hp(null,e.length):r=Ar(n),this.runInternalGraph(e,r)[1]})}computeOutputShape(e){const n=pS(e);if(n.length!==this.inputLayers.length)throw new Se(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let o=0;o<n.length;o++){const l=this.inputLayers[o],c=n[o],u=l.name+"_0_0";r[u]=c}const s=Object.keys(this.nodesByDepth).map(o=>parseInt(o,10)).sort(ew);if(s.length>1)for(const o of s){const l=this.nodesByDepth[o];for(const c of l){const u=c.outboundLayer;if(this.inputLayers.map(f=>f.id).indexOf(u.id)!==-1)continue;const d=[];for(let f=0;f<c.inboundLayers.length;f++){const b=c.inboundLayers[f],w=c.nodeIndices[f],g=c.tensorIndices[f],C=`${b.name}_${w}_${g}`,k=r[C];d.push(k)}const h=u.computeOutputShape(Gi(d)),p=pS(h),m=u.inboundNodes.indexOf(c);for(let f=0;f<p.length;f++){const b=`${u.name}_${m}_${f}`;r[b]=p[f]}}}const i=[],a=[];for(let o=0;o<this.outputLayers.length;o++){const l=this.outputLayers[o],c=this.outputLayersNodeIndices[o],u=this.outputLayersTensorIndices[o],d=`${l.name}_${c}_${u}`;a.push(d)}for(let o=0;o<a.length;o++){const l=a[o];zl(l in r),i.push(r[l])}return Gi(i)}runInternalGraph(e,n){n==null&&(n=hp(null,e.length));const r={};for(let l=0;l<this.inputs.length;++l){const c=this.inputs[l],u=e[l],d=n[l];r[c.id]=[u,d]}const s=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(ew);for(const l of s){const c=this.nodesByDepth[l];for(const u of c){const d=u.outboundLayer,h=u.inputTensors,p=u.outputTensors,m=new Array;for(const f of h)f.id in r&&m.push(r[f.id]);if(m.length===h.length){let f={},b,w,g,C;if(u.callArgs!=null&&(f=u.callArgs),m.length===1){const[k,N]=m[0];f.mask==null&&(f.mask=N),g=Ar(d.call(k,f)),C=Ar(d.computeMask(k,N)),b=[k],w=[N]}else b=m.map(k=>k[0]),w=m.map(k=>k[1]),f.mask==null&&(f.mask=w),g=Ar(d.call(b,f)),C=Ar(d.computeMask(b,w));if(d.activityRegularizer)throw new Cn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let k=0;k<p.length;++k){const N=p[k],A=g[k],O=C[k];r[N.id]=[A,O]}}}}const i=[],a=[],o=[];for(const l of this.outputs){zl(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[c,u]=r[l.id];o.push(c.shape),i.push(c),a.push(u)}return[i,a,o]}buildNodeConversionMap(e){const n={};let r;for(const s of this.layers){r=s instanceof nl?1:0;for(let i=0;i<s.inboundNodes.length;i++){const a=nl.nodeKey(s,i);this.containerNodes.has(a)&&(n[a]=r,r+=1)}}return n}getLayer(e,n){if(n!=null){if(this.layers.length<=n)throw new Se(`Was asked to retrieve layer at index ${n}, but model only has ${this.layers.length} layer(s).`);return this.layers[n]}else if(e==null)throw new Se("Provide either a layer name or layer index");for(const r of this.layers)if(r.name===e)return r;throw new Se(`No such layer: ${e}`)}calculateLosses(){return De(()=>{const e=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const s=nl.nodeKey(n,r);this.containerNodes.has(s)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const a of this.layers){const o=a.getClassName(),l=a.getConfig(),c=[];for(let d=0;d<a.inboundNodes.length;d++){const h=a.inboundNodes[d],p=nl.nodeKey(a,d);let m={};if(this.containerNodes.has(p)){if(h.callArgs)try{JSON.stringify(h.callArgs),m=h.callArgs}catch{console.warn(`Layer ${a.name} was passed non-serializable keyword arguments: ${h.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),m={}}if(h.inboundLayers.length>0){const f=[];for(let b=0;b<h.inboundLayers.length;b++){const w=h.inboundLayers[b],g=h.nodeIndices[b],C=h.tensorIndices[b],k=nl.nodeKey(w,g);let N=n[k];N==null&&(N=0),f.push([w.name,N,C,m])}c.push(f)}}}const u={};u.name=a.name,u.className=o,u.config=l,u.inboundNodes=c,r.push(u)}e.layers=r;const s=[];for(let a=0;a<this.inputLayers.length;a++){const o=this.inputLayers[a],l=this.inputLayersNodeIndices[a],c=nl.nodeKey(o,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const d=this.inputLayersTensorIndices[a];s.push([o.name,u,d])}e.inputLayers=s;const i=[];for(let a=0;a<this.outputLayers.length;a++){const o=this.outputLayers[a],l=this.outputLayersNodeIndices[a],c=nl.nodeKey(o,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const d=this.outputLayersTensorIndices[a];i.push([o.name,u,d])}return e.outputLayers=i,e}static fromConfig(e,n,r={},s=!1){const i={},a={};function o(b,w){b.name in a?a[b.name].push(w):a[b.name]=[w]}function l(b,w){const g=[];let C;for(const k of w){const N=k[0],A=k[1],O=k[2];if(C=k[3]==null?{}:k[3],!(N in i)){o(b,w);return}const R=i[N];if(R.inboundNodes.length<=A){o(b,w);return}const $=R.inboundNodes[A];g.push($.outputTensors[O])}g.length>0&&b.apply(Gi(g),C)}function c(b){const w=b.name,g=oc(b,n.customObjects!=null?n.customObjects:{});g.setFastWeightInitDuringBuild(s),i[w]=g,b.inboundNodes.forEach(k=>{if(!(k instanceof Array))throw new Se(`Corrupted configuration, expected array for nodeData: ${k}`);o(g,k)})}const u=n.name,d=n.layers;for(const b of d)c(b);for(;!lwe(a);)for(const b of d){const w=i[b.name];if(w.name in a){const g=a[w.name];delete a[w.name];for(const C of g)l(w,C)}}const h=[],p=[],m=n.inputLayers;for(const b of m){const w=b[0],g=b[1],C=b[2];zl(w in i);const N=i[w].inboundNodes[g].outputTensors;h.push(N[C])}const f=n.outputLayers;for(const b of f){const w=b[0],g=b[1],C=b[2];zl(w in i);const N=i[w].inboundNodes[g].outputTensors;p.push(N[C])}return new e({inputs:h,outputs:p,name:u})}get stateful(){if(this._stateful)throw new Se("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){De(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function __e(t,e,n){const r=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(s=>null);if(r===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==r)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const s=[];return e.forEach(i=>{i in t?s.push(t[i]):s.push(null)}),s}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function KG(t,e){return __e(t,e,"classWeight")}async function JG(t,e,n,r){if(e!=null||r!=null)throw new Error("Support sampleWeight is not implemented yet");if(n!=null){const s=De(()=>{if(t.shape.length===1)return Ff(t);if(t.shape.length===2){if(t.shape[1]>1)return Ky(t,1);if(t.shape[1]===1)return Oe(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await s.data());kn(s);const a=[];return i.forEach(o=>{if(n[o]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${o} exists in the data but not in classWeight`);a.push(n[o])}),yo(a,"float32")}else return null}function S_e(t,e){return Te(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const C_e=32;function QG(t,e){let n,r;const s=e;n=s.xs,r=s.ys,oe(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const i=Yj("input",t.inputNames,n),a=Yj("output",t.outputNames,r),o=i[0].shape[0];oe(i.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),oe(a.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${a.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let l=0;l<i.length;l++)oe(i[l].shape[0]===o,()=>`Batch size mismatch: input ${t.inputNames[l]} has ${i[l].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);for(let l=0;l<a.length;l++)oe(a[l].shape[0]===o,()=>`Batch size mismatch: output ${t.outputNames[l]} has ${a[l].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);return{xs:i,ys:a}}function Yj(t,e,n){if(n instanceof Qr)return[n];if(Array.isArray(n))return oe(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const r=[];for(const s of e){if(n[s]==null)throw new Se(`The feature data generated by the dataset lacks the required ${t} key '${s}'.`);r.push(n[s])}return r}}function k_e(t){if(t.length===3)throw new Cn("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function E_e(t,e,n){const r=n.batchesPerEpoch!=null;if(oe(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),oe(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),oe(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),oe(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),oe(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const s=n.validationData!=null;let i,a;if(s)if(qj(n.validationData))oe(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const b=k_e(n.validationData);i=b.xs,a=b.ys}const o=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let c;s?c=l.slice().concat(l.map(b=>"val_"+b)):c=l.slice();const u=zG(n.callbacks,n.yieldEvery),d=n.verbose==null?1:n.verbose,{callbackList:h,history:p}=UG(u,d,n.epochs,null,null,T_e(e,n),null,s,c);h.setModel(t),t.history=p,await h.onTrainBegin(),t.stopTraining_=!1;let m=n.initialEpoch==null?0:n.initialEpoch,f=await e.iterator();for(;m<n.epochs;){const b={};await h.onEpochBegin(m);let w=0,g=0;for(r||(f=await e.iterator());!r||w<n.batchesPerEpoch;){const C=await f.next();if(r&&C.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${w} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(C.value!=null){const{xs:k,ys:N}=QG(t,C.value),A={};A.batch=g,A.size=k[0].shape[0],await h.onBatchBegin(g,A);const O=[];if(n.classWeight!=null){const D=KG(n.classWeight,t.outputNames);for(let B=0;B<D.length;++B)O.push(await JG(N[B],null,D[B]))}const R=k.concat(N).concat(O),$=o(R);kn(R);for(let D=0;D<l.length;++D){const B=l[D],M=$[D];A[B]=M,nc(M)}await h.onBatchEnd(g,A),jG(A),g++,w++}if(r?w>=n.batchesPerEpoch:C.done){if(s){let k;qj(n.validationData)?k=Ar(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):k=Ar(t.evaluate(i,a,{batchSize:n.validationBatchSize==null?C_e:n.validationBatchSize,verbose:0}));for(let N=0;N<t.metricsNames.length;++N)b[`val_${t.metricsNames[N]}`]=k[N]}break}if(t.stopTraining_)break}if(await h.onEpochEnd(m,b),m++,t.stopTraining_)break}return await h.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function T_e(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function qj(t){return typeof t.iterator=="function"}function I_e(t){return typeof t.next=="function"}async function A_e(t,e,n){n=n||{};const r=n.batches!=null,s=t.testFunction;let i=[];if(n.verbose>0)throw new Cn("Verbose mode is not implemented yet.");oe(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const a=I_e(e)?e:await e.iterator();let o=0,l=0;for(;!r||l<n.batches;){const c=await a.next();if(i=De(()=>{if(c.value){const{xs:u,ys:d}=QG(t,c.value),h=u.concat(d),p=De(()=>s(h));if(kn(h),l===0)for(let f=0;f<p.length;++f)i.push(ir(0));const m=h[0].shape[0];for(let f=0;f<p.length;++f){const b=p[f],w=i[f];i[f]=De(()=>yt(i[f],Te(m,b))),l>0&&kn(w)}kn(p),o+=m,++l}return i}),c.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let c=0;c<i.length;++c){const u=i[c];i[c]=un(i[c],o),kn(u)}return Gi(i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function KT(t){oe(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function ov(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(r=>zf(r,e,n-e)):zf(t,e,n-e)}function tR(t,e){return De(()=>t==null?null:Array.isArray(t)?t.map(n=>tR(n,e)):EG(t,e.dtype==="int32"?e:Dt(e,"int32")))}function JT(t,e){const n=[];let r=0,s=null;for(;r<t;)s=r+e,s>=t&&(s=t),n.push([r,s]),r=s;return n}function ZG(t){const e=[];t instanceof Qr&&(t=[t]);for(let n=0;n<t.length;++n){const r=t[n];if(r.rank===1)e.push(Hx(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function Za(t,e){if(t==null)return;const n=[];if(e instanceof Qr)n.push(e.id);else if(Array.isArray(e))e.forEach(s=>n.push(s.id));else if(e!=null)for(const s in e){const i=e[s];n.push(i.id)}const r=[];if(t instanceof Qr)n.indexOf(t.id)===-1&&r.push(t);else if(Array.isArray(t))t.forEach(s=>{n.indexOf(s.id)===-1&&r.push(s)});else if(t!=null)for(const s in t){const i=t[s];n.indexOf(i.id)===-1&&r.push(i)}r.forEach(s=>{s.isDisposed||s.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function N_e(t){return t instanceof Qr}function nR(t){return Array.isArray(t)}function Xj(t){return!N_e(t)&&!nR(t)}function Kj(t,e,n,r=!0,s=""){if(e==null||e.length===0){if(t!=null){let a=!1;if(nR(t)&&t.length>0)a=!0;else if(Xj(t)){for(const o in t)if(t.hasOwnProperty(o)){a=!0;break}}else a=!0;if(a)throw new Se(`Error when checking model ${s} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(a=>null);let i;if(Xj(t)){t=t,i=[];for(const a of e){if(t[a]==null)throw new Se(`No data provided for "${a}". Need data for each key in: ${e}`);i.push(t[a])}}else if(nR(t)){if(t=t,t.length!==e.length)throw new Se(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);i=t}else{if(t=t,e.length>1)throw new Se(`The model ${s} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);i=[t]}if(i=ZG(i),n!=null)for(let a=0;a<e.length;++a){if(n[a]==null)continue;const o=i[a];if(o.shape.length!==n[a].length)throw new Se(`Error when checking ${s}: expected ${e[a]} to have ${n[a].length} dimension(s). but got array with shape ${o.shape}`);for(let l=0;l<n[a].length;++l){if(l===0&&!r)continue;const c=o.shape[l],u=n[a][l];if(u!=null&&u>=0&&c!==u)throw new Se(`${s} expected a batch of elements where each example has shape [${n[a].slice(1,n[a].length)}] (i.e.,tensor shape [*,${n[a].slice(1,n[a].length)}]) but the ${s} received an input with ${o.shape[0]} examples, each with shape [${o.shape.slice(1,o.shape.length)}] (tensor shape [${o.shape}])`)}}return i}function R_e(t,e,n){const r=Id(t.map(i=>i.shape[0]));r.sort();const s=Id(e.map(i=>i.shape[0]));if(s.sort(),r.length>1)throw new Se(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(i=>i.shape))}`);if(s.length>1)throw new Se(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(r.length>0&&s.length>0&&!rr(r,s))throw new Se(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${s[0]} target sample(s).`)}function O_e(t,e,n){const r=[Kk,Jk,nb];for(let s=0;s<t.length;++s){const i=t[s],a=e[s],o=n[s];if(a!=null){if(a===nb&&i.shape[i.shape.length-1]===1)throw new Se(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(a)!==-1){const l=i.shape.slice(1),c=o.slice(1);for(let u=0;u<l.length;++u){const d=l[u],h=c[u];if(h!=null&&d!==h)throw new Se(`A target Tensor with shape ${i.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function Jj(t,e,n,r=!0,s=""){let i;if(Array.isArray(t)){if(t.length!==e.length)throw new Se(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);i=t}else{if(e.length>1)throw new Se(`The model expects ${e.length} ${s} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);i=[t]}if(n!=null)for(let a=0;a<e.length;++a){if(n[a]==null)continue;const o=i[a];if(o.shape.length!==n[a].length)throw new Se(`Error when checking ${s}: expected ${e[a]} to have ${n[a].length} dimension(s), but got array with shape ${JSON.stringify(o.shape)}`);for(let l=0;l<n[a].length;++l){if(l===0&&!r)continue;const c=o.shape[l],u=n[a][l];if(u!=null&&u!==c)throw new Se(`Error when checking ${s}: expected ${e[a]} to have shape ${JSON.stringify(n[a])} but got array with shape ${JSON.stringify(o.shape)}.`)}}}function $_e(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(r=>n);{const r=[];for(const s of e){let i=n.hasOwnProperty(s)?n[s]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}const D_e="layers-model";class Nm extends nl{constructor(e){super(e),this.isTraining=!1}summary(e,n,r=console.log){if(!this.built)throw new Se("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");v_e(this,e,n,r)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=g_e(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof lh))throw new Se("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const a in e.loss)if(this.outputNames.indexOf(a)===-1)throw new Se(`Unknown entry in loss dictionary: "${a}". Only expected the following keys: ${this.outputNames}`);for(const a of this.outputNames)e.loss[a]==null&&console.warn(`Output "${a}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${a} during training`),n.push(XT(e.loss[a]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Se(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(o=>XT(o))}else{const a=XT(e.loss);this.outputs.forEach(o=>{n.push(a)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let a=0;a<this.outputs.length;++a){const o=this.internalOutputShapes[a],l=this.outputNames[a];this.feedOutputNames.push(l),this.feedOutputShapes.push(o),this.feedLossFns.push(this.lossFunctions[a])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],jf("loss",()=>{for(let a=0;a<this.outputs.length;++a){if(r.indexOf(a)!==-1)continue;const o=this.lossFunctions[a];this.outputs.length>1&&(this.metricsTensors.push([o,a]),this.metricsNames.push(this.outputNames[a]+"_loss"))}});const s=$_e(e.metrics,this.outputNames),i=(a,o,l)=>{this.outputNames.length>1&&(o=this.outputNames[a]+"_"+o),this.metricsNames.push(o),this.metricsTensors.push([l,a])};jf("metric",()=>{for(let a=0;a<this.outputs.length;++a){if(r.indexOf(a)!==-1)continue;const o=s[a];(c=>{const u="";let d,h,p;for(const m of c){if(typeof m=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(m)!==-1){const b=this.internalOutputShapes[a];b[b.length-1]===1||this.lossFunctions[a]===Jk?["accuracy","acc"].indexOf(m)!==-1?h=VG:["crossentropy","ce"].indexOf(m)!==-1&&(h=o_e):this.lossFunctions[a]===bS?["accuracy","acc"].indexOf(m)!==-1?h=a_e:["crossentropy","ce"].indexOf(m)!==-1&&(h=YG):["accuracy","acc"].indexOf(m)!==-1?h=GG:["crossentropy","ce"].indexOf(m)!==-1&&(h=HG);let w;["accuracy","acc"].indexOf(m)!==-1?w="acc":["crossentropy","ce"].indexOf(m)!==-1&&(w="ce"),p=h,d=u+w}else p=m_e(m),d=u+rw(m);let f;jf(d,()=>{f=p}),i(a,d,f)}})(o)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,r={}){const s=r.batchSize==null?32:r.batchSize;KT(s);const i=!0,a=this.standardizeUserDataXY(e,n,i,s);try{const o=a[0].concat(a[1]);this.makeTestFunction();const l=this.testFunction,c=this.testLoop(l,o,s,r.verbose,r.steps);return Gi(c)}finally{Za(a[0],e),Za(a[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),A_e(this,e,n)}checkNumSamples(e,n,r,s="steps"){let i;if(r!=null){if(i=null,n!=null)throw new Se(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?i=e[0].shape[0]:i=e.shape[0];else throw new Se(`Either the input data should have a defined shape, or ${s} shoud be specified.`);return i}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new Se("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),s=r?n:[n],i=this.retrieveSymbolicTensors(s),a=new ad;if(e instanceof Qr&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Se(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)a.add(this.inputs[l],e[l])}else for(const l of this.inputs){const c=e[l.name];if(c==null)throw new Se(`No value is provided for the model's input ${l.name}`);a.add(l,c)}const o=Av(i,a);return r?o:o[0]}retrieveSymbolicTensors(e){const n=hp(null,e.length);let r=e.length;for(const s of this.layers){const i=Array.isArray(s.output)?s.output:[s.output],a=i.map(o=>o.name);for(let o=0;o<e.length;++o){const l=a.indexOf(e[o]);if(l!==-1&&(n[o]=i[l],r--),r===0)break}if(r===0)break}if(r>0){const s=[];throw n.forEach((i,a)=>{i==null&&s.push(e[a])}),new Se(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(s)}`)}return n}predictLoop(e,n=32,r=!1){return De(()=>{const s=this.checkNumSamples(e);if(r)throw new Cn("Verbose predictLoop() is not implemented yet.");const i=JT(s,n),a=this.outputs.map(o=>[]);for(let o=0;o<i.length;++o)De(()=>{const c=i[o][0],u=i[o][1],d=ov(e,c,u),h=[];if(Array.isArray(d))for(let m=0;m<d.length;++m)h.push({key:this.inputs[m],value:d[m]});else h.push({key:this.inputs[0],value:d});const p=new ad(h);return Av(this.outputs,p)}).forEach((c,u)=>a[u].push(c));return Gi(a.map(o=>Yi(o,0)))})}predict(e,n={}){const r=ZG(e);Jj(r,this.inputNames,this.feedInputShapes,!1);try{const s=n.batchSize==null?32:n.batchSize;return KT(s),this.predictLoop(r,s)}finally{Za(r,e)}}predictOnBatch(e){Jj(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,r=!0,s){if(this.optimizer_==null)throw new Ca("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let a=0;a<this.feedOutputShapes.length;++a){const o=this.feedOutputShapes[a];this.feedLossFns[a]===bS?i.push(o.slice(0,o.length-1).concat([1])):i.push(o)}if(e=Kj(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=Kj(n,this.feedOutputNames,i,!1,"target"),R_e(e,n),O_e(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&s!=null&&s>0&&e[0].shape[0]%s!==0)throw new Se(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,r,s,i=!0,a){const[o,l]=this.standardizeUserDataXY(e,n,i,a);if(r!=null)throw new Error("sample weight is not supported yet.");let c=null;if(s!=null){const u=KG(s,this.outputNames);c=[];for(let d=0;d<u.length;++d)c.push(await JG(l[d],null,u[d]))}return[o,l,c]}testLoop(e,n,r,s=0,i){return De(()=>{const a=this.checkNumSamples(n,r,i,"steps"),o=[];if(s>0)throw new Cn("Verbose mode is not implemented yet.");if(i!=null)throw new Cn("steps mode in testLoop() is not implemented yet");{const l=JT(a,r),c=yo(xl(0,a));for(let u=0;u<l.length;++u){const d=l[u][0],h=l[u][1],p=zf(c,d,h-d),m=tR(n,p),f=e(m);if(u===0)for(let b=0;b<f.length;++b)o.push(ir(0));for(let b=0;b<f.length;++b){const w=f[b];o[b]=yt(o[b],Te(h-d,w))}}for(let u=0;u<o.length;++u)o[u]=un(o[u],a)}return o})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let r=0;r<e.length;++r){const s=e[r];let i=s;if(Pj(e,s)>1){const a=Pj(e.slice(0,r),s);i+=`_${a}`}n.push(i)}return n}makeTrainFunction(){return e=>{const n=[],r=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),a=[],o=()=>{const d=[];for(let f=0;f<this.inputs.length;++f)d.push({key:this.inputs[f],value:r[f]});const h=new ad(d),p=Av(this.outputs,h,{training:!0});let m;for(let f=0;f<this.lossFunctions.length;++f){const b=this.lossFunctions[f];let w=b(s[f],p[f]);i[f]!=null&&(w=S_e(w,i[f]));const g=ys(w);n.push(g),f===0?m=w:m=yt(m,w)}for(let f=0;f<this.metricsTensors.length;++f){let b;if(this.outputs.length>1&&f<this.outputs.length)b=n[f];else{const w=this.metricsTensors[f][0],g=this.metricsTensors[f][1];b=ys(w(s[g],p[g]))}nc(b),a.push(b)}return m=ys(m),this.calculateLosses().forEach(f=>{m=yt(m,f)}),m},l=this.collectedTrainableWeights.map(d=>d.read()),c=!0;return[this.optimizer_.minimize(o,c,l)].concat(a)}}makeTestFunction(){this.testFunction=e=>De(()=>{const n=[];let r;const s=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=[];for(let c=0;c<this.inputs.length;++c)a.push({key:this.inputs[c],value:s[c]});const o=new ad(a),l=Av(this.outputs,o);for(let c=0;c<this.lossFunctions.length;++c){const u=this.lossFunctions[c],d=ys(u(i[c],l[c]));c===0?r=d:r=yt(r,d),n.push(r)}for(let c=0;c<this.metricsTensors.length;++c){const u=this.metricsTensors[c][0],d=this.metricsTensors[c][1],h=ys(u(i[d],l[d]));n.push(h)}return n})}async fit(e,n,r={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let s,i,a,o,l,c,u,d,h;try{const p=r.batchSize==null?32:r.batchSize;KT(p);const m=!1,f=await this.standardizeUserData(e,n,r.sampleWeight,r.classWeight,m,p);s=f[0],i=f[1],h=f[2];let b=!1,w;if(r.validationData!=null&&r.validationData.length>0){if(b=!0,r.validationData.length===2)l=r.validationData[0],c=r.validationData[1];else throw r.validationData.length===3?new Cn("validationData including sample weights is not supported yet."):new Se(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const $=!0,D=await this.standardizeUserData(l,c,null,null,$,p);u=D[0],d=D[1],w=u.concat(d)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){b=!0;const $=Math.floor(s[0].shape[0]*(1-r.validationSplit)),D=s[0].shape[0];u=ov(s,$,D),a=s,s=ov(s,0,$),d=ov(i,$,D),o=i,i=ov(i,0,$),w=u.concat(d)}else r.validationSteps!=null&&(b=!0);const g=s.concat(i).concat(h);this.checkTrainableWeightsConsistency();const C=this.makeTrainFunction(),k=this.getDedupedMetricsNames();let N,A;b?(this.makeTestFunction(),N=this.testFunction,A=k.slice().concat(k.map($=>"val_"+$))):(N=null,w=[],A=k.slice());const O=zG(r.callbacks,r.yieldEvery);return await this.fitLoop(C,g,k,p,r.epochs,r.verbose,O,N,w,r.shuffle,A,r.initialEpoch,null,null)}finally{this.isTraining=!1,Za(s,e),Za(i,n),Za(a,e),Za(o,n),Za(u,l),Za(d,c),h!=null&&kn(h)}}async fitLoop(e,n,r,s,i,a,o,l,c,u,d,h,p,m){s==null&&(s=32),i==null&&(i=1),u==null&&(u=!0),h==null&&(h=0);let f=!1;if(l!=null&&c!=null&&(f=!0),m!=null&&(f=!0,p==null))throw new Se("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const b=this.checkNumSamples(n,s,p,"steps_per_epoch");let w;b!=null&&(w=xl(0,b)),a==null&&(a=1);const{callbackList:g,history:C}=UG(o,a,i,h,b,p,s,f,d);g.setModel(this),this.history=C,await g.onTrainBegin(),this.stopTraining_=!1;for(let k=h;k<i;++k){await g.onEpochBegin(k);const N={};if(p!=null)throw new Cn("stepsPerEpoch mode is not implemented yet.");{if(u==="batch")throw new Cn("batch shuffling is not implemneted yet");u&&hpe(w);const A=yo(w),O=JT(b,s);for(let R=0;R<O.length;++R){const $={};if(await g.onBatchBegin(R,$),De(()=>{const D=O[R][0],B=O[R][1],M=zf(A,D,B-D);$.batch=R,$.size=B-D;const z=tR(n,M),W=e(z);for(let V=0;V<r.length;++V){const q=r[V],H=W[V];$[q]=H,nc(H)}if(R===O.length-1&&f){const V=this.testLoop(l,c,s);for(let q=0;q<r.length;++q){const H=r[q],K=V[q];nc(K),N["val_"+H]=K}}}),await g.onBatchEnd(R,$),jG($),this.stopTraining_)break}A.dispose()}if(await g.onEpochEnd(k,N),this.stopTraining_)break}return await g.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return E_e(this,e,n)}async trainOnBatch(e,n){const r=await this.standardizeUserData(e,n),s=r[0],i=r[1],o=this.makeTrainFunction()(s.concat(i)),l=[];for(const c of o){const u=await c.data();l.push(u[0])}return kn(o),Za(r[0],e),Za(r[1],n),Gi(l)}getNamedWeights(e){const n=[],r=e!=null&&e.trainableOnly,s=r?this.trainableWeights:this.weights,i=this.getWeights(r);for(let a=0;a<s.length;++a)r&&!s[a].trainable||n.push({name:s[a].originalName,tensor:i[a]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=DN().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-DN().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=qc(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>qc(n))}else{const n=Object.keys(this.loss);e={};const r=this.loss;for(const s of n)if(typeof r[s]=="string")e[s]=qc(r[s]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[qc(rw(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>qc(rw(e)));{const e={};for(const n in this.metrics)e[n]=qc(rw(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=SS(e.optimizer_config),r=oc(n);let s;if(typeof e.loss=="string")s=bf(e.loss);else if(Array.isArray(e.loss))s=e.loss.map(a=>bf(a));else if(e.loss!=null){s={};for(const a in e.loss)s[a]=bf(e.loss[a])}let i;if(Array.isArray(e.metrics))i=e.metrics.map(a=>bf(a));else if(e.metrics!=null){i={};for(const a in e.metrics)i[a]=bf(e.metrics[a])}this.compile({loss:s,metrics:i,optimizer:r})}async save(e,n){if(typeof e=="string"){const c=dme(e);if(c.length===0)throw new Se(`Cannot find any save handlers for URL '${e}'`);if(c.length>1)throw new Se(`Found more than one (${c.length}) save handlers for URL '${e}'`);e=c[0]}if(e.save==null)throw new Se("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await vj(this.getNamedWeights(n)),s=!1,i=null,o={modelTopology:this.toJSON(i,s),format:D_e,generatedBy:`TensorFlow.js tfjs-layers v${XG}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){o.trainingConfig=this.getTrainingConfig();const c="optimizer",{data:u,specs:d}=await vj(await this.optimizer.getWeights(),c);r.specs.push(...d),r.data=V3([r.data,u])}return this.userDefinedMetadata!=null&&(Hj(this.userDefinedMetadata,this.name,!0),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=r.data,o.weightSpecs=r.specs,e.save(o)}setUserDefinedMetadata(e){Hj(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}Nm.className="Model";ht(Nm);class eH extends Nm{}eH.className="Functional";ht(eH);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function ld(t,e){if(e==null&&(e={}),typeof t=="string"){const n=hme(t,e);if(n.length===0)n.push(Vbe(t,e));else if(n.length>1)throw new Se(`Found more than one (${n.length}) load handlers for URL '${t}'`);t=n[0]}return P_e(t,void 0,e)}async function P_e(t,e,n){if(n==null&&(n={}),t.load==null)throw new Se("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const r=await t.load();let s=r.modelTopology;s.model_config!=null&&(s=s.model_config);const i=n.strict==null?!0:n.strict,a=r.weightData!=null&&r.weightSpecs!=null&&i,o=oc(SS(s),e,a),l=r.trainingConfig;if(l!=null&&o.loadTrainingConfig(l),r.userDefinedMetadata!=null&&o.setUserDefinedMetadata(r.userDefinedMetadata),r.weightData!=null){if(r.weightSpecs==null)throw new Se("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:c,optimizerWeights:u}=M_e(r.weightData,r.weightSpecs);o.loadWeights(c,i),o.optimizer!=null&&u.length>0&&await o.optimizer.setWeights(u),kn(c),kn(u.map(d=>d.tensor))}return o}function M_e(t,e){const n=Zpe(t,e),r={},s=[];return e.forEach(i=>{i.group==="optimizer"?s.push({name:i.name,tensor:n[i.name]}):r[i.name]=n[i.name]}),{modelWeights:r,optimizerWeights:s}}class rb extends Nm{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:Yk("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new Se(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof rb||e instanceof Nm;let r;if(n){if(r=e,r.outputs.length!==1)throw new Se("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new Se("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new Se("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const s=Bwe({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(s)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(e.inboundNodes.length!==1)throw new Se(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new Se("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=PG(this.outputs[0])}this.inboundNodes=[],new Xk({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:hp(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(s=>s.shape),outputShapes:this.outputs[0].shape})}else{const s=e.apply(this.outputs[0]);if(Array.isArray(s))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[s],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(Gn(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Nm({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,r=console.log){this.built||this.build(),super.summary(e,n,r)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,r={}){if(!this.built)throw new Ca("The model needs to be compiled before being used.");return this.model.evaluate(e,n,r)}async evaluateDataset(e,n){if(!this.built)throw new Ca("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,r={}){if(!this.built)throw new Ca("The model needs to be compiled before being used.");return this.model.fit(e,n,r)}async fitDataset(e,n){if(!this.built)throw new Ca("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,r={},s=!1){let i,a={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new Se("Legacy serialization format not supported yet.");i=n}else oe(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=n.layers,delete n.layers,a=n;const o=new e(a);if(!(o instanceof rb))throw new Cn(`Sequential.fromConfig called on non-Sequential input: ${o}`);for(const l of i){const u=oc(l,void 0,s);s&&u.setFastWeightInitDuringBuild(!0),o.add(u)}return o}set stopTraining(e){if(this.model==null)throw new Se("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new Se("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),e.push(r)}return{name:this.name,layers:e}}}rb.className="Sequential";ht(rb);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let eo=class extends Pg{getConfig(){return{}}};class tH extends eo{apply(e,n=1){return Swe(e,n)}}tH.className="elu";ht(tH);class nH extends eo{apply(e){return gV(e)}}nH.className="selu";ht(nH);class rH extends eo{apply(e){return Ep(e)}}rH.className="relu";ht(rH);class sH extends eo{apply(e){return De(()=>Zy(6,Ep(e)))}}sH.className="relu6";ht(sH);class iH extends eo{apply(e){return e}}iH.className="linear";ht(iH);class oH extends eo{apply(e){return Og(e)}}oH.className="sigmoid";ht(oH);class aH extends eo{apply(e){return kwe(e)}}aH.className="hardSigmoid";ht(aH);class lH extends eo{apply(e){return Lx(e)}}lH.className="softplus";ht(lH);class cH extends eo{apply(e){return Cwe(e)}}cH.className="softsign";ht(cH);class uH extends eo{apply(e){return WD(e)}}uH.className="tanh";ht(uH);let iM=class extends eo{apply(e,n=-1){return oP(e,n)}};iM.className="softmax";ht(iM);class dH extends eo{apply(e,n=-1){return cV(e,n)}}dH.className="logSoftmax";ht(dH);class hH extends eo{apply(e,n=1){return De(()=>Te(Og(Te(e,n)),e))}}hH.className="swish";ht(hH);class fH extends eo{apply(e){return De(()=>Te(e,WD(Lx(e))))}}fH.className="mish";ht(fH);function Gd(t){return t.getClassName()}function QT(t,e={}){return Gx(t,ya.getMap().classNameMap,e,"activation")}function Hd(t){if(t==null){const e={};return e.className="linear",e.config={},QT(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},QT(e)}else return t instanceof eo?t:QT(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function B_e(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class pH extends Pg{}class mH extends pH{constructor(e){super(),B_e(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return De(()=>{let n=bs([1]);return this.hasL1&&(n=yt(n,on(Te(this.l1,wi(e))))),this.hasL2&&(n=yt(n,on(Te(this.l2,Yx(e))))),Oe(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}mH.className="L1L2";ht(mH);const Qj={l1l2:"L1L2"};function br(t){return GP(t)}function Zj(t,e={}){return Gx(t,ya.getMap().classNameMap,e,"regularizer")}function Vr(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in Qj?Qj[t]:t,config:{}};return Zj(n)}else return t instanceof pH?t:Zj(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class gH extends Nn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=pn(e);let r=Ep(e);return this.maxValue!=null&&(r=Qo(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}gH.className="ReLU";ht(gH);class vH extends Nn{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=pn(e);return JD(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}vH.className="LeakyReLU";ht(vH);class yH extends Nn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=Wr(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Vr(e.alphaRegularizer),this.alphaConstraint=As(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new Se(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=Gn(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const s of this.sharedAxes)n[s-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let s=1;s<e.length;++s)r[s]=e[s];this.inputSpec=[new Ts({ndim:e.length,axes:r})],this.built=!0}call(e,n){return e=pn(e),rP(e,this.alpha.read())}getConfig(){const e={alphaInitializer:ts(this.alphaInitializer),alphaRegularizer:br(this.alphaRegularizer),alphaConstraint:Is(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}yH.className="PReLU";ht(yH);let bH=class extends Nn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new Cn(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=pn(e);return Fk(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};bH.className="ELU";ht(bH);class xH extends Nn{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const r=pn(e);return Te(r,Dt(sa(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}xH.className="ThresholdedReLU";ht(xH);class wH extends Nn{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new iM().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){const r=pn(e);return this.softmax(r,this.axis)}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}wH.className="Softmax";ht(wH);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Rm(t,e,n){if(typeof t=="number")return hp(t,e);if(t.length!==e)throw new Se(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let r=0;r<e;++r){const s=t[r];if(!bwe(s))throw new Se(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${s}`)}return t}function gl(t,e,n,r,s=1){if(t==null)return t;const i=e+(e-1)*(s-1);let a;return n==="same"?a=t:a=t-i+1,Math.floor((a+r-1)/r)}function Ul(t,e,n,r){if(t==null)return null;if(r==="valid")t=t*e+Vd([n-e,0]);else if(r==="same")t=t*e;else throw new Se(`Unsupport padding mode: ${r}.`);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function oM(t,e){return De(()=>(ps(e),e==="channelsFirst"?jn(t,[0,2,3,1]):t))}function _H(t,e){return De(()=>(ps(e),e==="channelsFirst"?jn(t,[0,2,3,4,1]):t))}function L_e(t,e,n,r=1,s="valid",i,a=1){return De(()=>{if(i==null&&(i=wl()),ps(i),t.shape.length!==3)throw new Se(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new Se(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new Se(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if(i==="channelsFirst"&&(t=jn(t,[0,2,1])),s==="causal")throw new Cn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=eV(t,e,r,s==="same"?"same":"valid","NWC",a);return n!=null&&(o=El(o,n)),o})}function e6(t,e,n,r=[1,1],s="valid",i,a,o=null){return De(()=>{if(i==null&&(i=wl()),ps(i),t.rank!==3&&t.rank!==4)throw new Se(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new Se(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let l=oM(t,i);if(s==="causal")throw new Cn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=Hye({x:l,filter:e,strides:r,pad:s==="same"?"same":"valid",dilations:a,dataFormat:"NHWC",bias:n,activation:o}),i==="channelsFirst"&&(l=jn(l,[0,3,1,2])),l})}function F_e(t,e,n,r=[1,1,1],s="valid",i,a){return De(()=>{if(i==null&&(i=wl()),ps(i),t.rank!==4&&t.rank!==5)throw new Se(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new Se(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let o=_H(t,i);if(s==="causal")throw new Cn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=Wge(o,e,r,s==="same"?"same":"valid","NDHWC",a),n!=null&&(o=El(o,n)),i==="channelsFirst"&&(o=jn(o,[0,4,1,2,3])),o})}class Qk extends Nn{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",Qk.verifyArgs(n),this.rank=e,Bs(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new Cn(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Rm(n.kernelSize,e,"kernelSize"),this.strides=Rm(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,ia(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,ps(this.dataFormat),this.activation=Hd(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=Wr(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=As(n.biasConstraint),this.biasRegularizer=Vr(n.biasRegularizer),this.activityRegularizer=Vr(n.activityRegularizer),this.dilationRate=Rm(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new Se(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new Se(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new Se(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(zl("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!HP(e.kernelSize,"number",1,3))throw new Se(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Gd(this.activation),useBias:this.useBias,biasInitializer:ts(this.biasInitializer),biasRegularizer:br(this.biasRegularizer),activityRegularizer:br(this.activityRegularizer),biasConstraint:Is(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class Mg extends Qk{constructor(e,n){super(e,n),this.kernel=null,Mg.verifyArgs(n),this.filters=n.filters,Bs(this.filters,"filters"),this.kernelInitializer=Wr(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=As(n.kernelConstraint),this.kernelRegularizer=Vr(n.kernelRegularizer)}build(e){e=Gn(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Se(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],s=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(e,n){return De(()=>{e=pn(e);let r;const s=this.bias==null?null:this.bias.read(),i=xG(this.activation.getClassName());if(i!=null&&this.rank===2)r=e6(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=L_e(e,this.kernel.read(),s,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=e6(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=F_e(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new Cn("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(e){e=Gn(e);const n=[],r=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let i=0;i<r.length;++i){const a=gl(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);n.push(a)}let s=[e[0]];return this.dataFormat==="channelsLast"?(s=s.concat(n),s.push(this.filters)):(s.push(this.filters),s=s.concat(n)),s}getConfig(){const e={filters:this.filters,kernelInitializer:ts(this.kernelInitializer),kernelRegularizer:br(this.kernelRegularizer),kernelConstraint:Is(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new Se(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class Jx extends Mg{constructor(e){super(2,e),Jx.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!HP(e.kernelSize,"number",1,2))throw new Se(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}Jx.className="Conv2D";ht(Jx);class Qx extends Mg{constructor(e){super(3,e),Qx.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new Se(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}Qx.className="Conv3D";ht(Qx);class SH extends Jx{constructor(e){if(super(e),this.inputSpec=[new Ts({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new Se(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Gn(e),e.length!==4)throw new Se("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Se("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ts({ndim:4,axes:{[n]:r}})],this.built=!0}call(e,n){return De(()=>{let r=pn(e);if(r.shape.length!==4)throw new Se(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let a,o;this.dataFormat==="channelsFirst"?(a=2,o=3):(a=1,o=2);const l=s[a],c=s[o],u=this.kernelSize[0],d=this.kernelSize[1],h=this.strides[0],p=this.strides[1],m=Ul(l,h,u,this.padding),f=Ul(c,p,d,this.padding),b=[i,m,f,this.filters];this.dataFormat!=="channelsLast"&&(r=jn(r,[0,2,3,1]));let w=tV(r,this.kernel.read(),b,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(w=jn(w,[0,3,1,2])),this.bias!=null&&(w=El(w,this.bias.read(),this.dataFormat)),this.activation!=null&&(w=this.activation.apply(w)),w})}computeOutputShape(e){e=Gn(e);const n=e.slice();let r,s,i;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3):(r=3,s=1,i=2);const a=this.kernelSize[0],o=this.kernelSize[1],l=this.strides[0],c=this.strides[1];return n[r]=this.filters,n[s]=Ul(n[s],l,a,this.padding),n[i]=Ul(n[i],c,o,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}SH.className="Conv2DTranspose";ht(SH);class CH extends Qx{constructor(e){if(super(e),this.inputSpec=[new Ts({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new Se(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Gn(e),e.length!==5)throw new Se("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Se("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ts({ndim:5,axes:{[n]:r}})],this.built=!0}call(e,n){return De(()=>{let r=pn(e);if(r.shape.length!==5)throw new Se(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let a,o,l;this.dataFormat==="channelsFirst"?(l=2,a=3,o=4):(l=1,a=2,o=3);const c=s[l],u=s[a],d=s[o],h=this.kernelSize[0],p=this.kernelSize[1],m=this.kernelSize[2],f=this.strides[0],b=this.strides[1],w=this.strides[2],g=Ul(c,f,h,this.padding),C=Ul(u,b,p,this.padding),k=Ul(d,w,m,this.padding),N=[i,g,C,k,this.filters];this.dataFormat!=="channelsLast"&&(r=jn(r,[0,2,3,4,1]));let A=Hge(r,this.kernel.read(),N,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(A=jn(A,[0,4,1,2,3])),this.bias!==null&&(A=El(A,this.bias.read(),this.dataFormat)),this.activation!==null&&(A=this.activation.apply(A)),A})}computeOutputShape(e){e=Gn(e);const n=e.slice();let r,s,i,a;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3,a=4):(r=4,s=1,i=2,a=3);const o=this.kernelSize[0],l=this.kernelSize[1],c=this.kernelSize[2],u=this.strides[0],d=this.strides[1],h=this.strides[2];return n[r]=this.filters,n[s]=Ul(n[s],u,o,this.padding),n[i]=Ul(n[i],d,l,this.padding),n[a]=Ul(n[a],h,c,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}CH.className="Conv3DTranspose";ht(CH);class kH extends Mg{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new Se("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new Se("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new Se(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=Wr(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Vr(n.depthwiseRegularizer),this.depthwiseConstraint=As(n.depthwiseConstraint),this.pointwiseInitializer=Wr(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Vr(n.pointwiseRegularizer),this.pointwiseConstraint=As(n.pointwiseConstraint)}build(e){if(e=Gn(e),e.length<this.rank+2)throw new Se(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new Se(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const r=e[n],s=this.kernelSize.concat([r,this.depthMultiplier]),i=[];for(let o=0;o<this.rank;++o)i.push(1);i.push(r*this.depthMultiplier,this.filters);const a=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,a,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,a,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,a,this.biasConstraint):this.bias=null,this.inputSpec=[new Ts({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(e,n){return De(()=>{e=pn(e);let r;if(this.rank===1)throw new Cn("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=jn(e,[0,2,3,1])),r=vV(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=El(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=jn(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=ts(this.depthwiseInitializer),e.pointwiseInitializer=ts(this.pointwiseInitializer),e.depthwiseRegularizer=br(this.depthwiseRegularizer),e.pointwiseRegularizer=br(this.pointwiseRegularizer),e.depthwiseConstraint=Is(this.depthwiseConstraint),e.pointwiseConstraint=Is(this.pointwiseConstraint),e}}kH.className="SeparableConv";class EH extends kH{constructor(e){super(2,e)}}EH.className="SeparableConv2D";ht(EH);class Zk extends Mg{constructor(e){super(1,e),Zk.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!HP(e.kernelSize,"number",1,1))throw new Se(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}Zk.className="Conv1D";ht(Zk);class TH extends Nn{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return De(()=>{if(e=pn(e),this.dataFormat==="channelsLast"){const r=nw(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return nw(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=nw(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return nw(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}TH.className="Cropping2D";ht(TH);class IH extends Nn{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ps(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,gwe(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],r=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,r]}else{const n=e[1]==null?null:this.size[0]*e[1],r=e[2]==null?null:this.size[1]*e[2];return[e[0],n,r,e[3]]}}call(e,n){return De(()=>{let r=pn(e);const s=r.shape;if(this.dataFormat==="channelsFirst"){r=jn(r,[0,2,3,1]);const i=this.size[0]*s[2],a=this.size[1]*s[3],o=this.interpolation==="nearest"?bo.resizeNearestNeighbor(r,[i,a]):bo.resizeBilinear(r,[i,a]);return jn(o,[0,3,1,2])}else{const i=this.size[0]*s[1],a=this.size[1]*s[2];return this.interpolation==="nearest"?bo.resizeNearestNeighbor(r,[i,a]):bo.resizeBilinear(r,[i,a])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}IH.className="UpSampling2D";ht(IH);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function j_e(t,e,n=[1,1],r="valid",s,i){return De(()=>{s==null&&(s=wl()),ps(s);let a=oM(t,s);if(t.rank!==4)throw new Se(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new Se(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return a=YD(a,e,n,r==="same"?"same":"valid","NHWC",i),s==="channelsFirst"&&(a=jn(a,[0,3,1,2])),a})}class AH extends Qk{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=Wr(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=As(e.depthwiseConstraint),this.depthwiseRegularizer=Vr(e.depthwiseRegularizer)}build(e){if(e=Gn(e),e.length<4)throw new Se(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new Se(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const r=e[n],s=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return De(()=>{e=pn(e);let r=j_e(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=El(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=Gn(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=gl(n,this.kernelSize[0],this.padding,this.strides[0]),a=gl(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],s,i,a]:[e[0],i,a,s]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=ts(this.depthwiseInitializer),e.depthwiseRegularizer=br(this.depthwiseRegularizer),e.depthwiseConstraint=Is(this.depthwiseRegularizer),e}}AH.className="DepthwiseConv2D";ht(AH);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function NH(t,e,n,r){if(Array.isArray(t)){if(e!=null||n!=null)throw new Se("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=t.slice(t.length-r,t.length),t=t.slice(0,t.length-r)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function s(i){return i==null||Array.isArray(i)?i:[i]}return e=s(e),n=s(n),{inputs:t,initialState:e,constants:n}}function RH(t,e,n,r=!1,s,i,a=!1,o=!1){return De(()=>{const l=e.shape.length;if(l<3)throw new Se(`Input should be at least 3D, but is ${l}D.`);const c=[1,0].concat(xl(2,l));if(e=jn(e,c),i!=null)throw new Cn("The rnn() functoin of the deeplearn.js backend does not support constants yet.");a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),s!=null&&(s=Dt(Dt(s,"bool"),"float32"),s.rank===l-1&&(s=Vi(s,-1)),s=jn(s,c)),r&&(e=up(e,0),s!=null&&(s=up(s,0)));const u=[];let d,h=n;const p=e.shape[0],m=dp(e);let f;s!=null&&(f=dp(s));for(let w=0;w<p;++w){const g=m[w],C=De(()=>t(g,h));if(s==null)d=C[0],h=C[1];else{const k=De(()=>{const N=f[w],A=mn(Da(N),N),O=yt(Te(C[0],N),Te(h[0],A)),R=h.map(($,D)=>yt(Te(C[1][D],N),Te($,A)));return{output:O,newStates:R}});d=k.output,h=k.newStates}o&&u.push(d)}let b;return o&&(b=Wd(u,1)),[d,b,h]})}class ch extends Nn{constructor(e){super(e);let n;if(e.cell==null)throw new Se("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new cM({cells:e.cell}):n=e.cell,n.stateSize==null)throw new Se("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new Ts({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return xl(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){JN(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let s;if(this.returnSequences?s=[e[0],e[1],r]:s=[e[0],r],this.returnState){const i=[];for(const a of n)i.push([e[0],a]);return[s].concat(i)}else return s}computeMask(e,n){return De(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const s=this.states.map(i=>null);return[r].concat(s)}else return r})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<e;++r)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new Cn("Constants support is not implemented in RNN yet.");JN(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,r=e.slice(2);this.inputSpec[0]=new Ts({shape:[n,null,...r]});const s=[e[0]].concat(e.slice(2));this.cell.build(s);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!rr(this.stateSpec.map(a=>a.shape[a.shape.length-1]),i))throw new Se(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(a=>new Ts({shape:[null,a]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){De(()=>{if(!this.stateful)throw new jl("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new Se("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>bs([r,s])):this.states_=[bs([r,this.cell.stateSize])];else if(e==null)kn(this.states_),this.keptStates!=null&&(kn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>bs([r,s])):this.states_[0]=bs([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Se(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):kn(this.states_);for(let s=0;s<this.states_.length;++s){const i=e[s],a=Array.isArray(this.cell.stateSize)?this.cell.stateSize[s]:this.cell.stateSize,o=[r,a];if(!rr(i.shape,o))throw new Se(`State ${s} is incompatible with layer ${this.name}: expected shape=${o}, received shape=${i.shape}`);this.states_[s]=i}}this.states_=this.states_.map(s=>nc(s.clone()))})}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=NH(e,r,s,this.numConstants);e=i.inputs,r=i.initialState,s=i.constants;let a=[],o=[];if(r!=null){n.initialState=r,a=a.concat(r),this.stateSpec=[];for(const c of r)this.stateSpec.push(new Ts({shape:c.shape}));o=o.concat(this.stateSpec)}if(s!=null&&(n.constants=s,a=a.concat(s),this.numConstants=s.length),a[0]instanceof Yl){const c=[e].concat(a),u=this.inputSpec.concat(o),d=this.inputSpec;this.inputSpec=u;const h=super.apply(c,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return De(()=>{const r=n==null?null:n.mask,s=n==null?null:n.training;let i=n==null?null:n.initialState;e=pn(e),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(e));const a=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==a)throw new Se(`RNN Layer has ${a} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const o={training:s},c=RH((m,f)=>{const b=this.cell.call([m].concat(f),o);return[b[0],b.slice(1)]},e,i,this.goBackwards,r,null,this.unroll,this.returnSequences),u=c[0],d=c[1],h=c[2];this.stateful&&this.resetStates(h,s);const p=this.returnSequences?d:u;return this.returnState?[p].concat(h):p})}getInitialState(e){return De(()=>{let n=bs(e.shape);return n=on(n,[1,2]),n=Hx(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?XN(n,[1,r]):n):this.cell.stateSize>1?[XN(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===ch.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),n)}static fromConfig(e,n,r={}){const s=n.cell,i=oc(s,r);return new e(Object.assign(n,{cell:i}))}}ch.className="RNN";ht(ch);class eE extends Nn{}class aM extends eE{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Bs(this.units,"units"),this.activation=Hd(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Wr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Wr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Wr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Vr(e.kernelRegularizer),this.recurrentRegularizer=Vr(e.recurrentRegularizer),this.biasRegularizer=Vr(e.biasRegularizer),this.kernelConstraint=As(e.kernelConstraint),this.recurrentConstraint=As(e.recurrentConstraint),this.biasConstraint=As(e.biasConstraint),this.dropout=cg([1,Vd([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=cg([1,Vd([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Gn(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return De(()=>{if(e=e,e.length!==2)throw new Se(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const s=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Yd({ones:()=>Da(e),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Yd({ones:()=>Da(r),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));let i;const a=this.dropoutMask,o=this.recurrentDropoutMask;a!=null?i=ic(Te(e,a),this.kernel.read()):i=ic(e,this.kernel.read()),this.bias!=null&&(i=El(i,this.bias.read())),o!=null&&(r=Te(r,o));let l=yt(i,ic(r,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Gd(this.activation),useBias:this.useBias,kernelInitializer:ts(this.kernelInitializer),recurrentInitializer:ts(this.recurrentInitializer),biasInitializer:ts(this.biasInitializer),kernelRegularizer:br(this.kernelRegularizer),recurrentRegularizer:br(this.recurrentRegularizer),biasRegularizer:br(this.biasRegularizer),activityRegularizer:br(this.activityRegularizer),kernelConstraint:Is(this.kernelConstraint),recurrentConstraint:Is(this.recurrentConstraint),biasConstraint:Is(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}aM.className="SimpleRNNCell";ht(aM);class OH extends ch{constructor(e){e.cell=new aM(e),super(e)}call(e,n){return De(()=>{this.cell.dropoutMask!=null&&(kn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(kn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return new e(n)}}OH.className="SimpleRNN";ht(OH);class lM extends eE{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Se("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Bs(this.units,"units"),this.activation=Hd(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Hd(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Wr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Wr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Wr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Vr(e.kernelRegularizer),this.recurrentRegularizer=Vr(e.recurrentRegularizer),this.biasRegularizer=Vr(e.biasRegularizer),this.kernelConstraint=As(e.kernelConstraint),this.recurrentConstraint=As(e.recurrentConstraint),this.biasConstraint=As(e.biasConstraint),this.dropout=cg([1,Vd([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=cg([1,Vd([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Gn(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return De(()=>{if(e=e,e.length!==2)throw new Se(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training==null?!1:n.training;let s=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Yd({ones:()=>Da(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Yd({ones:()=>Da(s),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;let o,l,c;0<this.dropout&&this.dropout<1&&(e=Te(e,i[0]));let u=ic(e,this.kernel.read());this.useBias&&(u=El(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=Te(s,a[0]));const d=this.recurrentKernel.read(),[h,p]=qo(d,[2*this.units,this.units],d.rank-1),m=ic(s,h),[f,b,w]=qo(u,3,u.rank-1),[g,C]=qo(m,2,m.rank-1);o=this.recurrentActivation.apply(yt(f,g)),l=this.recurrentActivation.apply(yt(b,C));const k=ic(Te(l,s),p);c=this.activation.apply(yt(w,k));const N=yt(Te(o,s),Te(yt(1,ds(o)),c));return[N,N]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Gd(this.activation),recurrentActivation:Gd(this.recurrentActivation),useBias:this.useBias,kernelInitializer:ts(this.kernelInitializer),recurrentInitializer:ts(this.recurrentInitializer),biasInitializer:ts(this.biasInitializer),kernelRegularizer:br(this.kernelRegularizer),recurrentRegularizer:br(this.recurrentRegularizer),biasRegularizer:br(this.biasRegularizer),activityRegularizer:br(this.activityRegularizer),kernelConstraint:Is(this.kernelConstraint),recurrentConstraint:Is(this.recurrentConstraint),biasConstraint:Is(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}lM.className="GRUCell";ht(lM);class $H extends ch{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new lM(e),super(e)}call(e,n){return De(()=>{this.cell.dropoutMask!=null&&(kn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(kn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}$H.className="GRU";ht($H);class tE extends eE{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Bs(this.units,"units"),this.activation=Hd(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Hd(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Wr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Wr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Wr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Vr(e.kernelRegularizer),this.recurrentRegularizer=Vr(e.recurrentRegularizer),this.biasRegularizer=Vr(e.biasRegularizer),this.kernelConstraint=As(e.kernelConstraint),this.recurrentConstraint=As(e.recurrentConstraint),this.biasConstraint=As(e.biasConstraint),this.dropout=cg([1,Vd([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=cg([1,Vd([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=Gn(e);const r=e[e.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let s;if(this.useBias){if(this.unitForgetBias){const i=this.biasInitializer,a=this.units;s=new(n=class extends Ma{apply(l,c){const u=i.apply([a]),d=new qP().apply([a]),h=i.apply([a*2]);return Bj(Bj(u,d),h)}},n.className="CustomInit",n)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return De(()=>{const r=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new Se(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let s=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Yd({ones:()=>Da(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Yd({ones:()=>Da(s),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,o=this.recurrentDropoutMask;let l,c,u,d;0<this.dropout&&this.dropout<1&&(e=Te(e,a[0]));let h=ic(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=Te(s,o[0])),h=yt(h,ic(s,this.recurrentKernel.read())),this.useBias&&(h=El(h,this.bias.read()));const[p,m,f,b]=qo(h,4,h.rank-1);l=this.recurrentActivation.apply(p),c=this.recurrentActivation.apply(m),u=yt(Te(c,i),Te(l,this.activation.apply(f))),d=this.recurrentActivation.apply(b);const w=Te(d,this.activation.apply(u));return[w,w,u]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Gd(this.activation),recurrentActivation:Gd(this.recurrentActivation),useBias:this.useBias,kernelInitializer:ts(this.kernelInitializer),recurrentInitializer:ts(this.recurrentInitializer),biasInitializer:ts(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:br(this.kernelRegularizer),recurrentRegularizer:br(this.recurrentRegularizer),biasRegularizer:br(this.biasRegularizer),activityRegularizer:br(this.activityRegularizer),kernelConstraint:Is(this.kernelConstraint),recurrentConstraint:Is(this.recurrentConstraint),biasConstraint:Is(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}tE.className="LSTMCell";ht(tE);class DH extends ch{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new tE(e),super(e)}call(e,n){return De(()=>{this.cell.dropoutMask!=null&&(kn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(kn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}DH.className="LSTM";ht(DH);class cM extends eE{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return De(()=>{e=e;let r=e.slice(1);const s=[];for(const o of this.cells.slice().reverse())Array.isArray(o.stateSize)?s.push(r.splice(0,o.stateSize.length)):s.push(r.splice(0,1));s.reverse();const i=[];let a;for(let o=0;o<this.cells.length;++o){const l=this.cells[o];r=s[o],o===0?a=[e[0]].concat(r):a=[a[0]].concat(r),a=l.call(a,n),i.push(a.slice(1))}r=[];for(const o of i.slice().reverse())r.push(...o);return[a[0]].concat(r)})}build(e){JN(e)&&(e=e[0]),e=e;let n;this.cells.forEach((r,s)=>{jf(`RNNCell_${s}`,()=>{r.build(e),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=i=>({className:i.getClassName(),config:i.getConfig()}),s={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),s)}static fromConfig(e,n,r={}){const s=[];for(const i of n.cells)s.push(oc(i,r));return new e({cells:s})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return QN(e)}setWeights(e){const n=[];for(const r of this.cells){const s=r.weights.length,i=e.splice(s);for(let a=0;a<r.weights.length;++a)n.push([r.weights[a],i[a]])}tM(n)}}cM.className="StackedRNNCells";ht(cM);function Yd(t){const{ones:e,rate:n,training:r=!1,count:s=1,dropoutFunc:i}=t,a=()=>i!=null?i(e(),n):TG(e(),n),o=()=>qx(a,e,r);return!s||s<=1?nc(o().clone()):Array(s).fill(void 0).map(o).map(c=>nc(c.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var z_e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class PH extends ch{constructor(e){if(e.unroll)throw new Cn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Cn("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Ts({ndim:5})]}call(e,n){return De(()=>{if(this.cell.dropoutMask!=null&&(kn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(kn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new Se("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return De(()=>{const{stateSize:n}=this.cell,r=e.shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)],a=bs(i);return Array.isArray(n)?Array(n.length).fill(a):[a]})}resetStates(e,n=!1){De(()=>{if(!this.stateful)throw new jl("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)];if(r[0]==null)throw new Se("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>bs(i)):this.states_=[bs(i)];else if(e==null)kn(this.states_),this.keptStates!=null&&(kn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>bs(i)):this.states_[0]=bs(i);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Se(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):kn(this.states_);for(let o=0;o<this.states_.length;++o){const l=e[o],c=i;if(!rr(l.shape,c))throw new Se(`State ${o} is incompatible with layer ${this.name}: expected shape=${c}, received shape=${l.shape}`);this.states_[o]=l}}this.states_=this.states_.map(o=>nc(o.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:r,kernelSize:s,padding:i,strides:a,dilationRate:o}=this.cell,l=n==="channelsFirst",c=e[l?3:2],u=e[l?4:3],d=gl(c,s[0],i,a[0],o[0]),h=gl(u,s[1],i,a[1],o[1]);return[...e.slice(0,2),...l?[r,d,h]:[d,h,r]]}}PH.className="ConvRNN2D";class uM extends tE{constructor(e){const{filters:n,kernelSize:r,strides:s,padding:i,dataFormat:a,dilationRate:o}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,Bs(this.filters,"filters"),this.kernelSize=Rm(r,2,"kernelSize"),this.kernelSize.forEach(l=>Bs(l,"kernelSize")),this.strides=Rm(s||1,2,"strides"),this.strides.forEach(l=>Bs(l,"strides")),this.padding=i||"valid",ia(this.padding),this.dataFormat=a||"channelsLast",ps(this.dataFormat),this.dilationRate=Rm(o||1,2,"dilationRate"),this.dilationRate.forEach(l=>Bs(l,"dilationRate"))}build(e){var n;e=Gn(e);const r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new Se(`The channel dimension of the input should be defined. Found ${e[r]}`);const s=e[r],i=4,a=this.kernelSize.concat([s,this.filters*i]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const o=this.kernelSize.concat([this.filters,this.filters*i]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const c=this.biasInitializer,u=this.filters;l=new(n=class extends Ma{apply(h,p){const m=c.apply([u]),f=Cp([u]),b=c.apply([u*2]);return YP([m,f,b])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*i],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return De(()=>{if(e.length!==3)throw new Se(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training||!1,s=e[0],i=e[1],a=e[2],o=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Yd({ones:()=>Da(s),rate:this.dropout,training:r,count:o,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,c=(ie,de,ee)=>!de||!de[ee]?ie:Te(de[ee],ie);let u=c(s,l,0),d=c(s,l,1),h=c(s,l,2),p=c(s,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Yd({ones:()=>Da(i),rate:this.recurrentDropout,training:r,count:o,dropoutFunc:this.dropoutFunc}));const m=this.recurrentDropoutMask;let f=c(i,m,0),b=c(i,m,1),w=c(i,m,2),g=c(i,m,3);const C=3,[k,N,A,O]=qo(this.kernel.read(),o,C),[R,$,D,B]=this.useBias?qo(this.bias.read(),o):[null,null,null,null];u=this.inputConv(u,k,R,this.padding),d=this.inputConv(d,N,$,this.padding),h=this.inputConv(h,A,D,this.padding),p=this.inputConv(p,O,B,this.padding);const[M,z,W,V]=qo(this.recurrentKernel.read(),o,C);f=this.recurrentConv(f,M),b=this.recurrentConv(b,z),w=this.recurrentConv(w,W),g=this.recurrentConv(g,V);const q=this.recurrentActivation.apply(yt(u,f)),H=this.recurrentActivation.apply(yt(d,b)),K=yt(Te(H,a),Te(q,this.activation.apply(yt(h,w)))),F=Te(this.recurrentActivation.apply(yt(p,g)),this.activation.apply(K));return[F,F,K]})}getConfig(){const e=super.getConfig(),n=z_e(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,n,r,s){const i=cp(e,n,this.strides,s||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?El(i,r,this.dataFormat):i}recurrentConv(e,n){return cp(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}uM.className="ConvLSTM2DCell";ht(uM);class MH extends PH{constructor(e){const n=new uM(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}MH.className="ConvLSTM2D";ht(MH);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class dM extends Nn{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,r=[];for(let s=0;s<this.noiseShape.length;++s)r.push(this.noiseShape[s]==null?n[s]:this.noiseShape[s]);return r}call(e,n){return De(()=>{this.invokeCallHook(e,n);const r=pn(e);if(0<this.rate&&this.rate<1){const s=n.training==null?!1:n.training,i=this.getNoiseShape(r);return qx(()=>TG(r,this.rate,i,this.seed),()=>r,s)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}dM.className="Dropout";ht(dM);class BH extends dM{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}BH.className="SpatialDropout1D";ht(BH);class LH extends Nn{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,Bs(this.units,"units"),this.activation=Hd(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=Wr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=Wr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=As(e.kernelConstraint),this.biasConstraint=As(e.biasConstraint),this.kernelRegularizer=Vr(e.kernelRegularizer),this.biasRegularizer=Vr(e.biasRegularizer),this.activityRegularizer=Vr(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=Gn(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=Gn(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return De(()=>{this.invokeCallHook(e,n);const r=pn(e),s=xG(this.activation.getClassName());let i;return s!=null?i=ic(r,this.kernel.read(),s,this.bias?this.bias.read():null):(i=ic(r,this.kernel.read()),this.bias!=null&&(i=El(i,this.bias.read())),this.activation!=null&&(i=this.activation.apply(i))),i})}getConfig(){const e={units:this.units,activation:Gd(this.activation),useBias:this.useBias,kernelInitializer:ts(this.kernelInitializer),biasInitializer:ts(this.biasInitializer),kernelRegularizer:br(this.kernelRegularizer),biasRegularizer:br(this.biasRegularizer),activityRegularizer:br(this.activityRegularizer),kernelConstraint:Is(this.kernelConstraint),biasConstraint:Is(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}LH.className="Dense";ht(LH);class FH extends Nn{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Gn(e);for(const n of e.slice(1))if(n==null)throw new Se(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Ad(e,1)]}call(e,n){return De(()=>{this.invokeCallHook(e,n);let r=pn(e);if(this.dataFormat==="channelsFirst"&&r.rank>1){const s=[0];for(let i=2;i<r.rank;++i)s.push(i);s.push(1),r=jn(r,s)}return _we(r)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}FH.className="Flatten";ht(FH);class jH extends Nn{constructor(e){super(e),this.supportsMasking=!0,this.activation=Hd(e.activation)}call(e,n){return De(()=>{this.invokeCallHook(e,n);const r=pn(e);return this.activation.apply(r)})}getConfig(){const e={activation:Gd(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}jH.className="Activation";ht(jH);class zH extends Nn{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return De(()=>(e=pn(e),xwe(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}zH.className="RepeatVector";ht(zH);class UH extends Nn{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const r="Total size of new array must be unchanged.",s=n.slice();let i=1,a=null;for(let l=0;l<s.length;++l){const c=s[l];if(this.isUnknown(c))if(a===null)a=l;else throw new Se("Can only specifiy one unknown dimension.");else i*=c}const o=Ad(e);if(a!==null){if(i===0||o%i!==0)throw new Se(r);s[a]=o/i}else if(o!==i)throw new Se(r);return s}computeOutputShape(e){let n=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return De(()=>{this.invokeCallHook(e,n);const r=pn(e),s=r.shape,i=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return Oe(r,i)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}UH.className="Reshape";ht(UH);class WH extends Nn{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=xl(1,e.dims.length+1);if(!rr(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Ts({ndim:this.dims.length+1})]}computeOutputShape(e){e=Gn(e);const n=e.slice();return this.dims.forEach((r,s)=>{n[s+1]=e[r]}),n}call(e,n){return jn(pn(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}WH.className="Permute";ht(WH);class VH extends Nn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const r=pn(e),s=-1;return PN(dS(r,this.maskValue),s)}call(e,n){return De(()=>{this.invokeCallHook(e,n);const r=pn(e),s=-1,i=!0,a=PN(dS(r,this.maskValue),s,i);return Te(r,Dt(a,r.dtype))})}}VH.className="Masking";ht(VH);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class GH extends Nn{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(Ar(e.inputLength))}this.inputDim=e.inputDim,Bs(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Bs(this.outputDim,"outputDim"),this.embeddingsInitializer=Wr(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Vr(e.embeddingsRegularizer),this.activityRegularizer=Vr(e.activityRegularizer),this.embeddingsConstraint=As(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return De(()=>this.maskZero?(e=pn(e),dS(e,zn(e))):null)}computeOutputShape(e){if(e=Gn(e),this.inputLength==null)return[...e,this.outputDim];const n=Ar(this.inputLength);if(n.length!==e.length-1)throw new Se(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let s=0;s<n.length;++s){const i=n[s],a=e[s+1];if(i!=null&&a!=null&&i!==a)throw new Se(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);i==null&&(n[r]=a),r++}}return[e[0],...n,this.outputDim]}call(e,n){return De(()=>{this.invokeCallHook(e,n);let r=pn(e);r.dtype!=="int32"&&(r=sc(r,"int32"));const s=EG(this.embeddings.read(),Oe(r,[r.size]));return Oe(s,Gn(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:ts(this.embeddingsInitializer),embeddingsRegularizer:br(this.embeddingsRegularizer),activityRegularizer:br(this.activityRegularizer),embeddingsConstraint:Is(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}GH.className="Embedding";ht(GH);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Ap extends Nn{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new Cn}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const r=e.slice(0,e.length-n.length);for(let s=0;s<n.length;++s){const i=e[e.length-n.length+s],a=n[s];if(i==null||a==null||i<0||a<0)r.push(null);else if(i===1)r.push(a);else if(a===1)r.push(i);else{if(i!==a)throw new Se("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));r.push(i)}}return r}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Gn(e)]),e=e,e.length<2)throw new Se(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const i of e)i!=null&&i[0]!==null&&n.push(i[0]);if(n=Id(n),n.length>1)throw new Se(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let r=e[0]==null?null:e[0].slice(1);for(let i=1;i<e.length;++i){const a=e[i]==null?null:e[i].slice(1);r=this.computeElementwiseOpOutputShape(r,a)}const s=e.map(i=>i.length);e.indexOf(null)===-1&&Id(s).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return De(()=>{if(e=e,this.reshapeRequired){const r=[],s=e.map(i=>i.rank);if(s.indexOf(null)===-1){const i=Vd(s);for(let a of e){const o=a.rank;for(let l=0;l<i-o;++l)a=Hx(a,1);r.push(a)}return this.mergeFunction(r)}else{let i=!1;for(const l of e){const c=l.rank;if(c==null){const u=l.shape,d=u[0],h=u.slice(1).concat([d]);let p=Oe(l,[d].concat(Ad(u.slice(1))));p=jn(p,[1,0]),p=Oe(p,h),r.push(p),i=!0}else if(c>1){const u=xl(1,c).concat([0]);r.push(jn(l,u)),i=!0}else r.push(l)}let a=this.mergeFunction(r);const o=a.rank;if(i){if(o==null){const l=a.shape,c=l.length,u=l[c-1],d=[u].concat(l.slice(0,l.length-1));a=Oe(jn(Oe(a,[-1,u]),[1,0]),d)}else if(o>1){const l=[o-1].concat(xl(0,o-1));a=jn(a,l)}}return a}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let s=1;s<e.length;++s){const i=e[s]==null?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}let r=[];for(const s of e)s!=null&&s[0]!==null&&r.push(s[0]);return r=Id(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(e,n){return De(()=>{if(n==null)return null;if(!Array.isArray(n))throw new Se("`mask` should be an Array");if(!Array.isArray(e))throw new Se("`inputs` should be an Array");if(n.length!==e.length)throw new Se(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(s=>s==null))return null;n=n.map(s=>s==null?s:Vi(s,0));let r=n[0];for(let s=1;s<n.length-1;++s)r=hu(r,n[s]);return r})}}class HH extends Ap{constructor(e){super(e)}mergeFunction(e){return De(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=yt(n,e[r]);return n})}}HH.className="Add";ht(HH);class YH extends Ap{constructor(e){super(e)}mergeFunction(e){return De(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=Te(n,e[r]);return n})}}YH.className="Multiply";ht(YH);class qH extends Ap{constructor(e){super(e)}mergeFunction(e){return De(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=yt(n,e[r]);return Te(1/e.length,n)})}}qH.className="Average";ht(qH);class XH extends Ap{constructor(e){super(e)}mergeFunction(e){return De(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=ah(n,e[r]);return n})}}XH.className="Maximum";ht(XH);class KH extends Ap{constructor(e){super(e)}mergeFunction(e){return De(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=Zy(n,e[r]);return n})}}KH.className="Minimum";ht(KH);class JH extends Ap{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new Se("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const s of e)if(s!=null){n=!1;break}if(n)return;const r=[];for(let s=0;s<e.length;++s){const i=e[s].slice();i.splice(this.axis,1);let a=!1;for(const o of r)if(rr(o,i)){a=!0;break}a||r.push(i)}if(r.length>1)throw new Se("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return De(()=>YP(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new Se("A `Concatenate` layer should be called on a list of inputs.");const n=e,r=n[0].slice(),s=this.axis<0?r.length+this.axis:this.axis;for(const i of n.slice(1)){if(r[s]==null||i[s]==null){r[s]=null;break}r[s]+=i[s]}return r}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new Se("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Se("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new Se(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return De(()=>{let r=!0;if(n.forEach(a=>{if(a!=null){r=!1;return}}),r)return null;const s=[];for(let a=0;a<e.length;++a)n[a]==null?s.push(Dt(Da(e[a]),"bool")):n[a].rank<e[a].rank?s.push(Vi(n[a],-1)):s.push(n[a]);const i=Yi(s,this.axis);return Z3(i,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}JH.className="Concatenate";ht(JH);function av(t,e){for(;t<0;)t+=e;return t}function U_e(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new Cn("batchDot is not implemented for tensors of 4D or higher rank yet");if(oe(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),oe(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new Cn("batchDot is not implemented for complex64-type Tensors yet.");const r=t.shape.length,s=e.shape.length;n==null&&(n=[r-1,s-2]);const i=n;return De(()=>{let a;if(r>s){a=r-s;const l=[];for(let c=0;c<a;++c)l.push(1);e=Oe(e,e.shape.concat(l))}else if(s>r){a=s-r;const l=[];for(let c=0;c<a;++c)l.push(1);t=Oe(t,t.shape.concat(l))}else a=0;let o;if(t.shape.length===2&&e.shape.length===2)i[0]===i[1]?o=on(Te(t,e),i[0]):o=on(Te(jn(t,[1,0]),e),i[1]);else{const l=i[0]!==t.shape.length-1,c=i[1]===e.shape.length-1;o=tr(t,e,l,c)}if(a>0){let l;r>s?l=r+s-3:l=r-1;const c=[];for(let u=l;u<l+a;++u)c.push(u);o=jx(o,c)}return o.shape.length===1&&(o=Vi(o,1)),o})}class QH extends Ap{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){oe(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],r=e[1];if(n.length>3||r.length>3)throw new Cn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);if(n[s[0]]!==r[s[1]])throw new Se(`Dimension incompatibility: ${n[s[0]]} !== ${r[s[1]]}`)}mergeFunction(e){if(e.length!==2)throw new Se(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],r=e[1],s;return Array.isArray(this.axes)?s=this.axes.map((i,a)=>av(i,e[a].shape.length)):s=[av(this.axes,n.shape.length),av(this.axes,r.shape.length)],this.normalize&&(n=yS(n,s[0]),r=yS(r,s[1])),U_e(n,r,s)}interpretAxes(e,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[av(this.axes,e.length),av(this.axes,n.length)],r}computeOutputShape(e){oe(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),r=e[1].slice();if(n.length>3||r.length>3)throw new Cn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);n.splice(s[0],1),r.splice(s[1],1),r.splice(0,1);const i=n.concat(r);return i.length===1&&i.push(1),i}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}QH.className="Dot";ht(QH);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ZH extends Nn{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return De(()=>{this.invokeCallHook(e,n);const r=pn(e);return qx(()=>yt(qk(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}ZH.className="GaussianNoise";ht(ZH);class eY extends Nn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return De(()=>{this.invokeCallHook(e,n);const r=pn(e);return this.rate>0&&this.rate<1?qx(()=>{const i=Math.sqrt(this.rate/(1-this.rate));return Te(r,qk(r.shape,1,i))},()=>r,n.training||!1):r})}}eY.className="GaussianDropout";ht(eY);class tY extends Nn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||pn(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return De(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return qx(()=>{const i=pn(e),a=1.6732632423543772,o=1.0507009873554805,l=-a*o;let c=Sp(Fx(r),this.rate);c=sc(c,"float32");const u=((1-this.rate)*(1+this.rate*l**2))**-.5,d=-u*l*this.rate,h=yt(Te(i,c),Te(yt(c,-1),l));return yt(Te(h,u),d)},()=>pn(e),n.training||!1)}return e})}}tY.className="AlphaDropout";ht(tY);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function sb(t,e,n,r,s,i=.001){let a;if(t.rank===2)a=bge(t,e,n,r,s,i);else if(t.rank===3)a=wge(t,e,n,r,s,i);else if(t.rank===4)a=Sge(t,e,n,r,s,i);else throw new Cn(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return a}function W_e(t,e,n,r,s=.001){return De(()=>{const i=eP(t,r),a=i.mean,o=i.variance;return[sb(t,a,o,n,e,s),a,o]})}function V_e(t,e,n,r,s=.001){return De(()=>{const i=eP(t,r),a=i.mean,o=i.variance,l=[];for(const m of xl(0,t.rank))r.indexOf(m)!==-1?l.push(1):l.push(t.shape[m]);const c=Oe(a,l),u=Oe(o,l),d=e==null?null:Oe(e,l),h=n==null?null:Oe(n,l);return[sb(t,c,u,h,d,s),a,o]})}function G_e(t,e,n,r,s=.001){return rr(r.slice().sort(),xl(0,t.rank-1))?W_e(t,e,n,r,s):V_e(t,e,n,r,s)}class nY extends Nn{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Wr(e.betaInitializer||"zeros"),this.gammaInitializer=Wr(e.gammaInitializer||"ones"),this.movingMeanInitializer=Wr(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=Wr(e.movingVarianceInitializer||"ones"),this.betaConstraint=As(e.betaConstraint),this.gammaConstraint=As(e.gammaConstraint),this.betaRegularizer=Vr(e.betaRegularizer),this.gammaRegularizer=Vr(e.gammaRegularizer)}build(e){e=Gn(e);const n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(r==null)throw new Se(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Ts({ndim:e.length,axes:{[n]:r}})];const s=[r];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return De(()=>{const r=n.training==null?!1:n.training,s=pn(e),i=s.shape,a=i.length,o=xl(0,a),l=this.axis>=0?this.axis:this.axis+a;o.splice(l,1);const c=hp(1,a);c[l]=i[l];const u=o.slice();u.sort();const d=!rr(u,xl(0,a).slice(0,a-1)),h=()=>{if(d){const g=Oe(this.movingMean.read(),c),C=Oe(this.movingVariance.read(),c),k=this.center?Oe(this.beta.read(),c):null,N=this.scale?Oe(this.gamma.read(),c):null;return sb(s,g,C,k,N,this.epsilon)}else return sb(s,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return h();const[p,m,f]=G_e(s,this.gamma.read(),this.beta.read(),o,this.epsilon),b=(g,C,k)=>{De(()=>{const N=1-k,A=g.read(),O=Te(mn(A,C),N);g.write(mn(A,O))})};return(()=>{b(this.movingMean,m,this.momentum),b(this.movingVariance,f,this.momentum)})(),p})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:ts(this.betaInitializer),gammaInitializer:ts(this.gammaInitializer),movingMeanInitializer:ts(this.movingMeanInitializer),movingVarianceInitializer:ts(this.movingVarianceInitializer),betaRegularizer:br(this.betaRegularizer),gammaRegularizer:br(this.gammaRegularizer),betaConstraint:Is(this.betaConstraint),gammaConstraint:Is(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}nY.className="BatchNormalization";ht(nY);class rY extends Nn{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Wr(e.betaInitializer||"zeros"),this.gammaInitializer=Wr(e.gammaInitializer||"ones"),this.betaRegularizer=Vr(e.betaRegularizer),this.gammaRegularizer=Vr(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=Gn(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=n);for(const i of this.axis)if(i<0||i>=n)throw new Error(`Invalid axis: ${i}`);if(this.axis.length!==Id(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(i=>e[i]),s=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(e,n){const r=pn(e),s=r.shape,i=s.length;return De(()=>{let{mean:o,variance:l}=eP(r,this.axis,!0);const c=hp(1,i);for(const f of this.axis)c[f]=s[f];const u=f=>f!=null&&f.shape.length!==i?Oe(f,c):f;let d=this.scale?u(this.gamma.read()):null,h=this.center?u(this.beta.read()):null;const p=[],m=[];for(let f=0;f<i;++f)this.axis.indexOf(f)!==-1?(p.push(s[f]),m.push(1)):(p.push(1),m.push(s[f]));return o=dl(o,p),l=dl(l,p),d!=null&&(d=dl(d,m)),h!=null&&(h=dl(h,m)),sb(r,o,l,h,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:ts(this.betaInitializer),gammaInitializer:ts(this.gammaInitializer),betaRegularizer:br(this.betaRegularizer),gammaRegularizer:br(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}rY.className="LayerNormalization";ht(rY);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function H_e(t,e,n){return De(()=>{if(t.rank!==4)throw new Se(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new Se("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=wl()),n!=="channelsLast"&&n!=="channelsFirst")throw new Se(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],e[0],e[1]]:r=[[0,0],e[0],e[1],[0,0]],tP(t,r)})}class sY extends Nn{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?wl():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new Se(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,r;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new Se(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new Se(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[n,r]}this.inputSpec=[new Ts({ndim:4})]}computeOutputShape(e){e=Gn(e);let n,r;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?r=e[3]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],e[1],n,r]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?r=e[2]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],n,r,e[3]])}call(e,n){return De(()=>H_e(pn(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}sY.className="ZeroPadding2D";ht(sY);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function nE(t,e,n,r,s,i){return De(()=>{ps(s),_G(i),ia(r),n==null&&(n=[1,1]),r==null&&(r="valid"),s==null&&(s=wl()),i==null&&(i="max"),t=oM(t,s);let a;const o=r==="same"?"same":"valid";return i==="max"?a=ZD(t,e,n,o):a=UD(t,e,n,o),s==="channelsFirst"&&(a=jn(a,[0,3,1,2])),a})}function iY(t,e,n,r,s,i){return De(()=>{ps(s),_G(i),ia(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),s==null&&(s=wl()),i==null&&(i="max"),t=_H(t,s);let a;const o=r==="same"?"same":"valid";return i==="max"?a=lve(t,e,n,o):a=cge(t,e,n,o),s==="channelsFirst"&&(a=jn(a,[0,4,1,2,3])),a})}class oY extends Nn{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new Se(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(Bs(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new Se(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);Bs(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,ia(this.padding),this.inputSpec=[new Ts({ndim:3})]}computeOutputShape(e){e=Gn(e);const n=gl(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return De(()=>{this.invokeCallHook(e,n),e=Hx(pn(e),2);const r=this.poolingFunction(pn(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return jx(r,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class aY extends oY{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ps(i),ia(s),nE(e,n,r,s,i,"max")}}aY.className="MaxPooling1D";ht(aY);class lY extends oY{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ps(i),ia(s),nE(e,n,r,s,i,"avg")}}lY.className="AveragePooling1D";ht(lY);class cY extends Nn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new Se(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];Bs(this.poolSize,"poolSize"),Bs(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ps(this.dataFormat),ia(this.padding),this.inputSpec=[new Ts({ndim:4})]}computeOutputShape(e){e=Gn(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=gl(n,this.poolSize[0],this.padding,this.strides[0]),r=gl(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r]:[e[0],n,r,e[3]]}call(e,n){return De(()=>(this.invokeCallHook(e,n),this.poolingFunction(pn(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class uY extends cY{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ps(i),ia(s),nE(e,n,r,s,i,"max")}}uY.className="MaxPooling2D";ht(uY);class dY extends cY{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ps(i),ia(s),nE(e,n,r,s,i,"avg")}}dY.className="AveragePooling2D";ht(dY);class hY extends Nn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new Se(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];Bs(this.poolSize,"poolSize"),Bs(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ps(this.dataFormat),ia(this.padding),this.inputSpec=[new Ts({ndim:5})]}computeOutputShape(e){e=Gn(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=gl(n,this.poolSize[0],this.padding,this.strides[0]),r=gl(r,this.poolSize[1],this.padding,this.strides[1]),s=gl(s,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r,s]:[e[0],n,r,s,e[4]]}call(e,n){return De(()=>(this.invokeCallHook(e,n),this.poolingFunction(pn(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class fY extends hY{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ps(i),ia(s),iY(e,n,r,s,i,"max")}}fY.className="MaxPooling3D";ht(fY);class pY extends hY{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return ps(i),ia(s),iY(e,n,r,s,i,"avg")}}pY.className="AveragePooling3D";ht(pY);class mY extends Nn{constructor(e){super(e),this.inputSpec=[new Ts({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new Cn}}class gY extends mY{constructor(e){super(e||{})}call(e,n){return De(()=>{const r=pn(e);return ys(r,1)})}}gY.className="GlobalAveragePooling1D";ht(gY);class vY extends mY{constructor(e){super(e||{})}call(e,n){return De(()=>{const r=pn(e);return ml(r,1)})}}vY.className="GlobalMaxPooling1D";ht(vY);class yY extends Nn{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ps(this.dataFormat),this.inputSpec=[new Ts({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new Cn}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class bY extends yY{call(e,n){return De(()=>{const r=pn(e);return this.dataFormat==="channelsLast"?ys(r,[1,2]):ys(r,[2,3])})}}bY.className="GlobalAveragePooling2D";ht(bY);class xY extends yY{call(e,n){return De(()=>{const r=pn(e);return this.dataFormat==="channelsLast"?ml(r,[1,2]):ml(r,[2,3])})}}xY.className="GlobalMaxPooling2D";ht(xY);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class wY extends Nn{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,r={}){const s=n.layer,i=oc(s,r);delete n.layer;const a={layer:i};return Object.assign(a,n),new e(a)}}class _Y extends wY{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=Gn(e),e.length<3)throw new Se(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=Gn(e);const n=[e[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(n),s=e[1];return[r[0],s].concat(r.slice(1))}call(e,n){return De(()=>(e=pn(e),RH((a,o)=>[pn(this.layer.call(a,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}_Y.className="TimeDistributed";ht(_Y);function Y_e(t){Ip(mwe,"BidirectionalMergeMode",t)}const q_e="concat";class SY extends wY{constructor(e){super(e);const n=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=n,this.forwardLayer=oc(r),n.goBackwards=n.goBackwards!==!0;const s={};if(s.className=e.layer.getClassName(),s.config=n,this.backwardLayer=oc(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?q_e:e.mergeMode,Y_e(this.mergeMode),e.weights)throw new Cn("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,r=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,s,i;return this.returnState&&(i=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,s=[r]):this.mergeMode==null?s=[r,r.slice()]:s=[r],this.returnState?this.mergeMode==null?s.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):Gi(s)}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=NH(e,r,s,this.numConstants);if(e=i.inputs,r=i.initialState,s=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(r==null||r.length===0)&&s==null)return super.apply(e,n);const a=[],o=[];if(r!=null){const c=r.length;if(c%2>0)throw new Se("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,a.push(...r);const u=r.map(d=>new Ts({shape:d.shape}));this.forwardLayer.stateSpec=u.slice(0,c/2),this.backwardLayer.stateSpec=u.slice(c/2),o.push(...u)}if(s!=null)throw new Cn("Support for constants in Bidirectional layers is not implemented yet.");const l=a[0]instanceof Yl;for(const c of a)if(c instanceof Yl!==l)throw new Se("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const c=[e].concat(a),u=this.inputSpec.concat(o),d=this.inputSpec;this.inputSpec=u;const h=super.apply(c,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return De(()=>{const r=n.initialState;let s,i;if(r==null)s=this.forwardLayer.call(e,n),i=this.backwardLayer.call(e,n);else{const l=r.slice(0,r.length/2),c=r.slice(r.length/2);s=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),i=this.backwardLayer.call(e,Object.assign(n,{initialState:c}))}let a;this.returnState&&(Array.isArray(s)&&(a=s.slice(1).concat(i.slice(1))),s=s[0],i=i[0]),this.returnSequences&&(i=up(i,1));let o;return this.mergeMode==="concat"?o=YP([s,i]):this.mergeMode==="sum"?o=yt(s,i):this.mergeMode==="ave"?o=Te(.5,yt(s,i)):this.mergeMode==="mul"?o=Te(s,i):this.mergeMode==null&&(o=[s,i]),this.returnState?this.mergeMode==null?o.concat(a):[o].concat(a):o})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){jf(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),jf(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const i=this.forwardLayer.states.map(a=>null);return Array.isArray(r)?r.concat(i).concat(i):[r].concat(i).concat(i)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const r=oc(n.layer);if(delete n.layer,n.numConstants!=null)throw new Cn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=n;return s.layer=r,new e(s)}}SY.className="Bidirectional";ht(SY);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class CY extends Nn{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return De(()=>(e=pn(e),e.dtype!=="float32"&&(e=sc(e,"float32")),yt(Te(e,this.scale),this.offset)))}}CY.className="Rescaling";ht(CY);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:X_e,cropAndResize:K_e}=bo;class kY extends Nn{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,r,s,i,a,o,l){return De(()=>{let c,u=!1;const d=n/a,h=r/o,p=(s+n)/a,m=(i+r)/o,f=[d,h,p,m],b=[];e.rank===3?(u=!0,c=Wd([e])):c=e;for(let N=0;N<c.shape[0];N++)b.push(f);const w=ny(b,[b.length,4]),g=eb(0,b.length,1,"int32"),k=K_e(c,w,g,[s,i],"nearest");return sc(u?pn(dp(k)):k,l)})}upsize(e,n,r,s){return De(()=>{const i=X_e(e,[n,r]);return sc(i,s)})}call(e,n){return De(()=>{const r=pn(e),s=r.dtype,i=r.shape,a=i[i.length-3],o=i[i.length-2];let l=0;a!==this.height&&(l=Math.floor((a-this.height)/2));let c=0;return o!==this.width&&(c=Math.floor((o-this.width)/2),c===0&&(c=1)),l>=0&&c>=0?this.centerCrop(r,l,c,this.height,this.width,a,o,s):this.upsize(e,this.height,this.width,s)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Gn(e);const n=e.length-3,r=e.length-2;return e[n]=this.height,e[r]=this.width,e}}kY.className="CenterCrop";ht(kY);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function J_e(t,e,n,r){let s=pn(t);if(s.dtype!=="int32"&&(s=sc(s,"int32")),e==="int")return s;const i=s.shape;if(s.rank===0&&(s=Vi(s,-1)),e==="oneHot"&&s.shape[s.shape.length-1]!==1&&(s=Vi(s,-1)),s.rank>2)throw new Se(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${i} which would result in output rank ${s.rank}.`);const a=["multiHot","oneHot"].includes(e),o=s;let l;if(typeof r<"u"&&e==="count"?l=xj(o,r,n,a):l=xj(o,[],n,a),e!=="tfIdf")return l;if(r)return Te(l,r);throw new Se("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class EY extends Nn{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=Gn(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return De(()=>{e=pn(e),e.dtype!=="int32"&&(e=sc(e,"int32"));let r;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new Se(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);r=pn(n.countWeights)}const s=ml(e),i=cS(e),a=sa(this.numTokens,s).bufferSync().get(0),o=Sp(i,0).bufferSync().get(0);if(!(a&&o))throw new Se(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return J_e(e,this.outputMode,this.numTokens,r)})}}EY.className="CategoryEncoding";ht(EY);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Q_e=["bilinear","nearest"],t6=new Set(Q_e);class TY extends Nn{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(t6.has(e.interpolation))this.interpolation=e.interpolation;else throw new Se(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=Gn(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return De(()=>{const r=[this.height,this.width];if(this.interpolation==="bilinear")return bo.resizeBilinear(e,r,!this.cropToAspectRatio);if(this.interpolation==="nearest")return bo.resizeNearestNeighbor(e,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...t6]} are supported`)})}}TY.className="Resizing";ht(TY);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class IY{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}IY.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class AY extends Nn{constructor(e){super(e),this.randomGenerator=new IY(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(e,n),e}}AY.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Z_e=["bilinear","nearest"],n6=new Set(Z_e);class NY extends AY{constructor(e){super(e);const{factor:n,interpolation:r="bilinear"}=e;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new Se(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new Se(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new Se(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(r)if(n6.has(r))this.interpolation=r;else throw new Se(`Invalid interpolation parameter: ${r} is not implemented`)}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Gn(e);const n=e[2];return[this.imgHeight,-1,n]}call(e,n){return De(()=>{const r=pn(e);this.imgHeight=r.shape[r.shape.length-3];const s=r.shape[r.shape.length-2];this.widthFactor=Fx([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let i=this.widthFactor.dataSync()[0]*s;i=Math.round(i);const a=[this.imgHeight,i];switch(this.interpolation){case"bilinear":return bo.resizeBilinear(e,a);case"nearest":return bo.resizeNearestNeighbor(e,a);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...n6]} are supported`)}})}}NY.className="RandomWidth";ht(NY);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eSe=je();eSe.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var r6;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(r6||(r6={}));var s6;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(s6||(s6={}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function tSe(t,e){return RY(t,e)}function RY(t,e,n=new Map,r=new Set){if(t==null)return null;if(typeof Blob=="function"&&t instanceof Blob)return t.slice();if(r.has(t))throw new Error("Circular references are not supported.");if(n.has(t))return n.get(t);const s=e(t);if(s.recurse&&s.value!==null)throw new Error("A deep map function may not return both a value and recurse=true.");if(s.recurse)if(rE(t)){const i=Array.isArray(t)?[]:{};r.add(t);for(const a in t){const o=t[a],l=RY(o,e,n,r);i[a]=l}return r.delete(t),t.__proto__&&(i.__proto__=t.__proto__),i}else throw new Error(`Can't recurse into non-iterable type: ${t}`);else return n.set(t,s.value),s.value}function nSe(t,e=$Y){return OY(t,e)}function OY(t,e,n=new Set){const r=t[0];if(n.has(r))throw new Error("Circular references are not supported.");const s=e(t);if(s.recurse&&s.value!==null)throw new Error("A deep zip function may not return both a value and recurse=true.");if(s.recurse)if(rE(r)){const i=Array.isArray(r)?[]:{};n.add(r);for(const a in r){const o=t.map(c=>c[a]),l=OY(o,e,n);i[a]=l}return n.delete(r),i}else throw new Error(`Can't recurse into non-iterable type: ${r}`);else return s.value}function $Y(t){return t===null?null:rE(t[0])?{value:null,recurse:!0}:{value:t,recurse:!1}}function rE(t){let e=!1;if(je().get("IS_BROWSER"))e=t instanceof TextDecoder;else{const{StringDecoder:n}=require("string_decoder");e=t instanceof n}return t!=null&&!ArrayBuffer.isView(t)&&(Array.isArray(t)||typeof t=="object"&&!(t instanceof Qr)&&!(t instanceof Promise)&&!e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function rSe(t){return tSe(t,sSe)}function sSe(t){return t instanceof Qr?{value:t.clone(),recurse:!1}:rE(t)?{value:null,recurse:!0}:{value:t,recurse:!1}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class DY{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,e==null)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,n){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=n}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return this.length()===0}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const n of e)this.push(n)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const n=this.wrap(this.begin+e),r=this.get(n);return this.set(n,this.pop()),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class sE extends DY{constructor(){super(sE.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=this.capacity*2,n=new Array(e),r=this.length();for(let s=0;s<r;s++)n[s]=this.get(this.wrap(this.begin+s));this.data=n,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=r}}sE.INITIAL_CAPACITY=32;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function iSe(t){return new oSe(t)}class oa{async toArray(){const e=[];let n=await this.next();for(;!n.done;)e.push(n.value),n=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),n=[];let r=await e.next();for(;!r.done;)n.push(r.value),r=await e.next();return n}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let n=await this.next(),r=e(n.value);for(;!n.done&&r;)n=await this.next(),r=e(n.value)}handleErrors(e){return new fSe(this,e)}filter(e){return new dSe(this,e)}map(e){return new hSe(this,e)}mapAsync(e){return new i6(this,e)}serialMapAsync(e){return new i6(this,e).serial()}flatmap(e){return new mSe(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile(n=>n===!0)}rowMajorBatch(e,n=!0){return new uSe(this,e,n)}columnMajorBatch(e,n=!0,r=$Y){return this.rowMajorBatch(e,n).map(i=>nSe(i,r))}concatenate(e,n){return new gSe(iSe([this,e]),n)}take(e){return e<0||e==null?this:new cSe(this,e)}skip(e){return e<0||e==null?this:new lSe(this,e)}prefetch(e){return new PY(this,e)}shuffle(e,n){return new vSe(this,e,n)}serial(){return new aSe(this)}}class oSe extends oa{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:rSe(e),done:!1}}}class aSe extends oa{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){return this.upstream.next()}}class lSe extends oa{constructor(e,n){super(),this.upstream=e,this.maxCount=n,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;kn(e.value)}return this.upstream.next()}}class cSe extends oa{constructor(e,n){super(),this.upstream=e,this.maxCount=n,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class uSe extends oa{constructor(e,n,r=!0){super(),this.upstream=e,this.batchSize=n,this.enableSmallLastBatch=r,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const n=await this.upstream.next();if(n.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(n.value)}return{value:e,done:!1}}}class dSe extends oa{constructor(e,n){super(),this.upstream=e,this.predicate=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;kn(e.value)}}}class hSe extends oa{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const n=Ud(e.value),r=this.transform(e.value),s=Ud(r);for(const i of n)LD(i,s)||i.dispose();return{value:r,done:!1}}}class fSe extends oa{constructor(e,n){super(),this.upstream=e,this.handler=n,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class i6 extends oa{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const n=Ud(e.value),r=await this.transform(e.value),s=Ud(r);for(const i of n)LD(i,s)||i.dispose();return{value:r,done:!1}}}class pSe extends oa{constructor(){super(),this.outputQueue=new sE,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.outputQueue.length()===0;)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class mSe extends pSe{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const n=Ud(e.value),r=this.transform(e.value),s=Ud(r);this.outputQueue.pushAll(r);for(const i of n)LD(i,s)||i.dispose();return!0}}class gSe extends oa{constructor(e,n){super(),this.baseErrorHandler=n,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,this.iterator==null){const r=await this.moreIterators.next();if(r.done)return{value:null,done:!0};this.iterator=r.value,this.baseErrorHandler!=null&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const n=await this.iterator.next();return n.done?(this.iterator=null,this.readFromChain(e)):n}}var o6;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(o6||(o6={}));class PY extends oa{constructor(e,n){super(),this.upstream=e,this.bufferSize=n,this.buffer=new DY(n)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class vSe extends PY{constructor(e,n,r){super(e,n),this.upstream=e,this.windowSize=n,this.upstreamExhausted=!1,this.random=Uk.alea(r||_i().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),n=await this.buffer.shuffleExcise(e);if(n.done)this.upstreamExhausted=!0;else return this.refill(),n}return{value:null,done:!0}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class hM extends oa{constructor(e,n){if(super(),this.webcamVideoElement=e,this.webcamConfig=n,this.isClosed=!0,this.resize=!1,this.needToResize())if(this.resize=!0,this.cropSize=[this.webcamConfig.resizeHeight,this.webcamConfig.resizeWidth],this.cropBoxInd=yo([0],"int32"),this.webcamConfig.centerCrop){const r=this.webcamConfig.resizeWidth*1/this.webcamVideoElement.width,s=this.webcamConfig.resizeHeight*1/this.webcamVideoElement.height,i=(1-r)/2,a=(1-s)/2,o=i+r,l=s+a;this.cropBox=sy([a,i,l,o],[1,4])}else this.cropBox=sy([0,0,1,1],[1,4])}summary(){return"webcam"}static async create(e,n={}){if(!je().get("IS_BROWSER"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!n.resizeWidth||!n.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=n.resizeWidth,e.height=n.resizeHeight}const r=new hM(e,n);return await r.start(),r}async start(){this.webcamConfig.facingMode&&oe(this.webcamConfig.facingMode==="user"||this.webcamConfig.facingMode==="environment",()=>`Invalid webcam facing mode: ${this.webcamConfig.facingMode}. Please provide 'user' or 'environment'`);try{this.stream=await navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})}catch(e){throw e.message=`Error thrown while initializing video stream: ${e.message}`,e}if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(e){console.log(e),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,new Promise(e=>{this.webcamVideoElement.onloadedmetadata=()=>{e()}})}async next(){if(this.isClosed)return{value:null,done:!0};let e;try{e=yP(this.webcamVideoElement)}catch(n){throw new Error(`Error thrown converting video to pixels: ${JSON.stringify(n)}`)}if(this.resize)try{return{value:this.cropAndResizeFrame(e),done:!1}}catch(n){throw new Error(`Error thrown cropping the video: ${n.message}`)}finally{e.dispose()}else return{value:e,done:!1}}needToResize(){return!!(this.webcamConfig.resizeWidth&&this.webcamConfig.resizeHeight&&(this.webcamVideoElement.width!==this.webcamConfig.resizeWidth||this.webcamVideoElement.height!==this.webcamConfig.resizeHeight))}cropAndResizeFrame(e){return De(()=>{const n=Vi(Dt(e,"float32"),0);let r;r=bo.cropAndResize(n,this.cropBox,this.cropBoxInd,this.cropSize,"bilinear");const s=r.shape;return Oe(r,s.slice(1))})}async capture(){return(await this.next()).value}stop(){this.stream.getTracks().forEach(n=>n.stop());try{this.webcamVideoElement.srcObject=null}catch(n){console.log(n),this.webcamVideoElement.src=null}this.isClosed=!0}toArray(){throw new Error("Can not convert infinite video stream to array.")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */async function MY(t,e){return hM.create(t,e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wt(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&oe(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ySe=kV;class iE extends V${nextDataId(){return iE.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new JW(this,Ll())}write(e,n,r){this.firstUse&&(this.firstUse=!1,je().get("IS_NODE")&&Vo(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const s={id:this.nextDataId()};return this.data.set(s,{values:e,dtype:r,refCount:1}),s}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&Fb(r[0])){const i=r.map(a=>Td(a));s=this.write(i,e,n)}else s=this.write(r,e,n);return{dataId:s,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,r,s,i){this.data.set(e,{values:n,dtype:s,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if(n==="complex64"){const s=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return fu(s,i)}return ype(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>zd(s));return In(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return In(e.shape,e.dtype,n)}makeOutput(e,n,r){return Ll().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=_i();return e(),{kernelMs:_i()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Wt([e],"where");const n=this.readSync(e.dataId);return ySe(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}iE.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BY(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const bSe=t=>{const{x:e}=t.inputs,n=t.backend;Wt(e,"abs");let r=new Float32Array(He(e.shape));const s=n.data.get(e.dataId).values;return r=BY(s),n.makeOutput(r,e.shape,e.dtype)},xSe={kernelName:MC,backendName:"cpu",kernelFunc:bSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _s(t){return(e,n,r,s,i)=>{const a=_n(e,n),o=a.length,l=tn(a),c=He(a),u=ui(i,c),d=e.length,h=n.length,p=tn(e),m=tn(n),f=og(e,a),b=og(n,a);if(f.length+b.length===0)for(let w=0;w<u.length;++w)u[w]=t(r[w%r.length],s[w%s.length]);else for(let w=0;w<u.length;++w){const g=Ng(w,o,l),C=g.slice(-d);f.forEach(O=>C[O]=0);const k=tc(C,d,p),N=g.slice(-h);b.forEach(O=>N[O]=0);const A=tc(N,h,m);u[w]=t(r[k],s[A])}return[u,a]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function po(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,o=n.makeTensorInfo(r.shape,"complex64"),l=n.data.get(o.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(s.shape,"float32",a)},o}const wSe={kernelName:rD,backendName:"cpu",kernelFunc:po};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CS(t,e,n="float32"){if(n==="complex64"){const s=CS(t,e,"float32"),i=CS(t,e,"float32");return po({inputs:{real:s,imag:i},backend:t})}const r=di(He(e),n);return t.makeTensorInfo(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uc(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const _Se={kernelName:ox,backendName:"cpu",kernelFunc:uc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fp(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const SSe={kernelName:ED,backendName:"cpu",kernelFunc:fp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LY(t,e,n,r){if(r==="int32"){const s=Int32Array.from(t);return[e,"int32",s]}if(r==="bool"){const s=_p([0],n),[i,a]=_s((o,l)=>o!==l?1:0)(e,[],t,s,"bool");return[a,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function qd(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return uc({inputs:{x:s},backend:n});const u=CS(n,s.shape,s.dtype),d=qd({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),h=po({inputs:{real:d,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),h}if(s.dtype==="complex64"){const u=fp({inputs:{input:s},backend:n}),d=qd({inputs:{x:u},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(u),d}if(!ZW(s.dtype,i)){const u=uc({inputs:{x:s},backend:n});return{dataId:u.dataId,shape:u.shape,dtype:i}}const a=n.data.get(s.dataId).values,[o,l,c]=LY(a,s.shape,s.dtype,i);return n.makeTensorInfo(o,l,c)}const CSe={kernelName:Yb,backendName:"cpu",kernelFunc:qd};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Us(t,e,n,r){return n==null?({inputs:s,backend:i})=>{const{a,b:o}=s,l=i;Wt([a,o],t);const c=l.data.get(a.dataId).values,u=l.data.get(o.dataId).values,d=a.dtype==="string"?pu(c):c,h=a.dtype==="string"?pu(u):u,p=r||a.dtype,[m,f]=e(a.shape,o.shape,d,h,p);return l.makeTensorInfo(f,p,m)}:({inputs:s,backend:i})=>{const{a,b:o}=s,l=i;if(a.dtype==="complex64"||o.dtype==="complex64"){const c=qd({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),u=l.data.get(c.dataId),d=u.complexTensorInfos.real,h=u.complexTensorInfos.imag,p=l.data.get(d.dataId).values,m=l.data.get(h.dataId).values,f=qd({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),b=l.data.get(f.dataId),w=b.complexTensorInfos.real,g=b.complexTensorInfos.imag,C=l.data.get(w.dataId).values,k=l.data.get(g.dataId).values,[N,A,O]=n(a.shape,o.shape,p,m,C,k),R=l.makeTensorInfo(O,"float32",N),$=l.makeTensorInfo(O,"float32",A),D=po({inputs:{real:R,imag:$},backend:l});return l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(f),l.disposeIntermediateTensorInfo(R),l.disposeIntermediateTensorInfo($),D}else{const c=l.data.get(a.dataId).values,u=l.data.get(o.dataId).values,d=r||a.dtype,[h,p]=e(a.shape,o.shape,c,u,d);return l.makeTensorInfo(p,d,h)}}}function fM(t){return(e,n,r,s,i,a)=>{const o=_n(e,n),l=He(o),c=o.length,u=tn(o),d=ui("float32",l),h=ui("float32",l),p=og(e,o),m=og(n,o),f=fu(r,s),b=fu(i,a),w=e.length,g=tn(e),C=n.length,k=tn(n);if(p.length+m.length===0)for(let N=0;N<d.length;N++){const A=N%f.length,O=N%b.length,R=t(f[A*2],f[A*2+1],b[O*2],b[O*2+1]);d[N]=R.real,h[N]=R.imag}else for(let N=0;N<d.length;N++){const A=Ng(N,c,u),O=A.slice(-w);p.forEach(M=>O[M]=0);const R=tc(O,w,g),$=A.slice(-C);m.forEach(M=>$[M]=0);const D=tc($,C,k),B=t(f[R*2],f[R*2+1],b[D*2],b[D*2+1]);d[N]=B.real,h[N]=B.imag}return[d,h,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FY=_s((t,e)=>t+e),kSe=fM((t,e,n,r)=>({real:t+n,imag:e+r})),ug=Us(Rg,FY,kSe),ESe={kernelName:Rg,backendName:"cpu",kernelFunc:ug};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pM(t,e,n,r,s){const i=He(r),a=di(s,n);for(let o=0;o<t.length;o++){const l=t[o];if(l<0)throw new Error("Input x must be non-negative!");l>=s||(i>0?a[l]+=e[o]:a[l]+=1)}return a}function jY(t,e,n,r=!1){const s=t.shape[0],i=t.shape[1],a=In([s,n],e.dtype);for(let o=0;o<s;o++)for(let l=0;l<i;l++){const c=t.get(o,l);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(r?a.set(1,o,c):e.size>0?a.set(a.get(o,c)+e.get(o,l),o,c):a.set(a.get(o,c)+1,o,c))}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pc(t){return(e,n,r)=>{const s=us(n,e.length);for(let i=0;i<e.length;++i)s[i]=t(e[i],r);return s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cr(t,e,n){const r=pc(e);return uh(t,r,n)}function uh(t,e,n){return({inputs:r,attrs:s,backend:i})=>{const{x:a}=r;Wt(a,t);const o=i,l=o.data.get(a.dataId).values;let c;if(a.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");c=pu(l)}else c=l;const u=n||a.dtype,d=e(c,u,s);return o.makeTensorInfo(a.shape,u,d)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zY=pc(t=>Math.ceil(t)),TSe=uh(qb,zY),ISe={kernelName:qb,backendName:"cpu",kernelFunc:TSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UY(t,e,n,r){const s=us(n,He(e));if(r&&n!=="string"){let i=0;t.forEach(a=>{const o=He(a.shape);s.set(a.vals,i),i+=o})}else{let i=0;t.forEach(a=>{const o=n==="string"?pu(a.vals):a.vals;let l=0;for(let c=0;c<a.shape[0];++c){const u=c*e[1]+i;for(let d=0;d<a.shape[1];++d)s[u+d]=o[l++]}i+=a.shape[1]})}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WY=_s((t,e)=>t===e?1:0),VY=Us(JC,WY,null,"bool"),ASe={kernelName:JC,backendName:"cpu",kernelFunc:VY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GY=pc(t=>Math.exp(t)),HY=uh(tx,GY,"float32"),NSe={kernelName:tx,backendName:"cpu",kernelFunc:HY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YY=pc(t=>Math.expm1(t)),RSe=uh(nx,YY),OSe={kernelName:nx,backendName:"cpu",kernelFunc:RSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qY=pc(t=>Math.floor(t)),$Se=uh(rx,qY),DSe={kernelName:rx,backendName:"cpu",kernelFunc:$Se};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XY=_s((t,e)=>Math.floor(t/e)),PSe=Us(sx,XY,null,"int32"),MSe={kernelName:sx,backendName:"cpu",kernelFunc:PSe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KY(t,e,n,r,s,i,a,o,l){const c=In([r,i],n);for(let u=0;u<r;u++){const d=[];let h=0;for(let p=0;p<s;p++){const m=t[u*s+p];h+=m*a[p],d.push(m)}if(h<0||h>=l/i)throw new Error(`Invalid indices: ${d} does not index into ${o}`);for(let p=0;p<i;p++)c.values[u*i+p]=e.get(...e.indexToLoc(h*i+p))}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JY(t,e,n){const r=In(n,t.dtype);for(let s=0;s<r.size;++s){const a=r.indexToLoc(s).slice(),o=a[0],l=a[2],c=e.locToIndex([o,l]);a[2]=e.values[c];const u=t.locToIndex(a);0<=u&&u<t.values.length&&(r.values[s]=t.values[u])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QY=_s((t,e)=>t>e?1:0),BSe=Us(tk,QY,null,"bool"),LSe={kernelName:tk,backendName:"cpu",kernelFunc:BSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZY=_s((t,e)=>t>=e?1:0),FSe=Us(ix,ZY,null,"bool"),jSe={kernelName:ix,backendName:"cpu",kernelFunc:FSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eq=_s((t,e)=>t<e?1:0),zSe=Us(rk,eq,null,"bool"),USe={kernelName:rk,backendName:"cpu",kernelFunc:zSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tq=_s((t,e)=>t<=e?1:0),WSe=Us(sk,tq,null,"bool"),VSe={kernelName:sk,backendName:"cpu",kernelFunc:WSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nq(t,e,n){const r=(e-t)/(n-1),s=di(n,"float32");s[0]=t;for(let i=1;i<s.length;i++)s[i]=s[i-1]+r;return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rq=pc(t=>Math.log(t)),GSe=uh(ux,rq),HSe={kernelName:ux,backendName:"cpu",kernelFunc:GSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sq(t,e,n,r){const s=ui(r,He(n));for(let i=0;i<s.length;++i){const a=i*e;let o=t[a];for(let l=0;l<e;++l){const c=t[a+l];(Number.isNaN(c)||c>o)&&(o=c)}s[i]=o}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iq=_s((t,e)=>Math.max(t,e)),YSe=Us(hx,iq),qSe={kernelName:hx,backendName:"cpu",kernelFunc:YSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oq=_s((t,e)=>Math.min(t,e)),XSe=Us(fx,oq),KSe={kernelName:fx,backendName:"cpu",kernelFunc:XSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mM=_s((t,e)=>t*e),JSe=fM((t,e,n,r)=>({real:t*n-e*r,imag:t*r+e*n})),oE=Us(mx,mM,JSe),QSe={kernelName:mx,backendName:"cpu",kernelFunc:oE};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aq(t,e,n){const r=sh(-1,n);return mM([],e,r,t,n)}function ZSe(t){const{inputs:e,backend:n}=t,{x:r}=e;Wt(r,"neg");const s=n.data.get(r.dataId).values,[i,a]=aq(s,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,i)}const eCe={kernelName:mk,backendName:"cpu",kernelFunc:ZSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lq=_s((t,e)=>t!==e?1:0),tCe=Us(gk,lq,null,"bool"),nCe={kernelName:gk,backendName:"cpu",kernelFunc:tCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gM(t,e,n,r,s){const i=e.length,a=He(e),o=tn(e),l=tn(s),c=ui(n,He(s));for(let u=0;u<a;++u){const d=Ng(u,i,o),h=new Array(d.length);for(let m=0;m<h.length;m++)h[m]=d[r[m]];const p=tc(h,i,l);c[p]=t[u]}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xi(t){const{inputs:e,attrs:n,backend:r}=t,{x:s}=e,{perm:i}=n;Wt(s,"transpose");const a=s.shape.length,o=new Array(a);for(let d=0;d<o.length;d++)o[d]=s.shape[i[d]];const l=r.data.get(s.dataId).values,c=gM(l,s.shape,s.dtype,i,o);return{dataId:r.write(c,o,s.dtype),shape:o,dtype:s.dtype}}const rCe={kernelName:Im,backendName:"cpu",kernelFunc:Xi};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cq(t,e,n,r){const[s,i]=zs(t,r),a=ko(e,"int32"),o=di(He(s),a),l=He(i);for(let c=0;c<o.length;++c){const u=c*l;let d=1;for(let h=0;h<l;++h)d*=n[u+h];o[c]=d}return{outVals:o,outShape:s,outDtype:a}}function sCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;Wt(s,"prod");const o=s.shape.length,l=An(i,s.shape),c=ns(l,o);let u=l,d=s;const h=[];c!=null&&(d=Xi({inputs:{x:s},backend:n,attrs:{perm:c}}),h.push(d),u=fs(u.length,o));const p=n.data.get(d.dataId).values,{outVals:m,outShape:f,outDtype:b}=cq(d.shape,d.dtype,p,u);let w=f;return a&&(w=ws(f,l)),h.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.makeTensorInfo(w,b,m)}const iCe={kernelName:_k,backendName:"cpu",kernelFunc:sCe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oCe(t,e,n){t.forEach((r,s)=>{if(r<0||r>=n){const i=Ng(s,e.length,tn(e)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${n})`)}})}function aCe(t,e){for(let n=0;n<t.length;++n){const r=t[n],s=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>s)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function lCe(t,e,n,r){const s=[];let i=0;const a=e.length-1+n.length,o=new Array(a).fill(null).map(()=>[0]);aCe(n,r);let l=1;for(let c=0;c<e.length-1;++c){l*=e[c];const u=e[c+1];for(let d=1;d<l+1;++d)o[c].push(d*u)}for(let c=0;c<t.length;++c){let u=t[c],d=t[c]+1;for(let h=0;h<n.length;++h){const p=n[h],m=h+e.length-1;if(m>=0){const f=o[m],b=f[f.length-1]-p[u];for(let w=u;w<d;++w)o[m].push(p[w+1]+b)}u=p[u],d=p[d]}d!==u&&(s.push([u,d]),i+=d-u)}return{outSplits:o,valueSlices:s,numValues:i}}function cCe(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,s=us("int32",r);e.push(s),t[n].forEach((i,a)=>s[a]=i)}return e}function a6(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function uCe(t,e,n,r,s,i){const a=a6(e,2)[1],o=a6(i,2)[1];let l=0;for(const c of n)for(let u=c[0];u<c[1];++u){for(let d=0;d<r;++d)s[l*o+d]=t[u*a+d];++l}}function dCe(t,e,n,r,s){const i=e.slice();i[0]=s;const a=us(n,He(i)),o=t.length,l=o===0?0:o/e[0];return uCe(t,e,r,l,a,i),[a,i]}function uq(t,e,n,r,s,i,a,o){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(oCe(i,a,l),r.length===0)throw new Error("params.rank must be nonzero");const c=r[0],{outSplits:u,valueSlices:d,numValues:h}=lCe(i,a,t,c),p=cCe(u),m=dCe(n,r,s,d,h);return[p,m[0],m[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l6=2147483647;function dq(t,e,n,r,s,i,a){if(e.length>1)throw new Error("starts must be a scalar or vector");if(s.length>1)throw new Error("limits must be a scalar or vector");if(a.length>1)throw new Error("deltas must be a scalar or vector");const o=e.length===0,l=s.length===0,c=a.length===0,u=[];o||u.push(e[0]),l||u.push(s[0]),c||u.push(a[0]);for(let b=1;b<u.length;++b)if(u[b]!==u[b-1])throw new Error("starts, limits, and deltas must have the same shape");const d=u.length===0?1:u[0],h=us("int32",d+1);h[0]=0;for(let b=0;b<d;++b){const w=o?t[0]:t[b],g=l?r[0]:r[b],C=c?i[0]:i[b];if(C===0)throw new Error("Requires delta != 0");let k;if(C>0&&g<w||C<0&&g>w)k=0;else if(k=Math.ceil(Math.abs((g-w)/C)),k>l6)throw new Error(`Requires ((limit - start) / delta) <= ${l6}`);h[b+1]=h[b]+k}const p=h[d],m=us(n,p);let f=0;for(let b=0;b<d;++b){const w=h[b+1]-h[b];let g=o?t[0]:t[b];const C=c?i[0]:i[b];for(let k=0;k<w;++k)m[f++]=g,g+=C}return[h,m]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var da=ll;class kS{constructor(e,n,r,s,i,a,o,l,c,u){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=s,this.valuesDType=i,this.defaultValue=a,this.defaultValueShape=o,this.rowPartitionValues=l,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=YV(u),this.raggedRank=qV(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===da.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===da.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case da.VALUE_ROWIDS:return kS.getMaxWidthValueRowID(n);case da.ROW_SPLITS:return kS.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${da[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let s=0;s<n-1;++s){const i=e[s+1]-e[s];i>r&&(r=i)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,s=e[0],i=0;for(let a=1;a<n;++a){const o=e[a];o!==s&&(s=o,i=Math.max(a-r,i),r=a)}return Math.max(n-r,i)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return u6(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;XV(r,n);const s=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=HV(this.raggedRank,s,n);a[0]<0&&(a[0]=e);for(let o=1;o<=this.raggedRank;++o)a[o]<0&&(a[o]=this.getMaxWidth(o));return a}calculateFirstParentOutputIndex(e,n,r){const s=Math.min(e,r),i=[];let a=0;for(let o=0;o<s;++o,a+=n)i.push(a);for(let o=s;o<e;++o)i.push(-1);return oe(i.length===e,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(e,n,r,s){const i=e.length,a=[];for(let o=0;o<i-1;++o){const l=e[o+1]-e[o];let c=Math.min(s,l),u=n[o];u===-1&&(c=0);for(let d=0;d<c;++d)a.push(u),u+=r;for(let d=0;d<l-c;++d)a.push(-1)}if(i>0&&a.length!==e[i-1])throw new Error("Invalid row split size.");return a}calculateOutputIndexValueRowID(e,n,r,s){const i=e.length,a=[];if(i===0)return[];let o=0,l=e[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let c=n[l];a.push(c);for(let u=1;u<i;++u){const d=e[u];if(d===l)c>=0&&(++o,o<s?c+=r:c=-1);else{if(o=0,l=d,d>=n.length)throw new Error(`Got nextValueRowId=${d} which is not less than ${n.length}`);c=n[d]}a.push(c)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}calculateOutputIndex(e,n,r,s){const i=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case da.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,n,r,s);case da.ROW_SPLITS:if(i.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(i,n,r,s);default:throw new Error(`Unsupported partition type: ${da[a]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case da.FIRST_DIM_SIZE:return e[0];case da.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case da.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${da[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),s=new Array(this.raggedRank+1);s[s.length-1]=1;for(let l=s.length-2;l>=0;--l)s[l]=s[l+1]*r[l+1];const i=u6(r,!1),a=us(this.valuesDType,He(i));if(s[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(n,s[0],r[0]);for(let c=1;c<=this.raggedRank;++c)l=this.calculateOutputIndex(c-1,l,s[c],r[c]);this.setOutput(this.raggedRank,l,a,i)}return[i,a]}setOutput(e,n,r,s){if(r.length===0)return;const i=this.values,a=r;let o=s.slice();o=o.slice(e+1);const l=He(o),c=n.length;let u=this.defaultValue;if(u.length!==l&&u.length!==1){const m=this.defaultValueShape;De(()=>{const f=Oe(u,m);u=ry(f,o).dataSync()})}let d=0,h=0,p=0;for(let m=0;m<=c;++m){let f=m<c?n[m]:-1;if(f===p){++p;continue}if(h<p){const b=i.subarray(d*l),w=a.subarray(h*l),g=(p-h)*l;c6(w,b,g)}if(m>=c){const b=r.length;f=Math.floor(b/l)}if(f>p)if(this.defaultValue.length===1)a.subarray(p*l,f*l).fill(this.defaultValue[0]),p=f;else for(;f>p;){const b=a.slice(p*l);c6(b,u,l),++p}f<0?(d=m+1,h=p):(d=m,h=p,p=h+1)}}}function c6(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function u6(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function hq(t,e,n,r,s,i,a,o,l,c){return new kS(t,e,n,r,s,i,a,o,l,c).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fq(t,e,n,r){const s=t===e,i=t<e&&n<0,a=e<t&&n>1;if(s||i||a)return di(0,r);const o=Math.abs(Math.ceil((e-t)/n)),l=di(o,r);e<t&&n===1&&(n=-1),l[0]=t;for(let c=1;c<l.length;c++)l[c]=l[c-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pq=pc(t=>1/Math.sqrt(t)),hCe=uh(wx,pq),fCe={kernelName:wx,backendName:"cpu",kernelFunc:hCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rf(t,e,n,r,s,i,a,o,l,c){const u=[r/s,s],d=t.values,h=e.values;if(r===0)return In(n,e.dtype);const p=l instanceof Js?l:In(u,e.dtype);typeof l=="string"||typeof l=="number"?p.values.fill(l):typeof l=="boolean"&&p.values.fill(+l);for(let m=0;m<i;m++){const f=[];let b=0;for(let w=0;w<a;w++){const g=d[m*a+w];f.push(g),b+=g*o[w]}if(b<0||b>=r/s)throw new Error(`Invalid indices: ${f} does not index into ${n}`);for(let w=0;w<s;w++)c?p.values[b*s+w]+=h[m*s+w]:p.values[b*s+w]=e.rank===0?h[0]:h[m*s+w]}return p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pCe=pc(t=>1/(1+Math.exp(-t))),mq=cr(Ex,t=>1/(1+Math.exp(-t))),mCe={kernelName:Ex,backendName:"cpu",kernelFunc:mq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gq(t,e,n,r,s){const i=_P(r,e,n),a=He(n),o=tn(r);if(i){const d=SP(e,o);return s==="string"?t.slice(d,d+a):t.subarray(d,d+a)}const l=s==="string"?pu(t):t,c=In(r,s,l),u=In(n,s);for(let d=0;d<u.size;++d){const h=u.indexToLoc(d),p=h.map((m,f)=>m+e[f]);u.set(c.get(...p),...h)}return s==="string"?mG(u.values):u.values}function pp(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:a}=r;Wt(s,"slice");const[o,l]=Wk(s,i,a);xP(s,o,l);const c=n.data.get(s.dataId).values,u=gq(c,o,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,u)}const gCe={kernelName:Ik,backendName:"cpu",kernelFunc:pp};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vq(t,e,n,r,s,i,a){const o=e[0],l=i[0],c=new Array(l),u=new Array(o),d=e[1];if(l===0){if(o!==0)throw new Error(nG(o));const b=us(n,0),w=us(s,0);return[b,[0,d],w,c,u]}let h=!0,p=0;const m=new Array(l).fill(0);for(let b=0;b<o;++b){const w=t[b*d];if(w<0)throw new Error(rG(b,w));if(w>=l)throw new Error(sG(b,w,l));++m[w],h=h&&w>=p,p=w}let f=!0;for(let b=0;b<l;++b){const w=m[b]===0;c[b]=w,f=f&&!w,m[b]=Math.max(m[b],1),b>0&&(m[b]+=m[b-1])}if(f&&h){const b=t,w=r;for(let g=0;g<o;++g)u[g]=g;return[b,[o,d],w,c,u]}else{const b=m[l-1],w=us(n,b*d),g=us(s,b),C=new Array(l).fill(0);for(let k=0;k<o;++k){const N=t[k*d],A=C[N],O=(N===0?0:m[N-1])+A;C[N]++;for(let R=0;R<d;++R)w[O*d+R]=t[k*d+R];g[O]=r[k],u[k]=O}for(let k=0;k<l;++k)if(C[k]===0){const A=k===0?0:m[k-1];w[A*d+0]=k;for(let O=1;O<d;++O)w[A*d+O]=0;g[A]=a}return[w,[b,d],g,c,u]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yq(t,e,n,r,s){const i=He(r),a=e[0],o=s.length,l=[];let c=1,u=-1;for(let b=0;b<o;++b){const w=s[b];if(w===-1){if(u!==-1)throw new Error(iG(u,b));u=b,l.push(1)}else{if(w<0)throw new Error(oG(b,w));c*=w,l.push(w)}}if(u!==-1){if(c<=0)throw new Error(aG());const b=Math.trunc(i/c);if(c*b!==i)throw new Error(lG(r,l));l[u]=b}if(He(l)!==i)throw new Error(cG(r,l));const h=r.length,p=[];if(h>0){p[h-1]=1;for(let b=h-2;b>=0;--b)p[b]=p[b+1]*r[b+1]}const m=[];if(o>0){m[o-1]=1;for(let b=o-2;b>=0;--b)m[b]=m[b+1]*l[b+1]}const f=us(n,a*o);for(let b=0;b<a;++b){let w=0;for(let g=0;g<h;++g)w+=t[b*h+g]*p[g];for(let g=0;g<o;++g)f[b*o+g]=Math.trunc(w/m[g]),w%=m[g]}return[f,[a,o],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vM(t,e,n,r,s,i=!1,a=0){const o=r.length,l=[e[0],t.length/e[0]],c=l[1],d=o>0?s[o-1]+1:0;if(d<0)throw new Error(YN());const h=e.slice();h[0]=d;const p=h.reduce((C,k)=>C*k,1),m=us(n,p);if(o===0)return d>0&&m.fill(a),[m,h];if(d<=0)throw new Error(YN());let f=0,b=1,w=0,g=s[f];for(;;){let C=0;if(b<o){if(C=s[b],g===C){++b;continue}if(g>=C)throw new Error(uG())}if(g<0||g>=d)throw new Error(dG(g,d));g>w&&m.fill(a,w*c,g*c);for(let k=f;k<b;++k){const N=r[k];if(N<0||N>=l[0])throw new Error(hG(k,r[k],l[0]));for(let A=0;A<c;A++)m[g*c+A]+=t[N*c+A]}if(i)for(let k=0;k<c;k++)m[g*c+k]/=b-f;if(f=b,++b,w=g+1,g=C,b>o)break}return w<d&&m.fill(a,w*c,d*c),[m,h]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vCe=pc(t=>Math.sqrt(t)),yCe=cr(Ix,t=>Math.sqrt(t)),bCe={kernelName:Ix,backendName:"cpu",kernelFunc:yCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bq=_s((t,e)=>{const n=t-e;return n*n}),xCe=Us(Ax,bq),wCe={kernelName:Ax,backendName:"cpu",kernelFunc:xCe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xq=pc((t,e)=>{const{pattern:n,replaceGlobal:r,rewrite:s}=e;return t.replace(new RegExp(n,r?"g":""),s)}),_Ce=uh(ND,xq),SCe={kernelName:ND,backendName:"cpu",kernelFunc:_Ce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wq(t,e,n,r){const s=In(t,e.dtype);for(let i=0;i<s.size;i++){const a=s.indexToLoc(i),o=new Array(a.length);for(let l=0;l<o.length;l++)o[l]=a[l]*n[l]+r[l];s.set(e.get(...o),...a)}return s}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CCe{constructor(e,n,r,s,i,a){this.separator=Td(e),this.nGramWidths=n,this.leftPad=Td(r),this.rightPad=Td(s),this.padWidth=i,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,s,i,a){for(let o=0;o<i;++o){const l=this.getPadWidth(a),c=Math.max(0,l-o),u=Math.max(0,l-(i-(o+1))),d=a-(c+u),h=n+(c>0?0:o-l);let p=0;p+=c*this.leftPad.length;for(let g=0;g<d;++g)p+=e[h+g].length;p+=u*this.rightPad.length;const m=c+u+d-1;p+=m*this.separator.length,r[s+o]=new Uint8Array(p);const f=r[s+o];let b=0;const w=g=>g.forEach(C=>f[b++]=C);for(let g=0;g<c;++g)w(this.leftPad),w(this.separator);for(let g=0;g<d-1;++g)w(e[h+g]),w(this.separator);if(d>0){w(e[h+d-1]);for(let g=0;g<u;++g)w(this.separator),w(this.rightPad)}else{for(let g=0;g<u-1;++g)w(this.rightPad),w(this.separator);w(this.rightPad)}}}compute(e,n){const r=e.length,s=n.length;if(s>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let c=1;c<s;++c){let u=n[c]>=l;if(u=u&&n[c]<=r,!u)throw new Error(`Invalid split value ${n[c]}, must be in [${l}, ${r}]`);l=n[c]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const i=s-1,a=us("int32",s);if(r===0||s===0){const l=new Array(r);for(let c=0;c<=i;++c)a[c]=0;return[l,a]}a[0]=0;for(let l=1;l<=i;++l){const c=n[l]-n[l-1];let u=0;this.nGramWidths.forEach(d=>{u+=this.getNumNGrams(c,d)}),this.preserveShort&&c>0&&u===0&&(u=1),a[l]=a[l-1]+u}const o=new Array(a[i]);for(let l=0;l<i;++l){const c=n[l];let u=a[l];if(this.nGramWidths.forEach(d=>{const h=n[l+1]-n[l],p=this.getNumNGrams(h,d);this.createNGrams(e,c,o,u,p,d),u+=p}),this.preserveShort&&u===a[l]){const d=n[l+1]-n[l];if(d===0)continue;const h=d+2*this.padWidth,p=1;this.createNGrams(e,c,o,u,p,h)}}return[o,a]}}function _q(t,e,n,r,s,i,a,o){return new CCe(n,r,s,i,a,o).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kCe(t,e,n,r){if(!t.length)return;if(e.length===0){for(let i=0;i<t.length;++i)r.push(t.subarray(i,i+1));return}if(e.length===1){const i=e[0];let a=t.indexOf(i);for(;a!==-1;){const o=t.subarray(0,a);(!n||o.length!==0)&&r.push(o),t=t.subarray(a+1),a=t.indexOf(i)}(!n||t.length!==0)&&r.push(t);return}let s=0;for(let i=0;i<t.length+1;i++)if(i===t.length||e.indexOf(t[i])!==-1){const a=t.subarray(s,i);(!n||a.length!==0)&&r.push(a),s=i+1}}function Sq(t,e,n){const r=t.length,s=[];let i=0,a=0;const o=new Array(r);for(let h=0;h<r;++h){const p=s.length;kCe(t[h],e,n,s);const m=s.length-p;o[h]=m,i+=m,a=Math.max(a,m)}const l=us("int32",i*2),c=new Array(i),u=[r,a];let d=0;for(let h=0;h<r;++h)for(let p=0;p<o[h];++p)l[d*2]=h,l[d*2+1]=p,c[d]=s[d],++d;return[l,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cq(t,e){const n=us("int32",t.length);for(let r=0;r<t.length;++r)n[r]=Ppe(t[r]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kq=_s((t,e)=>t-e),ECe=fM((t,e,n,r)=>({real:t-n,imag:e-r})),yM=Us(Nx,kq,ECe),TCe={kernelName:Nx,backendName:"cpu",kernelFunc:yM};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eq(t,e){const n=new Array(t.rank);for(let s=0;s<n.length;s++)n[s]=t.shape[s]*e[s];const r=In(n,t.dtype);for(let s=0;s<r.values.length;++s){const i=r.indexToLoc(s),a=new Array(t.rank);for(let l=0;l<a.length;l++)a[l]=i[l]%t.shape[l];const o=t.locToIndex(a);r.values[s]=t.values[o]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nv=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function Tq(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const o=r-n+1,l=e-n+1,c=Math.log(o),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(o-u)/o)*Math.sign(l-o/2),h=Math.max(n,Math.floor(e-l*u/o+d)),p=Math.min(r,Math.floor(e+(o-l)*u/o+d));Tq(t,e,h,p)}const s=t[e];let i=n,a=r;for(Kp(t,n,e),Nv(t[r],s)>0&&Kp(t,n,r);i<a;){for(Kp(t,i,a),i++,a--;Nv(t[i],s)<0;)i=i+1;for(;Nv(t[a],s)>0;)a=a-1}Nv(t[n],s)===0?Kp(t,n,a):(a=a+1,Kp(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}}function Iq(t,e,n,r,s){const i=e[e.length-1],[a,o]=[t.length/i,i],l=ui(n,a*r),c=ui("int32",a*r);for(let d=0;d<a;d++){const h=d*o,p=t.subarray(h,h+o);let m=new Array(p.length);p.forEach((g,C)=>m[C]={value:g,index:C}),r<m.length&&(Tq(m,r),m=m.slice(0,r)),s&&m.sort(Nv);const f=d*r,b=l.subarray(f,f+r),w=c.subarray(f,f+r);for(let g=0;g<r;g++)b[g]=m[g].value,w[g]=m[g].index}const u=e.slice();return u[u.length-1]=r,[In(u,n,l),In(u,"int32",c)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aq(t,e,n,r){const s=An(e,n)[0],i=[1,n[0],1];for(let m=0;m<s;m++)i[0]*=n[m];i[1]=n[s];for(let m=s+1;m<n.length;m++)i[2]*=n[m];const a=new Map,o=new Int32Array(n[s]),l=new Js(i,r,t),c=[],u=i[0]===1&&i[2]===1;for(let m=0;m<n[s];m++){let f;if(u)f=t[m].toString();else{const w=[];for(let g=0;g<i[0];g++)for(let C=0;C<i[2];C++)w.push(l.get(g,m,C));f=w.join(",")}const b=a.get(f);if(b!=null)o[m]=b;else{const w=a.size;a.set(f,w),o[m]=w,c.push(m)}}const d=i.slice();d[1]=a.size;const h=new Js(d,r);c.forEach((m,f)=>{for(let b=0;b<i[0];b++)for(let w=0;w<i[2];w++)h.set(l.get(b,m,w),b,f,w)});const p=n.slice();return p[s]=d[1],{outputValues:h.values,outputShape:p,indices:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ICe=Object.freeze(Object.defineProperty({__proto__:null,addImpl:FY,bincountImpl:pM,bincountReduceImpl:jY,castImpl:LY,ceilImpl:zY,concatImpl:UY,equalImpl:WY,expImpl:GY,expm1Impl:YY,floorDivImpl:XY,floorImpl:qY,gatherNdImpl:KY,gatherV2Impl:JY,greaterEqualImpl:ZY,greaterImpl:QY,lessEqualImpl:tq,lessImpl:eq,linSpaceImpl:nq,logImpl:rq,maxImpl:sq,maximumImpl:iq,minimumImpl:oq,multiplyImpl:mM,negImpl:aq,notEqualImpl:lq,prodImpl:cq,raggedGatherImpl:uq,raggedRangeImpl:dq,raggedTensorToTensorImpl:hq,rangeImpl:fq,rsqrtImpl:pq,scatterImpl:Rf,sigmoidImpl:pCe,simpleAbsImpl:BY,sliceImpl:gq,sparseFillEmptyRowsImpl:vq,sparseReshapeImpl:yq,sparseSegmentReductionImpl:vM,sqrtImpl:vCe,squaredDifferenceImpl:bq,staticRegexReplaceImpl:xq,stridedSliceImpl:wq,stringNGramsImpl:_q,stringSplitImpl:Sq,stringToHashBucketFastImpl:Cq,subImpl:kq,tileImpl:Eq,topKImpl:Iq,transposeImpl:gM,uniqueImpl:Aq},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */J3("cpu",()=>new iE,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nq=cr(Zb,t=>t>=0?t:Math.exp(t)-1),ACe={kernelName:Zb,backendName:"cpu",kernelFunc:Nq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rq(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r;Wt([s],"leakyRelu");const a=He(s.shape),o=n.data.get(s.dataId).values,l=ui("float32",a);for(let c=0;c<o.length;c++)l[c]=o[c]<0?i*o[c]:o[c];return n.makeTensorInfo(s.shape,"float32",l)}const NCe={kernelName:nk,backendName:"cpu",kernelFunc:Rq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RCe=_s((t,e)=>t<0?e*t:t);function Oq(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e;Wt([r,s],"prelu");const i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,[o,l]=RCe(r.shape,s.shape,i,a,"float32");return n.makeTensorInfo(l,"float32",o)}const OCe={kernelName:wk,backendName:"cpu",kernelFunc:Oq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $q=cr(yx,t=>Math.max(0,t)),$Ce={kernelName:yx,backendName:"cpu",kernelFunc:$q};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dq=cr(bx,t=>Math.min(Math.max(0,t),6)),DCe={kernelName:bx,backendName:"cpu",kernelFunc:Dq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ES(t,e,n,r,s){if(n==="linear")return uc({inputs:{x:e},backend:t});if(n==="relu")return $q({inputs:{x:e},backend:t});if(n==="elu")return Nq({inputs:{x:e},backend:t});if(n==="relu6")return Dq({inputs:{x:e},backend:t});if(n==="prelu")return Oq({inputs:{x:e,alpha:r},backend:t});if(n==="leakyrelu")return Rq({inputs:{x:e},backend:t,attrs:{alpha:s}});if(n==="sigmoid")return mq({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cr(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,a=He(s.shape),o=QW(i,a),l=He(o);oe(a===l,()=>`The new shape (${o}) has ${l} elements and the old shape (${s.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`),n.incRef(s.dataId);const c=n.data.get(s.dataId);if(c.complexTensorInfos!=null){const u=c.complexTensorInfos.real,d=c.complexTensorInfos.imag;u.shape=o,d.shape=o}return{dataId:s.dataId,shape:o,dtype:s.dtype}}const PCe={kernelName:Sk,backendName:"cpu",kernelFunc:Cr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pq(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:a,transposeB:o}=r;Wt([s,i],"matMul");const l=s.shape.length,c=i.shape.length,u=a?s.shape[l-2]:s.shape[l-1],d=o?i.shape[c-1]:i.shape[c-2],h=a?s.shape[l-1]:s.shape[l-2],p=o?i.shape[c-2]:i.shape[c-1],m=s.shape.slice(0,-2),f=i.shape.slice(0,-2),b=He(m),w=He(f),C=_n(s.shape.slice(0,-2),i.shape.slice(0,-2)).concat([h,p]);oe(u===d,()=>`Error in matMul: inner shapes (${u}) and (${d}) of Tensors with shapes ${s.shape} and ${i.shape} and transposeA=${a} and transposeB=${o} must match.`);const k=a?[b,u,h]:[b,h,u],N=o?[w,p,d]:[w,d,p],A=Cr({inputs:{x:s},backend:n,attrs:{shape:k}}),O=Cr({inputs:{x:i},backend:n,attrs:{shape:N}}),R=a?A.shape[1]:A.shape[2],$=a?A.shape[2]:A.shape[1],D=o?O.shape[1]:O.shape[2],B=Math.max(b,w),M=n.data.get(A.dataId).values,z=n.data.get(O.dataId).values,W=tn(A.shape),V=tn(O.shape),[q,H,K]=a?[W[0],1,W[1]]:[W[0],W[1],1],[F,ie,de]=o?[1,V[1],V[0]]:[V[1],1,V[0]],ee=$*D,J=In([B,$,D],A.dtype),ae=J.values,ue=n.blockSize;for(let le=0;le<B;le++){const Ee=le%b,ze=le%w;for(let Pe=0;Pe<$;Pe+=ue){const Ke=Math.min(Pe+ue,$);for(let Ye=0;Ye<D;Ye+=ue){const We=Math.min(Ye+ue,D);for(let ot=0;ot<R;ot+=ue){const Je=Math.min(ot+ue,R);for(let Le=Pe;Le<Ke;Le++)for(let dt=Ye;dt<We;dt++){let Ct=0;for(let Ae=ot;Ae<Je;Ae++){const rt=M[Ee*q+Le*H+Ae*K],fe=z[Ae*F+dt*ie+ze*de];Ct+=rt*fe}ae[le*ee+(Le*D+dt)]+=Ct}}}}}return n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(O),n.makeTensorInfo(C,J.dtype,J.values)}const MCe={kernelName:zC,backendName:"cpu",kernelFunc:Pq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BCe(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:a,preluActivationWeights:o}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=r;let h,p,m;const f=[];h=Pq({inputs:{a:s,b:i},attrs:{transposeA:l,transposeB:c},backend:n}),a&&(p=ug({inputs:{a:h,b:a},backend:n}),f.push(h),h=p),u&&(m=ES(n,h,u,o,d),f.push(h),h=m);for(const w of f)n.disposeIntermediateTensorInfo(w);return h}const LCe={kernelName:rS,backendName:"cpu",kernelFunc:BCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FCe=cr(jb,t=>Math.acos(t)),jCe={kernelName:jb,backendName:"cpu",kernelFunc:FCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zCe=cr(zb,t=>Math.acosh(t)),UCe={kernelName:zb,backendName:"cpu",kernelFunc:zCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WCe(t){const{inputs:e,backend:n}=t,r=e;Wt(e,"addN");const s=r.map(o=>n.data.get(o.dataId).values),i=In(r[0].shape,r[0].dtype),a=i.values;for(let o=0;o<r.length;o++){const l=s[o];for(let c=0;c<a.length;c++)a[c]+=l[c]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}const VCe={kernelName:J$,backendName:"cpu",kernelFunc:WCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;Wt(s,"all");const o=An(i,s.shape);let l=o;const c=ns(l,s.shape.length);let u=s;c!=null&&(u=Xi({inputs:{x:s},backend:n,attrs:{perm:c}}),l=fs(l.length,s.shape.length)),ei("all",l,u.shape.length);const[d,h]=zs(u.shape,l),p=He(h),m=di(He(d),u.dtype),f=n.data.get(u.dataId).values;for(let w=0;w<m.length;++w){const g=w*p;let C=f[g];for(let k=0;k<p;++k){const N=f[g+k];C=C&&N}m[w]=C}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,m);if(a){const w=ws(d,o),g=Cr({inputs:{x:b},backend:n,attrs:{shape:w}});return n.disposeIntermediateTensorInfo(b),g}return b}const HCe={kernelName:Q$,backendName:"cpu",kernelFunc:GCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;Wt(s,"any");const o=An(i,s.shape);let l=o;const c=ns(l,s.shape.length);let u=s;c!=null&&(u=Xi({inputs:{x:s},backend:n,attrs:{perm:c}}),l=fs(l.length,s.shape.length)),ei("any",l,u.shape.length);const[d,h]=zs(u.shape,l),p=He(h),m=di(He(d),u.dtype),f=n.data.get(u.dataId).values;for(let w=0;w<m.length;++w){const g=w*p;let C=f[g];for(let k=0;k<p;++k){const N=f[g+k];C=C||N}m[w]=C}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,m);if(a){const w=ws(d,o),g=Cr({inputs:{x:b},backend:n,attrs:{shape:w}});return n.disposeIntermediateTensorInfo(b),g}return b}const qCe={kernelName:Z$,backendName:"cpu",kernelFunc:YCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;Wt(s,"argMax");let a=An(i,s.shape);const o=ns(a,s.shape.length);let l=s;const c=[];o!=null&&(l=Xi({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),a=fs(a.length,l.shape.length)),a=[a[0]],ei("argMax",a,l.shape.length);const[u,d]=zs(l.shape,a),h=He(u),p=di(h,"int32"),m=He(d),f=n.data.get(l.dataId).values;for(let b=0;b<p.length;++b){const w=b*m;let g=f[w],C=0;for(let k=0;k<m;++k){const N=f[w+k];N>g&&(g=N,C=k)}p[b]=C}return c.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(u,"int32",p)}const KCe={kernelName:BC,backendName:"cpu",kernelFunc:XCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;Wt(s,"argMin");let a=An(i,s.shape);const o=ns(a,s.shape.length);let l=s;const c=[];o!=null&&(l=Xi({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),a=fs(a.length,l.shape.length)),a=[a[0]],ei("argMin",a,l.shape.length);const[u,d]=zs(l.shape,a),h=He(u),p=di(h,"int32"),m=He(d),f=n.data.get(l.dataId).values;for(let b=0;b<p.length;++b){const w=b*m;let g=f[w],C=0;for(let k=0;k<m;++k){const N=f[w+k];N<g&&(g=N,C=k)}p[b]=C}return c.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(u,"int32",p)}const QCe={kernelName:LC,backendName:"cpu",kernelFunc:JCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZCe=cr(Ub,t=>Math.asin(t)),eke={kernelName:Ub,backendName:"cpu",kernelFunc:ZCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tke=cr(Wb,t=>Math.asinh(t)),nke={kernelName:Wb,backendName:"cpu",kernelFunc:tke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rke=cr(Vb,t=>Math.atan(t)),ske={kernelName:Vb,backendName:"cpu",kernelFunc:rke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ike=_s((t,e)=>Math.atan2(t,e)),oke=Us(Hb,ike),ake={kernelName:Hb,backendName:"cpu",kernelFunc:oke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lke=cr(Gb,t=>Math.atanh(t)),cke={kernelName:Gb,backendName:"cpu",kernelFunc:lke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bM(t,e,n,r,s,i){const a=s.strideHeight,o=s.strideWidth,l=s.dilationHeight,c=s.dilationWidth,u=s.effectiveFilterHeight,d=s.effectiveFilterWidth,h=s.padInfo.top,p=s.padInfo.left,m=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,f=In(s.outShape,n),b=f.values,w=s.outShape[1]*s.outShape[2]*s.outShape[3],g=s.outShape[2]*s.outShape[3],C=s.outShape[3];for(let k=0;k<s.batchSize;++k){const N=k*w,A=k*r[0];for(let O=0;O<s.inChannels;++O)for(let R=0;R<s.outHeight;++R){const $=R*a-h,D=Math.max(0,$),B=Math.min(s.inHeight,u+$),M=N+R*g;for(let z=0;z<s.outWidth;++z){const W=z*o-p,V=Math.max(0,W),q=Math.min(s.inWidth,d+W);let H=m,K=0,F=0;for(let de=D;de<B;de+=l){const ee=A+de*r[1];for(let J=V;J<q;J+=c){const ae=ee+J*r[2],ue=t[ae+O];i==="max"&&ue>H?H=ue:i==="avg"&&(K+=ue,F++)}if(isNaN(H))break}const ie=M+z*C+O;b[ie]=i==="avg"?K/F:H}}}return f}function Mq(t,e,n,r,s=!1,i=!1){const a=In(r.outShape,"int32"),o=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,u=r.dilationWidth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,p=r.padInfo.top,m=r.padInfo.left,f=In(e,n,t);for(let b=0;b<r.batchSize;++b)for(let w=0;w<r.inChannels;++w)for(let g=0;g<r.outHeight;++g){const C=g*o-p;let k=C;for(;k<0;)k+=c;const N=Math.min(r.inHeight,d+C);for(let A=0;A<r.outWidth;++A){const O=A*l-m;let R=O;for(;R<0;)R+=u;const $=Math.min(r.inWidth,h+O);let D=Number.NEGATIVE_INFINITY,B=-1;for(let M=k;M<N;M+=c){const z=M-C;for(let W=R;W<$;W+=u){const V=W-O,q=f.get(b,M,W,w);q>D&&(D=q,s?B=i?((b*r.inHeight+M)*r.inWidth+W)*r.inChannels+w:(M*r.inWidth+W)*r.inChannels+w:B=z*h+V)}}a.set(B,b,g,A,w)}}return a}function Bq(t,e,n,r,s,i){const a=s.strideDepth,o=s.strideHeight,l=s.strideWidth,c=s.dilationDepth,u=s.dilationHeight,d=s.dilationWidth,h=s.effectiveFilterDepth,p=s.effectiveFilterHeight,m=s.effectiveFilterWidth,f=s.padInfo.front,b=s.padInfo.top,w=s.padInfo.left,g=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,C=In(s.outShape,n),k=C.values,N=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],A=s.outShape[2]*s.outShape[3]*s.outShape[4],O=s.outShape[3]*s.outShape[4],R=s.outShape[4];for(let $=0;$<s.batchSize;++$){const D=$*N,B=$*r[0];for(let M=0;M<s.inChannels;++M)for(let z=0;z<s.outDepth;++z){const W=z*a-f;let V=W;for(;V<0;)V+=c;const q=Math.min(s.inDepth,h+W),H=D+z*A;for(let K=0;K<s.outHeight;++K){const F=K*o-b;let ie=F;for(;ie<0;)ie+=u;const de=Math.min(s.inHeight,p+F),ee=H+K*O;for(let J=0;J<s.outWidth;++J){const ae=J*l-w;let ue=ae;for(;ue<0;)ue+=d;const le=Math.min(s.inWidth,m+ae),Ee=ee+J*R;let ze=g,Pe=0,Ke=0;for(let We=V;We<q;We+=c){const ot=B+We*r[1];for(let Je=ie;Je<de;Je+=u){const Le=ot+Je*r[2];for(let dt=ue;dt<le;dt+=d){const Ct=Le+dt*r[3],Ae=t[Ct+M];if(i==="max"&&Ae>ze?ze=Ae:i==="avg"&&(Pe+=Ae,Ke++),isNaN(ze))break}if(isNaN(ze))break}if(isNaN(ze))break}const Ye=Ee+M;k[Ye]=i==="avg"?Pe/Math.max(Ke,1):ze}}}}return C}function uke(t,e){const n=In(e.outShape,"int32"),r=e.strideDepth,s=e.strideHeight,i=e.strideWidth,a=e.dilationDepth,o=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,p=e.padInfo.top,m=e.padInfo.left;for(let f=0;f<e.batchSize;++f)for(let b=0;b<e.inChannels;++b)for(let w=0;w<e.outDepth;++w){const g=w*r-h;let C=g;for(;C<0;)C+=a;const k=Math.min(e.inDepth,c+g);for(let N=0;N<e.outHeight;++N){const A=N*s-p;let O=A;for(;O<0;)O+=o;const R=Math.min(e.inHeight,u+A);for(let $=0;$<e.outWidth;++$){const D=$*i-m;let B=D;for(;B<0;)B+=l;const M=Math.min(e.inWidth,d+D);let z=Number.NEGATIVE_INFINITY,W=-1;for(let V=C;V<k;V+=a){const q=V-g;for(let H=O;H<R;H+=o){const K=H-A;for(let F=B;F<M;F+=l){const ie=F-D,de=t.get(f,V,H,F,b);de>=z&&(z=de,W=q*u*d+K*u+ie)}}}n.set(W,f,w,N,$,b)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dke(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;Wt(s,"avgPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r,c=1;oe(fi(a,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`);const u=Pa(s.shape,i,a,c,o,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&rr(u.inShape,u.outShape))d=uc({inputs:{x:s},backend:n});else{const h=n.data.get(s.dataId).values,p=tn(s.shape),m=bM(h,s.shape,s.dtype,p,u,"avg");d=n.makeTensorInfo(u.outShape,s.dtype,m.values)}return d}const hke={kernelName:FC,backendName:"cpu",kernelFunc:dke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fke(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:l,dataFormat:c}=r;Wt(s,"avgPool3d");const u=xu(s.shape,i,a,1,o,l,c),d=n.data.get(s.dataId).values,h=Bq(d,s.shape,s.dtype,tn(s.shape),u,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}const pke={kernelName:jC,backendName:"cpu",kernelFunc:fke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mke(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:a,strides:o,pad:l,dimRoundingMode:c}=r;Wt([s,i],"avgPool3DGrad");const u=xu(i.shape,a,o,1,l,c),d=u.strideDepth,h=u.strideHeight,p=u.strideWidth,m=u.filterDepth,f=u.filterHeight,b=u.filterWidth,w=u.dilationDepth,g=u.dilationHeight,C=u.dilationWidth,k=u.effectiveFilterDepth,N=u.effectiveFilterHeight,A=u.effectiveFilterWidth,O=k-1-u.padInfo.front,R=A-1-u.padInfo.left,$=N-1-u.padInfo.top,D=In(i.shape,"float32"),B=1/(m*f*b),M=n.bufferSync(s);for(let z=0;z<u.batchSize;++z)for(let W=0;W<u.inChannels;++W)for(let V=0;V<u.inDepth;++V)for(let q=0;q<u.inHeight;++q)for(let H=0;H<u.inWidth;++H){const K=V-O,F=q-$,ie=H-R;let de=0;for(let ee=0;ee<k;ee+=w){const J=(K+ee)/d;if(!(J<0||J>=u.outDepth||Math.floor(J)!==J))for(let ae=0;ae<N;ae+=g){const ue=(F+ae)/h;if(!(ue<0||ue>=u.outHeight||Math.floor(ue)!==ue))for(let le=0;le<A;le+=C){const Ee=(ie+le)/p;if(Ee<0||Ee>=u.outWidth||Math.floor(Ee)!==Ee)continue;const ze=M.get(z,J,ue,Ee,W);de+=ze}}}D.set(de*B,z,V,q,H,W)}return n.makeTensorInfo(D.shape,D.dtype,D.values)}const gke={kernelName:tD,backendName:"cpu",kernelFunc:mke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vke(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i;Wt([s,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:c}=r,u=Pa(a.shape,o,l,1,c),d=u.strideHeight,h=u.strideWidth,p=u.filterHeight,m=u.filterWidth,f=u.dilationHeight,b=u.dilationWidth,w=u.effectiveFilterHeight,g=u.effectiveFilterWidth,C=g-1-u.padInfo.left,k=w-1-u.padInfo.top,N=In(a.shape,"float32"),A=1/(p*m),O=n.data.get(s.dataId).values,R=In(s.shape,"float32",O);for(let $=0;$<u.batchSize;++$)for(let D=0;D<u.inChannels;++D)for(let B=0;B<u.inHeight;++B)for(let M=0;M<u.inWidth;++M){const z=B-k,W=M-C;let V=0;for(let q=0;q<w;q+=f){const H=(z+q)/d;if(!(H<0||H>=u.outHeight||Math.floor(H)!==H))for(let K=0;K<g;K+=b){const F=(W+K)/h;if(F<0||F>=u.outWidth||Math.floor(F)!==F)continue;const ie=R.get($,H,F,D);V+=ie}}N.set(V*A,$,B,M,D)}return n.makeTensorInfo(N.shape,N.dtype,N.values)}const yke={kernelName:eD,backendName:"cpu",kernelFunc:vke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bke(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,scale:i,offset:a,mean:o,variance:l}=e;oe(o.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),oe(a==null||o.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),oe(i==null||o.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Wt([s,o,l,i,a],"batchNorm");let{varianceEpsilon:c}=r;c==null&&(c=.001);const u=n.data.get(s.dataId).values,d=n.data.get(o.dataId).values,h=n.data.get(l.dataId).values,p=i?n.data.get(i.dataId).values:new Float32Array([1]),m=a?n.data.get(a.dataId).values:new Float32Array([0]),f=new Float32Array(u.length),b=m.length,w=p.length,g=h.length,C=d.length;let k=0,N=0,A=0,O=0;for(let R=0;R<u.length;++R)f[R]=m[k++]+(u[R]-d[N++])*p[A++]/Math.sqrt(h[O++]+c),k>=b&&(k=0),N>=C&&(N=0),A>=w&&(A=0),O>=g&&(O=0);return n.makeTensorInfo(s.shape,s.dtype,f)}const xke={kernelName:ZC,backendName:"cpu",kernelFunc:bke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wke(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:a}=r;Wt([s],"batchToSpaceND");const o=i.reduce((w,g)=>w*g),l=Ux(s.shape,i,o),c=Wx(l.length,i.length),u=Vx(s.shape,i,o),d=IP(a,i.length),h=AP(u,a,i.length),p=Cr({inputs:{x:s},backend:n,attrs:{shape:l}}),m=Xi({inputs:{x:p},backend:n,attrs:{perm:c}}),f=Cr({inputs:{x:m},backend:n,attrs:{shape:u}}),b=pp({inputs:{x:f},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),b}const _ke={kernelName:UC,backendName:"cpu",kernelFunc:wke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ske(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a}=r,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=pM(o,l,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,c)}const Cke={kernelName:nD,backendName:"cpu",kernelFunc:Ske};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kke(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,o=_n(Array.from(i),Array.from(a));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const Eke={kernelName:s3,backendName:"cpu",kernelFunc:kke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tke=cr(Xb,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),Ike={kernelName:Xb,backendName:"cpu",kernelFunc:Tke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ake=t=>{const{x:e}=t.inputs,n=t.backend,r=new Float32Array(He(e.shape)),s=n.data.get(e.dataId),i=s.complexTensorInfos.real,a=s.complexTensorInfos.imag,o=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values;for(let c=0;c<o.length;c++){const u=o[c],d=l[c];r[c]=Math.hypot(u,d)}return n.makeOutput(r,e.shape,"float32")},Nke={kernelName:WC,backendName:"cpu",kernelFunc:Ake};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dg(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const Rke={kernelName:yD,backendName:"cpu",kernelFunc:dg};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hg(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=An(s,e[0].shape)[0],a=e.map(f=>f.shape);kP(a,i);let o=rc(e.map(f=>f.shape),i);if(He(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const l=e.filter(f=>He(f.shape)>0);if(l.length===1)return uc({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const f=l.map(k=>fp({inputs:{input:k},backend:n})),b=l.map(k=>dg({inputs:{input:k},backend:n})),w=hg({inputs:f,backend:n,attrs:{axis:i}}),g=hg({inputs:b,backend:n,attrs:{axis:i}}),C=po({inputs:{real:w,imag:g},backend:n});return f.forEach(k=>n.disposeIntermediateTensorInfo(k)),b.forEach(k=>n.disposeIntermediateTensorInfo(k)),n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(g),C}const c=l.map(f=>{const w=[-1,He(f.shape.slice(i))];return Cr({inputs:{x:f},backend:n,attrs:{shape:w}})}),u=c.map(f=>({vals:n.data.get(f.dataId).values,shape:f.shape}));o=rc(c.map(f=>f.shape),1);const d=c[0].shape[0]===1,h=UY(u,o,e[0].dtype,d),p=rc(l.map(f=>f.shape),i),m=n.makeTensorInfo(p,e[0].dtype,h);return c.forEach(f=>n.disposeIntermediateTensorInfo(f)),m}const Oke={kernelName:VC,backendName:"cpu",kernelFunc:hg};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lq(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dataFormat:l,dilations:c,dimRoundingMode:u}=r;Wt([s,i],"conv2d");const d=wu(l),h=Zs(s.shape,i.shape,a,c,o,u,!1,d),p=h.filterHeight,m=h.filterWidth,f=h.dilationHeight,b=h.dilationWidth,w=h.padInfo.left,g=h.padInfo.top,C=h.dataFormat==="channelsLast",k=new Js(h.outShape,s.dtype),N=tn(s.shape),A=tn(i.shape),O=N[0],R=C?N[1]:N[2],$=C?N[2]:1,D=C?1:N[1],B=k.strides[0],M=C?k.strides[1]:k.strides[2],z=C?k.strides[2]:1,W=C?1:k.strides[1],V=n.data.get(s.dataId).values,q=n.data.get(i.dataId).values,H=k.values;for(let K=0;K<h.batchSize;++K){const F=K*O,ie=K*B;for(let de=0;de<h.outHeight;++de){const ee=ie+de*M,J=de*h.strideHeight-g;for(let ae=0;ae<p;++ae){const ue=J+ae*f;if(ue<0||ue>=h.inHeight)continue;const le=ae*A[0],Ee=F+ue*R;for(let ze=0;ze<h.outWidth;++ze){const Pe=ee+ze*z,Ke=ze*h.strideWidth-w;for(let Ye=0;Ye<m;++Ye){const We=Ke+Ye*b;if(We<0||We>=h.inWidth)continue;const ot=le+Ye*A[1],Je=Ee+We*$;let Le=ot;for(let dt=0;dt<h.inChannels;++dt){const Ct=V[Je+dt*D];for(let Ae=0;Ae<h.outChannels;++Ae)H[Pe+Ae*W]+=Ct*q[Le+Ae];Le+=h.outChannels}}}}}}return n.makeTensorInfo(k.shape,k.dtype,H)}const $ke={kernelName:GC,backendName:"cpu",kernelFunc:Lq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dke(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,dataFormat:l,dimRoundingMode:c,filterShape:u}=r;Wt([s,i],"conv2dBackpropFilter");const d=wu(l),h=Zs(s.shape,u,a,1,o,c,!1,d),{strideHeight:p,strideWidth:m,filterHeight:f,filterWidth:b}=h,w=h.dataFormat==="channelsLast",g=new Js(h.filterShape,"float32"),C=h.padInfo.left,k=h.padInfo.top,N=n.data.get(s.dataId).values,A=n.data.get(i.dataId).values,O=new Js(s.shape,s.dtype,N),R=new Js(i.shape,i.dtype,A);for(let $=0;$<f;++$){const D=Math.max(0,Math.ceil((k-$)/p)),B=Math.min(h.outHeight,(h.inHeight+k-$)/p);for(let M=0;M<b;++M){const z=Math.max(0,Math.ceil((C-M)/m)),W=Math.min(h.outWidth,(h.inWidth+C-M)/m);for(let V=0;V<h.inChannels;++V)for(let q=0;q<h.outChannels;++q){let H=0;for(let K=0;K<h.batchSize;++K)for(let F=D;F<B;++F){const ie=$+F*p-k;for(let de=z;de<W;++de){const ee=M+de*m-C;w?H+=O.get(K,ie,ee,V)*R.get(K,F,de,q):H+=O.get(K,V,ie,ee)*R.get(K,q,F,de)}}g.set(H,$,M,V,q)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const Pke={kernelName:sD,backendName:"cpu",kernelFunc:Dke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mke(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:a,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=r;Wt([s,i],"conv2dBackpropInput");const d=tn(i.shape),h=tn(s.shape);let p=wu(c);const m=Zs(a,i.shape,o,1,l,u,!1,p),f=new Js(m.inShape,"float32"),b=f.values,w=n.data.get(s.dataId).values,g=n.data.get(i.dataId).values,[C,k,N]=d,{batchSize:A,filterHeight:O,filterWidth:R,inChannels:$,inHeight:D,inWidth:B,outChannels:M,outHeight:z,outWidth:W,strideHeight:V,strideWidth:q}=m;p=m.dataFormat;const H=O-1-m.padInfo.top,K=R-1-m.padInfo.left,F=p==="channelsLast",ie=f.strides[0],de=F?f.strides[1]:f.strides[2],ee=F?f.strides[2]:1,J=F?1:f.strides[1],ae=h[0],ue=F?h[1]:h[2],le=F?h[2]:1,Ee=F?1:h[1];for(let ze=0;ze<A;++ze)for(let Pe=0;Pe<$;++Pe)for(let Ke=0;Ke<D;++Ke){const Ye=Ke-H,We=Math.max(0,Math.ceil(Ye/V)),ot=Math.min(z,(O+Ye)/V);for(let Je=0;Je<B;++Je){const Le=Je-K,dt=Math.max(0,Math.ceil(Le/q)),Ct=Math.min(W,(R+Le)/q);let Ae=0;for(let fe=We;fe<ot;++fe){const Fe=fe*V-Ye;for(let nt=dt;nt<Ct;++nt){const Ce=nt*q-Le,_e=ae*ze+ue*fe+le*nt,Y=C*(O-1-Fe)+k*(R-1-Ce)+N*Pe;for(let me=0;me<M;++me){const ge=w[_e+Ee*me],Ve=g[Y+me];Ae+=ge*Ve}}}const rt=ie*ze+de*Ke+ee*Je+J*Pe;b[rt]=Ae}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}const Bke={kernelName:HC,backendName:"cpu",kernelFunc:Mke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lke(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:l}=r;Wt([s,i],"conv3d");const c=ih(s.shape,i.shape,a,l,o),{filterDepth:u,filterHeight:d,filterWidth:h,dilationDepth:p,dilationHeight:m,dilationWidth:f,padInfo:b}=c,w=b.front,g=b.left,C=b.top,k=new Js(c.outShape,s.dtype),N=n.data.get(s.dataId).values,A=n.data.get(i.dataId).values,O=k.values,R=tn(s.shape),$=tn(i.shape);for(let D=0;D<c.batchSize;++D){const B=D*R[0],M=D*k.strides[0];for(let z=0;z<c.outDepth;++z){const W=M+z*k.strides[1],V=z*c.strideDepth-w;for(let q=0;q<u;++q){const H=V+q*p;if(H<0||H>=c.inDepth)continue;const K=q*$[0],F=B+H*R[1];for(let ie=0;ie<c.outHeight;++ie){const de=W+ie*k.strides[2],ee=ie*c.strideHeight-C;for(let J=0;J<d;++J){const ae=ee+J*m;if(ae<0||ae>=c.inHeight)continue;const ue=K+J*$[1],le=F+ae*R[2];for(let Ee=0;Ee<c.outWidth;++Ee){const ze=de+Ee*c.outChannels,Pe=Ee*c.strideWidth-g;for(let Ke=0;Ke<h;++Ke){const Ye=Pe+Ke*f;if(Ye<0||Ye>=c.inWidth)continue;const We=ue+Ke*$[2],ot=le+Ye*c.inChannels;let Je=We;for(let Le=0;Le<c.inChannels;++Le){const dt=N[ot+Le];for(let Ct=0;Ct<c.outChannels;++Ct)O[ze+Ct]+=dt*A[Je+Ct];Je+=c.outChannels}}}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const Fke={kernelName:YC,backendName:"cpu",kernelFunc:Lke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jke(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,filterShape:l}=r;Wt([s,i],"conv3dBackpropFilterV2");const c=tn(s.shape),u=tn(i.shape),d=ih(s.shape,l,a,1,o),h=d.strideDepth,p=d.strideHeight,m=d.strideWidth,f=d.filterDepth,b=d.filterHeight,w=d.filterWidth,g=new Js(d.filterShape,"float32"),C=g.values,[k,N,A,O]=g.strides,R=n.data.get(i.dataId).values,[$,D,B,M]=u,z=n.data.get(s.dataId).values,[W,V,q,H]=c,K=d.padInfo.front,F=d.padInfo.left,ie=d.padInfo.top;for(let de=0;de<f;++de){const ee=Math.max(0,Math.ceil((K-de)/h)),J=Math.min(d.outDepth,(d.inDepth+K-de)/h),ae=de*k;for(let ue=0;ue<b;++ue){const le=Math.max(0,Math.ceil((ie-ue)/p)),Ee=Math.min(d.outHeight,(d.inHeight+ie-ue)/p),ze=ue*N+ae;for(let Pe=0;Pe<w;++Pe){const Ke=Math.max(0,Math.ceil((F-Pe)/m)),Ye=Math.min(d.outWidth,(d.inWidth+F-Pe)/m),We=Pe*A+ze;for(let ot=0;ot<d.inChannels;++ot){const Je=ot*O+We;for(let Le=0;Le<d.outChannels;++Le){let dt=0;for(let Ct=0;Ct<d.batchSize;++Ct){const Ae=Ct*W,rt=Ct*$;for(let fe=ee;fe<J;++fe){const nt=(de+fe*h-K)*V+Ae,Ce=fe*D+rt;for(let _e=le;_e<Ee;++_e){const me=(ue+_e*p-ie)*q+nt,ge=_e*B+Ce;for(let Ve=Ke;Ve<Ye;++Ve){const hn=(Pe+Ve*m-F)*H+me,Lt=Ve*M+ge;dt+=z[hn+ot]*R[Lt+Le]}}}}C[Je+Le]=dt}}}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const zke={kernelName:iD,backendName:"cpu",kernelFunc:jke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uke(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:a,strides:o,inputShape:l}=r;Wt([s],"conv3dBackpropInputV2");const c=tn(s.shape),u=tn(i.shape),d=ih(l,i.shape,o,1,a),h=new Js(d.inShape,"float32"),p=h.values,[m,f,b,w]=h.strides,g=n.data.get(s.dataId).values,[C,k,N,A]=c,O=n.data.get(i.dataId).values,[R,$,D,B]=u,{batchSize:M,filterDepth:z,filterHeight:W,filterWidth:V,inChannels:q,inDepth:H,inHeight:K,inWidth:F,outChannels:ie,outDepth:de,outHeight:ee,outWidth:J,strideDepth:ae,strideHeight:ue,strideWidth:le}=d,Ee=z-1-d.padInfo.front,ze=W-1-d.padInfo.top,Pe=V-1-d.padInfo.left;for(let Ke=0;Ke<M;++Ke)for(let Ye=0;Ye<q;++Ye)for(let We=0;We<H;++We){const ot=We-Ee,Je=Math.max(0,Math.ceil(ot/ae)),Le=Math.min(de,(z+ot)/ae);for(let dt=0;dt<K;++dt){const Ct=dt-ze,Ae=Math.max(0,Math.ceil(Ct/ue)),rt=Math.min(ee,(W+Ct)/ue);for(let fe=0;fe<F;++fe){const Fe=fe-Pe,nt=Math.max(0,Math.ceil(Fe/le)),Ce=Math.min(J,(V+Fe)/le);let _e=0;for(let Y=Je;Y<Le;++Y){const me=Y*ae-ot;for(let ge=Ae;ge<rt;++ge){const Ve=ge*ue-Ct;for(let Nt=nt;Nt<Ce;++Nt){const hn=Nt*le-Fe,Lt=C*Ke+k*Y+N*ge+A*Nt,Sn=R*(z-1-me)+$*(W-1-Ve)+D*(V-1-hn)+B*Ye;for(let Ne=0;Ne<ie;++Ne){const Me=g[Lt+Ne],ct=O[Sn+Ne];_e+=Me*ct}}}}p[m*Ke+f*We+b*dt+w*fe+Ye]=_e}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}const Wke={kernelName:oD,backendName:"cpu",kernelFunc:Uke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vke=cr(Kb,t=>Math.cos(t)),Gke={kernelName:Kb,backendName:"cpu",kernelFunc:Vke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hke=cr(Jb,t=>Math.cosh(t)),Yke={kernelName:Jb,backendName:"cpu",kernelFunc:Hke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qke(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:a}=e,{cropSize:o,method:l,extrapolationValue:c}=r,[u,d,h,p]=s.shape,m=i.shape[0],[f,b]=o,w=In([m,f,b,p],"float32"),g=n.data.get(i.dataId).values,C=n.data.get(a.dataId).values,k=n.data.get(s.dataId).values,N=tn(s.shape),A=tn(w.shape);for(let O=0;O<m;O++){const R=O*4,$=g[R],D=g[R+1],B=g[R+2],M=g[R+3],z=C[O];if(z>=u)continue;const W=f>1?(B-$)*(d-1)/(f-1):0,V=b>1?(M-D)*(h-1)/(b-1):0;for(let q=0;q<f;q++){const H=f>1?$*(d-1)+q*W:.5*($+B)*(d-1);if(H<0||H>d-1){for(let K=0;K<b;K++)for(let F=0;F<p;F++){const ie=F+K*A[2]+q*A[1]+O*A[0];w.values[ie]=c}continue}if(l==="bilinear"){const K=Math.floor(H),F=Math.ceil(H),ie=H-K;for(let de=0;de<b;de++){const ee=b>1?D*(h-1)+de*V:.5*(D+M)*(h-1);if(ee<0||ee>h-1){for(let le=0;le<p;le++){const Ee=le+de*A[2]+q*A[1]+O*A[0];w.values[Ee]=c}continue}const J=Math.floor(ee),ae=Math.ceil(ee),ue=ee-J;for(let le=0;le<p;le++){let Ee=le+J*N[2]+K*N[1]+z*N[0];const ze=k[Ee];Ee=le+ae*N[2]+K*N[1]+z*N[0];const Pe=k[Ee];Ee=le+J*N[2]+F*N[1]+z*N[0];const Ke=k[Ee];Ee=le+ae*N[2]+F*N[1]+z*N[0];const Ye=k[Ee],We=ze+(Pe-ze)*ue,ot=Ke+(Ye-Ke)*ue;Ee=le+de*A[2]+q*A[1]+O*A[0],w.values[Ee]=We+(ot-We)*ie}}}else for(let K=0;K<b;++K){const F=b>1?D*(h-1)+K*V:.5*(D+M)*(h-1);if(F<0||F>h-1){for(let ee=0;ee<p;ee++){const J=ee+K*A[2]+q*A[1]+O*A[0];w.values[J]=c}continue}const ie=Math.round(F),de=Math.round(H);for(let ee=0;ee<p;ee++){const J=ee+ie*N[2]+de*N[1]+z*N[0],ae=ee+K*A[2]+q*A[1]+O*A[0];w.values[ae]=k[J]}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const Xke={kernelName:lD,backendName:"cpu",kernelFunc:qke};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kke(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;Wt(s,"cumprod");const l=ns([i],s.shape.length);let c=s;l!=null&&(c=Xi({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=fs(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const d=ko(c.dtype,"int32"),h=q$(He(c.shape),d),p=n.data.get(c.dataId).values,m=c.shape[c.shape.length-1],f=o?(w,g)=>w+m-g-1:(w,g)=>w+g;for(let w=0;w<p.length;w+=m)for(let g=0;g<m;g++){const C=f(w,g);if(g===0)h[C]=a?1:p[C];else{const k=f(w,g-1);h[C]=a?p[k]*h[k]:p[C]*h[k]}}const b=n.makeTensorInfo(c.shape,d,h);if(l!=null){const w=oh(l),g=Xi({inputs:{x:b},backend:n,attrs:{perm:w}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(c),g}return b}const Jke={kernelName:aD,backendName:"cpu",kernelFunc:Kke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qke(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;Wt(s,"cumsum");const l=ns([i],s.shape.length);let c=s;l!=null&&(c=Xi({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=fs(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const d=ko(c.dtype,"int32"),h=di(He(c.shape),d),p=n.data.get(c.dataId).values,m=c.shape[c.shape.length-1],f=o?(w,g)=>w+m-g-1:(w,g)=>w+g;for(let w=0;w<p.length;w+=m)for(let g=0;g<m;g++){const C=f(w,g);if(g===0)h[C]=a?0:p[C];else{const k=f(w,g-1);h[C]=a?p[k]+h[k]:p[C]+h[k]}}const b=n.makeTensorInfo(c.shape,d,h);if(l!=null){const w=oh(l),g=Xi({inputs:{x:b},backend:n,attrs:{perm:w}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(c),g}return b}const Zke={kernelName:qC,backendName:"cpu",kernelFunc:Qke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a,binaryOutput:o}=r;if(s.shape.length===1){const l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=pM(l,c,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,u)}else if(s.shape.length===2){const l=n.bufferSync(s),c=n.bufferSync(i),u=jY(l,c,a,o);return n.makeTensorInfo(u.shape,i.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const tEe={kernelName:cD,backendName:"cpu",kernelFunc:eEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:a}=r;oe(a==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${a}`);const o=s.shape[0],l=s.shape[1],c=s.shape[2],u=s.shape[3],d=l*i,h=c*i,p=u/(i*i),m=n.data.get(s.dataId).values,f=new Float32Array(o*d*h*p);let b=0;for(let w=0;w<o;++w)for(let g=0;g<d;++g){const C=Math.floor(g/i),k=g%i;for(let N=0;N<h;++N){const A=Math.floor(N/i),O=N%i,R=(k*i+O)*p;for(let $=0;$<p;++$){const B=$+R+u*(A+c*(C+l*w));f[b++]=m[B]}}}return n.makeTensorInfo([o,d,h,p],s.dtype,f)}const rEe={kernelName:uD,backendName:"cpu",kernelFunc:nEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fq(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:l,dimRoundingMode:c}=r;Wt([s,i],"depthwiseConv2DNative");const u=tn(s.shape),d=tn(i.shape);let h=l;h==null&&(h=[1,1]),oe(fi(a,h),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${h}'`);const p=Zs(s.shape,i.shape,a,h,o,c,!0),{filterHeight:m,filterWidth:f,dilationHeight:b,dilationWidth:w,padInfo:g}=p,C=g.left,k=g.top,N=p.outChannels/p.inChannels,A=new Js(p.outShape,s.dtype),O=n.data.get(s.dataId).values,R=n.data.get(i.dataId).values,$=A.values;for(let D=0;D<p.batchSize;++D){const B=D*u[0],M=D*A.strides[0];for(let z=0;z<p.outHeight;++z){const W=M+z*A.strides[1],V=z*p.strideHeight-k;for(let q=0;q<m;++q){const H=V+q*b;if(H<0||H>=p.inHeight)continue;const K=q*d[0],F=B+H*u[1];for(let ie=0;ie<p.outWidth;++ie){const de=W+ie*A.strides[2],ee=ie*p.strideWidth-C;for(let J=0;J<f;++J){const ae=ee+J*w;if(ae<0||ae>=p.inWidth)continue;const ue=K+J*d[1],le=F+ae*p.inChannels;let Ee=de,ze=ue;for(let Pe=0;Pe<p.inChannels;++Pe){const Ke=O[le+Pe];for(let Ye=0;Ye<N;++Ye)$[Ee+Ye]+=Ke*R[ze+Ye];Ee+=N,ze+=N}}}}}}return n.makeTensorInfo(A.shape,A.dtype,A.values)}const sEe={kernelName:XC,backendName:"cpu",kernelFunc:Fq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,dilations:o,pad:l,dimRoundingMode:c,filterShape:u}=r;Wt([s,i],"depthwiseConv2dNativeBackpropFilter");const d=Zs(s.shape,u,a,o,l,c,!0),{strideHeight:h,strideWidth:p,filterHeight:m,filterWidth:f}=d,b=new Js(d.filterShape,"float32"),w=d.padInfo.left,g=d.padInfo.top,C=d.outChannels/d.inChannels,k=n.data.get(s.dataId).values,N=new Js(s.shape,s.dtype,k),A=n.data.get(i.dataId).values,O=new Js(i.shape,i.dtype,A);for(let R=0;R<m;++R){const $=Math.max(0,Math.ceil((g-R)/h)),D=Math.min(d.outHeight,(d.inHeight+g-R)/h);for(let B=0;B<f;++B){const M=Math.max(0,Math.ceil((w-B)/p)),z=Math.min(d.outWidth,(d.inWidth+w-B)/p);for(let W=0;W<d.outChannels;++W){const V=Math.trunc(W/C),q=W%C;let H=0;for(let K=0;K<d.batchSize;++K)for(let F=$;F<D;++F){const ie=R+F*h-g;for(let de=M;de<z;++de){const ee=B+de*p-w;H+=N.get(K,ie,ee,V)*O.get(K,F,de,W)}}b.set(H,R,B,V,q)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const oEe={kernelName:dD,backendName:"cpu",kernelFunc:iEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aEe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:a,dilations:o,pad:l,dimRoundingMode:c,inputShape:u}=r;Wt([s,i],"depthwiseConv2DNativeBackpropInput");const d=tn(s.shape),h=tn(i.shape),p=Zs(u,i.shape,a,o,l,c,!0),m=new Js(p.inShape,"float32"),f=m.values,[b,w,g]=m.strides,C=n.data.get(s.dataId).values,[k,N,A]=d,O=n.data.get(i.dataId).values,[R,$,D]=h,{batchSize:B,filterHeight:M,filterWidth:z,inChannels:W,inHeight:V,inWidth:q,outChannels:H,outHeight:K,outWidth:F,strideHeight:ie,strideWidth:de}=p,ee=M-1-p.padInfo.top,J=z-1-p.padInfo.left,ae=H/W;for(let ue=0;ue<B;++ue)for(let le=0;le<W;++le)for(let Ee=0;Ee<V;++Ee){const ze=Ee-ee,Pe=Math.max(0,Math.ceil(ze/ie)),Ke=Math.min(K,(M+ze)/ie);for(let Ye=0;Ye<q;++Ye){const We=Ye-J,ot=Math.max(0,Math.ceil(We/de)),Je=Math.min(F,(z+We)/de);let Le=0;for(let dt=Pe;dt<Ke;++dt){const Ct=dt*ie-ze;for(let Ae=ot;Ae<Je;++Ae){const rt=Ae*de-We,fe=k*ue+N*dt+A*Ae,Fe=R*(M-1-Ct)+$*(z-1-rt)+D*le;for(let nt=0;nt<ae;++nt){const Ce=le*ae+nt,_e=C[fe+Ce],Y=O[Fe+nt];Le+=_e*Y}}}f[b*ue+w*Ee+g*Ye+le]=Le}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const lEe={kernelName:hD,backendName:"cpu",kernelFunc:aEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cEe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=He(r.shape),i=n.data.get(r.dataId).values,a=In([s,s],r.dtype),o=a.values;for(let c=0;c<i.length;c++)o[c*s+c]=i[c];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,a.dtype,a.values)}const uEe={kernelName:i3,backendName:"cpu",kernelFunc:cEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dEe={kernelName:KC,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s}=t,{strides:i,pad:a,dilations:o}=n,l=e,c=l.data.get(r.dataId).values,u=r.shape.length,d=l.data.get(s.dataId).values,h=s.shape.length,{batchSize:p,inHeight:m,inWidth:f,inChannels:b,outHeight:w,outWidth:g,padInfo:C,strideHeight:k,strideWidth:N,filterHeight:A,filterWidth:O,dilationHeight:R,dilationWidth:$,outShape:D}=Bx(r.shape,s.shape,i,a,"NHWC",o),B=He(D),M=D.length,z=us(r.dtype,B);for(let V=0;V<p;++V)for(let q=0;q<w;++q){const H=q*k-C.top;for(let K=0;K<g;++K){const F=K*N-C.left;for(let ie=0;ie<b;++ie){let de=Number.MIN_SAFE_INTEGER;for(let J=0;J<A;++J){const ae=H+J*R;if(ae>=0&&ae<m)for(let ue=0;ue<O;++ue){const le=F+ue*$;if(le>=0&&le<f){const Ee=tc([V,ae,le,ie],u,tn(r.shape)),ze=tc([J,ue,ie],h,tn(s.shape)),Pe=c[Ee]+d[ze];Pe>de&&(de=Pe)}}}const ee=tc([V,q,K,ie],M,tn(D));z[ee]=de}}}return{dataId:l.write(_p(z,r.dtype),D,r.dtype),shape:D,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hEe={kernelName:xN,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:a,pad:o,dilations:l}=n,c=e,u=pl(r.shape,c.data.get(r.dataId).values),d=pl(s.shape,c.data.get(s.dataId).values),{batchSize:h,inHeight:p,inWidth:m,inChannels:f,outHeight:b,outWidth:w,padInfo:g,strideHeight:C,strideWidth:k,filterHeight:N,filterWidth:A,dilationHeight:O,dilationWidth:R,outShape:$}=Bx(r.shape,s.shape,a,o,"NHWC",l);oe(i.rank===$.length,()=>`Error in ${xN}, dy must have the same rank as output ${$.length}, but got ${i.rank}`);const D=pl($,c.data.get(i.dataId).values),B=t3(s.shape,s.dtype);for(let z=0;z<h;++z)for(let W=0;W<b;++W){const V=W*C-g.top;for(let q=0;q<w;++q){const H=q*k-g.left;for(let K=0;K<f;++K){let F=Number.MIN_SAFE_INTEGER,ie=0,de=0;for(let ee=0;ee<N;++ee){const J=V+ee*O;if(J>=0&&J<p)for(let ae=0;ae<A;++ae){const ue=H+ae*R;if(ue>=0&&ue<m){const le=u[z][J][ue][K]+d[ee][ae][K];le>F&&(F=le,ie=ee,de=ae)}}}B[ie][de][K]+=D[z][W][q][K]}}}return{dataId:c.write(_p(B,r.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fEe={kernelName:bN,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:a,pad:o,dilations:l}=n,c=e,u=pl(r.shape,c.data.get(r.dataId).values),d=pl(s.shape,c.data.get(s.dataId).values),{batchSize:h,inHeight:p,inWidth:m,inChannels:f,outHeight:b,outWidth:w,padInfo:g,strideHeight:C,strideWidth:k,filterHeight:N,filterWidth:A,dilationHeight:O,dilationWidth:R,outShape:$}=Bx(r.shape,s.shape,a,o,"NHWC",l);oe(i.rank===$.length,()=>`Error in ${bN}, dy must have the same rank as output ${$.length}, but got ${i.rank}`);const D=pl($,c.data.get(i.dataId).values),B=t3(r.shape,r.dtype);for(let z=0;z<h;++z)for(let W=0;W<b;++W){const V=W*C-g.top;for(let q=0;q<w;++q){const H=q*k-g.left;for(let K=0;K<f;++K){let F=Number.MIN_SAFE_INTEGER,ie=V<0?0:V,de=H<0?0:H;for(let ee=0;ee<N;++ee){const J=V+ee*O;if(J>=0&&J<p)for(let ae=0;ae<A;++ae){const ue=H+ae*R;if(ue>=0&&ue<m){const le=u[z][J][ue][K]+d[ee][ae][K];le>F&&(F=le,ie=J,de=ue)}}}B[z][ie][de][K]+=D[z][W][q][K]}}}return{dataId:c.write(_p(B,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zx(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;Wt(s,"sum");let o;s.dtype==="bool"?o=qd({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):o=uc({inputs:{x:s},backend:n});const l=o.shape.length,c=An(i,o.shape),u=ns(c,l);let d=c,h=o;u!=null&&(h=Xi({inputs:{x:o},backend:n,attrs:{perm:u}}),d=fs(d.length,l)),ei("sum",d,h.shape.length);const[p,m]=zs(h.shape,d),f=ko(h.dtype,"int32");let b=CS(n,p,f);const w=He(m),g=n.data.get(b.dataId).values,C=n.data.get(h.dataId).values;for(let k=0;k<g.length;++k){const N=k*w;let A=0;for(let O=0;O<w;++O)A+=C[N+O];g[k]=A}if(a){const k=ws(b.shape,c),N=b;b=Cr({inputs:{x:b},backend:n,attrs:{shape:k}}),n.disposeIntermediateTensorInfo(N)}return n.disposeIntermediateTensorInfo(o),u!=null&&n.disposeIntermediateTensorInfo(h),b}const pEe={kernelName:Ak,backendName:"cpu",kernelFunc:Zx};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mEe(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:a,summedDims:o,idDims:l}=BP(s,i.length);FP(a.length,l,i);const{path:c,steps:u}=jP(o,l),d=u.length;let h=null,p=a.length;const m=[];for(let f=0;f<d;++f){for(const b of u[f]){const{permutationIndices:w,expandDims:g}=LP(p,l[b]);let C;zP(w)?C=i[b]:(C=Xi({inputs:{x:i[b]},backend:n,attrs:{perm:w}}),m.push(C));const k=C.shape.slice();for(let N=0;N<g.length;++N)k.splice(g[N],0,1);rr(C.shape,k)||(C=Cr({inputs:{x:C},backend:n,attrs:{shape:k}}),m.push(C)),h===null?h=C:(h=oE({inputs:{a:C,b:h},backend:n}),m.push(h))}f<d-1&&(c[f]>=0&&(h=Zx({inputs:{x:h},backend:n,attrs:{axis:c[f]-(a.length-p),keepDims:!1}}),m.push(h)),p--)}for(const f of m)f!==h&&n.disposeIntermediateTensorInfo(f);return h}const gEe={kernelName:o3,backendName:"cpu",kernelFunc:mEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vEe(t){const{inputs:e,backend:n}=t,{dy:r,y:s}=e;Wt([r,s],"eluGrad");const i=new Float32Array(He(s.shape)),a=n.data.get(s.dataId).values,o=n.data.get(r.dataId).values;for(let l=0;l<a.length;++l){const c=a[l];c>=0?i[l]=o[l]:i[l]=o[l]*(c+1)}return n.makeTensorInfo(s.shape,"float32",i)}const yEe={kernelName:fD,backendName:"cpu",kernelFunc:vEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bEe=NP,xEe=RP,wEe=OP,_Ee=$P,SEe=DP,CEe=PP,kEe=cr(ex,t=>{const e=Math.sign(t),n=Math.abs(t),r=1/(1+bEe*n);return e*(1-((((CEe*r+SEe)*r+_Ee)*r+wEe)*r+xEe)*r*Math.exp(-n*n))}),EEe={kernelName:ex,backendName:"cpu",kernelFunc:kEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TS(t){const{inputs:e,backend:n,attrs:r}=t,{input:s}=e,{dim:i}=r,a=s.shape.length,o=s.shape.slice();let l=i;return i<0&&(oe(-(a+1)<=i,()=>`Axis must be in the interval [${-(a+1)}, ${a}]`),l=a+i+1),o.splice(l,0,1),Cr({inputs:{x:s},backend:n,attrs:{shape:o}})}const TEe={kernelName:QC,backendName:"cpu",kernelFunc:TS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IEe=_s((t,e)=>t/e),xM=Us(Qb,IEe),rR={kernelName:Qb,backendName:"cpu",kernelFunc:xM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jq(t,e,n){const r=t.shape,s=r[0],i=r[1],a=n.data.get(t.dataId),o=a.complexTensorInfos.real,l=a.complexTensorInfos.imag,c=[s,i],u=He(c),d=ui("float32",u),h=ui("float32",u);for(let b=0;b<s;b++){const w=pp({inputs:{x:o},backend:n,attrs:{begin:[b,0],size:[1,i]}}),g=pp({inputs:{x:l},backend:n,attrs:{begin:[b,0],size:[1,i]}}),C=po({inputs:{real:w,imag:g},backend:n}),{real:k,imag:N}=AEe(C,e,n),A=fu(k,N);for(let O=0;O<i;O++){const R=MP(A,O);d[b*i+O]=R.real,h[b*i+O]=R.imag}n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(C)}const p=n.makeTensorInfo(c,"float32",d),m=n.makeTensorInfo(c,"float32",h),f=po({inputs:{real:p,imag:m},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),f}function AEe(t,e,n){const r=He(t.shape),s=n.data.get(t.dataId),i=n.data.get(s.complexTensorInfos.real.dataId).values,a=n.data.get(s.complexTensorInfos.imag.dataId).values;if(NEe(r)){const o=sR(i,a,r,e,n),l=[t.shape[0],t.shape[1]];if(e){const c=n.makeTensorInfo(l,"float32",o.real),u=n.makeTensorInfo(l,"float32",o.imag),d=n.makeTensorInfo([],"float32",sh(r,"float32")),h=uc({inputs:{x:d},backend:n}),p=rR.kernelFunc({inputs:{a:c,b:d},backend:n}),m=rR.kernelFunc({inputs:{a:u,b:h},backend:n}),f=n.data.get(p.dataId).values,b=n.data.get(m.dataId).values;return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),{real:f,imag:b}}return o}else{const o=fu(i,a),l=REe(o,r,e);return KV(l)}}function NEe(t){return(t&t-1)===0}function sR(t,e,n,r,s){if(n===1)return{real:t,imag:e};const i=fu(t,e),a=n/2,o=JV(i),l=o.real,c=o.imag,u=[l.length],d=s.makeTensorInfo(u,"float32",l),h=s.makeTensorInfo(u,"float32",c),p=po({inputs:{real:d,imag:h},backend:s}),m=QV(i),f=m.real,b=m.imag,w=[f.length],g=s.makeTensorInfo(w,"float32",f),C=s.makeTensorInfo(w,"float32",b),k=po({inputs:{real:g,imag:C},backend:s}),N=sR(l,c,a,r,s),A=N.real,O=N.imag,R=[A.length],$=s.makeTensorInfo(R,"float32",A),D=s.makeTensorInfo(R,"float32",O),B=po({inputs:{real:$,imag:D},backend:s}),M=sR(f,b,a,r,s),z=M.real,W=M.imag,V=[z.length],q=s.makeTensorInfo(V,"float32",z),H=s.makeTensorInfo(V,"float32",W),K=po({inputs:{real:q,imag:H},backend:s}),F=eG(n,r),ie=[F.real.length],de=s.makeTensorInfo(ie,"float32",F.real),ee=s.makeTensorInfo(ie,"float32",F.imag),J=po({inputs:{real:de,imag:ee},backend:s}),ae=oE({inputs:{a:J,b:K},backend:s}),ue=ug({inputs:{a:B,b:ae},backend:s}),le=yM({inputs:{a:B,b:ae},backend:s}),Ee=fp({inputs:{input:ue},backend:s}),ze=fp({inputs:{input:le},backend:s}),Pe=dg({inputs:{input:ue},backend:s}),Ke=dg({inputs:{input:le},backend:s}),Ye=hg({inputs:[Ee,ze],backend:s,attrs:{axis:0}}),We=hg({inputs:[Pe,Ke],backend:s,attrs:{axis:0}}),ot=s.data.get(Ye.dataId).values,Je=s.data.get(We.dataId).values;return s.disposeIntermediateTensorInfo(d),s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(p),s.disposeIntermediateTensorInfo(g),s.disposeIntermediateTensorInfo(C),s.disposeIntermediateTensorInfo(k),s.disposeIntermediateTensorInfo($),s.disposeIntermediateTensorInfo(D),s.disposeIntermediateTensorInfo(B),s.disposeIntermediateTensorInfo(q),s.disposeIntermediateTensorInfo(H),s.disposeIntermediateTensorInfo(K),s.disposeIntermediateTensorInfo(de),s.disposeIntermediateTensorInfo(ee),s.disposeIntermediateTensorInfo(J),s.disposeIntermediateTensorInfo(ae),s.disposeIntermediateTensorInfo(ue),s.disposeIntermediateTensorInfo(le),s.disposeIntermediateTensorInfo(Ee),s.disposeIntermediateTensorInfo(Pe),s.disposeIntermediateTensorInfo(ze),s.disposeIntermediateTensorInfo(Ke),s.disposeIntermediateTensorInfo(Ye),s.disposeIntermediateTensorInfo(We),{real:ot,imag:Je}}function REe(t,e,n){const r=new Float32Array(e*2);for(let s=0;s<e;s++){let i=0,a=0;for(let o=0;o<e;o++){const l=tG(s*o,e,n),c=MP(t,o);i+=c.real*l.real-c.imag*l.imag,a+=c.real*l.imag+c.imag*l.real}n&&(i/=e,a/=e),ZV(r,i,a,s)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OEe(t){const{inputs:e,backend:n}=t,{input:r}=e,s=He(r.shape),i=r.shape[r.shape.length-1],a=s/i,o=Cr({inputs:{x:r},backend:n,attrs:{shape:[a,i]}}),l=jq(o,!1,n),c=Cr({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),c}const $Ee={kernelName:pD,backendName:"cpu",kernelFunc:OEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wM(t){const{backend:e,attrs:n}=t,{shape:r,value:s,dtype:i}=n,a=i||Ag(s),o=us(a,He(r));return PEe(o,s,a),e.makeTensorInfo(r,a,o)}const DEe={kernelName:mD,backendName:"cpu",kernelFunc:wM};function PEe(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MEe={kernelName:gD,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,s=n,i=ui(r.dtype,He(r.shape)),[a,o,l,c]=r.shape,u=s.data.get(r.dataId).values;for(let h=0;h<a;h++){const p=h*l*o*c;for(let m=0;m<o;m++){const f=m*(l*c);for(let b=0;b<l;b++){const w=b*c;for(let g=0;g<c;g++){const C=Math.round(l-b-1),k=p+f+w+g;let N=u[k];if(C>=0&&C<l){const A=C*c,O=p+f+A+g;N=u[O]}i[k]=N}}}}return{dataId:s.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:m}=r;let f=Lq({inputs:{x:s,filter:i},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(a){const b=f;if(u==="NCHW"&&a.shape.length===1&&a.shape[0]!==1){const w=Cr({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});f=ug({inputs:{a:f,b:w},backend:n}),n.disposeIntermediateTensorInfo(w)}else f=ug({inputs:{a:f,b:a},backend:n});n.disposeIntermediateTensorInfo(b)}if(p){const b=f;if(u==="NCHW"&&p==="prelu"&&o.shape.length===1&&o.shape[0]!==1){const w=Cr({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});f=ES(n,f,p,w,m),n.disposeIntermediateTensorInfo(w)}else f=ES(n,f,p,o,m);n.disposeIntermediateTensorInfo(b)}return f}const LEe={kernelName:sS,backendName:"cpu",kernelFunc:BEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:m}=r;let f=Fq({inputs:{x:s,filter:i},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(a){const b=f;f=ug({inputs:{a:f,b:a},backend:n}),n.disposeIntermediateTensorInfo(b)}if(p){const b=f;f=ES(n,f,p,o,m),n.disposeIntermediateTensorInfo(b)}return f}const jEe={kernelName:k3,backendName:"cpu",kernelFunc:FEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zEe(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=He(r.shape),a=s.shape,o=a[a.length-1],[l,c,u,d]=bP(r,s);if(c===0)return n.makeTensorInfo(l,r.dtype,[]);const h=n.data.get(s.dataId).values,p=n.bufferSync(r),m=KY(h,p,r.dtype,c,o,u,d,r.shape,i);return n.makeTensorInfo(l,r.dtype,m.values)}const UEe={kernelName:a3,backendName:"cpu",kernelFunc:zEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:a,batchDims:o}=r;Wt([s,i],"gatherV2");const l=An(a,s.shape)[0],c=n.data.get(i.dataId).values,u=s.shape[l];for(let k=0;k<c.length;++k){const N=c[k];oe(N<=u-1&&N>=0,()=>`GatherV2: the index value ${N} is not in [0, ${u-1}]`)}let d=o;o==null&&(d=0);const h=He(i.shape),p=WP(s,i,l,d),m=Cr({inputs:{x:s},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),f=Cr({inputs:{x:i},backend:n,attrs:{shape:[p.batchSize,h/p.batchSize]}}),b=[p.batchSize,p.outerSize,h/p.batchSize,p.sliceSize],w=n.bufferSync(f),g=n.bufferSync(m),C=JY(g,w,b);return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),n.makeTensorInfo(p.outputShape,C.dtype,C.values)}const VEe={kernelName:ek,backendName:"cpu",kernelFunc:WEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GEe(t){const{inputs:e,backend:n}=t,{input:r}=e,s=He(r.shape),i=r.shape[r.shape.length-1],a=s/i,o=Cr({inputs:{x:r},backend:n,attrs:{shape:[a,i]}}),l=jq(o,!0,n),c=Cr({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),c}const HEe={kernelName:vD,backendName:"cpu",kernelFunc:GEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YEe=cr(ax,t=>Number.isFinite(t)?1:0,"bool"),qEe={kernelName:ax,backendName:"cpu",kernelFunc:YEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XEe=cr(lx,t=>Math.abs(t)===1/0?1:0,"bool"),KEe={kernelName:lx,backendName:"cpu",kernelFunc:XEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JEe=cr(cx,t=>Number.isNaN(t)?1:0,"bool"),QEe={kernelName:cx,backendName:"cpu",kernelFunc:JEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZEe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,a=nq(r,s,i);return e.makeTensorInfo([a.length],"float32",a)}const e2e={kernelName:l3,backendName:"cpu",kernelFunc:ZEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t2e=cr(dx,t=>Math.log1p(t)),n2e={kernelName:dx,backendName:"cpu",kernelFunc:t2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r2e=_s((t,e)=>t&&e),s2e=Us(ik,r2e,null,"bool"),i2e={kernelName:ik,backendName:"cpu",kernelFunc:s2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o2e=cr(ok,t=>t?0:1,"bool"),a2e={kernelName:ok,backendName:"cpu",kernelFunc:o2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l2e=_s((t,e)=>t||e),c2e=Us(ak,l2e,null,"bool"),u2e={kernelName:ak,backendName:"cpu",kernelFunc:c2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:a,alpha:o,beta:l}=r;Wt(s,"LRN");const c=s.shape[3],u=c-1,d=n.data.get(s.dataId).values,h=He(s.shape),p=new Float32Array(h);function m(f){const b=f%c;let w=f-b+Math.max(0,b-i);const g=f-b+Math.min(b+i,u);let C=0;for(;w<=g;w++){const k=d[w];C+=k*k}return C}for(let f=0;f<h;f++){const b=m(f),w=d[f]*Math.pow(a+o*b,-l);p[f]=w}return n.makeTensorInfo(s.shape,s.dtype,p)}const h2e={kernelName:lk,backendName:"cpu",kernelFunc:d2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:a}=e,{depthRadius:o,bias:l,alpha:c,beta:u}=r;Wt(a,"LRNGrad");const d=He(a.shape),h=a.shape[3],p=n.data.get(a.dataId).values,m=n.data.get(s.dataId).values,f=n.data.get(i.dataId).values,b=new Float32Array(d),w=d;for(let g=0;g<w;g++){const C=g%h,k=g-C+Math.max(0,C-o),N=g-C+Math.min(h,C+o+1);let A=0;for(let O=k;O<N;O++)A+=Math.pow(m[O],2);A=c*A+l;for(let O=k;O<N;O++){let R=-2*c*u*m[O]*f[g]/A;g===O&&(R+=Math.pow(A,-u)),R*=p[g],b[O]+=R}}return n.makeTensorInfo(a.shape,s.dtype,b)}const p2e={kernelName:bD,backendName:"cpu",kernelFunc:f2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zq(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:a}=r,o=n;let l=s.shape;const c=l.length,u=An(i,l);let d=u;const h=ns(d,c);let p=o.data.get(s.dataId).values;if(h!=null){const k=new Array(c);for(let N=0;N<k.length;N++)k[N]=l[h[N]];p=gM(p,l,s.dtype,h,k),d=fs(d.length,c),l=k}Wt(s,"max"),ei("max",d,c);const[m,f]=zs(l,d),b=He(f),w=sq(p,b,m,s.dtype),g=o.write(w,m,s.dtype);let C=m;return a&&(C=ws(m,u)),{dataId:g,shape:C,dtype:s.dtype}}const m2e={kernelName:ck,backendName:"cpu",kernelFunc:zq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;Wt(s,"maxPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r,c=1;oe(fi(a,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`);const u=Pa(s.shape,i,a,c,o,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&rr(u.inShape,u.outShape))d=uc({inputs:{x:s},backend:n});else{const h=n.data.get(s.dataId).values,p=tn(s.shape),m=bM(h,s.shape,s.dtype,p,u,"max");d=n.makeTensorInfo(u.outShape,s.dtype,m.values)}return d}const v2e={kernelName:uk,backendName:"cpu",kernelFunc:g2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:l,dataFormat:c}=r;Wt(s,"maxPool3d");const u=xu(s.shape,i,a,1,o,l,c),d=n.data.get(s.dataId).values,h=Bq(d,s.shape,s.dtype,tn(s.shape),u,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}const b2e={kernelName:dk,backendName:"cpu",kernelFunc:y2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x2e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:a,strides:o,pad:l,dimRoundingMode:c}=r;Wt([s,i],"maxPool3DGrad");const u=xu(i.shape,a,o,1,l,c),d=n.bufferSync(i),h=uke(d,u),p=u.strideDepth,m=u.strideHeight,f=u.strideWidth,b=u.dilationDepth,w=u.dilationHeight,g=u.dilationWidth,C=u.effectiveFilterDepth,k=u.effectiveFilterHeight,N=u.effectiveFilterWidth,A=C-1-u.padInfo.front,O=N-1-u.padInfo.left,R=k-1-u.padInfo.top,$=In(i.shape,"float32"),D=n.bufferSync(s);for(let B=0;B<u.batchSize;++B)for(let M=0;M<u.inChannels;++M)for(let z=0;z<u.inDepth;++z)for(let W=0;W<u.inHeight;++W)for(let V=0;V<u.inWidth;++V){const q=z-A,H=W-R,K=V-O;let F=0;for(let ie=0;ie<C;ie+=b){const de=(q+ie)/p;if(!(de<0||de>=u.outDepth||Math.floor(de)!==de))for(let ee=0;ee<k;ee+=w){const J=(H+ee)/m;if(!(J<0||J>=u.outHeight||Math.floor(J)!==J))for(let ae=0;ae<N;ae+=g){const ue=(K+ae)/f;if(ue<0||ue>=u.outWidth||Math.floor(ue)!==ue)continue;const le=C*k*N-1-h.get(B,de,J,ue,M),Ee=ie*k*N+ee*N+ae,ze=le===Ee?1:0;if(ze===0)continue;const Pe=D.get(B,de,J,ue,M);F+=Pe*ze}}}$.set(F,B,z,W,V,M)}return n.makeTensorInfo($.shape,$.dtype,$.values)}const w2e={kernelName:wD,backendName:"cpu",kernelFunc:x2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _2e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:a}=e,o=i;Wt([i,a],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=r,h=Pa(o.shape,l,c,1,u,d),p=n.data.get(o.dataId).values,m=In(h.outShape,o.dtype,Mq(p,o.shape,o.dtype,h).values),f=h.strideHeight,b=h.strideWidth,w=h.dilationHeight,g=h.dilationWidth,C=h.effectiveFilterHeight,k=h.effectiveFilterWidth,N=k-1-h.padInfo.left,A=C-1-h.padInfo.top,O=In(o.shape,"float32"),R=n.data.get(s.dataId).values,$=In(s.shape,"float32",R);for(let D=0;D<h.batchSize;++D)for(let B=0;B<h.inChannels;++B)for(let M=0;M<h.inHeight;++M)for(let z=0;z<h.inWidth;++z){const W=M-A,V=z-N;let q=0;for(let H=0;H<C;H+=w){const K=(W+H)/f;if(!(K<0||K>=h.outHeight||Math.floor(K)!==K))for(let F=0;F<k;F+=g){const ie=(V+F)/b;if(ie<0||ie>=h.outWidth||Math.floor(ie)!==ie)continue;const de=C*k-1-m.get(D,K,ie,B),ee=H*k+F,J=de===ee?1:0;if(J===0)continue;const ae=$.get(D,K,ie,B);q+=ae*J}}O.set(q,D,M,z,B)}return n.makeTensorInfo(O.shape,O.dtype,O.values)}const S2e={kernelName:xD,backendName:"cpu",kernelFunc:_2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C2e(t,e,n,r,s){const i=tn(e),a=bM(t,e,n,i,s,"max"),o=Mq(t,e,n,s,!0,r);return[a.values,o.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k2e={kernelName:c3,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:a,includeBatchInIndex:o}=e,l=n;Wt(r,"MaxPoolWithArgmax");const c=l.data.get(r.dataId).values,u=Pa(r.shape,s,i,[1,1],a),[d,h]=C2e(c,r.shape,r.dtype,o,u),p=l.write(d,u.outShape,r.dtype),m=l.write(h,u.outShape,r.dtype);return[{dataId:p,shape:u.outShape,dtype:r.dtype},{dataId:m,shape:u.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=An(i,s.shape),c=zs(s.shape,o)[1],u=He(c),d=[],h=n.makeTensorInfo([],"float32",new Float32Array([u]));d.push(h);const p=qd({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});d.push(p);const m=xM({inputs:{a:p,b:h},backend:n});d.push(m);const f=Zx({inputs:{x:m},backend:n,attrs:{axis:i,keepDims:a}});return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),f}const T2e={kernelName:hk,backendName:"cpu",kernelFunc:E2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;Wt(s,"min");const o=An(i,s.shape);let l=o;const c=ns(l,s.shape.length);let u=s;c!=null&&(u=Xi({inputs:{x:s},backend:n,attrs:{perm:c}}),l=fs(l.length,s.shape.length)),ei("min",l,u.shape.length);const[d,h]=zs(u.shape,l),p=He(h),m=di(He(d),u.dtype),f=n.data.get(u.dataId).values;for(let w=0;w<m.length;++w){const g=w*p;let C=f[g];for(let k=0;k<p;++k){const N=f[g+k];(Number.isNaN(N)||N<C)&&(C=N)}m[w]=C}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,m);if(a){const w=ws(d,o),g=Cr({inputs:{x:b},backend:n,attrs:{shape:w}});return n.disposeIntermediateTensorInfo(b),g}return b}const A2e={kernelName:fk,backendName:"cpu",kernelFunc:I2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,mode:a}=r;Wt(s,"mirrorPad");const o=i.map((C,k)=>C[0]+s.shape[k]+C[1]),l=i.map(C=>C[0]),c=i.map((C,k)=>C[0]+s.shape[k]),u=a==="reflect"?0:1,d=n.data.get(s.dataId).values,h=s.shape.length,p=tn(s.shape),m=He(o),f=o.length,b=tn(o),w=ui(s.dtype,m);for(let C=0;C<m;C++){let k=Ng(C,f,b);for(let A=0;A<f;A++)k[A]<l[A]?k[A]=l[A]*2-k[A]-u:k[A]>=c[A]&&(k[A]=(c[A]-1)*2-k[A]+u);k=k.map((A,O)=>A-l[O]);const N=tc(k,h,p);w[C]=d[N]}return{dataId:n.write(w,o,s.dtype),shape:o,dtype:s.dtype}}const R2e={kernelName:pk,backendName:"cpu",kernelFunc:N2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O2e=_s((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),$2e=Us(px,O2e),D2e={kernelName:px,backendName:"cpu",kernelFunc:$2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uq(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,a=s.shape.length;let o=i;if(o===-1&&(o=a-1),o!==a-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a} and dim was ${o}`);const l=An([o],s.shape),c=zq({inputs:{x:s},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=ws(c.shape,l),d=Cr({inputs:{x:c},backend:n,attrs:{shape:u}}),h=yM({inputs:{a:s,b:d},backend:n}),p=HY({inputs:{x:h},backend:n}),m=Zx({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),f=Cr({inputs:{x:m},backend:n,attrs:{shape:u}}),b=xM({inputs:{a:p,b:f},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),b}const P2e={kernelName:Ok,backendName:"cpu",kernelFunc:Uq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M2e(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:a,normalized:o}=r;Wt(s,"multinomial");const l=o?s:Uq({inputs:{logits:s},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],d=n.data.get(l.dataId).values,h=[c,i],p=di(He(h),"int32");for(let m=0;m<c;++m){const f=m*u,b=new Float32Array(u-1);b[0]=d[f];for(let C=1;C<b.length;++C)b[C]=b[C-1]+d[f+C];const w=Uk.alea(a.toString()),g=m*i;for(let C=0;C<i;++C){const k=w();p[g+C]=b.length;for(let N=0;N<b.length;N++)if(k<b[N]){p[g+C]=N;break}}}return o||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(h,"int32",p)}const B2e={kernelName:u3,backendName:"cpu",kernelFunc:M2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L2e=hP;function F2e(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l}=r;Wt(s,"NonMaxSuppression");const c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,{selectedIndices:d}=L2e(c,u,a,o,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const j2e={kernelName:_D,backendName:"cpu",kernelFunc:F2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z2e=fP;function U2e(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=r;Wt(s,"NonMaxSuppressionPadded");const u=n.data.get(s.dataId).values,d=n.data.get(i.dataId).values,{selectedIndices:h,validOutputs:p}=z2e(u,d,a,o,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}const W2e={kernelName:SD,backendName:"cpu",kernelFunc:U2e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V2e=pP;function G2e(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=r;Wt(s,"NonMaxSuppressionWithScore");const u=n.data.get(s.dataId).values,d=n.data.get(i.dataId).values,h=a,p=o,m=l,f=c,{selectedIndices:b,selectedScores:w}=V2e(u,d,h,p,m,f);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([w.length],"float32",new Float32Array(w))]}const H2e={kernelName:CD,backendName:"cpu",kernelFunc:G2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y2e(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:a,onValue:o,offValue:l}=r;Wt(s,"oneHot");const c=He(s.shape),u=new Float32Array(c*a);u.fill(l);const d=n.data.get(s.dataId).values;for(let h=0;h<c;++h)d[h]>=0&&d[h]<a&&(u[h*a+d[h]]=o);return n.makeTensorInfo([...s.shape,a],i,u)}const q2e={kernelName:yk,backendName:"cpu",kernelFunc:Y2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IS(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const s=fp({inputs:{input:r},backend:n}),i=IS({inputs:{x:s},backend:n}),a=dg({inputs:{input:r},backend:n}),o=IS({inputs:{x:a},backend:n}),l=po({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}else return wM({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const X2e={kernelName:Pk,backendName:"cpu",kernelFunc:IS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wq(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const s=fp({inputs:{input:r},backend:n}),i=Wq({inputs:{x:s},backend:n}),a=dg({inputs:{input:r},backend:n}),o=IS({inputs:{x:a},backend:n}),l=po({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}else return wM({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const K2e={kernelName:vk,backendName:"cpu",kernelFunc:Wq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vq(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return TS({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,a=e[0].dtype;e.forEach(u=>{H$(i,u.shape,"All tensors passed to stack must have matching shapes"),oe(a===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],l=e.map(u=>{const d=TS({inputs:{input:u},backend:n,attrs:{dim:s}});return o.push(d),d}),c=hg({inputs:l,backend:n,attrs:{axis:s}});return o.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const J2e={kernelName:bk,backendName:"cpu",kernelFunc:Vq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:a}=r;Wt(s,"pad");const o=i.map((g,C)=>g[0]+s.shape[C]+g[1]),l=i.map(g=>g[0]),c=n.data.get(s.dataId).values,u=He(s.shape),d=s.shape.length,h=tn(s.shape),p=He(o),m=o.length,f=tn(o),b=ui(s.dtype,p);a!==0&&b.fill(a);for(let g=0;g<u;g++){const k=Ng(g,d,h).map((A,O)=>A+l[O]),N=tc(k,m,f);b[N]=c[g]}return{dataId:n.write(b,o,s.dtype),shape:o,dtype:s.dtype}}const Gq={kernelName:xk,backendName:"cpu",kernelFunc:Q2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z2e=_s((t,e)=>Math.pow(t,e)),eTe=Us(gx,Z2e),tTe={kernelName:gx,backendName:"cpu",kernelFunc:eTe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nTe(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:a}=e,o=s.map(b=>n.data.get(b.dataId).values),l=s.map(b=>b.shape),c=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,[d,h,p]=uq(o,l,c,i.shape,i.dtype,u,a.shape),m=d.map(b=>n.makeTensorInfo([b.length],"int32",b)),f=n.makeTensorInfo(p,i.dtype,h);return m.concat([f])}const rTe={kernelName:d3,backendName:"cpu",kernelFunc:nTe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sTe(t){const{inputs:e,backend:n}=t,{starts:r,limits:s,deltas:i}=e,a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=dq(a,r.shape,r.dtype,o,s.shape,l,i.shape),d=n.makeTensorInfo([c.length],"int32",c),h=n.makeTensorInfo([u.length],r.dtype,u);return[d,h]}const iTe={kernelName:h3,backendName:"cpu",kernelFunc:sTe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oTe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:a,rowPartitionTensors:o}=e,{rowPartitionTypes:l}=r,c=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,h=o.map(b=>n.data.get(b.dataId).values),p=o.map(b=>b.shape),[m,f]=hq(c,s.shape,u,i.shape,i.dtype,d,a.shape,h,p,l);return n.makeTensorInfo(m,i.dtype,f)}const aTe={kernelName:f3,backendName:"cpu",kernelFunc:oTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lTe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,dtype:i,step:a}=n,o=fq(r,s,a,i);return e.makeTensorInfo([o.length],i,o)}const cTe={kernelName:kD,backendName:"cpu",kernelFunc:lTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uTe=cr(vx,t=>1/t),dTe={kernelName:vx,backendName:"cpu",kernelFunc:uTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hTe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r;Wt(s,"resizeBilinear");const l=tn(s.shape),[c,u]=o,[d,h,p,m]=s.shape,f=n.data.get(s.dataId).values,b=new Float32Array(He([d,c,u,m])),w=[i&&c>1?h-1:h,i&&u>1?p-1:p],g=[i&&c>1?c-1:c,i&&u>1?u-1:u];let C=0;const k=w[0]/g[0],N=w[1]/g[1];for(let A=0;A<d;A++)for(let O=0;O<c;O++){let R;a?R=k*(O+.5)-.5:R=k*O;const $=Math.max(0,Math.floor(R)),D=R-$,B=Math.min(h-1,Math.ceil(R)),M=A*l[0]+$*l[1],z=A*l[0]+B*l[1];for(let W=0;W<u;W++){let V;a?V=N*(W+.5)-.5:V=N*W;const q=Math.max(0,Math.floor(V)),H=V-q,K=Math.min(p-1,Math.ceil(V)),F=M+q*l[2],ie=z+q*l[2],de=M+K*l[2],ee=z+K*l[2];for(let J=0;J<m;J++){const ae=f[F+J],ue=f[ie+J],le=f[de+J],Ee=f[ee+J],ze=ae+(le-ae)*H,Pe=ue+(Ee-ue)*H,Ke=ze+(Pe-ze)*D;b[C++]=Ke}}}return n.makeTensorInfo([d,c,u,m],"float32",b)}const fTe={kernelName:kk,backendName:"cpu",kernelFunc:hTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pTe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r;Wt([i,s],"resizeBilinearGrad");const o=tn(s.shape),[l,c,u,d]=s.shape,[,h,p]=i.shape,m=new Float32Array(l*c*u*d),f=[a&&h>1?c-1:c,a&&p>1?u-1:u],b=[a&&h>1?h-1:h,a&&p>1?p-1:p],w=f[0]/b[0],g=f[1]/b[1],C=n.data.get(i.dataId).values;let k=0;for(let N=0;N<l;N++){const A=N*o[0];for(let O=0;O<h;O++){const R=O*w,$=Math.floor(R),D=Math.min(Math.ceil(R),c-1),B=A+$*o[1],M=A+D*o[1],z=R-$,W=1-z;for(let V=0;V<p;V++){const q=V*g,H=Math.floor(q),K=Math.min(Math.ceil(q),u-1),F=q-H,ie=1-F,de=B+H*o[2],ee=B+K*o[2],J=M+H*o[2],ae=M+K*o[2],ue=W*ie,le=W*F,Ee=z*ie,ze=z*F;for(let Pe=0;Pe<d;Pe++){const Ke=C[k++];m[de+Pe]+=Ke*ue,m[ee+Pe]+=Ke*le,m[J+Pe]+=Ke*Ee,m[ae+Pe]+=Ke*ze}}}}return n.makeTensorInfo([l,u,c,d],"float32",m)}const mTe={kernelName:ID,backendName:"cpu",kernelFunc:pTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gTe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r;Wt(s,"resizeNearestNeighbor");const l=tn(s.shape),[c,u]=o,[d,h,p,m]=s.shape,f=n.data.get(s.dataId).values,b=new Float32Array(d*c*u*m),w=[i&&c>1?h-1:h,i&&u>1?p-1:p],g=[i&&c>1?c-1:c,i&&u>1?u-1:u],C=w[0]/g[0],k=w[1]/g[1];let N=0;for(let A=0;A<d;A++){const O=A*l[0];for(let R=0;R<c;R++){const $=a?C*(R+.5):C*R;let D=Math.min(h-1,i?Math.round($):Math.floor($));a&&(D=Math.max(0,D));const B=O+D*l[1];for(let M=0;M<u;M++){const z=a?k*(M+.5):k*M;let W=Math.min(p-1,i?Math.round(z):Math.floor(z));a&&(W=Math.max(0,W));const V=B+W*l[2];for(let q=0;q<m;q++){const H=f[V+q];b[N++]=H}}}}return n.makeTensorInfo([d,c,u,m],s.dtype,b)}const vTe={kernelName:Ck,backendName:"cpu",kernelFunc:gTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yTe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r;Wt([i,s],"resizeNearestNeighborGrad");const o=tn(s.shape),l=tn(i.shape),[c,u,d,h]=s.shape,[,p,m]=i.shape,f=new Float32Array(c*u*d*h),b=n.data.get(i.dataId).values,w=[a&&p>1?u-1:u,a&&m>1?d-1:d],g=[a&&p>1?p-1:p,a&&m>1?m-1:m],C=w[0]/g[0],k=w[1]/g[1],N=1/C,A=1/k,O=Math.ceil(N)*2+2,R=Math.ceil(A)*2+2;for(let $=0;$<c;$++){const D=$*o[0];for(let B=0;B<u;B++){const M=D+B*o[1],z=Math.floor(B*N),W=Math.floor(z-O/2);for(let V=0;V<d;V++){const q=M+V*o[2],H=Math.floor(V*A),K=Math.floor(H-R/2);for(let F=0;F<h;F++){let ie=0;for(let de=0;de<O;de++){const ee=de+W;if(ee<0||ee>=p)continue;const J=D+ee*l[1],ae=ee*C,ue=Math.min(u-1,a?Math.round(ae):Math.floor(ae));if(B===ue)for(let le=0;le<R;le++){const Ee=le+K;if(Ee<0||Ee>=m)continue;const ze=J+Ee*l[2],Pe=Ee*k,Ke=Math.min(d-1,a?Math.round(Pe):Math.floor(Pe));V===Ke&&(ie+=b[ze+F])}}f[q+F]=ie}}}}return n.makeTensorInfo(s.shape,s.dtype,f)}const bTe={kernelName:TD,backendName:"cpu",kernelFunc:yTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xTe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r;Wt(s,"reverse");const a=s.shape.length,o=An(i,s.shape);if(a===0)return uc({inputs:{x:s},backend:n});const l=new Js(s.shape,s.dtype),c=n.bufferSync(s);for(let u=0;u<l.size;u++){const d=l.indexToLoc(u),h=d.slice();o.forEach(p=>h[p]=s.shape[p]-1-h[p]),l.set(c.get(...h),...d)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const wTe={kernelName:Ek,backendName:"cpu",kernelFunc:xTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Te={kernelName:PD,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:a}=e,o=n,l=ui(r.dtype,He(r.shape)),[c,u,d,h]=r.shape,[p,m]=TP(a,u,d),f=255,b=Math.sin(s),w=Math.cos(s),g=o.data.get(r.dataId).values;for(let k=0;k<c;k++){const N=k*d*u*h;for(let A=0;A<u;A++){const O=A*(d*h);for(let R=0;R<d;R++){const $=R*h;for(let D=0;D<h;D++){const B=[c,A,R,D],M=B[2],z=B[1];let W=(M-p)*w-(z-m)*b,V=(M-p)*b+(z-m)*w;W=Math.round(W+p),V=Math.round(V+m);let q=i;if(typeof i!="number"&&(D===3?q=f:q=i[D]),W>=0&&W<d&&V>=0&&V<u){const K=V*(d*h),F=W*h,ie=N+K+F+D;q=g[ie]}const H=N+O+$+D;l[H]=q}}}}return{dataId:o.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const STe=cr(xx,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),CTe={kernelName:xx,backendName:"cpu",kernelFunc:STe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kTe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:a}=r,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=Tp(i,s,a),h=!0,p=n.bufferSync(s),m=n.bufferSync(i),f=Rf(p,m,a,d,c,l,o,u,0,h);return n.makeTensorInfo(a,f.dtype,f.values)}const ETe={kernelName:p3,backendName:"cpu",kernelFunc:kTe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TTe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<e?n=s+1:r=s;return r}function ITe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<=e?n=s+1:r=s;return r}function ATe(t,e,n,r,s,i){const a=us("int32",n*s);for(let o=0;o<n;++o){const l=t.slice(o*r,(o+1)*r),c=o*s;for(let u=0;u<s;++u)a[c+u]=i==="left"?TTe(l,e[u+c]):ITe(l,e[u+c])}return a}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NTe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:a}=r,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=ATe(o,l,s.shape[0],s.shape[1],i.shape[1],a);return n.makeTensorInfo(i.shape,"int32",c)}const RTe={kernelName:g3,backendName:"cpu",kernelFunc:NTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OTe(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e;Wt([r,s,i],"select");const a=r.shape.length,o=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=ko(s.dtype,i.dtype),d=di(He(s.shape),u);let h=0;const p=a===0||a>1||s.shape.length===1?1:He(s.shape.slice(1));for(let m=0;m<o.length;m++)for(let f=0;f<p;f++)o[m]===1?d[h++]=l[m]:d[h++]=c[m];return n.makeTensorInfo(s.shape,u,d)}const $Te={kernelName:Tk,backendName:"cpu",kernelFunc:OTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DTe=Gk,PTe=Hk,MTe=cr(_x,t=>t>=0?PTe*t:DTe*(Math.exp(t)-1)),BTe={kernelName:_x,backendName:"cpu",kernelFunc:MTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LTe=cr(kx,t=>t<0?-1:t>0?1:0),FTe={kernelName:kx,backendName:"cpu",kernelFunc:LTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jTe=cr(Sx,t=>Math.sin(t)),zTe={kernelName:Sx,backendName:"cpu",kernelFunc:jTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UTe=cr(Cx,t=>Math.sinh(t)),WTe={kernelName:Cx,backendName:"cpu",kernelFunc:UTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VTe=11920928955078125e-23,d6=Math.log(VTe)+2,GTe=cr(Tx,t=>{const e=t>-d6,n=t<d6,r=Math.exp(t);let s;return n?s=r:e?s=t:s=Math.log(1+r),s}),HTe={kernelName:Tx,backendName:"cpu",kernelFunc:GTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YTe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:a}=r;Wt([s],"spaceToBatchND");const o=He(i),l=[[0,0]];l.push(...a);for(let A=1+i.length;A<s.shape.length;++A)l.push([0,0]);const c=Gq.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),u=Ux(c.shape,i,o,!1),d=Wx(u.length,i.length,!1),h=Vx(c.shape,i,o,!1),f=Cr({inputs:{x:c},backend:n,attrs:{shape:u}}),g=Xi({inputs:{x:f},backend:n,attrs:{perm:d}}),N=Cr({inputs:{x:g},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(g),N}const qTe={kernelName:Nk,backendName:"cpu",kernelFunc:YTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XTe(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:a}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${s.shape}`);if(a.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${a.shape}`);const o=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values[0],[d,h,p,m,f]=vq(o,r.shape,r.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(h,r.dtype,d),n.makeTensorInfo([h[0]],s.dtype,p),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map(b=>Number(b)))),n.makeTensorInfo([f.length],r.dtype,new Int32Array(f))]}const KTe={kernelName:v3,backendName:"cpu",kernelFunc:XTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JTe(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.data.get(s.dataId).values),o=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[c,u,d]=yq(o,r.shape,r.dtype,a,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([d.length],i.dtype,new Int32Array(d))]}const QTe={kernelName:y3,backendName:"cpu",kernelFunc:JTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZTe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=vM(a,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(u,r.dtype,c)}const eIe={kernelName:b3,backendName:"cpu",kernelFunc:ZTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tIe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[c,u]=vM(a,r.shape,r.dtype,o,l);return n.makeTensorInfo(u,r.dtype,c)}const nIe={kernelName:x3,backendName:"cpu",kernelFunc:tIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rIe(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:a}=e,{outputShape:o}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=Tp(i,s,o),p=!1,m=n.bufferSync(s);let f;switch(i.dtype){case"bool":{const b=n.bufferSync(i),w=!!n.data.get(a.dataId).values[0];f=Rf(m,b,o,h,u,c,l,d,w,p);break}case"float32":{const b=n.bufferSync(i),w=n.data.get(a.dataId).values[0];f=Rf(m,b,o,h,u,c,l,d,w,p);break}case"int32":{const b=n.bufferSync(i),w=n.data.get(a.dataId).values[0];f=Rf(m,b,o,h,u,c,l,d,w,p);break}case"string":{const b=n.bufferSync(i),w=zd(n.data.get(a.dataId).values[0]);f=Rf(m,b,o,h,u,c,l,d,w,p);break}default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(o,f.dtype,f.values)}const sIe={kernelName:w3,backendName:"cpu",kernelFunc:rIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iIe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:a}=r,o=An(a,s.shape)[0],l=UP(s,i,o),c=new Array(s.shape.length).fill(0),u=s.shape.slice();return l.map(d=>{const h=[...u];h[o]=d;const p=pp({inputs:{x:s},backend:n,attrs:{begin:c,size:h}});return c[o]+=d,p})}const oIe={kernelName:Rk,backendName:"cpu",kernelFunc:iIe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aIe={kernelName:AD,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e;Wt(n,"square");const s=r.data.get(n.dataId).values,i=new Float32Array(s.length);for(let o=0;o<s.length;++o){const l=s[o];i[o]=l*l}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lIe=cr(Dx,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),cIe={kernelName:Dx,backendName:"cpu",kernelFunc:lIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uIe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:a,strides:o,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=r;Wt(s,"stridedSlice");const{finalShapeSparse:p,finalShape:m,isIdentity:f,sliceDim0:b,isSimpleSlice:w,begin:g,end:C,strides:k}=CP(s.shape,i,a,o,l,c,u,d,h);let N;if(f)N=Cr({inputs:{x:s},backend:n,attrs:{shape:m}});else if(b||w){oe(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const A=wP(g,C,k),O=pp({inputs:{x:s},backend:n,attrs:{begin:g,size:A}});N=Cr({inputs:{x:O},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(O)}else{const A=n.bufferSync(s),O=wq(p,A,k,g);N=n.makeTensorInfo(m,O.dtype,O.values)}return N}const dIe={kernelName:RD,backendName:"cpu",kernelFunc:uIe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hIe(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:a,rightPad:o,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:d}=e,h=n.data.get(u.dataId).values,p=n.data.get(d.dataId).values,[m,f]=_q(h,p,s,i,a,o,l,c);return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(d.shape,"int32",f)]}const fIe={kernelName:_3,backendName:"cpu",kernelFunc:hIe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pIe(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:a}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(a.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const o=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values[0],[c,u,d]=Sq(o,l,s),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const mIe={kernelName:S3,backendName:"cpu",kernelFunc:pIe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gIe(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const a=n.data.get(i.dataId).values,o=Cq(a,s);return n.makeTensorInfo(i.shape,"int32",o)}const vIe={kernelName:C3,backendName:"cpu",kernelFunc:gIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yIe=cr(Rx,t=>Math.tan(t)),bIe={kernelName:Rx,backendName:"cpu",kernelFunc:yIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xIe=cr(Ox,t=>Math.tanh(t)),wIe={kernelName:Ox,backendName:"cpu",kernelFunc:xIe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ie(t){const{inputs:e,backend:n}=t,{tensor:r,indices:s,updates:i}=e,{sliceRank:a,numUpdates:o,sliceSize:l,strides:c,outputSize:u}=Tp(i,s,r.shape),d=!1,h=n.bufferSync(s),p=n.bufferSync(i),m=n.bufferSync(r),f=Rf(h,p,r.shape,u,l,o,a,c,m,d);return n.makeTensorInfo(r.shape,f.dtype,f.values)}const SIe={kernelName:m3,backendName:"cpu",kernelFunc:_Ie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CIe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;Wt(s,"tile");const a=Eq(n.bufferSync(s),i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}const kIe={kernelName:$x,backendName:"cpu",kernelFunc:CIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EIe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:a}=r;Wt(s,"topk");const o=n.data.get(s.dataId).values,[l,c]=Iq(o,s.shape,s.dtype,i,a);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}const TIe={kernelName:OD,backendName:"cpu",kernelFunc:EIe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IIe(t){const{inputs:e,attrs:n,backend:r}=t,{image:s,transforms:i}=e,{interpolation:a,fillMode:o,fillValue:l,outputShape:c}=n,[u,d,h,p]=s.shape,[m,f]=c??[d,h],b=[u,m,f,p],w=tn(s.shape),g=w[0],C=w[1],k=w[2],N=tn(b),A=N[0],O=N[1],R=N[2],$=ui(s.dtype,He(b));$.fill(l);const D=r.data.get(s.dataId).values,B=r.data.get(i.dataId).values;for(let z=0;z<u;++z){const W=i.shape[0]===1?B:B.subarray(z*8,z*8+8);for(let V=0;V<m;++V)for(let q=0;q<f;++q)for(let H=0;H<p;++H){let K;const F=W[6]*q+W[7]*V+1;if(F===0)continue;const ie=(W[0]*q+W[1]*V+W[2])/F,de=(W[3]*q+W[4]*V+W[5])/F,ee=h6(ie,h,o),J=h6(de,d,o);switch(a){case"nearest":K=DIe(D,d,h,g,C,k,z,J,ee,H,l);break;case"bilinear":K=PIe(D,d,h,g,C,k,z,J,ee,H,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${a}`)}const ae=z*A+V*O+q*R+H;$[ae]=K}return r.makeTensorInfo(b,s.dtype,$)}return{dataId:r.write($,b,s.dtype),shape:s.shape,dtype:s.dtype}}const AIe={kernelName:$D,backendName:"cpu",kernelFunc:IIe};function h6(t,e,n){switch(n){case"reflect":return NIe(t,e);case"wrap":return RIe(t,e);case"nearest":return $Ie(t,e);case"constant":default:return OIe(t)}}function NIe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=2*e;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-e?n+r:-n-1}else if(n>e-1)if(e<=1)n=0;else{const r=2*e;n-=r*Math.trunc(n/r),n>=e&&(n=r-n-1)}return np(0,n,e-1)}function RIe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=e-1;n+=e*(Math.trunc(-n/r)+1)}else if(n>e-1)if(e<=1)n=0;else{const r=e-1;n-=e*Math.trunc(n/r)}return np(0,n,e-1)}function OIe(t,e){return t}function $Ie(t,e){return np(0,t,e-1)}function Rv(t,e,n,r,s,i,a,o,l,c,u){const d=a*r+o*s+l*i+c;return 0<=o&&o<e&&0<=l&&l<n?t[d]:u}function DIe(t,e,n,r,s,i,a,o,l,c,u){const d=Math.round(o),h=Math.round(l);return Rv(t,e,n,r,s,i,a,d,h,c,u)}function PIe(t,e,n,r,s,i,a,o,l,c,u){const d=Math.floor(o),h=Math.floor(l),p=d+1,m=h+1,f=(m-l)*Rv(t,e,n,r,s,i,a,d,h,c,u)+(l-h)*Rv(t,e,n,r,s,i,a,d,m,c,u),b=(m-l)*Rv(t,e,n,r,s,i,a,p,h,c,u)+(l-h)*Rv(t,e,n,r,s,i,a,p,m,c,u);return(p-o)*f+(o-d)*b}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MIe(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;Wt(i,"unique");const a=r.data.get(i.dataId).values,{outputValues:o,outputShape:l,indices:c}=Aq(a,s,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([c.length],"int32",c)]}const BIe={kernelName:DD,backendName:"cpu",kernelFunc:MIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LIe(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const a=s.shape.length,o=s.shape[i],l=new Array(a-1);let c=0;for(let p=0;p<a;p++)p!==i&&(l[c++]=s.shape[p]);const u=new Array(a).fill(0),d=s.shape.slice();d[i]=1;const h=new Array(o);for(let p=0;p<h.length;p++){u[i]=p;const m=pp({inputs:{x:s},backend:n,attrs:{begin:u,size:d}});h[p]=Cr({inputs:{x:m},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(m)}return h}const FIe={kernelName:$k,backendName:"cpu",kernelFunc:LIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jIe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:a}=r;Wt(s,"unsortedSegmentSum");const o=s.shape.length,l=i.shape.length,c=[],u=[],d=o-l;let h=i;for(let m=0;m<d;++m){const f=TS({inputs:{input:h},backend:n,attrs:{dim:m+1}});h=f,u.push(f)}for(let m=0;m<a;++m){const f=sh(m,"int32"),b=n.makeTensorInfo([],"int32",f),w=VY({inputs:{a:b,b:h},backend:n}),g=qd({inputs:{x:w},backend:n,attrs:{dtype:"float32"}}),C=oE({inputs:{a:g,b:s},backend:n}),k=Zx({inputs:{x:C},backend:n,attrs:{axis:0,keepDims:!1}});c.push(k),u.push(b),u.push(w),u.push(g),u.push(C),u.push(k)}const p=Vq({inputs:c,backend:n,attrs:{axis:0}});return u.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const zIe={kernelName:Dk,backendName:"cpu",kernelFunc:jIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UIe=[LCe,xSe,jCe,UCe,ESe,VCe,HCe,qCe,KCe,QCe,eke,nke,ske,ake,cke,hke,pke,gke,yke,MCe,xke,_ke,Cke,Eke,CSe,ISe,Ike,wSe,Nke,Oke,$ke,Pke,Bke,Fke,zke,Wke,Gke,Yke,Xke,Jke,Zke,tEe,rEe,sEe,oEe,lEe,uEe,dEe,hEe,fEe,gEe,ACe,yEe,ASe,EEe,NSe,TEe,OSe,$Ee,DEe,MEe,DSe,MSe,LEe,jEe,UEe,VEe,LSe,jSe,_Se,HEe,Rke,qEe,KEe,QEe,NCe,USe,VSe,e2e,HSe,n2e,i2e,a2e,u2e,h2e,p2e,m2e,qSe,v2e,b2e,w2e,S2e,k2e,T2e,A2e,KSe,R2e,D2e,B2e,QSe,eCe,j2e,W2e,H2e,nCe,q2e,K2e,J2e,Gq,tTe,OCe,iCe,rTe,iTe,aTe,cTe,SSe,rR,dTe,$Ce,DCe,PCe,fTe,mTe,vTe,bTe,wTe,_Te,CTe,fCe,ETe,RTe,$Te,BTe,mCe,FTe,zTe,WTe,gCe,P2e,HTe,qTe,KTe,QTe,eIe,nIe,sIe,oIe,bCe,aIe,wCe,SCe,cIe,dIe,fIe,mIe,vIe,TCe,pEe,bIe,wIe,SIe,kIe,TIe,AIe,rCe,BIe,FIe,zIe,X2e];for(const t of UIe)E3(t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xf={},sw={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function WIe(t,e){xf[t]=e}function _l(t,e){if(!(t in xf)||e!=null){const r=GIe(t,e);if(r!==null)xf[t]=r;else return console.log("Could not get context for WebGL version",t),null}const n=xf[t];return n==null||n.isContextLost()?(delete xf[t],_l(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),xf[t])}function VIe(t){if(!je().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function GIe(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e??VIe(t);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete xf[t]},!1),je().getBool("SOFTWARE_WEBGL_ENABLED")&&(sw.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",sw)||n.getContext("experimental-webgl",sw):n.getContext("webgl2",sw)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ib;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(ib||(ib={}));var Ho;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(Ho||(Ho={}));var qs;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(qs||(qs={}));function e1(t,e){return[e,t]}function HIe(t,e){return t*e}function iw(t){const e=He(t),n=Math.ceil(e/4);return mN(n)}function Bg(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function YIe(t,e){const[n,r]=Bg(t,e);return n*r*4}function _M(t,e){const n=t;let r,s,i,a,o,l,c,u,d,h;return je().getNumber("WEBGL_VERSION")===2?(r=n.R32F,s=n.R16F,i=n.RGBA16F,a=n.RGBA32F,o=n.RED,c=4,u=1,d=n.HALF_FLOAT,h=n.FLOAT,l=n.RGBA8):(r=t.RGBA,s=t.RGBA,i=t.RGBA,a=n.RGBA,o=t.RGBA,c=4,u=4,d=e!=null?e.HALF_FLOAT_OES:null,h=t.FLOAT,l=t.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:h}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $t(t,e){const n=e();return je().getBool("DEBUG")&&qIe(t),n}function qIe(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+QIe(t,e))}const XIe=596e-10,KIe=65504;function JIe(t){return!!(je().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||XIe<Math.abs(t)&&Math.abs(t)<KIe)}function QIe(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function ow(t,e){return _u(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function ZIe(t,e){const n=_u(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if($t(t,()=>t.shaderSource(n,e)),$t(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function eAe(t,e){const n=_u(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if($t(t,()=>t.shaderSource(n,e)),$t(t,()=>t.compileShader(n)),je().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw Hq(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const tAe=/ERROR: [0-9]+:([0-9]+):/g;function Hq(t,e){const n=tAe.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const r=+n[1],s=t.split(`
`),i=s.length.toString().length+2,a=s.map((d,h)=>Tm((h+1).toString(),i)+d);let o=0;for(let d=0;d<a.length;d++)o=Math.max(a[d].length,o);const l=a.slice(0,r-1),c=a.slice(r-1,r),u=a.slice(r);console.log(l.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${Tm(c[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join(`
`))}function nAe(t){return _u(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function rAe(t,e){if($t(t,()=>t.linkProgram(e)),!je().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function ZT(t,e){if($t(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function sAe(t,e){const n=_u(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return $t(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),$t(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function iAe(t,e){const n=_u(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return $t(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),$t(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function oAe(t){return _u(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function aAe(t,e){const n=je().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const r=`[${t}x${e}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n){const r=`[${t}x${e}]`,s=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+s+".")}}function lAe(t){return _u(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function f6(t,e,n,r,s,i,a){const o=t.getAttribLocation(e,n);return o===-1?!1:($t(t,()=>t.bindBuffer(t.ARRAY_BUFFER,r)),$t(t,()=>t.vertexAttribPointer(o,s,t.FLOAT,!1,i,a)),$t(t,()=>t.enableVertexAttribArray(o)),!0)}function cAe(t,e,n){pAe(t,n),$t(t,()=>t.activeTexture(t.TEXTURE0+n)),$t(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function uAe(t,e,n){return _u(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function dAe(t,e,n){return t.getUniformLocation(e,n)}function hAe(t,e,n,r){$t(t,()=>cAe(t,e,r)),$t(t,()=>t.uniform1i(n,r))}function eI(t,e,n){$t(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),$t(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function p6(t,e){$t(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),$t(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function aw(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+fAe(t,e))}function fAe(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function _u(t,e,n){const r=$t(t,()=>e());if(r==null)throw new Error(n);return r}function pAe(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n){const s=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${s}.`)}}function fg(t,e=2){return He(t.slice(0,t.length-e))}function pg(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function lw(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[fg(t),...pg(t)]),e}function mAe(t,e=!1){let n=je().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=je().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&je().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),e&&(n=n*2,r=r*2,t=t.map((o,l)=>l>=t.length-2?G$(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=rh(t).newShape);let s=He(t),i=null;t.length<=1&&s<=n?i=[1,s]:t.length===2&&t[0]<=n&&t[1]<=n?i=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?i=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?i=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?i=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(i=[t[0],t[1]*t[2]*t[3]]);const a=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(e?2:1)&&Math.min(...i)>0;if(i==null||a)if(e){const o=fg(t);let l=2,c=2;t.length&&([l,c]=pg(t)),s=o*(l/2)*(c/2),i=mN(s).map(u=>u*2)}else i=mN(s);return i}function cw(t){return t%2===0}function AS(t,e){if(t=t.slice(-2),e=e.slice(-2),rr(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t[t.length-1],r=e[e.length-1];if(n===r||cw(n)&&cw(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&cw(t[0])&&cw(e[0])}let tI,nI;function gAe(t){if(tI==null){const e=_l(t);tI=e.getParameter(e.MAX_TEXTURE_SIZE)}return tI}function vAe(t){if(nI==null){const e=_l(t);nI=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,nI)}function yAe(t){if(t===0)return 0;let e;const n=_l(t);return ka(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:ka(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function ka(t,e){return t.getExtension(e)!=null}function m6(t){try{if(_l(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function bAe(t){if(t===0)return!1;const e=_l(t);if(t===1){if(!ka(e,"OES_texture_float"))return!1}else if(!ka(e,"EXT_color_buffer_float"))return!1;return iR(e)}function xAe(t){if(t===0)return!1;const e=_l(t);if(t===1){if(!ka(e,"OES_texture_float")||!ka(e,"WEBGL_color_buffer_float"))return!1}else{if(ka(e,"EXT_color_buffer_float"))return iR(e);const r="EXT_color_buffer_half_float";if(ka(e,r)){const s=e.getExtension(r);return wAe(e,s)}return!1}return iR(e)}function iR(t){const e=_M(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);const r=1,s=1;t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,r,s,0,e.textureFormatFloat,e.textureTypeFloat,null);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(i),a}function wAe(t,e){const n=_M(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const s=1,i=1;t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,s,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const a=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(a),o}function _Ae(t){return t!==2?!1:_l(t).fenceSync!=null}function t1(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&oe(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ht=je();Ht.registerFlag("HAS_WEBGL",()=>Ht.getNumber("WEBGL_VERSION")>0);Ht.registerFlag("WEBGL_VERSION",()=>m6(2)?2:m6(1)?1:0);Ht.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Ht.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Ht.get("WEBGL_VERSION")===2);Ht.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Ht.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Ht.registerFlag("WEBGL_PACK",()=>Ht.getBool("HAS_WEBGL"));Ht.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Ht.getBool("WEBGL_PACK"));Ht.registerFlag("WEBGL_PACK_CLIP",()=>Ht.getBool("WEBGL_PACK"));Ht.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Ht.getBool("WEBGL_PACK"));Ht.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Ht.getBool("WEBGL_PACK"));Ht.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Ht.getBool("WEBGL_PACK"));Ht.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Ht.getBool("WEBGL_PACK"));Ht.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Ht.getBool("WEBGL_PACK"));Ht.registerFlag("WEBGL_PACK_REDUCE",()=>Ht.getBool("WEBGL_PACK"));Ht.registerFlag("WEBGL_LAZILY_UNPACK",()=>Ht.getBool("WEBGL_PACK"));Ht.registerFlag("WEBGL_CONV_IM2COL",()=>Ht.getBool("WEBGL_PACK"));Ht.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>gAe(Ht.getNumber("WEBGL_VERSION")));Ht.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>vAe(Ht.getNumber("WEBGL_VERSION")));Ht.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=Ht.getNumber("WEBGL_VERSION");return t===0?0:yAe(t)});Ht.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Ht.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!j3());Ht.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>bAe(Ht.getNumber("WEBGL_VERSION")));Ht.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Ht.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Ht.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Ht.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>xAe(Ht.getNumber("WEBGL_VERSION")));Ht.registerFlag("WEBGL_FENCE_API_ENABLED",()=>_Ae(Ht.getNumber("WEBGL_VERSION")));Ht.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Ht.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Ht.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});Ht.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>j3()?1:-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});Ht.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Ht.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Ht.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Ht.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);Ht.registerFlag("WEBGL_EXP_CONV",()=>!1);Ht.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Ht.getBool("IS_TEST"));Ht.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);Ht.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);Ht.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);Ht.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $i(){let t,e,n,r,s,i,a,o,l,c;return je().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",s="texture",i="outputColor",a="out vec4 outputColor;",o=je().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",c=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",s="texture2D",i="gl_FragColor",a="",o=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,c=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:s,output:i,defineOutput:a,defineSpecialNaN:o,defineSpecialInf:l,defineRound:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Np(t,e,n="index"){const r=tn(e);return r.map((s,i)=>{const a=`int ${t[i]} = ${n} / ${s}`,o=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * ${s}`:`index -= ${t[i]} * ${s}`;return`${a}; ${o};`}).join("")}function aE(t,e,n="index"){const r=tn(e);return r.map((s,i)=>{const a=`int ${t[i]} = ${n} / outShapeStrides[${i}]`,o=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * outShapeStrides[${i}]`:`index -= ${t[i]} * outShapeStrides[${i}]`;return`${a}; ${o};`}).join("")}function SAe(t,e){const n=t.length,r=t.map(i=>`${e}[${i}]`),s=new Array(n-1);s[n-2]=r[n-1];for(let i=n-3;i>=0;--i)s[i]=`(${s[i+1]} * ${r[i+1]})`;return s}function CAe(t,e,n="index"){const r=t.map((i,a)=>a),s=SAe(r,e);return s.map((i,a)=>{const o=`int ${t[a]} = ${n} / ${s[a]}`,l=a===s.length-1?`int ${t[a+1]} = ${n} - ${t[a]} * ${s[a]}`:`index -= ${t[a]} * ${s[a]}`;return`${o}; ${l};`}).join("")}function SM(t){const e=tn(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function CM(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const Yq=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:qq}=nxe;function kAe(t,e,n){const r=[];if(t.forEach(p=>{const m=He(p.shapeInfo.logicalShape);if(p.shapeInfo.isUniform?r.push(`uniform float ${p.name}${m>1?`[${m}]`:""};`):(r.push(`uniform sampler2D ${p.name};`),r.push(`uniform int offset${p.name};`)),n.enableShapeUniforms){const{uniformShape:f}=kM(n.packedInputs,p.shapeInfo.logicalShape,p.shapeInfo.texShape);switch(f.length){case 1:r.push(`uniform int ${p.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${p.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${p.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${p.name}Shape;`);break}r.push(`uniform ivec2 ${p.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(p=>{r.push(`uniform ${p.type} ${p.name}${p.arrayIndex?`[${p.arrayIndex}]`:""};`)});const s=r.join(`
`),i=t.map(p=>EAe(p,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),a=e.texShape,o=$i(),l=AAe(o);let c,u,d=OAe(o);return e.isPacked?(c=TAe(e.logicalShape,a,n.enableShapeUniforms),u=RAe(o)):(c=IAe(e.logicalShape,a,n.enableShapeUniforms),u=NAe(o)),n.packedInputs&&(d+=MAe),[d,l,u,s,c,i,n.userCode].join(`
`)}function Lg(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return qAe(t,e);case 1:return KAe(t,e);case 2:return QAe(t,e);case 3:return eNe(t,e);case 4:return nNe(t,e);case 5:return rNe(t);case 6:return sNe(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function Xq(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return YAe(t);case 1:return XAe(t,e);case 2:return JAe(t,e);case 3:return ZAe(t,e);default:return tNe(t,e)}}function EAe(t,e,n=!1,r){let s="";n?s+=Xq(t,r):s+=Lg(t,r);const i=t.shapeInfo.logicalShape,a=e.logicalShape;return i.length<=a.length&&(n?s+=iNe(t,e):s+=oNe(t,e)),s}function TAe(t,e,n){switch(t.length){case 0:return Kq();case 1:return BAe(t,e,n);case 2:return GAe(t,e,n);case 3:return FAe(t,e,n);default:return zAe(t,e,n)}}function IAe(t,e,n){switch(t.length){case 0:return Kq();case 1:return LAe(t,e,n);case 2:return HAe(t,e,n);case 3:return jAe(t,e,n);case 4:return UAe(t,e,n);case 5:return WAe(t,e);case 6:return VAe(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function AAe(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function NAe(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function RAe(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function OAe(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${$Ae}
    ${DAe}
    ${PAe}
  `}const $Ae=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,DAe=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,PAe=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,MAe=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Kq(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function BAe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function LAe(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function FAe(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[2]/2),i=s*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec3(b, r, c);
    }
  `}function jAe(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${aE(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const r=Np(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function zAe(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[t.length-1]/2),i=s*Math.ceil(t[t.length-2]/2);let a=i,o="",l="b, r, c";for(let c=2;c<t.length-1;c++)a*=t[t.length-c-1],o=`
      int b${c} = index / ${a};
      index -= b${c} * ${a};
    `+o,l=`b${c}, `+l;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${o}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec${t.length}(${l});
    }
  `}function UAe(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${aE(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const r=Np(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function WAe(t,e){const n=Np(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function VAe(t,e){const n=Np(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function GAe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(rr(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const s=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec2(r, c);
    }
  `}function HAe(t,e,n){return rr(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function Rp(t){return`offset${t}`}function YAe(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=$i();return`
    vec4 ${n}() {
      return ${r.texture2D}(${e}, halfCR);
    }
  `}function qAe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[s,i]=t.shapeInfo.texShape;if(s===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const a=Rp(n);if(e)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${a});
      return sampleTexture(${n}, uv);
    }
  `;const[o,l]=t.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${o}, ${l}, ${a});
      return sampleTexture(${n}, uv);
    }
  `}function XAe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,i=$i();if(e)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;const a=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${a[0]}, ${a[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function KAe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${Fg(t)}
      }
    `;const s=t.shapeInfo.texShape,i=s[0],a=s[1];if(a===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=Rp(n);return a===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${a}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${a}, index + ${o});
      return sampleTexture(${n}, uv);
    }
  `}function JAe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,a=i[0],o=i[1],l=$i();if(i!=null&&rr(n,i))return e?`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${a}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(e)return`
    vec4 ${s}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const c=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],u=Math.ceil(n[1]/2);return`
    vec4 ${s}(int row, int col) {
      vec2 uv = packedUVfrom2D(${u}, ${c[0]}, ${c[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function QAe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape;if(i!=null&&rr(n,i)){if(e)return`
      float ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const h=i[0],p=i[1];return`
    float ${s}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${p}.0, ${h}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:a,keptDims:o}=rh(n),l=a;if(l.length<n.length){const h=jg(t,l),p=["row","col"];return`
      ${Lg(h,e)}
      float ${s}(int row, int col) {
        return ${s}(${zg(p,o)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${Fg(t)}
      }
    `;const c=i[0],u=i[1],d=Rp(r);return u===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);
      return sampleTexture(${r}, uv);
    }
  `:c===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:e?`
      float ${s}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${d};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${s}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${d};
    vec2 uv = uvFromFlat(${c}, ${u}, index);
    return sampleTexture(${r}, uv);
  }
`}function ZAe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){const h=n.slice(1),p=[1,2],m=jg(t,h),f=["b","row","col"];return`
        ${Xq(m,e)}
        vec4 ${s}(int b, int row, int col) {
          return ${s}(${zg(f,p)});
        }
      `}const o=$i();if(e)return`
    vec4 ${s}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${o.texture2D}(${r}, uv);
    }
  `;const l=a[0],c=a[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return`
    vec4 ${s}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${c}, ${d}, ${u}, b, row, col);
      return ${o.texture2D}(${r}, uv);
    }
  `}function eNe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],a=n[2],{newShape:o,keptDims:l}=rh(n),c=o;if(c.length<n.length){const f=jg(t,c),b=["row","col","depth"];return`
        ${Lg(f,e)}
        float ${s}(int row, int col, int depth) {
          return ${s}(${zg(b,l)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${a}, 1)));
        ${Fg(t)}
      }
    `;const u=t.shapeInfo.texShape,d=u[0],h=u[1],p=t.shapeInfo.flatOffset;if(h===i&&p==null)return e?`
      float ${s}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${s}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${a}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${h}.0, ${d}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(h===a&&p==null)return e?`
      float ${s}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `;const m=Rp(r);return e?`
    float ${s}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${m};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${s}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${a} + depth + ${m};
        vec2 uv = uvFromFlat(${d}, ${h}, index);
        return sampleTexture(${r}, uv);
      }
  `}function tNe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=$i();if(e)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${s.texture2D}(${n}, uv);
    }
  `;const i=t.shapeInfo.logicalShape,a=i.length,o=t.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=l[0],u=l[1],d=Math.ceil(i[a-1]/2);let h=d*Math.ceil(i[a-2]/2),p="int b, int row, int col",m=`b * ${h} + (row / 2) * ${d} + (col / 2)`;for(let f=2;f<a-1;f++)p=`int b${f}, `+p,h*=i[a-f-1],m=`b${f} * ${h} + `+m;return`
    vec4 ${r}(${p}) {
      int index = ${m};
      int texR = index / ${u};
      int texC = index - texR * ${u};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});
      return ${s.texture2D}(${n}, uv);
    }
  `}function nNe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],a=n[2]*i,o=n[1]*a,{newShape:l,keptDims:c}=rh(n);if(l.length<n.length){const g=jg(t,l),C=["row","col","depth","depth2"];return`
      ${Lg(g,e)}
      float ${s}(int row, int col, int depth, int depth2) {
        return ${s}(${zg(C,c)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${o}, ${a}, ${i}, 1)));
        ${Fg(t)}
      }
    `;const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],p=d[1],m=`int stride2 = ${r}Shape[3];`,f=`int stride1 = ${r}Shape[2] * stride2;`,b=`int stride0 = ${r}Shape[1] * stride1;`;if(p===o&&u==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        ${m}
        ${f}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${a}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${h}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(p===i&&u==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${h}.0);
        return sampleTexture(${r}, uv);
      }
    `;const w=Rp(r);return e?`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${m}
      ${f}
      ${b}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${w});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${a} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${h}, ${p}, index + ${w});
      return sampleTexture(${r}, uv);
    }
  `}function rNe(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e[4],i=e[3]*s,a=e[2]*i,o=e[1]*a,{newShape:l,keptDims:c}=rh(e);if(l.length<e.length){const f=jg(t,l),b=["row","col","depth","depth2","depth3"];return`
      ${Lg(f)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${zg(b,c)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${o}, ${a}, ${i}, ${s})) +
          depth3;
        ${Fg(t)}
      }
    `;const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],p=d[1];if(p===o&&u==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${a}, ${i}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===s&&u==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const m=Rp(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${a} + depth * ${i} +
          depth2 * ${s} + depth3 + ${m};
      vec2 uv = uvFromFlat(${h}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function sNe(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:i}=rh(e);if(s.length<e.length){const b=jg(t,s),w=["row","col","depth","depth2","depth3","depth4"];return`
      ${Lg(b)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${zg(w,i)});
      }
    `}const a=e[5],o=e[4]*a,l=e[3]*o,c=e[2]*l,u=e[1]*c;if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${u}, ${c}, ${l}, ${o})) +
          dot(
            vec2(depth3, depth4),
            vec2(${a}, 1)));
        ${Fg(t)}
      }
    `;const d=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,p=h[0],m=h[1];if(m===u&&d==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${c}, ${l}, ${o}, ${a})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${p}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(m===a&&d==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${p}.0);
        return sampleTexture(${n}, uv);
      }
    `;const f=Rp(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${u} + col * ${c} + depth * ${l} +
          depth2 * ${o} + depth3 * ${a} + depth4 + ${f};
      vec2 uv = uvFromFlat(${p}, ${m}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Fg(t){const e=t.name,n=He(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function iNe(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=t.shapeInfo.logicalShape.length,a=e.logicalShape.length,o=qq(t.shapeInfo.logicalShape,e.logicalShape),l=gr(a),c=a-i;let u;const d=["x","y","z","w","u","v"];i===0?u="":a<2&&o.length>=1?u="coords = 0;":u=o.map(g=>`coords.${d[g+c]} = 0;`).join(`
`);let h="";a<2&&i>0?h="coords":h=t.shapeInfo.logicalShape.map((g,C)=>`coords.${d[C+c]}`).join(", ");let p="return outputValue;";const f=He(t.shapeInfo.logicalShape)===1,w=He(e.logicalShape)===1;if(i===1&&!f&&!w)p=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(f&&!w)a===1?p=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:p=`
        return vec4(outputValue.x);
      `;else if(o.length){const g=i-2,C=i-1;o.indexOf(g)>-1&&o.indexOf(C)>-1?p="return vec4(outputValue.x);":o.indexOf(g)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(C)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${s}() {
      ${l} coords = getOutputCoords();
      ${u}
      vec4 outputValue = get${r}(${h});
      ${p}
    }
  `}function oNe(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=e.texShape,a=t.shapeInfo.texShape,o=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&o===l&&t.shapeInfo.flatOffset==null&&rr(a,i))return`
      float ${s}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const c=gr(l),u=qq(t.shapeInfo.logicalShape,e.logicalShape),d=l-o;let h;const p=["x","y","z","w","u","v"];o===0?h="":l<2&&u.length>=1?h="coords = 0;":h=u.map(f=>`coords.${p[f+d]} = 0;`).join(`
`);let m="";return l<2&&o>0?m="coords":m=t.shapeInfo.logicalShape.map((f,b)=>`coords.${p[b+d]}`).join(", "),`
    float ${s}() {
      ${c} coords = getOutputCoords();
      ${h}
      return get${r}(${m});
    }
  `}function gr(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function kM(t,e,n){const{newShape:r,keptDims:s}=rh(e),i=e.length,a=t&&i===3&&e[0]===1,o=a?e.slice(1):r,l=!t&&i>1&&!rr(e,n)&&r.length<i||a;return{useSqueezeShape:l,uniformShape:l?o:e,keptDims:s}}function jg(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function zg(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aNe(t,e,n,r){const s=n.map((u,d)=>{const h={logicalShape:u.shape,texShape:u.isUniform?null:u.texData.texShape,isUniform:u.isUniform,isPacked:u.isUniform?!1:u.texData.isPacked,flatOffset:null};return u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0&&(h.flatOffset=u.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:h}}),i=s.map(u=>u.shapeInfo),a={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},o=kAe(s,a,e),l=eAe(t.gl,o),c=t.createProgram(l);return je().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:o,webGLProgram:c,inShapeInfos:i,outShapeInfo:a,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:e,fragmentShader:l,source:o,webGLProgram:c,inShapeInfos:i,outShapeInfo:a},Jq(t,e,c))}function Jq(t,e,n){const r=[],s=[];let i,a,o,l=null,c=null;c=t.getUniformLocation(n,"NAN",!1),je().getNumber("WEBGL_VERSION")===1&&(l=t.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const d of e.variableNames){const h={name:d,uniform:t.getUniformLocation(n,d,u),offset:t.getUniformLocation(n,`offset${d}`,u)};e.enableShapeUniforms&&(h.shape=t.getUniformLocation(n,`${d}Shape`,u),h.texShape=t.getUniformLocation(n,`${d}TexShape`,u)),r.push(h)}if(e.enableShapeUniforms&&(i=t.getUniformLocation(n,"outShape",u),o=t.getUniformLocation(n,"outShapeStrides",u),a=t.getUniformLocation(n,"outTexShape",u)),e.customUniforms)for(const d of e.customUniforms)s.push(t.getUniformLocation(n,d.name,u));return{variablesLocations:r,customUniformLocations:s,infLoc:l,nanLoc:c,outShapeLocation:i,outShapeStridesLocation:o,outTexShapeLocation:a}}function g6(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,r)=>{const s=n.logicalShape,i=e[r],a=i.shape;if(!rr(s,a))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${a} must match`);if(n.isUniform&&i.isUniform)return;const o=n.texShape,l=i.isUniform?null:i.texData.texShape;if(!rr(o,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${o} and ${l} must match`)})}function lNe(t,e,n,r,s){e.program.enableShapeUniforms||(g6(e.inShapeInfos,n),g6([e.outShapeInfo],[r]));const i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(i.texture,a[0],a[1]):t.setOutputMatrixTexture(i.texture,a[0],a[1]),t.setProgram(e.webGLProgram),je().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let l=0;l<n.length;++l){const c=n[l],{uniform:u,offset:d,shape:h,texShape:p}=e.variablesLocations[l];if(h){const{uniformShape:m}=kM(e.program.packedInputs,c.shape,c.texData.texShape);switch(m.length){case 1:t.gl.uniform1iv(h,new Int32Array(m));break;case 2:t.gl.uniform2iv(h,new Int32Array(m));break;case 3:t.gl.uniform3iv(h,new Int32Array(m));break;case 4:t.gl.uniform4iv(h,new Int32Array(m));break}}if(p&&t.gl.uniform2i(p,c.texData.texShape[0],c.texData.texShape[1]),u!=null){if(c.isUniform){if(He(c.shape)<2)t.gl.uniform1f(u,c.uniformValues[0]);else{let m=c.uniformValues;m instanceof Float32Array||(m=new Float32Array(m)),t.gl.uniform1fv(u,m)}continue}c.texData.slice!=null&&d!=null&&t.gl.uniform1i(d,c.texData.slice.flatOffset),t.setInputMatrixTexture(c.texData.texture.texture,u,l)}}const o=e.outShapeLocation;if(o)switch(r.shape.length){case 1:t.gl.uniform1iv(o,new Int32Array(r.shape));break;case 2:t.gl.uniform2iv(o,new Int32Array(r.shape));break;case 3:t.gl.uniform3iv(o,new Int32Array(r.shape));break;case 4:t.gl.uniform4iv(o,new Int32Array(r.shape));break}if(e.outShapeStridesLocation){const l=tn(r.shape);switch(r.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),e.program.customUniforms&&s)for(let l=0;l<e.program.customUniforms.length;++l){const c=e.program.customUniforms[l],u=e.customUniformLocations[l],d=s[l];if(c.type==="float")t.gl.uniform1fv(u,d);else if(c.type==="vec2")t.gl.uniform2fv(u,d);else if(c.type==="vec3")t.gl.uniform3fv(u,d);else if(c.type==="vec4")t.gl.uniform4fv(u,d);else if(c.type==="int")t.gl.uniform1iv(u,d);else if(c.type==="ivec2")t.gl.uniform2iv(u,d);else if(c.type==="ivec3")t.gl.uniform3iv(u,d);else if(c.type==="ivec4")t.gl.uniform4iv(u,d);else throw Error(`uniform type ${c.type} is not supported yet.`)}t.executeProgram()}function cNe(t,e,n){let r="";e.concat(n).forEach(a=>{const o=a.texData!=null&&a.texData.slice!=null&&a.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!a.isUniform){const l=a.texData.texShape,{useSqueezeShape:c,uniformShape:u,keptDims:d}=kM(t.packedInputs,a.shape,l);let h="",p="",m="";if(u.length===1&&t.packedInputs){const N=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];h=`${N[0]>1}_${N[1]>1}`}else if(u.length===2&&!t.packedInputs)p=`${u[0]>1}_${u[1]>1}`;else if(u.length>2&&!t.packedInputs){const N=tn(u);m=`${N[0]===l[1]}_${N[N.length-1]===l[1]}`}const f=a.shape.length,b=u.length===2&&rr(a.shape,l),w=He(a.shape)===1,g=og(a.shape,n.shape),C=!t.packedInputs&&f===n.shape.length&&rr(l,n.texData.texShape),k=t.packedInputs||u.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${f}_${C}_${c?d:""}_${u.length}_${w}_${g}_${b}_${h}_${p}_${m}_${k}_${o}`}else{const l=a.isUniform?"uniform":a.texData.texShape;r+=`${a.shape}_${l}_${o}`}});const s=t.userCode;let i=t.constructor.name;return i+="_"+r+"_"+s+`${je().getNumber("WEBGL_VERSION")}`,i}function pi(t){return je().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uNe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=ib.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=$i();this.outputShape=e,this.enableShapeUniforms=pi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?aE(["r","c","d"],e):Np(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dNe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=ib.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=$i();this.outputShape=e,this.enableShapeUniforms=pi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?aE(["r","c","d"],e):Np(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hNe{constructor(e){this.variableNames=["A"],this.outTexUsage=Ho.DOWNLOAD;const n=$i();this.outputShape=e,this.userCode=`
      ${Yq}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fNe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ho.DOWNLOAD;const n=$i();this.outputShape=e,this.userCode=`
      ${Yq}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pNe={R:0,G:1,B:2,A:3};class v6{constructor(e,n=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=$i();this.outputShape=e,this.enableShapeUniforms=pi(this.outputShape.length);let i="result";n&&(i="floor(result * 255. + 0.5)");let a="";for(let o=0;o<r.length;o++){const l=r[o];a+=`
          if(offset == ${o}) {
            result = values[${pNe[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?CM():SM(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${s.texture2D}(A, uv);
          ${a}
        }
        ${s.output} = vec4(${i}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mNe{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=$i();this.outputShape=e,this.enableShapeUniforms=pi(this.outputShape.length);let s="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let a=0;a<=1;a++)for(let o=0;o<=1;o++){const l=a*2+o;s+=`
          localCoords = coords;
          if(localCoords[2] + ${o} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${o};
          if (localCoords[1] + ${a} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${a};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?CM():SM(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${s}

          ${r.output} = ${i};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gNe(t){const e=$i(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return ZIe(t,n)}function vNe(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return sAe(t,e)}function yNe(t){const e=new Uint16Array([0,1,2,2,1,3]);return iAe(t,e)}function n1(t,e,n,r,s,i){aAe(e,n);const a=oAe(t),o=t.TEXTURE_2D;return $t(t,()=>t.bindTexture(o,a)),$t(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),$t(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),$t(t,()=>t.texParameteri(o,t.TEXTURE_MIN_FILTER,t.NEAREST)),$t(t,()=>t.texParameteri(o,t.TEXTURE_MAG_FILTER,t.NEAREST)),je().getNumber("WEBGL_VERSION")===1?$t(t,()=>t.texImage2D(o,0,r,e,n,0,s,i,null)):$t(t,()=>t.texStorage2D(o,1,r,e,n)),$t(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:a,texShape:[n,e]}}function Qq(t){return t.internalFormatFloat}function bNe(t,e,n,r){const[s,i]=e1(e,n);return n1(t,s,i,Qq(r),r.textureFormatFloat,t.FLOAT)}function Zq(t){return t.internalFormatHalfFloat}function xNe(t,e,n,r){const[s,i]=e1(e,n);return n1(t,s,i,Zq(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function eX(t){return t.downloadTextureFormat}function wNe(t,e,n,r){const[s,i]=e1(e,n);return n1(t,s,i,eX(r),t.RGBA,t.UNSIGNED_BYTE)}function tX(t){return t.internalFormatPackedFloat}function _Ne(t,e,n,r){const[s,i]=Bg(e,n);return n1(t,s,i,tX(r),t.RGBA,t.FLOAT)}function nX(t){return t.internalFormatPackedHalfFloat}function SNe(t,e,n,r){const[s,i]=Bg(e,n);return n1(t,s,i,nX(r),t.RGBA,r.textureTypeHalfFloat)}function CNe(t,e,n){return $t(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),f6(t,e,"clipSpacePos",n,3,20,0)&&f6(t,e,"uv",n,2,20,12)}function kNe(t,e,n,r,s,i){$t(t,()=>t.bindTexture(t.TEXTURE_2D,e));let a,o,l;s instanceof Uint8Array?(a=new Uint8Array(n*r*4),o=t.UNSIGNED_BYTE,l=t.RGBA):(a=new Float32Array(n*r*4),o=t.FLOAT,l=i.internalFormatPackedFloat),a.set(s),je().getNumber("WEBGL_VERSION")===2?$t(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,t.RGBA,o,a)):$t(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,r,0,t.RGBA,o,a)),$t(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function ENe(t,e,n){$t(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?je().getNumber("WEBGL_VERSION")===2?$t(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):$t(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):je().getNumber("WEBGL_VERSION")===2?$t(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):$t(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),$t(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function TNe(t,e,n,r){const s=t.createBuffer();$t(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,s));const o=4*4*e*n;return $t(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,o,t.STREAM_READ)),$t(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),$t(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),s}function INe(t,e,n){const r=t,s=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,s),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),s}function ANe(t,e,n,r){const[s,i]=e1(e,n),a=4,o=new Uint8Array(HIe(e*n,a));return $t(t,()=>t.readPixels(0,0,s,i,r.downloadTextureFormat,t.UNSIGNED_BYTE,o)),new Float32Array(o.buffer)}function NNe(t,e,n,r,s,i,a,o){const l=t,c=new Float32Array(YIe(i,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function RNe(t,e,n){const r=new Float32Array(e*n*4);return $t(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,r)),r}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rI{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=je().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,WIe(n,e)):this.gl=_l(n),e=this.gl,je().getNumber("WEBGL_VERSION")===2){const i=e;this.createVertexArray=()=>$t(i,()=>i.createVertexArray()),this.bindVertexArray=a=>$t(i,()=>i.bindVertexArray(a)),this.deleteVertexArray=a=>$t(i,()=>i.deleteVertexArray(a)),this.getVertexArray=()=>$t(i,()=>i.getParameter(i.VERTEX_ARRAY_BINDING))}else if(e!=null){const i=e.getExtension("OES_vertex_array_object");if(i==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>$t(e,()=>i.createVertexArrayOES()),this.bindVertexArray=a=>$t(e,()=>i.bindVertexArrayOES(a)),this.deleteVertexArray=a=>$t(e,()=>i.deleteVertexArrayOES(a)),this.getVertexArray=()=>$t(e,()=>e.getParameter(i.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),je().getNumber("WEBGL_VERSION")===1){const i="OES_texture_float",a="OES_texture_half_float";if(this.textureFloatExtension=ow(this.gl,i),ka(this.gl,a))this.textureHalfFloatExtension=ow(this.gl,a);else if(je().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),ka(this.gl,s))this.colorBufferHalfFloatExtension=ow(this.gl,s);else if(je().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",ka(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(ka(this.gl,s))this.colorBufferHalfFloatExtension=this.gl.getExtension(s);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=vNe(this.gl),this.indexBuffer=yNe(this.gl),this.framebuffer=lAe(this.gl),this.textureConfig=_M(this.gl,this.textureHalfFloatExtension)}get debug(){return je().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;$t(e,()=>e.finish()),$t(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),$t(e,()=>e.deleteFramebuffer(this.framebuffer)),$t(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),$t(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),$t(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),bNe(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),xNe(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),wNe(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),ENe(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,r,s){this.throwIfDisposed(),kNe(this.gl,e,n,r,s,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),SNe(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),_Ne(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(p6(this.gl,this.framebuffer),this.outputTexture=null),$t(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,r){return this.downloadMatrixDriver(e,()=>ANe(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,r,s,i,a){return NNe(this.gl,e,n,r,s,i,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return INe(this.gl,e,n)}createBufferFromTexture(e,n,r){this.bindTextureToFrameBuffer(e);const s=TNe(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,r;if(je().getBool("WEBGL_FENCE_API_ENABLED")){const s=e,i=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{const a=s.clientWaitSync(i,0,0);return a===s.ALREADY_SIGNALED||a===s.CONDITION_SATISFIED},n=i}else je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(e,n,r){return this.downloadMatrixDriver(e,()=>RNe(this.gl,n,r))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=gNe(n));const r=nAe(n);$t(n,()=>n.attachShader(r,this.vertexShader)),$t(n,()=>n.attachShader(r,e)),rAe(n,r);let s;return s=Object.assign(r,{vao:this.createVertexArray()}),this.bindVertexArray(s.vao),$t(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),console.assert(CNe(n,s,this.vertexBuffer),"gpgpu_util.bindVertexProgramAttributeStreams not fully successful."),this.debug&&ZT(n,s),this.setProgram(s),s}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&($t(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&(this.bindVertexArray(this.program.vao),this.debug&&ZT(this.gl,this.program)),$t(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,r=!0){return this.throwIfDisposed(),r?uAe(this.gl,e,n):dAe(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),$t(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),hAe(this.gl,e,n,r)}setOutputMatrixTexture(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)}setOutputPackedMatrixTexture(e,n,r){this.throwIfDisposed();const[s,i]=Bg(n,r);this.setOutputMatrixTextureDriver(e,s,i)}setOutputMatrixWriteRegion(e,n,r,s){this.setOutputMatrixWriteRegionDriver(r,e,s,n)}setOutputPackedMatrixWriteRegion(e,n,r,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&ZT(this.gl,this.program),aw(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}$t(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),$t(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=ow(this.gl,je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(s.TIME_ELAPSED_EXT,i),i}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await nj(()=>this.disposed||this.isQueryAvailable(e,je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),s=r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),s&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=ONe(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in je().platform&&(r=je().platform.setTimeoutCustom.bind(je().platform)),nj(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),eI(this.gl,e,this.framebuffer),this.debug&&aw(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(eI(this.gl,this.outputTexture,this.framebuffer),this.debug&&aw(this.gl)):p6(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,n,r){this.throwIfDisposed();const s=this.gl;eI(s,e,this.framebuffer),this.debug&&aw(s),this.outputTexture=e,$t(s,()=>s.viewport(0,0,n,r)),$t(s,()=>s.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(e,n,r,s){this.throwIfDisposed(),$t(this.gl,()=>this.gl.scissor(e,n,r,s))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function ONe(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:$Ne,bincountImpl:rX,bincountReduceImpl:DNe,castImpl:PNe,ceilImpl:MNe,concatImpl:BNe,equalImpl:LNe,expImpl:FNe,expm1Impl:jNe,floorImpl:zNe,gatherNdImpl:UNe,gatherV2Impl:WNe,greaterImpl:VNe,greaterEqualImpl:GNe,lessImpl:HNe,lessEqualImpl:YNe,linSpaceImpl:qNe,logImpl:XNe,maxImpl:KNe,maximumImpl:JNe,minimumImpl:QNe,multiplyImpl:ZNe,negImpl:eRe,notEqualImpl:tRe,prodImpl:nRe,raggedGatherImpl:rRe,raggedRangeImpl:sRe,raggedTensorToTensorImpl:iRe,rangeImpl:oRe,rsqrtImpl:aRe,scatterImpl:lRe,sigmoidImpl:cRe,simpleAbsImpl:sX,sliceImpl:uRe,sparseFillEmptyRowsImpl:dRe,sparseReshapeImpl:hRe,sparseSegmentReductionImpl:iX,sqrtImpl:fRe,staticRegexReplaceImpl:pRe,stridedSliceImpl:mRe,stringNGramsImpl:gRe,stringSplitImpl:vRe,stringToHashBucketFastImpl:yRe,subImpl:bRe,tileImpl:xRe,topKImpl:wRe,transposeImpl:EM,uniqueImpl:_Re}=ICe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oX(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function Ei(t,e){return e===1?[t]:oX(t,e)}function SRe(t,e){if(t===1)return"rc";let n="";for(let r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CRe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=pi(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Ei("rc",this.rank),r=gr(this.rank),s=this.getOutOfBoundsCondition(n),i=this.getSetup(n),a=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${s}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${a}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let r=0;r<=1;r++)for(let s=0;s<=1;s++){let i=`${r===0?"r":"rp1"}, ${s===0?"c":"cp1"}`;for(let a=2;a<this.rank;a++)i=`${e[e.length-1-a]},`+i;n.push(i)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${e[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${s};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aX{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=pi(this.outputShape.length);let r="";for(let s=0;s<4;s++){let i="thisRC = rc;";s%2===1&&(i+="thisRC.z += 1;"),s>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${s>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${s}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${s>0?"}":""}
      `}this.userCode=`
      ${kRe(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?CM():SM(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${r}

        setOutput(result);
      }
    `}}function kRe(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?CAe(["r","c","d"],"inputShape"):Np(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ERe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,n,r){const s=b6(n,r),i=x6(e,s,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const a=y6(e,s,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=a,this.log();const l=this.freeTextures[i].pop();return this.usedTextures[i].push(l),l}let o;return s===qs.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):s===qs.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):s===qs.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):s===qs.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):s===qs.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(o),this.numUsedTextures++,this._numBytesAllocated+=a,this.log(),o}releaseTexture(e,n,r,s){if(this.freeTextures==null)return;const i=b6(r,s),a=x6(n,i,s);a in this.freeTextures||(this.freeTextures[a]=[]);const o=y6(n,i,this.gpgpu.gl,this.gpgpu.textureConfig,s),l=je().get("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;const c=this.usedTextures[a],u=c&&c.indexOf(e);if(u==null||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[u]=c[c.length-1],c.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function TRe(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function y6(t,e,n,r,s){const i=IRe(e,r);let a;if(s){const[l,c]=Bg(t[0],t[1]);a=l*c}else{const[l,c]=e1(t[0],t[1]);a=l*c}const o=TRe(n,i);return a*o}function IRe(t,e){switch(t){case qs.PACKED_2X2_FLOAT32:return tX(e);case qs.PACKED_2X2_FLOAT16:return nX(e);case qs.UNPACKED_FLOAT32:return Qq(e);case qs.UNPACKED_FLOAT16:return Zq(e);case qs.PACKED_4X1_UNSIGNED_BYTE:return eX(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function ARe(t){return je().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?qs.PACKED_2X2_FLOAT32:qs.UNPACKED_FLOAT32:t?qs.PACKED_2X2_FLOAT16:qs.UNPACKED_FLOAT16}function b6(t,e){if(t===Ho.UPLOAD)return qs.PACKED_2X2_FLOAT32;if(t===Ho.RENDER||t==null)return ARe(e);if(t===Ho.DOWNLOAD||t===Ho.PIXELS)return qs.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function x6(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ql{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=pi(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Ba="if (isnan(x)) return x;",NRe="return x;",w6="return abs(x);",RRe="return (x >= 0.0) ? x : (exp(x) - 1.0);",ORe=Ba+`
  return (x < 0.0) ? 0.0 : x;
`,$Re=Ba+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Hu="return x;",DRe="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PRe="return x;",MRe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,BRe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,LRe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,FRe="return 1.0 / (1.0 + exp(-1.0 * x));";class cd{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=pi(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jRe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=pi(this.outputShape.length);const n=e.length,r=Ei("rc",n),s=gr(n),i=SRe(n,r),a=r.slice(-2),o=n<=1?"rc":`vec2(${a.join(",")})`;this.userCode=`
      void main() {
        ${s} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${o}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zRe=kV,URe=1e-7,WRe=1e-4,uw={};function VRe(t){return t in uw||(uw[t]={}),uw[t]}const GRe=je().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),HRe=600;function YRe(){return je().global.screen==null?1024:je().global.screen.height*je().global.screen.width*window.devicePixelRatio*HRe/1024/1024}class lE extends V${nextDataId(){return lE.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!je().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof rI)n=e;else{const r=_l(je().getNumber("WEBGL_VERSION"),e);n=new rI(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=_l(je().getNumber("WEBGL_VERSION"));n=new rI(r),this.binaryCache=VRe(je().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new ERe(this.gpgpu),this.numMBBeforeWarning=YRe(),this.texData=new JW(this,Ll())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,r,s,i,a){const o=this.makeTensorInfo(n,r),l=this.texData.get(o.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[s,i]},l.texShape=[s,i];const c=lw(n),u=new v6(c,!1,a),d=this.runWebGLProgram(u,[o],r,[[s,i]]);return d.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(o),d.dataId}write(e,n,r){if((je().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||je().getBool("DEBUG"))&&this.checkNumericalProblems(e),r==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:n,dtype:r,values:e,usage:Ho.UPLOAD,refCount:1}),s}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,r,s,i){if(je().getBool("DEBUG")&&this.checkNumericalProblems(n),s==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:s,values:n,usage:Ho.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:r,dtype:s,complexTensorInfos:i,slice:a,shape:o,isPacked:l}=n;if(a!=null){let h;l?h=new cd(o,Hu):h=new ql(o,Hu);const p=this.runWebGLProgram(h,[{dataId:e,shape:o,dtype:s}],s),m=this.readSync(p.dataId);return this.disposeIntermediateTensorInfo(p),m}if(r!=null)return this.convertAndCacheOnCPU(e);if(s==="string")return r;const c=this.activeTimers!=null;let u;c&&(u=_i());let d;if(s==="complex64"){const h=this.readSync(i.real.dataId),p=this.readSync(i.imag.dataId);d=fu(h,p)}else d=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=_i()-u),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const m=this.pendingRead.get(e);return new Promise(f=>m.push(f))}const n=this.texData.get(e),{values:r,shape:s,slice:i,dtype:a,complexTensorInfos:o,isPacked:l}=n;if(i!=null){let m;l?m=new cd(s,Hu):m=new ql(s,Hu);const f=this.runWebGLProgram(m,[{dataId:e,shape:s,dtype:a}],a),b=this.read(f.dataId);return this.disposeIntermediateTensorInfo(f),b}if(r!=null)return this.convertAndCacheOnCPU(e);if(je().getBool("DEBUG")&&!je().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&je().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c=null,u;if(a!=="complex64"&&je().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const m=this.texData.get(u.dataId);c=this.gpgpu.createBufferFromTexture(m.texture.texture,...iw(s))}this.pendingRead.set(e,[]),a!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(a==="complex64"){const m=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]),f=m[0],b=m[1];d=fu(f,b)}else if(c==null)d=this.getValuesFromTexture(e);else{const m=He(s);d=this.gpgpu.downloadFloat32MatrixFromBuffer(c,m)}if(u!=null&&this.disposeIntermediateTensorInfo(u),c!=null){const m=this.gpgpu.gl;$t(m,()=>m.deleteBuffer(c))}const h=this.convertAndCacheOnCPU(e,d),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach(m=>m(h)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Ll().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,n={}){const r=this.texData.get(e),{values:s,shape:i,slice:a,dtype:o,isPacked:l,texture:c}=r;if(o==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(a!=null){let p;l?p=new cd(i,Hu):p=new ql(i,Hu);const m=this.runWebGLProgram(p,[{dataId:e,shape:i,dtype:o}],o),f=this.readToGPU(m,n);return this.disposeIntermediateTensorInfo(m),f}if(c==null)throw s!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,n.customTexShape),d=Ll().makeTensorFromTensorInfo(u),h=this.texData.get(u.dataId);return Object.assign({tensorRef:d},h.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>zd(s));return In(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return In(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const r=e[n];if(!JIe(r))throw je().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:r,isPacked:s}=this.texData.get(e),i=He(n);if(je().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const h=this.decode(e),p=this.texData.get(h.dataId),m=this.gpgpu.downloadMatrixFromPackedTexture(p.texture.texture,...iw(n)).subarray(0,i);return this.disposeIntermediateTensorInfo(h),m}const a=je().getBool("WEBGL_PACK")&&s===!0,o=a?lw(n):n,l=a?new fNe(o):new hNe(o),c=this.runWebGLProgram(l,[{shape:o,dtype:r,dataId:e}],"float32"),u=this.texData.get(c.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(c),d}timerAvailable(){return je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,r=[];let s=!1;this.programTimersStack==null?(this.programTimersStack=r,s=!0):this.activeTimers.push(r),this.activeTimers=r,e();const i=rp(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),a=rp(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,s&&(this.programTimersStack=null);const o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(i);o.kernelMs=fpe(l),o.getExtraProfileInfo=()=>l.map((c,u)=>({name:a[u],ms:c})).map(c=>`${c.name}: ${c.ms}`).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:_i(),endMs:null}}endTimer(e){return je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=_i(),e)}async getQueryTime(e){if(je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:r,texShape:s,usage:i,isPacked:a,slice:o}=this.texData.get(e),l=o&&o.origDataId||e,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(s,r),this.textureManager.releaseTexture(n,s,i,a)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=GRe){return je().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>this.texData.get(r.dataId).texture==null&&He(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){Vo("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return zRe(e.shape,n)}packedUnaryOp(e,n,r){const s=new cd(e.shape,n),i=this.compileAndRun(s,[e],r);return Ll().makeTensorFromTensorInfo(i)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const s=sX(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,s)}if(je().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,w6,e.dtype);const n=new ql(e.shape,w6),r=this.compileAndRun(n,[e]);return Ll().makeTensorFromTensorInfo(r)}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&Fb(r[0])){const i=r.map(a=>Td(a));s=this.write(i,e,n)}else s=this.write(r,e,n);return this.texData.get(s).usage=null,{dataId:s,shape:e,dtype:n}}makeOutput(e,n,r){return Ll().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,r),this)}unpackTensor(e){const n=new jRe(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new CRe(e.shape),r=!0;return this.runWebGLProgram(n,[e],e.dtype,null,r)}packedReshape(e,n){const r=[fg(e.shape),...pg(e.shape)],s={dtype:e.dtype,shape:r,dataId:e.dataId},i=[fg(n),...pg(n)],a=new aX(i,r),o=!0,l=[r],c=this.runWebGLProgram(a,[s],e.dtype,l,o);return{dataId:c.dataId,shape:n,dtype:c.dtype}}decode(e,n){const r=this.texData.get(e),{isPacked:s,shape:i,dtype:a}=r;if(n!=null){const h=He(i),p=n[0]*n[1]*4;oe(h<=p,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const o=lw(i);let l;s?l=new dNe(o):l=new uNe(o);const c=!0,u=[n??iw(o)],d=this.runWebGLProgram(l,[{shape:o,dtype:a,dataId:e}],a,u,c,n);return{dtype:a,shape:i,dataId:d.dataId}}runWebGLProgram(e,n,r,s,i=!1,a){const o=this.makeTensorInfo(e.outputShape,r),l=this.texData.get(o.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===ib.DENSE){const w=a??iw(e.outputShape);l.texShape=w.map(g=>g*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),He(o.shape)===0)return l.values=ui(o.dtype,0),o;const c=[],u=n.map(w=>{if(w.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let g=this.texData.get(w.dataId);if(g.texture==null){if(!e.packedInputs&&He(w.shape)<=je().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:w.shape,texData:null,isUniform:!0,uniformValues:g.values};e.packedInputs&&(g.isPacked=!0,g.shape=w.shape)}if(this.uploadToGPU(w.dataId),!!g.isPacked!=!!e.packedInputs)w=g.isPacked?this.unpackTensor(w):this.packTensor(w),c.push(w),g=this.texData.get(w.dataId);else if(g.isPacked&&!AS(g.shape,w.shape)){const C=w,k=w.shape;w.shape=g.shape,w=this.packedReshape(w,k),c.push(w),g=this.texData.get(w.dataId),C.shape=k}return{shape:w.shape,texData:g,isUniform:!1}});this.uploadToGPU(o.dataId);const d={shape:o.shape,texData:l,isUniform:!1},h=cNe(e,u,d),p=this.getAndSaveBinary(h,()=>aNe(this.gpgpu,e,u,d)),m=this.activeTimers!=null;let f;m&&(f=this.startTimer()),je().get("ENGINE_COMPILE_ONLY")||lNe(this.gpgpu,p,u,d,s),c.forEach(w=>this.disposeIntermediateTensorInfo(w)),m&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const b=je().get("WEBGL_FLUSH_THRESHOLD");if(b>0){const w=_i();w-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=w)}if(!je().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&i===!1){const w=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),w}return o}compileAndRun(e,n,r,s,i=!1){return r=r||n[0].dtype,this.runWebGLProgram(e,n,r,s,i)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(je().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=De(()=>{if(!je().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=je().getBool("DEBUG");je().set("DEBUG",!1);const n=this.abs(ir(1e-8)).dataSync()[0];if(je().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?URe:WRe}uploadToGPU(e){const n=this.texData.get(e),{shape:r,dtype:s,values:i,texture:a,usage:o,isPacked:l}=n;if(a!=null)return;const c=this.activeTimers!=null;let u;c&&(u=_i());let d=n.texShape;if(d==null&&(d=mAe(r,l),n.texShape=d),i!=null){const h=lw(r);let p,m=d[1],f=d[0];const b=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(l||!b)&&([m,f]=Bg(d[0],d[1])),l?p=new mNe(h,b):p=new v6(h,b);const w=b?[f,m]:d,g=this.makeTensorInfo(w,s),C=this.texData.get(g.dataId);b?C.usage=Ho.PIXELS:C.usage=Ho.UPLOAD,C.texShape=w,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(g.dataId),m,f,i);const k=[[f,m]],N=!0,A=this.runWebGLProgram(p,[g],s,k,N),O=this.texData.get(A.dataId);n.texShape=O.texShape,n.isPacked=O.isPacked,n.usage=O.usage,je().get("ENGINE_COMPILE_ONLY")?this.disposeData(A.dataId):(n.texture=O.texture,n.values=null,this.texData.delete(A.dataId)),this.disposeIntermediateTensorInfo(g),c&&(this.uploadWaitMs+=_i()-u)}else{const h=this.acquireTexture(d,o,s,l);n.texture=h}}convertAndCacheOnCPU(e,n){const r=this.texData.get(e),{dtype:s}=r;return n!=null&&(r.values=qRe(n,s)),r.values}acquireTexture(e,n,r,s){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,s)}computeBytes(e,n){return e[0]*e[1]*nS(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(s=>{try{this.checkCompletion_(n),s(!0)}catch(i){throw i}});e.push(r)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await GV(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(Hq(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){const{variablesLocations:n,customUniformLocations:r,infLoc:s,nanLoc:i,outShapeLocation:a,outShapeStridesLocation:o,outTexShapeLocation:l}=Jq(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=n,e.customUniformLocations=r,e.infLoc=s,e.nanLoc=i,e.outShapeLocation=a,e.outShapeStridesLocation=o,e.outTexShapeLocation=l}}createTensorFromGPUData(e,n,r){e.channels=e.channels||"RGBA";const{texture:s,height:i,width:a,channels:o}=e,l=Ll().backend;if(!l.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const c=l.writeTexture(s,n,r,i,a,o);return Ll().makeTensorFromDataId(c,n,r,l)}}lE.nextDataId=0;function qRe(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}else throw new Error(`Unknown dtype ${e}`)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */z3()&&J3("webgl",()=>new lE,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TM=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class mg{constructor(e,n,r){this.variableNames=["A","B"],this.outputShape=_n(n,r),this.enableShapeUniforms=pi(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Op=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class r1{constructor(e,n,r,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=_n(n,r);const i=this.outputShape.length;this.enableShapeUniforms=pi(i);let a="";if(s)if(i===0||He(this.outputShape)===1)a=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(a=`
          ${gr(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?a+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:a+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=Ei("coords",i);this.enableShapeUniforms?a+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:a+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${a}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function To(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const XRe={kernelName:ox,backendName:"webgl",kernelFunc:To};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dh(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.makeTensorInfo(r.shape,"complex64"),a=n.texData.get(i.dataId),o=To({inputs:{x:r},backend:n}),l=To({inputs:{x:s},backend:n});return a.complexTensorInfos={real:o,imag:l},i}const KRe={kernelName:rD,backendName:"webgl",kernelFunc:dh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lX="return (a < 0.) ? b * a : a;",cX=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function JRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r,a=n.makeTensorInfo([],"float32",sh(i,"float32")),o=je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new r1(cX,s.shape,a.shape):new mg(lX,s.shape,a.shape),l=n.runWebGLProgram(o,[s,a],"float32");return n.disposeIntermediateTensorInfo(a),l}const QRe={kernelName:nk,backendName:"webgl",kernelFunc:JRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uX="return (a < 0.) ? b * a : a;",dX=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function ZRe(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e,i=je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new r1(dX,r.shape,s.shape):new mg(uX,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],"float32")}const eOe={kernelName:wk,backendName:"webgl",kernelFunc:ZRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ug="if (isnan(x)) return x;";function Un({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:r}){return({inputs:s,backend:i})=>{const{x:a}=s,o=i,l=r||a.dtype;if(o.shouldExecuteOnCPU([a])&&n!=null){const d=o.texData.get(a.dataId),h=n(d.values,l);return o.makeTensorInfo(a.shape,l,h)}const c=je().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let u;return c?u=new cd(a.shape,e):u=new ql(a.shape,t),o.runWebGLProgram(u,[a],l)}}function ti({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:s,dtype:i}){return({inputs:a,backend:o})=>{const{a:l,b:c}=a,u=o;if(r&&l.dtype==="complex64"){const m=u.texData.get(l.dataId),f=u.texData.get(c.dataId),[b,w]=[[m.complexTensorInfos.real,f.complexTensorInfos.real],[m.complexTensorInfos.imag,f.complexTensorInfos.imag]].map(C=>{const[k,N]=C,A={dataId:k.dataId,dtype:k.dtype,shape:l.shape},O={dataId:N.dataId,dtype:N.dtype,shape:c.shape},R=new mg(t,l.shape,c.shape);return u.runWebGLProgram(R,[A,O],ko(k.dtype,N.dtype))}),g=dh({inputs:{real:b,imag:w},backend:u});return u.disposeIntermediateTensorInfo(b),u.disposeIntermediateTensorInfo(w),g}const d=i||ko(l.dtype,c.dtype);if((l.dtype==="string"||c.dtype==="string"||u.shouldExecuteOnCPU([l,c]))&&s!=null){const m=u.texData.get(l.dataId).values,f=u.texData.get(c.dataId).values,b=l.dtype==="string"?pu(m):m,w=l.dtype==="string"?pu(f):f,[g,C]=s(l.shape,c.shape,b,w,d),k=u.makeTensorInfo(C,d),N=u.texData.get(k.dataId);return N.values=g,k}const h=je().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let p;return h?p=new r1(e,l.shape,c.shape,n):p=new mg(t,l.shape,c.shape),u.runWebGLProgram(p,[l,c],d)}}function ob(t,e=!1){if(t==="linear")return e?PRe:NRe;if(t==="relu")return e?BRe:ORe;if(t==="elu")return e?MRe:RRe;if(t==="relu6")return e?LRe:$Re;if(t==="prelu")return e?dX:uX;if(t==="leakyrelu")return e?cX:lX;if(t==="sigmoid")return e?FRe:DRe;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hX{constructor(e,n,r,s=!1,i=!1,a=!1,o=null,l=!1,c=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=pi(this.outputShape.length);const u=s?e[1]:e[2],d=Math.ceil(u/2),h=s?"i * 2, rc.y":"rc.y, i * 2",p=i?"rc.z, i * 2":"i * 2, rc.z",m=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let b="",w="";o&&(l?b=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:c?b=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:b=`vec4 activation(vec4 x) {
          ${o}
        }`,w="result = activation(result);");const g=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let C="rc.x",k="rc.x";e[0]<n[0]?C=`imod(rc.x, ${e[0]})`:n[0]<e[0]&&(k=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${b}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${d}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${C};
        int batchB = ${k};
        for (int i = 0; i < ${d}; i++) {
          vec4 a = getMatrixA(batchA, ${h});
          vec4 b = getMatrixB(batchB, ${p});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${m[0]} * ${f[0]});
          result += (${m[1]} * ${f[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${g}

        ${w}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _6={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class S6{constructor(e,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=_n(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C6="return a * b;";function IM(t){const{inputs:e,backend:n}=t,{a:r,b:s}=e,i=ko(r.dtype,s.dtype);if(r.dtype==="complex64"){const o=n.texData.get(r.dataId),l=n.texData.get(s.dataId),c=new S6(_6.REAL,r.shape,s.shape),u=new S6(_6.IMAG,r.shape,s.shape),d=[{dataId:o.complexTensorInfos.real.dataId,dtype:o.complexTensorInfos.real.dtype,shape:r.shape},{dataId:o.complexTensorInfos.imag.dataId,dtype:o.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:s.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:s.shape}],h=n.runWebGLProgram(c,d,"float32"),p=n.runWebGLProgram(u,d,"float32"),m=dh({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),m}if(n.shouldExecuteOnCPU([r,s])){const o=n.texData.get(r.dataId),l=n.texData.get(s.dataId),[c,u]=ZNe(r.shape,s.shape,o.values,l.values,i),d=n.makeTensorInfo(u,i),h=n.texData.get(d.dataId);return h.values=c,d}let a;return je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?a=new r1(C6,r.shape,s.shape):a=new mg(C6,r.shape,s.shape),n.runWebGLProgram(a,[r,s],i)}const tOe={kernelName:mx,backendName:"webgl",kernelFunc:IM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nOe(t,e,n){const r=[fg(t.shape),...pg(t.shape)],s={dtype:t.dtype,shape:r,dataId:t.dataId},i=[fg(e),...pg(e)],a=new aX(i,r),o=!0,l=[r],c=n.runWebGLProgram(a,[s],t.dtype,l,o);return{dataId:c.dataId,shape:e,dtype:c.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tt(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,a=n,o=He(s.shape),l=QW(i,o),c=He(l);oe(o===c,()=>`The new shape (${l}) has ${c} elements and the old shape (${s.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`);const u=a.texData.get(s.dataId);return u.isPacked&&!AS(s.shape,l)&&!(u.texture!==null&&AS(u.shape,l))?nOe(s,l,a):(a.incRef(s.dataId),{dataId:s.dataId,shape:l,dtype:s.dtype})}const rOe={kernelName:Sk,backendName:"webgl",kernelFunc:Tt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class k6{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:a}=e;this.outputShape=[s,a];const o=Math.floor(r/4)*4,l=r%4;let c="sumValue += dot(values, ones);";if(n!=null){const d=1/n;c=`sumValue += dot(values * ${rg(d)?d.toPrecision(2):d}, ones);`}let u="";i%r>0&&(u=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${u}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${o}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${c}
        }

        int inIdx = inOffset + ${o};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${c}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${c}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${c}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sOe{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:a}=e;this.outputShape=[s,a];let o="0.0",l="";n==="prod"?o="1.0":n==="min"?(o="1.0 / 1e-20",l="min"):n==="max"&&(o="-1.0 / 1e-20",l="max");let c=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?c="sumValue":n==="prod"?c="prodValue":n==="all"?c="allValue":n==="any"&&(c="anyValue");const u=Math.floor(r/4)*4,d=r%4;let h=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,p="vec4";n==="all"?(o="1.0",h=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,p="bvec4"):n==="any"&&(o="0.0",h=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,p="bvec4");let m="";i%r>0&&(m=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${o};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${m}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${o});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          ${p} values = ${p}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${h}
        }

        int inIdx = inOffset + ${u};
        if (${d===1}) {
          ${p} values = ${p}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${h}
        } else if (${d===2}) {
          ${p} values = ${p}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${h}
        } else if (${d===3}) {
          ${p} values = ${p}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${h}
        }
        setOutput(${c});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iOe(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],r=Vk(n);e.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return e}function $p(t,e,n,r){const s=iOe(t.shape);let i=t;for(let a=0;a<s.length;a++){const{inSize:o,windowSize:l,outSize:c}=s[a];let u,d;n==="mean"?u=a===0?new k6({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:c},o):new k6({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:c}):u=new sOe({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:c},n),d=i,i=r.runWebGLProgram(u,[i],e),d.dataId!==t.dataId&&r.disposeIntermediateTensorInfo(d)}return i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oOe{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let a=0;a<r.length;a++)r[a]=e[n[a]];this.outputShape=r,this.rank=r.length;const s=gr(this.rank),i=aOe(n);this.userCode=`
    void main() {
      ${s} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}}function aOe(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e);for(let s=0;s<t.length;s++)r[t[s]]=n[s];return r.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lOe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(e.length);for(let u=0;u<r.length;u++)r[u]=e[n[u]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=gr(this.rank),i=oX("rc",this.rank),a=new Array(this.rank);for(let u=0;u<n.length;u++)a[n[u]]=i[u];const o=`vec2(${a.slice(-2).join()})`,l=`++${i[this.rank-1]} < ${r[this.rank-1]}`,c=`getChannel(getA(${a.join()}), ${o})`;this.userCode=`
    void main() {
      ${s} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${c};
      if(${l}) {
        result[1] = ${c};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${c};
        if(${l}) {
          result[3] = ${c};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cE(t,e,n){const r=je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new lOe(t.shape,e):new oOe(t.shape,e);return n.runWebGLProgram(r,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cOe(t,e,n,r){const s=e,i=t.shape.length,a=An(s,t.shape);let o=a;const l=ns(o,i),c=l!=null;let u=t;c&&(u=cE(t,l,r),o=fs(o.length,i)),ei("sum",o,i);const[d,h]=zs(u.shape,o);let p=d;n&&(p=ws(d,a));const m=He(h),b=He(t.shape)/m,w=Tt({inputs:{x:u},attrs:{shape:[b,m]},backend:r}),g=BD(t.dtype),C=$p(w,g,"sum",r),k=Tt({inputs:{x:C},attrs:{shape:p},backend:r});return r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(C),c&&r.disposeIntermediateTensorInfo(u),k}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uE(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;return cOe(s,i,a,n)}const uOe={kernelName:Ak,backendName:"webgl",kernelFunc:uE};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oi(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{perm:i}=r,a=n,o=s.shape.length,l=new Array(o);for(let u=0;u<l.length;u++)l[u]=s.shape[i[u]];let c;if(a.shouldExecuteOnCPU([s])){const d=a.texData.get(s.dataId).values,h=EM(d,s.shape,s.dtype,i,l);c=a.makeTensorInfo(l,s.dtype);const p=a.texData.get(c.dataId);p.values=h}else c=cE(s,i,a);return c}const dOe={kernelName:Im,backendName:"webgl",kernelFunc:Oi};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fX=1e3;function NS({a:t,b:e,transposeA:n,transposeB:r,backend:s,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:o=0,activation:l=null}){const c=t.shape.length,u=e.shape.length,d=n?t.shape[c-2]:t.shape[c-1],h=r?e.shape[u-1]:e.shape[u-2],p=n?t.shape[c-1]:t.shape[c-2],m=r?e.shape[u-2]:e.shape[u-1],f=t.shape.slice(0,-2),b=e.shape.slice(0,-2),w=He(f),g=He(b),k=_n(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([p,m]);oe(d===h,()=>`Error in matMul: inner shapes (${d}) and (${h}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${r} must match.`);const N=n?[w,d,p]:[w,p,d],A=r?[g,m,h]:[g,h,m],O=Tt({inputs:{x:t},backend:s,attrs:{shape:N}}),R=Tt({inputs:{x:e},backend:s,attrs:{shape:A}}),$=[O,R],D=Math.max(w,g),B=n?O.shape[1]:O.shape[2],M=i!=null,z=a!=null,W=l==="leakyrelu",V=l!=null?ob(l,!0):null,q=M||z||W||V!=null;let H;if((p===1||m===1)&&B>fX&&q===!1){let F=O,ie=R;n&&(F=Oi({inputs:{x:O},backend:s,attrs:{perm:[0,2,1]}}),$.push(F)),r&&(ie=Oi({inputs:{x:R},backend:s,attrs:{perm:[0,2,1]}}),$.push(ie));const de=m!==1,ee=m===1;let J=F;de&&(J=Tt({inputs:{x:F},backend:s,attrs:{shape:[D,B,1]}}),$.push(J));const ae=m===1?2:1;let ue=ie;ee&&(ue=Tt({inputs:{x:ie},backend:s,attrs:{shape:[D,1,B]}}),$.push(ue));const le=IM({inputs:{a:J,b:ue},backend:s});H=uE({inputs:{x:le},backend:s,attrs:{axis:ae,keepDims:!0}}),$.push(le)}else{const F=ko(t.dtype,e.dtype),ie=new hX(N,A,[D,p,m],n,r,M,V,z,W),de=[O,R];if(i!=null&&de.push(i),z&&de.push(a),W){const ee=s.makeTensorInfo([],"float32",sh(o,"float32"));de.push(ee),$.push(ee)}H=s.runWebGLProgram(ie,de,F)}const K=Tt({inputs:{x:H},backend:s,attrs:{shape:k}});$.push(H);for(const F of $)s.disposeIntermediateTensorInfo(F);return K}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hOe(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:a,preluActivationWeights:o}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=r;return NS({a:s,b:i,transposeA:l,transposeB:c,backend:n,bias:a,preluActivationWeights:o,leakyreluAlpha:d,activation:u})}const fOe={kernelName:rS,backendName:"webgl",kernelFunc:hOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E6="return abs(x);";function pOe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const i=n.texData.get(r.dataId),a=sX(i.values);return n.makeTensorInfo(r.shape,r.dtype,a)}let s;return je().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new cd(r.shape,E6):s=new ql(r.shape,E6),n.runWebGLProgram(s,[r],r.dtype)}const mOe={kernelName:MC,backendName:"webgl",kernelFunc:pOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gOe=Ba+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,vOe=Un({opSnippet:gOe}),yOe={kernelName:jb,backendName:"webgl",kernelFunc:vOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bOe=Ba+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,xOe=Un({opSnippet:bOe}),wOe={kernelName:zb,backendName:"webgl",kernelFunc:xOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T6="return a + b;",_Oe=ti({opSnippet:T6,packedOpSnippet:T6,supportsComplex:!0,cpuKernelImpl:$Ne}),SOe={kernelName:Rg,backendName:"webgl",kernelFunc:_Oe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class COe{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((i,a)=>`T${a}`);const r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${s};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kOe{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((i,a)=>`T${a}`);const r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${s};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gw(t){const{inputs:e,backend:n}=t,r=e;if(r.length===1)return To({inputs:{x:r[0]},backend:n});if(r.length>je().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),c=Gw({inputs:r.slice(0,l),backend:n}),u=Gw({inputs:r.slice(l),backend:n});return Gw({inputs:[c,u],backend:n})}const s=r.map(l=>l.dtype).reduce((l,c)=>ko(l,c)),i=r.map(l=>l.shape),o=je().getBool("WEBGL_PACK")?new kOe(r[0].shape,i):new COe(r[0].shape,i);return n.runWebGLProgram(o,r,s)}const EOe={kernelName:J$,backendName:"webgl",kernelFunc:Gw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,l=An(i,s.shape);let c=l;const u=ns(c,o);let d=s;u!=null&&(d=Oi({inputs:{x:s},backend:n,attrs:{perm:u}}),c=fs(c.length,o)),ei("all",c,o);const[h,p]=zs(d.shape,c),m=He(p),f=Tt({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),b=$p(f,f.dtype,"all",n);let w;if(a){const g=ws(h,l);w=Tt({inputs:{x:b},backend:n,attrs:{shape:g}})}else w=Tt({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),w}const IOe={kernelName:Q$,backendName:"webgl",kernelFunc:TOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,l=An(i,s.shape);let c=l;const u=ns(c,o);let d=s;u!=null&&(d=Oi({inputs:{x:s},backend:n,attrs:{perm:u}}),c=fs(c.length,o)),ei("any",c,o);const[h,p]=zs(d.shape,c),m=He(p),f=Tt({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),b=$p(f,f.dtype,"any",n);let w;if(a){const g=ws(h,l);w=Tt({inputs:{x:b},backend:n,attrs:{shape:g}})}else w=Tt({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),w}const NOe={kernelName:Z$,backendName:"webgl",kernelFunc:AOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ROe{constructor(e,n,r){this.variableNames=["A"];const{windowSize:s,batchSize:i,outSize:a}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];const o=n==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${s}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${o} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OOe{constructor(e,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,oe(e.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const i=e[e.length-1],a=Math.ceil(i/n);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),s||this.variableNames.push("bestIndicesA");const o=this.outputShape,l=o.length,c=gr(l),u=Ei("coords",l);let d,h;if(a===1){h=l+1;const R=gr(h);d=`
        ${R} sourceLocR = ${R}(${u.join()}, 0);
        ++${u[l-1]};
        ${R} sourceLocG = ${R}(${u.join()}, 0);
        ++${u[l-2]};
        ${R} sourceLocA = ${R}(${u.join()}, 0);
        --${u[l-1]};
        ${R} sourceLocB = ${R}(${u.join()}, 0);
        --${u[l-2]};`}else h=l,d=`
        ${c} sourceLocR = coords;
        ++${u[l-1]};
        ${c} sourceLocG = coords;
        ++${u[l-2]};
        ${c} sourceLocA = coords;
        --${u[l-1]};
        ${c} sourceLocB = coords;
        --${u[l-2]};`;const p=["x","y","z","w","u","v"].slice(0,h),m="."+p[h-1],f=p.map(R=>"int "+R),b=Ei("sourceLocR",h-1).concat("inIdx.r"),w=Ei("sourceLocG",h-1).concat("inIdx.g"),g=Ei("sourceLocB",h-1).concat("inIdx.b"),C=Ei("sourceLocA",h-1).concat("inIdx.a"),k=r==="max"?"greaterThan":"lessThan",N=s?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${b.join()}),
                             getBestIndicesAChannel(${w.join()}),
                             getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${C.join()})));`,A=`vec4(
            getAChannel(${b.join()}),
            hasNextCol ? getAChannel(${w.join()}) : 0.,
            hasNextRow ? getAChannel(${g.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${C.join()}) : 0.)`,O=s?"":`
      float getBestIndicesAChannel(${f.join()}) {
        return getChannel(getBestIndicesA(${p.join()}),
                                          vec2(${p.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${f.join()}) {
        return getChannel(getA(${p.join()}),
                               vec2(${p.slice(-2).join()}));
      }
      ${O}
      void main() {
        ${c} coords = getOutputCoords();
        bool hasNextCol = ${u[l-1]} < ${o[l-1]-1};
        bool hasNextRow = ${u[l-2]} < ${o[l-2]-1};
        ${d}
        ivec4 srcIdx = ivec4(sourceLocR${m}, sourceLocG${m},
          sourceLocB${m}, sourceLocA${m}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${A};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${N}
          vec4 candidate = ${A};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${k}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pX(t,e,n,r=null){let s=e.shape[0],i=e.shape[1];r!=null&&(s=r.shape[0],i=r.shape[1]);const a=Vk(i),o={windowSize:a,inSize:i,batchSize:s,outSize:Math.ceil(i/a)},l=new ROe(o,n,r==null),c=[e];r!=null&&c.push(r);const u=t.runWebGLProgram(l,c,"int32");if(u.shape[1]===1)return u;const d=pX(t,e,n,u);return t.disposeIntermediateTensorInfo(u),d}function mX(t,e,n,r=null){const s=r!=null?r.shape:e.shape,i=s[s.length-1],a=Vk(i),o=new OOe(s,a,n,r==null),l=r==null?[e]:[e,r],c=t.runWebGLProgram(o,l,"int32");if(c.shape.length===e.shape.length){const u=mX(t,e,n,c);return t.disposeIntermediateTensorInfo(c),u}return c}function gX(t,e,n,r){const s=[n];if(ei("arg"+r.charAt(0).toUpperCase()+r.slice(1),s,e.shape.length),!je().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const i=[],a=t.texData.get(e.dataId),o=a!==null&&a.isPacked;let l=e;o&&(l=t.unpackTensor(e),i.push(l));const[c,u]=zs(l.shape,s),d=He(u),h=Tt({inputs:{x:l},backend:t,attrs:{shape:[-1,d]}});i.push(h);const p=pX(t,h,r);i.push(p);const m=Tt({inputs:{x:p},backend:t,attrs:{shape:c}});return i.forEach(f=>t.disposeIntermediateTensorInfo(f)),m}return mX(t,e,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Oe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let a=An(i,s.shape);const o=ns(a,s.shape.length);let l=s;const c=[];o!=null&&(l=Oi({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),a=fs(a.length,l.shape.length)),ei("argMax",[a[0]],l.shape.length);const u=gX(n,l,a[0],"max");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const DOe={kernelName:BC,backendName:"webgl",kernelFunc:$Oe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function POe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let a=An(i,s.shape);const o=ns(a,s.shape.length);let l=s;const c=[];o!=null&&(l=Oi({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),a=fs(a.length,l.shape.length)),ei("argMin",[a[0]],l.shape.length);const u=gX(n,l,a[0],"min");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const MOe={kernelName:LC,backendName:"webgl",kernelFunc:POe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BOe=Ba+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,LOe=Un({opSnippet:BOe}),FOe={kernelName:Ub,backendName:"webgl",kernelFunc:LOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jOe=Ba+"return log(x + sqrt(x * x + 1.0));",zOe=Un({opSnippet:jOe}),UOe={kernelName:Wb,backendName:"webgl",kernelFunc:zOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WOe=Ba+`
  return atan(x);
`,VOe=Un({opSnippet:WOe}),GOe={kernelName:Vb,backendName:"webgl",kernelFunc:VOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HOe=TM+`
  return atan(a, b);
`,YOe=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Op+`
  return result;
`,qOe=ti({opSnippet:HOe,packedOpSnippet:YOe}),XOe={kernelName:Hb,backendName:"webgl",kernelFunc:qOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KOe=Ba+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,JOe=Un({opSnippet:KOe}),QOe={kernelName:Gb,backendName:"webgl",kernelFunc:JOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ab{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,o=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=e.padInfo.top,m=e.padInfo.left;this.outputShape=e.outShape;const f=n==="avg",b=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,w=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let g="0.0";if(f||(g="-1.0 / 1e-20"),r){const R=">=";this.userCode=`
        const ivec2 strides = ivec2(${o}, ${l});
        const ivec2 pads = ivec2(${p}, ${m});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${d};
              wR += ${c}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h};
                wC += ${u}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${R} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${s?i?b:w:`wR * ${h} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const C="max";let k=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(k="avgValue / max(count, 1.0)");const N=Math.floor(a/4)*4,A=a%4,O=`
      if (${f}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${C}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${o}, ${l});
      const ivec2 pads = ivec2(${p}, ${m});
      const float initializationValue = ${g};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${g});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${d};
            wR += ${c}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${N}; wC += 4) {
            int xC = xCCorner + wC * ${u};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              getValue(batch, xR, xC + 3 * ${u}, d)
            );

            ${O}
          }

          int xC = xCCorner + ${N};
          if (${A===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${O}
          } else if (${A===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              initializationValue,
              initializationValue
            );

            ${O}
          } else if (${A===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              initializationValue
            );

            ${O}
          }
        }
        setOutput(${k});
      }
    `}}class AM{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,o=e.strideDepth,l=e.strideHeight,c=e.strideWidth,u=e.dilationDepth,d=e.dilationHeight,h=e.dilationWidth,p=e.effectiveFilterDepth,m=e.effectiveFilterHeight,f=e.effectiveFilterWidth,b=e.padInfo.front,w=e.padInfo.top,g=e.padInfo.left;this.outputShape=e.outShape;const C=n==="avg";let k="0.0";if(C||(k="-1.0 / 1e-20"),r){const D=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${o}, ${l}, ${c});
        const ivec3 pads = ivec3(${b}, ${w}, ${g});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${p};
              wD += ${u}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${m};
                wR += ${d}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${f};
                  wC += ${h}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${D} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${s?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${m} * ${f} +
                      wR * ${f} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const N="max";let A=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(A="avgValue / max(count, 1.0)");const O=Math.floor(a/4)*4,R=a%4,$=`
      if (${C}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${N}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${o}, ${l}, ${c});
      const ivec3 pads = ivec3(${b}, ${w}, ${g});
      const float initializationValue = ${k};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${k});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${p};
            wD += ${u}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${m};
            wR += ${d}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${O}; wC += 4) {
              int xC = xCCorner + wC * ${h};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                getValue(batch, xD, xR, xC + 2 * ${h}, ch),
                getValue(batch, xD, xR, xC + 3 * ${h}, ch)
              );

              ${$}
            }

            int xC = xCCorner + ${O};
            if (${R===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${$}
            } else if (${R===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                initializationValue,
                initializationValue
              );

              ${$}
            } else if (${R===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                getValue(batch, xD, xR, xC + 2 * ${h}, ch),
                initializationValue
              );

              ${$}
            }
          }
        }
        setOutput(${A});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;t1(s,"avgPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r,c=1;oe(fi(a,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`);const u=Pa(s.shape,i,a,c,o,l);if(u.filterWidth===1&&u.filterHeight===1&&rr(u.inShape,u.outShape))return To({inputs:{x:s},backend:n});const d=new ab(u,"avg",!1);return n.runWebGLProgram(d,[s],"float32")}const e$e={kernelName:FC,backendName:"webgl",kernelFunc:ZOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t$e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:l,dataFormat:c}=r,u=[1,1,1],d=xu(s.shape,i,a,u,o,l,c),h=new AM(d,"avg",!1);return n.runWebGLProgram(h,[s],"float32")}const n$e={kernelName:jC,backendName:"webgl",kernelFunc:t$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class r$e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,o=e.dilationWidth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=l-1-e.padInfo.top,d=c-1-e.padInfo.left,h=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${u}, ${d});
      const float avgMultiplier = float(${h});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${a}) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${c};
            wC+= ${o}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class s$e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,h=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=d-1-e.padInfo.front,f=h-1-e.padInfo.top,b=p-1-e.padInfo.left,w=1/(n*r*s);this.userCode=`
      const ivec3 pads = ivec3(${m}, ${f}, ${b});
      const float avgMultiplier = float(${w});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${h};
              wR += ${c}) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${p};
                wC += ${u}) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i$e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=r,d=[1,1,1],h=xu(a.shape,o,l,d,c,u),p=new s$e(h);return n.runWebGLProgram(p,[s],a.dtype)}const o$e={kernelName:tD,backendName:"webgl",kernelFunc:i$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a$e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i;t1([s,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:c}=r,u=Pa(a.shape,o,l,1,c),d=new r$e(u);return n.runWebGLProgram(d,[s],a.dtype)}const l$e={kernelName:eD,backendName:"webgl",kernelFunc:a$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c$e(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:a,transposeB:o}=r;return NS({a:s,b:i,transposeA:a,transposeB:o,backend:n})}const u$e={kernelName:zC,backendName:"webgl",kernelFunc:c$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class d$e{constructor(e,n,r,s,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],_n(e,n),_n(e,r);let o="0.0";s!=null&&(_n(e,s),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let l="1.0";i!=null&&(_n(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${o};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${a}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class h$e{constructor(e,n,r,s,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],_n(e,n),_n(e,r);let o="vec4(0.0)";s!=null&&(_n(e,s),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let l="vec4(1.0)";i!=null&&(_n(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${o};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${a}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f$e=({inputs:t,backend:e,attrs:n})=>{const{x:r,mean:s,variance:i,offset:a,scale:o}=t;oe(s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),oe(a==null||s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),oe(o==null||s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const c=[r,s,i];let u=null;a!=null&&(u=a.shape,c.push(a));let d=null;o!=null&&(d=o.shape,c.push(o));const h=je().getBool("WEBGL_PACK_NORMALIZATION")?new h$e(r.shape,s.shape,i.shape,u,d,l):new d$e(r.shape,s.shape,i.shape,u,d,l);return e.runWebGLProgram(h,c,c[0].dtype)},p$e={kernelName:ZC,backendName:"webgl",kernelFunc:f$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class m$e{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=gr(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=g$e(this.rank);let s;const i=e.map((a,o)=>`sourceLoc.${oR[o]} = start[${o}] + coords.${oR[o]};`);s=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${s}
        setOutput(getSource(${r}));
      }
    `}}const oR=["x","y","z","w","u","v"];function g$e(t){if(t===1)return"sourceLoc";if(t<=6)return oR.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class v$e{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=gr(this.rank),r=Ei("coords",this.rank),s=Ei("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${s.slice(-2).join()})`,a=`getChannel(getSource(${s.join()}), ${i})`,o=`
      result.x = ${a};
      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
        ++${s[this.rank-1]};
        result.y = ${a};
        --${s[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {
        ++${s[this.rank-2]};
        result.z = ${a};
        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
          ++${s[this.rank-1]};
          result.w = ${a};
        }
      }
    `,c=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((u,d)=>`start[${d}]`).join()});`:e.map((u,d)=>`${s[d]} = ${r[d]} + start[${d}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${c}
        vec4 result = vec4(0.);
        ${o}
        ${l}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y$e(t,e,n,r){const s=r.texData.get(t.dataId),i=r.makeTensorInfo(n,t.dtype),a=r.texData.get(i.dataId);Object.assign(a,s),a.refCount=1,a.shape=n,a.dtype=t.dtype;let o=SP(e,tn(t.shape));s.slice&&(o+=s.slice.flatOffset),a.slice={flatOffset:o,origDataId:s.slice&&s.slice.origDataId||t.dataId};const l=r.dataRefCount.get(a.slice.origDataId)||1;return r.dataRefCount.set(a.slice.origDataId,l+1),i}function Wg(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:a}=r,[o,l]=Wk(s,i,a);if(xP(s,o,l),He(l)===0)return n.makeTensorInfo(l,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||s.dtype==="string"){const d=n.texData.get(s.dataId),h=uRe(d.values,o,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,h)}const{isPacked:c}=n.texData.get(s.dataId),u=_P(s.shape,o,l);if(c||!u){const d=je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new v$e(l):new m$e(l),h=[o];return n.runWebGLProgram(d,[s],s.dtype,h)}return n.uploadToGPU(s.dataId),y$e(s,o,l,n)}const b$e={kernelName:Ik,backendName:"webgl",kernelFunc:Wg};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x$e=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:a}=r;oe(s.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const o=i.reduce((g,C)=>g*C),l=Ux(s.shape,i,o),c=Wx(l.length,i.length),u=Vx(s.shape,i,o),d=IP(a,i.length),h=AP(u,a,i.length),p=[],m=Tt({inputs:{x:s},backend:n,attrs:{shape:l}}),f=Oi({inputs:{x:m},backend:n,attrs:{perm:c}}),b=Tt({inputs:{x:f},backend:n,attrs:{shape:u}}),w=Wg({inputs:{x:b},backend:n,attrs:{begin:d,size:h}});return p.push(m),p.push(f),p.push(b),p.forEach(g=>n.disposeIntermediateTensorInfo(g)),w},w$e={kernelName:UC,backendName:"webgl",kernelFunc:x$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _$e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a}=r,o=n.readSync(s.dataId),l=n.readSync(i.dataId),c=rX(o,l,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,c)}const S$e={kernelName:nD,backendName:"webgl",kernelFunc:_$e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C$e(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.readSync(r.dataId),a=n.readSync(s.dataId),o=_n(Array.from(i),Array.from(a));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const k$e={kernelName:s3,backendName:"webgl",kernelFunc:C$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E$e="return float(a != b);",vX=ti({opSnippet:E$e,cpuKernelImpl:tRe,dtype:"bool"}),T$e={kernelName:gk,backendName:"webgl",kernelFunc:vX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s1(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return To({inputs:{x:s.complexTensorInfos.real},backend:n})}const I$e={kernelName:ED,backendName:"webgl",kernelFunc:s1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A$e="return float(int(x));";function N$e(t,e){const n=new ql(t.shape,A$e),r=e.runWebGLProgram(n,[t],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aR(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return To({inputs:{x:s},backend:n});const a=bs(s.shape),o=aR({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),l=dh({inputs:{real:o,imag:a},backend:n});return a.dispose(),n.disposeIntermediateTensorInfo(o),l}if(s.dtype==="complex64"){const a=s1({inputs:{input:s},backend:n}),o=aR({inputs:{x:a},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(a),o}if(!ZW(s.dtype,i)){const a=To({inputs:{x:s},backend:n});return{dataId:a.dataId,shape:a.shape,dtype:i}}if(n.shouldExecuteOnCPU([s])){const a=n.texData.get(s.dataId).values,[o,l,c]=PNe(a,s.shape,s.dtype,i);return n.makeTensorInfo(o,l,c)}if(i==="int32")return N$e(s,n);if(i==="bool"){const a=n.makeTensorInfo([],"bool",ui("bool",1)),l=vX({inputs:{a:s,b:a},backend:n});return n.disposeIntermediateTensorInfo(a),l}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${i}`)}const R$e={kernelName:Yb,backendName:"webgl",kernelFunc:aR};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I6="return ceil(x);",O$e=Un({opSnippet:I6,packedOpSnippet:I6,cpuKernelImpl:MNe}),$$e={kernelName:qb,backendName:"webgl",kernelFunc:O$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class D$e{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class P$e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M$e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{clipValueMin:i,clipValueMax:a}=r;let o;je().getBool("WEBGL_PACK_CLIP")?o=new P$e(s.shape):o=new D$e(s.shape);const l=[[i],[a]];return n.runWebGLProgram(o,[s],s.dtype,l)}const B$e={kernelName:Xb,backendName:"webgl",kernelFunc:M$e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class L$e{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A6(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function F$e(t){const{inputs:e,backend:n}=t,{x:r}=e,s=n.texData.get(r.dataId),i=new L$e(r.shape),a=[A6(r,s.complexTensorInfos.real),A6(r,s.complexTensorInfos.imag)];return n.runWebGLProgram(i,a,a[0].dtype)}const j$e={kernelName:WC,backendName:"webgl",kernelFunc:F$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z$e{constructor(e){this.outputShape=[],this.outputShape=rc(e,1),this.variableNames=e.map((a,o)=>`T${o}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let a=1;a<n.length;a++)n[a]=n[a-1]+e[a][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let a=1;a<n.length;a++){const o=n[a-1];r.push(`else if (yC < ${n[a]}) setOutput(getT${a}(yR, yC-${o}));`)}const s=n.length,i=n[n.length-1];r.push(`else setOutput(getT${s}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class U$e{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=rc(e,n);const r=this.outputShape,s=r.length,i=gr(s),a=Ei("coords",s),o=["x","y","z","w","u","v"].slice(0,s);this.variableNames=e.map((f,b)=>`T${b}`);const l=new Array(e.length-1);l[0]=e[0][n];for(let f=1;f<l.length;f++)l[f]=l[f-1]+e[f][n];const c=o[n],u=o.slice(-2),d=o.join();let h=`if (${c} < ${l[0]}) {
        return getChannel(
            getT0(${d}), vec2(${u.join()}));
        }`;for(let f=1;f<l.length;f++){const b=l[f-1];h+=`
        if (${c} < ${l[f]}  && ${c} >= ${l[f-1]}) {
          return getChannel(
            getT${f}(${dw(o,c,b)}),
            vec2(${dw(u,c,b)}));
        }`}const p=l.length,m=l[l.length-1];h+=`
        return getChannel(
          getT${p}(${dw(o,c,m)}),
          vec2(${dw(u,c,m)}));`,this.userCode=`
      float getValue(${o.map(f=>"int "+f)}) {
        ${h}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${a}), 0., 0., 0.);

        ${a[s-1]} = ${a[s-1]} + 1;
        if (${a[s-1]} < ${r[s-1]}) {
          result.g = getValue(${a});
        }

        ${a[s-2]} = ${a[s-2]} + 1;
        if (${a[s-2]} < ${r[s-2]}) {
          result.a = getValue(${a});
        }

        ${a[s-1]} = ${a[s-1]} - 1;
        if (${a[s-2]} < ${r[s-2]} &&
            ${a[s-1]} < ${r[s-1]}) {
          result.b = getValue(${a});
        }
        setOutput(result);
      }
    `}}function dw(t,e,n){const r=t.indexOf(e);return t.map((i,a)=>a===r?`${i} - ${n}`:i).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dE(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return To({inputs:{x:s.complexTensorInfos.imag},backend:n})}const W$e={kernelName:yD,backendName:"webgl",kernelFunc:dE};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ov(t,e,n){const r=t[0].dtype;if(r==="complex64"){const p=t.map(g=>s1({inputs:{input:g},backend:n})),m=t.map(g=>dE({inputs:{input:g},backend:n})),f=Ov(p,e,n),b=Ov(m,e,n),w=dh({inputs:{real:f,imag:b},backend:n});return p.forEach(g=>n.disposeIntermediateTensorInfo(g)),m.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(b),w}let s=n.shouldExecuteOnCPU(t);if(r==="string"&&(s=!0),s){const p=t.map(k=>{const A=[-1,He(k.shape.slice(e))];return Tt({inputs:{x:k},backend:n,attrs:{shape:A}})}),m=p.map(k=>({vals:n.readSync(k.dataId),shape:k.shape})),f=rc(p.map(k=>k.shape),1),b=p[0].shape[0]===1,w=BNe(m,f,r,b),g=rc(t.map(k=>k.shape),e),C=n.makeTensorInfo(g,r,w);return p.forEach(k=>n.disposeIntermediateTensorInfo(k)),C}const i=t.filter(p=>He(p.shape)>0),a=je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(i.length===1){const p=a?new ql(t[0].shape,Hu):new cd(t[0].shape,Hu);return n.runWebGLProgram(p,t,r)}const o=je().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>o){const p=[];for(let f=0;f<i.length;f+=o){const b=i.slice(f,f+o);p.push(Ov(b,e,n))}const m=Ov(p,e,n);for(const f of p)n.disposeIntermediateTensorInfo(f);return m}if(a){const p=new U$e(i.map(m=>m.shape),e);return n.runWebGLProgram(p,i,r)}const{tensors2D:l,outShape:c}=V$e(i,e,n),u=new z$e(l.map(p=>p.shape)),d=n.runWebGLProgram(u,l,r);l.forEach(p=>n.disposeIntermediateTensorInfo(p));const h=Tt({inputs:{x:d},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(d),h}function V$e(t,e,n){const r=rc(t.map(i=>i.shape),e);return{tensors2D:t.map(i=>Tt({inputs:{x:i},attrs:{shape:[-1,He(i.shape.slice(e))]},backend:n})),outShape:r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yX(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=An(s,e[0].shape)[0],a=e.map(c=>c.shape);kP(a,i);const o=rc(e.map(c=>c.shape),i);if(He(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const l=e.filter(c=>He(c.shape)>0);return l.length===1?To({inputs:{x:l[0]},backend:n}):Ov(l,i,n)}const G$e={kernelName:VC,backendName:"webgl",kernelFunc:yX};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bX{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const a=e.padInfo.top,o=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,h=e.filterHeight,p=e.filterWidth,m=Math.floor(e.inChannels/4)*4,f=e.inChannels%4,b=e.dataFormat==="channelsLast",w=b?1:2,g=b?2:3,C=b?3:1;let k="",N="";r&&(s?k=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?k=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:k=`
          float activation(float x) {
            ${r}
          }
        `,N="result = activation(result);");const A=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${k}

      const ivec2 strides = ivec2(${l}, ${c});
      const ivec2 pads = ivec2(${a}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${C}];

        ivec2 xRCCorner =
            ivec2(coords[${w}], coords[${g}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${h}; wR++) {
          int xR = xRCorner + wR * ${u};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${p}; wC++) {
            int xC = xCCorner + wC * ${d};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${m}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${b}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${f===1}) {

              if (${b}) {
                dotProd +=
                    getX(batch, xR, xC, ${m}) *
                    getW(wR, wC, ${m}, d2);
              } else {
                dotProd +=
                    getX(batch, ${m}, xR, xC) *
                    getW(wR, wC, ${m}, d2);
              }

            } else if (${f===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${m}, d2),
                getW(wR, wC, ${m} + 1, d2)
              );

              if (${b}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${m}),
                  getX(batch, xR, xC, ${m} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${m}, xR, xC),
                  getX(batch, ${m} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${f===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${m}, d2),
                getW(wR, wC, ${m} + 1, d2),
                getW(wR, wC, ${m} + 2, d2)
              );

              if (${b}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${m}),
                  getX(batch, xR, xC, ${m} + 1),
                  getX(batch, xR, xC, ${m} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${m}, xR, xC),
                  getX(batch, ${m} + 1, xR, xC),
                  getX(batch, ${m} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${A}
        ${N}
        setOutput(result);
      }
    `}}class H$e{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,r=e.padInfo.top,s=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,h=e.filterHeight,p=e.filterWidth,m=Math.floor(e.inChannels/4)*4,f=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${a}, ${o});
      const ivec3 pads = ivec3(${n}, ${r}, ${s});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${d}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${h}; wR++) {
            int xR = xRCorner + wR * ${c};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${p}; wC++) {
              int xC = xCCorner + wC * ${u};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${m}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${f===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${m}) *
                  getW(wF, wR, wC, ${m}, d2);
              } else if (${f===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${m}),
                  getX(batch, xF, xR, xC, ${m} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${m}, d2),
                  getW(wF, wR, wC, ${m} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${f===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${m}),
                  getX(batch, xF, xR, xC, ${m} + 1),
                  getX(batch, xF, xR, xC, ${m} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${m}, d2),
                  getW(wF, wR, wC, ${m} + 1, d2),
                  getW(wF, wR, wC, ${m} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xX{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=pi(this.outputShape.length);const a=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,d=u;let h=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let b=0;b<u;b++)h+=`
           vec4 xTexelC${b*2};
           int xTexelC${b*2}Ready;
           vec4 xTexelC${b*2+1};
           int xTexelC${b*2+1}Ready;
           vec4 xC${b};`;h+=`
     for (int r = 0; r < ${c}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let b=0;b<u;b++)h+=`
           xTexelC${b*2} = vec4(0.0);
           xTexelC${b*2}Ready = 0;
           xTexelC${b*2+1} = vec4(0.0);
           xTexelC${b*2+1}Ready = 0;
           xC${b} = vec4(0.0);`;h+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let b=0;b<(d+1)/2;b++){const w=b*2;if(h+=`
           xC = xCCorner + ${w*l};
           `,o===1){if(w<u&&(a%2===1?(h+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w}Ready == 0) {
                   xTexelC${w} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${w}.zw = vec2(0.0);
                   }
                   xTexelC${w}Ready = 1;
                 }
               `,l===1&&w>0?h+=`
                 xC${w} = vec4(xTexelC${w-2}.zw, xTexelC${w}.xy);
                 `:h+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${w} = vec4(previous.zw, xTexelC${w}.xy);
                   } else {
                     xC${w} = vec4(0.0, 0.0, xTexelC${w}.xy);
                   }
                   `):h+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${w}Ready == 0) {
                   xTexelC${w} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${w}.zw = vec2(0.0);
                   }
                   xTexelC${w}Ready = 1;
                 }

                 xC${w} = xTexelC${w};
                 `,w+1<u)){const g=a%2===0?G$(l):l;l%2===0&&a%2===1||l%2!==0&&a%2!==1?(h+=`
                   xCOffset = xC + imod(pads[1], 2) + ${g};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                     xTexelC${w+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${w+1}.zw = vec2(0.0);
                     }
                     xTexelC${w+1}Ready = 1;
                   }
                   `,l>1?h+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${w+1} = vec4(previous.zw, xTexelC${w+1}.xy);
                     } else {
                      xC${w+1} = vec4(0.0, 0.0, xTexelC${w+1}.xy);
                     }
                     `:h+=`
                     xC${w+1} = vec4(xTexelC${w}.zw, xTexelC${w+1}.xy);
                     `):g===1?h+=`
                     xC${w+1} = xTexelC${w};
                     `:h+=`
                     xCOffset = xC + ${g};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                       xTexelC${w+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${w+1}.zw = vec2(0.0);
                       }
                       xTexelC${w+1}Ready = 1;
                     }

                     xC${w+1} = xTexelC${w+1};
                     `}}else w<u&&(a%2===1?(h+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w}Ready == 0) {
                   xTexelC${w} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${w}.zw = vec2(0.0);
                   }
                   xTexelC${w}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${w+1}Ready == 0) {
                   xTexelC${w+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${w+1}.zw = vec2(0.0);
                   }
                   xTexelC${w+1}Ready = 1;
                 }

                 xC${w} = vec4(xTexelC${w}.zw, xTexelC${w+1}.zw);
               `,w+1<u&&(h+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${w+1} = vec4(xTexelC${w+1}.xy, final.xy);
                 `)):(h+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${w}Ready == 0) {
                   xTexelC${w} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${w}.zw = vec2(0.0);
                   }
                   xTexelC${w}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                   xTexelC${w+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${w+1}.zw = vec2(0.);
                   }
                   xTexelC${w+1}Ready = 1;
                 }

                 xC${w} = vec4(
                   xTexelC${w}.xy, xTexelC${w+1}.xy);
               `,w+1<u&&(h+=`
                   xC${w+1} = vec4(xTexelC${w}.zw, xTexelC${w+1}.zw);
                 `)));w<u&&(h+=`
             wTexel = getW(r, ${w}, d1, d2);
             dotProd += xC${w}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${w}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,w+1<u&&(h+=`
               wTexel = getW(r, ${w+1}, d1, d2);
               dotProd += xC${w+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${w+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}h+=`
     }
   `,h+=`
     }
   `,h+=`
     }
   `;let p="",m="";r&&(s?p=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:i?p=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:p=`vec4 activation(vec4 x) {
           ${r}
         }`,m="result = activation(result);");const f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${p}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${h}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${f}
         ${m}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Y$e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=pi(this.outputShape.length);const{dataFormat:r}=n,s=$i(),i=r==="channelsLast",a=i?1:2,o=i?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let c="";for(let u=0;u<=1;u++)for(let d=0;d<=1;d++)c+=`
          blockIndex = rc.z + ${d};
          pos = rc.y + ${u};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${a}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${o}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${u*2+d}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${u*2+d}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${c}

        ${s.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RS(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function wX({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:o=null}){const l=t.shape,c=r.texData.get(t.dataId),u=n.inChannels,d=l[0]*l[1]*l[2],h=n.outChannels,p=n.dataFormat==="channelsLast",m=!1,f=!1;let b;const w=[];if(i!=null){const k=RS(i.shape,p);k!=null&&(i=Tt({inputs:{x:i},backend:r,attrs:{shape:k}}),w.push(i))}if(s!=null){const k=RS(s.shape,p);k!=null&&(s=Tt({inputs:{x:s},backend:r,attrs:{shape:k}}),w.push(s))}if(!((d===1||h===1)&&u>fX)&&c.isPacked&&p&&c.texture!=null&&l[2]%2!==0&&rr(c.shape.slice(-3),l.slice(-3))){const k=l[0]*l[1]*(l[2]+1),N={dataId:t.dataId,shape:[1,k,n.inChannels],dtype:t.dtype},A=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,oe(AS(c.shape,N.shape),()=>`packed reshape ${c.shape} to ${N.shape} isn't free`);const O=Tt({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});w.push(O);const R=NS({a:N,b:O,backend:r,transposeA:m,transposeB:f,bias:s,activation:o,preluActivationWeights:i,leakyreluAlpha:a}),$=r.texData.get(R.dataId);oe($.isPacked,()=>"batchMatMul result is expected to be packed"),c.shape=A,$.shape=n.outShape,b=To({inputs:{x:R},backend:r}),b.shape=n.outShape,w.push(R)}else{const k=n.outHeight*n.outWidth,N=Tt({inputs:{x:t},backend:r,attrs:{shape:p?[n.batchSize,k,n.inChannels]:[n.batchSize,n.inChannels,k]}}),A=Tt({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),O=NS({a:p?N:A,b:p?A:N,transposeA:!p,transposeB:f,backend:r,bias:s,activation:o,preluActivationWeights:i,leakyreluAlpha:a});b=Tt({inputs:{x:O},backend:r,attrs:{shape:n.outShape}}),w.push(N),w.push(A),w.push(O)}for(const k of w)r.disposeIntermediateTensorInfo(k);return b}function _X({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:o=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:d,outHeight:h,dataFormat:p}=n,m=p==="channelsLast",f=l*c*u,b=h*d,w=[n.batchSize,f,b],g=!0,C=!1,k=[];if(i!=null){const K=RS(i.shape,m);K!=null&&(i=Tt({inputs:{x:i},backend:r,attrs:{shape:K}}),k.push(i))}if(s!=null){const K=RS(s.shape,m);K!=null&&(s=Tt({inputs:{x:s},backend:r,attrs:{shape:K}}),k.push(s))}const N=Tt({inputs:{x:e},backend:r,attrs:{shape:[1,f,He(e.shape)/f]}});k.push(N);const A=new Y$e(w,n),O=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],R=r.runWebGLProgram(A,[t],"float32",O),$=Tt({inputs:{x:R},backend:r,attrs:{shape:w}});k.push(R),k.push($);const D=s!=null,B=i!=null,M=o==="leakyrelu",z=o?ob(o,!0):null,W=new hX(m?$.shape:N.shape,m?N.shape:$.shape,m?[n.batchSize,b,n.outChannels]:[n.batchSize,n.outChannels,b],g,C,D,z,B,M),V=m?[$,N]:[N,$];if(s&&V.push(s),B&&V.push(i),M){const K=r.makeTensorInfo([],"float32",sh(a,"float32"));V.push(K),k.push(K)}const q=r.runWebGLProgram(W,V,"float32"),H=Tt({inputs:{x:q},backend:r,attrs:{shape:n.outShape}});k.push(q);for(const K of k)r.disposeIntermediateTensorInfo(K);return H}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q$e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dataFormat:l,dilations:c,dimRoundingMode:u}=r,d=wu(l),h=Zs(s.shape,i.shape,a,c,o,u,!1,d);let p;if(h.filterHeight===1&&h.filterWidth===1&&h.dilationHeight===1&&h.dilationWidth===1&&h.strideHeight===1&&h.strideWidth===1&&(h.padInfo.type==="SAME"||h.padInfo.type==="VALID"))p=wX({x:s,filter:i,convInfo:h,backend:n});else if(h.strideWidth<=2&&d==="channelsLast"&&je().getBool("WEBGL_EXP_CONV")){const f=new xX(h),b=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];p=n.runWebGLProgram(f,[s,i],"float32",b)}else if(je().getBool("WEBGL_CONV_IM2COL"))p=_X({x:s,filter:i,convInfo:h,backend:n});else{const f=new bX(h);p=n.runWebGLProgram(f,[s,i],"float32")}const m=Tt({inputs:{x:p},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(p),m}const X$e={kernelName:GC,backendName:"webgl",kernelFunc:q$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K$e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,a=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${a?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class J$e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,a=e.dataFormat==="channelsLast",o=n-1-e.padInfo.top,l=r-1-e.padInfo.left,c=a?1:2,u=a?2:3,d=a?3:1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${d}];

        ivec2 dyCorner = ivec2(coords[${c}], coords[${u}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${a}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Q$e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${i};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${a};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${s} - ${o};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Z$e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,l=n-1-e.padInfo.front,c=r-1-e.padInfo.top,u=s-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${c}, ${u});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${s}; wC++) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${s} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,dataFormat:l,dimRoundingMode:c,filterShape:u}=r,d=wu(l),h=Zs(s.shape,u,a,1,o,c,!1,d),p=new K$e(h);return n.runWebGLProgram(p,[s,i],"float32")}const tDe={kernelName:sD,backendName:"webgl",kernelFunc:eDe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nDe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=pi(this.outputShape.length);const n=e.filterHeight,r=e.filterWidth,s=n-1-e.padInfo.top,i=r-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rDe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:a,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=r,d=wu(c),h=Zs(a,i.shape,o,1,l,u,!1,d);if(je().getBool("WEBGL_PACK")&&d==="channelsLast"){const p=[[h.strideHeight,h.strideWidth]],m=new nDe(h);return n.runWebGLProgram(m,[s,i],"float32",p)}else{const p=new J$e(h);return n.runWebGLProgram(p,[s,i],"float32")}}const sDe={kernelName:HC,backendName:"webgl",kernelFunc:rDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:l}=r,c=ih(s.shape,i.shape,a,l,o),u=new H$e(c);return n.runWebGLProgram(u,[s,i],"float32")}const oDe={kernelName:YC,backendName:"webgl",kernelFunc:iDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,filterShape:l}=r,c=ih(s.shape,l,a,1,o),u=new Q$e(c);return n.runWebGLProgram(u,[s,i],"float32")}const lDe={kernelName:iD,backendName:"webgl",kernelFunc:aDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cDe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:a,strides:o,inputShape:l}=r,c=ih(l,i.shape,o,1,a),u=new Z$e(c);return n.runWebGLProgram(u,[s,i],"float32")}const uDe={kernelName:oD,backendName:"webgl",kernelFunc:cDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dDe=Ug+`
  return cos(x);
`,hDe=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${Op}
  return result;
`,fDe=Un({opSnippet:dDe,packedOpSnippet:hDe}),pDe={kernelName:Kb,backendName:"webgl",kernelFunc:fDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mDe=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,gDe=Un({opSnippet:mDe}),vDe={kernelName:Jb,backendName:"webgl",kernelFunc:gDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yDe{constructor(e,n,r,s,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[a,o,l,c]=e,[u]=n,[d,h]=r;this.outputShape=[u,d,h,c];const p=s==="bilinear"?1:0,[m,f]=[`${o-1}.0`,`${l-1}.0`],[b,w,g]=d>1?[`${(o-1)/(d-1)}`,"(y2-y1) * height_ratio",`y1*${m} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${m}`],[C,k,N]=h>1?[`${(l-1)/(h-1)}`,"(x2-x1) * width_ratio",`x1*${f} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${f}`];this.userCode=`
      const float height_ratio = float(${b});
      const float width_ratio = float(${C});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${a}) {
          return;
        }

        float height_scale = ${w};
        float width_scale = ${k};

        float in_y = ${g};
        if( in_y < 0.0 || in_y > ${m} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${N};
        if( in_x < 0.0 || in_x > ${f} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${p} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bDe=t=>{const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:a}=e,{cropSize:o,method:l,extrapolationValue:c}=r,u=new yDe(s.shape,i.shape,o,l,c);return n.runWebGLProgram(u,[s,i,a],"float32")},xDe={kernelName:lD,backendName:"webgl",kernelFunc:bDe};var lb;(function(t){t.Prod="*",t.Sum="+"})(lb||(lb={}));class N6{constructor(e,n,r,s){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,a=this.op===lb.Prod?"1.0":"0.0",o=r?a:`getX(${R6(i,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let c="",u="";r?(c=s?`end != ${l-1}`:"end != 0",u=s?"end + 1":"end - 1"):(c=s?`end + pow2 < ${l}`:"end >= pow2",u=s?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${gr(i)} coords = getOutputCoords();
        int end = ${O6(i,"coords",this.op)};
        float val = ${o};
        int pow2 = int(pow(2.0, index));
        if (${c}) {
          int idx = ${u};
          ${O6(i,"coords",this.op)} = idx;
          val ${this.op}= getX(${R6(i,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function R6(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function O6(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SX(t,e,n,r,s,i){const a=e.shape.length,o=ns([r],a);let l=e;o!=null&&(l=Oi({inputs:{x:e},backend:n,attrs:{perm:o}}));const c=fs(1,a)[0];if(c!==a-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${r}`);const u=l.shape[c];let d=To({inputs:{x:l},backend:n});for(let h=0;h<=Math.ceil(Math.log2(u))-1;h++){const p=new N6(t,l.shape,!1,i),m=[[h]],f=d;d=n.runWebGLProgram(p,[d],d.dtype,m),n.disposeIntermediateTensorInfo(f)}if(s){const h=new N6(t,l.shape,s,i),p=d;d=n.runWebGLProgram(h,[d],d.dtype),n.disposeIntermediateTensorInfo(p)}if(o!=null){const h=oh(o),p=Oi({inputs:{x:d},backend:n,attrs:{perm:h}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),p}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;return SX(lb.Prod,s,n,i,a,o)}const _De={kernelName:aD,backendName:"webgl",kernelFunc:wDe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;return SX(lb.Sum,s,n,i,a,o)}const CDe={kernelName:qC,backendName:"webgl",kernelFunc:SDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a,binaryOutput:o}=r;if(s.shape.length===1){const l=n.readSync(s.dataId),c=n.readSync(i.dataId),u=rX(l,c,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,u)}else if(s.shape.length===2){const l=n.bufferSync(s),c=n.bufferSync(i),u=DNe(l,c,a,o);return n.makeTensorInfo(u.shape,i.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const EDe={kernelName:cD,backendName:"webgl",kernelFunc:kDe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TDe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:a}=r,o=s.shape[0],l=a==="NHWC"?s.shape[1]:s.shape[2],c=a==="NHWC"?s.shape[2]:s.shape[3],u=a==="NHWC"?s.shape[3]:s.shape[1],d=l*i,h=c*i,p=u/(i*i),m=a==="NHWC"?[o,d,h,p]:[o,p,d,h],f=new TDe(m,i,a);return n.runWebGLProgram(f,[s],s.dtype)}const ADe={kernelName:uD,backendName:"webgl",kernelFunc:IDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CX{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=pi(this.outputShape.length);const a=e.filterHeight,o=e.filterWidth,l=e.outChannels/e.inChannels;let c="",u="";r&&(s?c=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?c=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:c=`
          float activation(float x) {
            ${r}
          }
        `,u="result = activation(result);");const d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${c}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${a}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${o}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${d}
        ${u}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kX{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=pi(this.outputShape.length);const a=e.outChannels/e.inChannels,o=e.padInfo.left,l=e.strideWidth,c=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,h=d;let p=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let w=0;w<d;w++)p+=`
          vec4 xTexelC${w*2};
          int xTexelC${w*2}Ready;
          vec4 xTexelC${w*2+1};
          int xTexelC${w*2+1}Ready;
          vec4 xC${w};`;p+=`
    for (int r = 0; r < ${u}; r++) {
      `;for(let w=0;w<d;w++)p+=`
          xTexelC${w*2} = vec4(0.0);
          xTexelC${w*2}Ready = 0;
          xTexelC${w*2+1} = vec4(0.0);
          xTexelC${w*2+1}Ready = 0;
          xC${w} = vec4(0.0);`;p+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let w=0;w<(h+1)/2;w++){const g=w*2;if(p+=`
          xC = xCCorner + ${g*c};
          `,l===1){if(g<d&&(o%2===1?(p+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                  xTexelC${g} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${g}.zw = vec2(0.0);
                  }
                  xTexelC${g}Ready = 1;
                }
              `,c===1&&g>0?p+=`
                xC${g} = vec4(xTexelC${g-2}.zw, xTexelC${g}.xy);
                `:p+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${g} = vec4(previous.zw, xTexelC${g}.xy);
                  } else {
                    xC${g} = vec4(0.0, 0.0, xTexelC${g}.xy);
                  }
                  `):p+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                  xTexelC${g} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${g}.zw = vec2(0.0);
                  }
                  xTexelC${g}Ready = 1;
                }

                xC${g} = xTexelC${g};
                `,g+1<d)){const C=o%2===0?G$(c):c;c%2===0&&o%2===1||c%2!==0&&o%2!==1?(p+=`
                  xCOffset = xC + imod(pads[1], 2) + ${C};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                    xTexelC${g+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${g+1}.zw = vec2(0.0);
                    }
                    xTexelC${g+1}Ready = 1;
                  }
                  `,c>1?p+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${g+1} = vec4(previous.zw, xTexelC${g+1}.xy);
                    } else {
                     xC${g+1} = vec4(0.0, 0.0, xTexelC${g+1}.xy);
                    }
                    `:p+=`
                    xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.xy);
                    `):C===1?p+=`
                    xC${g+1} = xTexelC${g};
                    `:p+=`
                    xCOffset = xC + ${C};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                      xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${g+1}.zw = vec2(0.0);
                      }
                      xTexelC${g+1}Ready = 1;
                    }

                    xC${g+1} = xTexelC${g+1};
                    `}}else g<d&&(o%2===1?(p+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                  xTexelC${g} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${g}.zw = vec2(0.0);
                  }
                  xTexelC${g}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${g+1}Ready == 0) {
                  xTexelC${g+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${g+1}.zw = vec2(0.0);
                  }
                  xTexelC${g+1}Ready = 1;
                }

                xC${g} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
              `,g+1<d&&(p+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${g+1} = vec4(xTexelC${g+1}.xy, final.xy);
                `)):(p+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                  xTexelC${g} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${g}.zw = vec2(0.0);
                  }
                  xTexelC${g}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                  xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${g+1}.zw = vec2(0.);
                  }
                  xTexelC${g+1}Ready = 1;
                }

                xC${g} = vec4(
                  xTexelC${g}.xy, xTexelC${g+1}.xy);
              `,g+1<d&&(p+=`
                  xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
                `)));g<d&&(p+=`
            wTexel = getW(r, ${g}, d1, q);
            dotProd += xC${g} * vec4(wTexel.xz, wTexel.xz);
          `,g+1<d&&(p+=`
              wTexel = getW(r, ${g+1}, d1, q);
              dotProd += xC${g+1} * vec4(wTexel.xz, wTexel.xz);
            `))}p+=`
    }
  `,p+=`
      }
    `;let m="",f="";r&&(s?m=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?m=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:m=`vec4 activation(vec4 x) {
          ${r}
        }`,f="result = activation(result);");const b=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${m}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${a};
        int q = d2 - d1 * ${a};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${p}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${b}
        ${f}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:l,dimRoundingMode:c}=r;let u=l;u==null&&(u=[1,1]),oe(fi(a,u),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const d=Zs(s.shape,i.shape,a,u,o,c,!0);let h;je().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?h=new kX(d):h=new CX(d);const p=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(h,[s,i],"float32",p)}const RDe={kernelName:XC,backendName:"webgl",kernelFunc:NDe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ODe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${a} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class $De{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,a=n-1-e.padInfo.top,o=r-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,dilations:o,pad:l,dimRoundingMode:c,filterShape:u}=r,d=Zs(s.shape,u,a,o,l,c,!0),h=new ODe(d);return n.runWebGLProgram(h,[s,i],"float32")}const PDe={kernelName:dD,backendName:"webgl",kernelFunc:DDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MDe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:a,dilations:o,pad:l,dimRoundingMode:c,inputShape:u}=r,d=Zs(u,i.shape,a,o,l,c,!0),h=new $De(d);return n.runWebGLProgram(h,[s,i],"float32")}const BDe={kernelName:hD,backendName:"webgl",kernelFunc:MDe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LDe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FDe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=[...r.shape,...r.shape],i=He(r.shape),a=Tt({inputs:{x:r},backend:n,attrs:{shape:[i]}}),o=new LDe(i),l=n.runWebGLProgram(o,[a],a.dtype),c=Tt({inputs:{x:l},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const jDe={kernelName:i3,backendName:"webgl",kernelFunc:FDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zDe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:r,padInfo:s,strideHeight:i,strideWidth:a,filterHeight:o,filterWidth:l,dilationHeight:c,dilationWidth:u}=e,{top:d,left:h}=s;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${a});
      const ivec2 pads = ivec2(${d}, ${h});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${o}; h++) {
          int hIn = hBeg + h * ${c};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${u};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:l}=r,c=Bx(s.shape,i.shape,a,o,"NHWC",l);let u;const d=new zDe(c);u=n.runWebGLProgram(d,[s,i],"float32");const h=Tt({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),h}const WDe={kernelName:KC,backendName:"webgl",kernelFunc:UDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VDe(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:a,summedDims:o,idDims:l}=BP(s,i.length);FP(a.length,l,i);const{path:c,steps:u}=jP(o,l),d=u.length;let h=null,p=a.length;const m=[];for(let f=0;f<d;++f){for(const b of u[f]){const{permutationIndices:w,expandDims:g}=LP(p,l[b]);let C;zP(w)?C=i[b]:(C=Oi({inputs:{x:i[b]},backend:n,attrs:{perm:w}}),m.push(C));const k=C.shape.slice();for(let N=0;N<g.length;++N)k.splice(g[N],0,1);rr(C.shape,k)||(C=Tt({inputs:{x:C},backend:n,attrs:{shape:k}}),m.push(C)),h===null?h=C:(h=IM({inputs:{a:C,b:h},backend:n}),m.push(h))}f<d-1&&(c[f]>=0&&(h=uE({inputs:{x:h},backend:n,attrs:{axis:c[f]-(a.length-p),keepDims:!1}}),m.push(h)),p--)}for(const f of m)f!==h&&n.disposeIntermediateTensorInfo(f);return h}const GDe={kernelName:o3,backendName:"webgl",kernelFunc:VDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HDe="return (x >= 0.0) ? x : (exp(x) - 1.0);",YDe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,qDe=Un({opSnippet:HDe,packedOpSnippet:YDe}),XDe={kernelName:Zb,backendName:"webgl",kernelFunc:qDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KDe="return (b >= 0.0) ? a : a * (b + 1.0);",JDe=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,QDe=t=>{const{inputs:e,backend:n}=t,{dy:r,y:s}=e,i=je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new r1(JDe,r.shape,s.shape):new mg(KDe,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],r.dtype)},ZDe={kernelName:fD,backendName:"webgl",kernelFunc:QDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ePe=`
  return vec4(equal(a, b));
`,tPe="return float(a == b);",nPe=ti({opSnippet:tPe,packedOpSnippet:ePe,dtype:"bool",cpuKernelImpl:LNe}),rPe={kernelName:JC,backendName:"webgl",kernelFunc:nPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sPe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${NP};
  float a1 = ${RP};
  float a2 = ${OP};
  float a3 = ${$P};
  float a4 = ${DP};
  float a5 = ${PP};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,iPe=Un({opSnippet:sPe}),oPe={kernelName:ex,backendName:"webgl",kernelFunc:iPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aPe=Ug+`
  return exp(x);
`,lPe=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,EX=Un({opSnippet:aPe,packedOpSnippet:lPe,cpuKernelImpl:FNe,dtype:"float32"}),cPe={kernelName:tx,backendName:"webgl",kernelFunc:EX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lR(t){const{inputs:e,attrs:n,backend:r}=t,{dim:s}=n,{input:i}=e,a=i.shape.length,o=i.shape.slice();let l=s;return s<0&&(oe(-(a+1)<=s,()=>`Axis must be in the interval [${-(a+1)}, ${a}]`),l=a+s+1),o.splice(l,0,1),Tt({inputs:{x:i},backend:r,attrs:{shape:o}})}const uPe={kernelName:QC,backendName:"webgl",kernelFunc:lR};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $6="return exp(x) - 1.0;",dPe=Un({opSnippet:$6,packedOpSnippet:$6,cpuKernelImpl:jNe}),hPe={kernelName:nx,backendName:"webgl",kernelFunc:dPe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class D6{constructor(e,n,r){this.variableNames=["real","imag"];const s=n[1];this.outputShape=n;const i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,a=r?`${s}.0`:"1.0";let o;if(e==="real")o="return real * expR - imag * expI;";else if(e==="imag")o="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${o}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${s});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${s}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${a};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TX(t,e,n){const r=n.texData.get(t.dataId),s=He(t.shape),i=t.shape[t.shape.length-1],a=s/i,o=Tt({inputs:{x:t},backend:n,attrs:{shape:[a,i]}}),l=o.shape,c=new D6("real",l,e),u=new D6("imag",l,e),d=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],h=n.runWebGLProgram(c,d,"float32"),p=n.runWebGLProgram(u,d,"float32"),m=dh({inputs:{real:h,imag:p},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p);const f=Tt({inputs:{x:m},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(m),f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fPe(t){const{inputs:e,backend:n}=t,{input:r}=e;return TX(r,!1,n)}const pPe={kernelName:pD,backendName:"webgl",kernelFunc:fPe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mPe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i1(t){const{backend:e,attrs:n}=t,{shape:r,value:s}=n;let{dtype:i}=n;if(i=i||Ag(s),i==="string"){const a=us(i,He(r));return a.fill(s),e.makeTensorInfo(r,i,a)}else{const a=new mPe(r,s),o=[[s]];return e.runWebGLProgram(a,[],i,o)}}const gPe={kernelName:mD,backendName:"webgl",kernelFunc:i1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vPe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yPe={kernelName:gD,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,r=e,s=new vPe(n.shape);return r.runWebGLProgram(s,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P6="return floor(x);",bPe=Un({opSnippet:P6,packedOpSnippet:P6,cpuKernelImpl:zNe}),xPe={kernelName:rx,backendName:"webgl",kernelFunc:bPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wPe=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,_Pe=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,SPe=ti({opSnippet:wPe,packedOpSnippet:_Pe,dtype:"int32"}),CPe={kernelName:sx,backendName:"webgl",kernelFunc:SPe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kPe{constructor(e){this.variableNames=["A"];const n=$i(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EPe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=$i(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${s}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TPe={kernelName:wN,backendName:"webgl",kernelFunc:IPe};let Hp,sI=je().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function IPe(t){const{inputs:e,backend:n,attrs:r}=t;let{pixels:s}=e;const{numChannels:i}=r,a=typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement,o=typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement,[l,c]=a?[s.videoWidth,s.videoHeight]:[s.width,s.height],u=[c,l],d=[c,l,i];if(o||a){const f=je().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Hp==null||f!==sI)&&(sI=f,Hp=document.createElement("canvas").getContext("2d",{willReadFrequently:sI})),Hp.canvas.width=l,Hp.canvas.height=c,Hp.drawImage(s,0,0,l,c),s=Hp.canvas}const h=n.makeTensorInfo(u,"int32");n.texData.get(h.dataId).usage=Ho.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),s);const p=je().getBool("WEBGL_PACK")?new EPe(d):new kPe(d),m=n.runWebGLProgram(p,[h],"int32");return n.disposeData(h.dataId),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function APe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:m}=r,f=wu(u),b=Zs(s.shape,i.shape,l,d,c,h,!1,f);let w;const g=[],C=a!=null,k=o!=null,N=p==="leakyrelu",A=()=>{const R=[s,i],$=(D,B)=>{if(B==="NCHW"&&D.shape.length===1&&D.shape[0]!==1){const M=Tt({inputs:{x:D},backend:n,attrs:{shape:[D.shape[0],1,1]}});return g.push(M),M}return D};if(C&&R.push($(a,u)),k&&R.push($(o,u)),N){const D=n.makeTensorInfo([],"float32",sh(m,"float32"));R.push(D),g.push(D)}return R};if(b.filterHeight===1&&b.filterWidth===1&&b.dilationHeight===1&&b.dilationWidth===1&&b.strideHeight===1&&b.strideWidth===1&&(b.padInfo.type==="SAME"||b.padInfo.type==="VALID"))w=wX({x:s,filter:i,convInfo:b,backend:n,bias:a,activation:p,preluActivationWeights:o,leakyreluAlpha:m});else if(b.strideWidth<=2&&f==="channelsLast"&&je().getBool("WEBGL_EXP_CONV")){const R=p?ob(p,!0):null,$=new xX(b,C,R,k,N),D=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],B=A();w=n.runWebGLProgram($,B,"float32",D)}else if(je().getBool("WEBGL_CONV_IM2COL"))w=_X({x:s,filter:i,convInfo:b,backend:n,bias:a,activation:p,preluActivationWeights:o,leakyreluAlpha:m});else{const R=p?ob(p,!1):null,$=new bX(b,C,R,k,N),D=A();w=n.runWebGLProgram($,D,"float32")}const O=Tt({inputs:{x:w},backend:n,attrs:{shape:b.outShape}});return g.push(w),g.forEach(R=>n.disposeIntermediateTensorInfo(R)),O}const NPe={kernelName:sS,backendName:"webgl",kernelFunc:APe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RPe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:l,pad:c,dilations:u,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r,m=[];let f=u;f==null&&(f=[1,1]),oe(fi(l,f),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${f}'`);const b=Zs(s.shape,i.shape,l,f,c,d,!0),w=je().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels===1,g=h?ob(h,w):null,C=[s,i],k=a!=null,N=o!=null,A=h==="leakyrelu";if(k&&C.push(a),N&&C.push(o),A){const D=n.makeTensorInfo([],"float32",sh(p,"float32"));C.push(D),m.push(D)}let O;w?O=new kX(b,k,g,N,A):O=new CX(b,k,g,N,A);const R=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],$=n.runWebGLProgram(O,C,"float32",R);return m.forEach(D=>n.disposeIntermediateTensorInfo(D)),$}const OPe={kernelName:k3,backendName:"webgl",kernelFunc:RPe};class $Pe{constructor(e,n,r,s){this.sliceDim=e,this.strides=n,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=r;const i=gr(r.length);let a=`
    int index;`;for(let o=0;o<this.sliceDim;o++)a+=`
          index = round(getIndices(coords[0], ${o}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[o]};
          flattenIndex += index * ${this.strides[o]};`;this.userCode=`
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${a}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DPe(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=s.shape,a=i[i.length-1],o=He(r.shape),[l,c,u,d]=bP(r,s),h=Tt({inputs:{x:s},backend:n,attrs:{shape:[c,a]}}),p=Tt({inputs:{x:r},backend:n,attrs:{shape:[He(r.shape)/u,u]}});if(n.shouldExecuteOnCPU([r,s])||r.dtype==="string"){const w=n.readSync(s.dataId),g=n.bufferSync(r),C=UNe(w,g,r.dtype,c,a,u,d,r.shape,o);return n.makeTensorInfo(l,r.dtype,C.values)}const m=new $Pe(a,d,[c,u],r.shape),f=n.runWebGLProgram(m,[p,h],p.dtype),b=Tt({inputs:{x:f},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),b}const PPe={kernelName:a3,backendName:"webgl",kernelFunc:DPe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MPe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=gr(this.rank),s=BPe(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${s}));
      }
    `}}function BPe(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let s=0;s<t.length;s++)s===2?r.push("index"):r.push(`${n[s]}`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IX(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:a,batchDims:o}=r,l=An(a,s.shape)[0];if(je().get("DEBUG")){const g=n.readSync(i.dataId),C=s.shape[l];for(let k=0;k<g.length;++k){const N=g[k];oe(N<=C-1&&N>=0,()=>`GatherV2: the index value ${N} is not in [0, ${C-1}]`)}}const c=WP(s,i,l,o),u=He(i.shape),d=[],h=Tt({inputs:{x:s},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),p=Tt({inputs:{x:i},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});d.push(h),d.push(p);const m=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([s,i])||s.dtype==="string"){const g=n.bufferSync(p),C=n.bufferSync(h),k=WNe(C,g,m);return d.forEach(N=>n.disposeIntermediateTensorInfo(N)),n.makeTensorInfo(c.outputShape,k.dtype,k.values)}const f=new MPe(h.shape,m),b=n.runWebGLProgram(f,[h,p],h.dtype);d.push(b);const w=Tt({inputs:{x:b},backend:n,attrs:{shape:c.outputShape}});return d.forEach(g=>n.disposeIntermediateTensorInfo(g)),w}const LPe={kernelName:ek,backendName:"webgl",kernelFunc:IX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FPe="return float(a > b);",jPe=`
  return vec4(greaterThan(a, b));
`,zPe=ti({opSnippet:FPe,packedOpSnippet:jPe,cpuKernelImpl:VNe,dtype:"bool"}),UPe={kernelName:tk,backendName:"webgl",kernelFunc:zPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WPe="return float(a >= b);",VPe=`
  return vec4(greaterThanEqual(a, b));
`,GPe=ti({opSnippet:WPe,packedOpSnippet:VPe,dtype:"bool",cpuKernelImpl:GNe}),HPe={kernelName:ix,backendName:"webgl",kernelFunc:GPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YPe(t){const{inputs:e,backend:n}=t,{input:r}=e;return TX(r,!0,n)}const qPe={kernelName:vD,backendName:"webgl",kernelFunc:YPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XPe="return float(!isnan(x) && !isinf(x));",KPe=Un({opSnippet:XPe,dtype:"bool"}),JPe={kernelName:ax,backendName:"webgl",kernelFunc:KPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QPe="return float(isinf(x));",ZPe=Un({opSnippet:QPe,dtype:"bool"}),eMe={kernelName:lx,backendName:"webgl",kernelFunc:ZPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tMe="return float(isnan(x));",nMe=Un({opSnippet:tMe,dtype:"bool"}),rMe={kernelName:cx,backendName:"webgl",kernelFunc:nMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sMe="return float(a < b);",iMe=`
  return vec4(lessThan(a, b));
`,oMe=ti({opSnippet:sMe,packedOpSnippet:iMe,cpuKernelImpl:HNe,dtype:"bool"}),aMe={kernelName:rk,backendName:"webgl",kernelFunc:oMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lMe="return float(a <= b);",cMe=`
  return vec4(lessThanEqual(a, b));
`,uMe=ti({opSnippet:lMe,packedOpSnippet:cMe,cpuKernelImpl:YNe,dtype:"bool"}),dMe={kernelName:sk,backendName:"webgl",kernelFunc:uMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hMe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,a=qNe(r,s,i);return e.makeTensorInfo([a.length],"float32",a)}const fMe={kernelName:l3,backendName:"webgl",kernelFunc:hMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pMe=Ug+`
  return x < 0.0 ? 0./0. : log(x);
`,mMe=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,gMe=Un({opSnippet:pMe,packedOpSnippet:mMe,cpuKernelImpl:XNe}),vMe={kernelName:ux,backendName:"webgl",kernelFunc:gMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yMe=Ug+`
  return log(1.0 + x);
`,bMe=Un({opSnippet:yMe}),xMe={kernelName:dx,backendName:"webgl",kernelFunc:bMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wMe="return float(a >= 1.0 && b >= 1.0);",_Me=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,SMe=ti({opSnippet:wMe,packedOpSnippet:_Me,dtype:"bool"}),CMe={kernelName:ik,backendName:"webgl",kernelFunc:SMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kMe="return float(!(x >= 1.0));",EMe=Un({opSnippet:kMe}),TMe={kernelName:ok,backendName:"webgl",kernelFunc:EMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IMe="return float(a >= 1.0 || b >= 1.0);",AMe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,NMe=ti({opSnippet:IMe,packedOpSnippet:AMe,dtype:"bool"}),RMe={kernelName:ak,backendName:"webgl",kernelFunc:NMe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OMe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[];const a=n,o=e[3]-1;this.outputShape=e;let l;const c=`float(${r}) + float(${s}) * sum`;i===.5?l=`inversesqrt(${c})`:i===1?l=`1.0/(${c})`:l=`exp(log(${c}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${a}; j <= ${a}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${o}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $Me{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const a=n,o=e[3]-1;this.outputShape=e;let l;const c=`float(${r}) + float(${s}) * sum`;i===.5?l=`inversesqrt(${c})`:i===1?l=`1.0/(${c})`:l=`exp(log(${c}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${a};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${a}; j <= ${a}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${o}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DMe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:a,alpha:o,beta:l}=r,c=je().getBool("WEBGL_PACK_NORMALIZATION")?new $Me(s.shape,i,a,o,l):new OMe(s.shape,i,a,o,l);return n.runWebGLProgram(c,[s],s.dtype)},PMe={kernelName:lk,backendName:"webgl",kernelFunc:DMe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MMe{constructor(e,n,r,s,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=r,this.alpha=s,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${s}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${s})
                * float(${i})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BMe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:a}=e,{depthRadius:o,bias:l,alpha:c,beta:u}=r,d=new MMe(s.shape,o,l,c,u);return n.runWebGLProgram(d,[s,i,a],s.dtype)},LMe={kernelName:bD,backendName:"webgl",kernelFunc:BMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FMe(t,e,n,r){const s=He(e),a=He(t.shape)/s,o=Tt({inputs:{x:t},attrs:{shape:[a,s]},backend:r}),l=$p(o,t.dtype,"max",r),c=Tt({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AX(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:a}=r,o=s.shape.length,l=An(i,s.shape);let c=l;const u=ns(c,o),d=u!=null,h=n.shouldExecuteOnCPU([s]);let p=s;if(d){if(h){const C=n.texData.get(p.dataId).values,k=new Array(o);for(let O=0;O<k.length;O++)k[O]=s.shape[u[O]];const N=EM(C,s.shape,s.dtype,u,k);p=n.makeTensorInfo(k,s.dtype);const A=n.texData.get(p.dataId);A.values=N}else p=cE(s,u,n);c=fs(c.length,o)}ei("max",c,o);const[m,f]=zs(p.shape,c);let b=m;a&&(b=ws(m,l));let w;if(h){const C=n.texData.get(p.dataId).values,k=KNe(C,He(f),b,s.dtype);w=n.makeTensorInfo(b,s.dtype);const N=n.texData.get(w.dataId);N.values=k}else w=FMe(p,f,b,n);return d&&n.disposeIntermediateTensorInfo(p),w}const jMe={kernelName:ck,backendName:"webgl",kernelFunc:AX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zMe=TM+`
  return max(a, b);
`,UMe=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Op+`
  return result;
`,WMe=ti({opSnippet:zMe,packedOpSnippet:UMe,cpuKernelImpl:JNe}),VMe={kernelName:hx,backendName:"webgl",kernelFunc:WMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GMe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;t1(s,"maxPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r,c=1;oe(fi(a,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`);const u=Pa(s.shape,i,a,c,o,l);if(u.filterWidth===1&&u.filterHeight===1&&rr(u.inShape,u.outShape))return To({inputs:{x:s},backend:n});const d=new ab(u,"max",!1);return n.runWebGLProgram(d,[s],s.dtype)}const HMe={kernelName:uk,backendName:"webgl",kernelFunc:GMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YMe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dataFormat:l,dimRoundingMode:c}=r,u=[1,1,1],d=xu(s.shape,i,a,u,o,c,l),h=new AM(d,"max",!1);return n.runWebGLProgram(h,[s],s.dtype)}const qMe={kernelName:dk,backendName:"webgl",kernelFunc:YMe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XMe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,r=e.strideWidth,s=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,o=i-1-e.padInfo.top,l=a-1-e.padInfo.left,c=i*a-1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${a}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${c} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${a} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class KMe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,o=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=l-1-e.padInfo.front,h=c-1-e.padInfo.top,p=u-1-e.padInfo.left,m=l*c*u-1;this.userCode=`
      const ivec3 pads = ivec3(${d}, ${h}, ${p});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${c};
              wR += ${a}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${u};
                wC += ${o}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${m} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${c} * ${u} +
                  wR * ${u} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JMe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=r,d=[1,1,1],h=xu(a.shape,o,l,d,c,u),p=new AM(h,"max",!0),m=n.runWebGLProgram(p,[a],a.dtype),f=new KMe(h),b=n.runWebGLProgram(f,[s,m],a.dtype);return n.disposeIntermediateTensorInfo(m),b}const QMe={kernelName:wD,backendName:"webgl",kernelFunc:JMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZMe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:a}=e,o=i;t1([i,a],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=r,h=Pa(o.shape,l,c,1,u,d),p=!0,m=new ab(h,"max",p),f=n.runWebGLProgram(m,[o],o.dtype),b=new XMe(h),w=n.runWebGLProgram(b,[s,f],o.dtype);return n.disposeIntermediateTensorInfo(f),w}const eBe={kernelName:xD,backendName:"webgl",kernelFunc:ZMe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tBe(t,e,n,r){let s=new ab(n,"max",!1);const i=r.runWebGLProgram(s,[t],"float32");s=new ab(n,"max",!0,!0,e);const a=r.runWebGLProgram(s,[t],"float32");return[i,a]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nBe={kernelName:c3,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:a,includeBatchInIndex:o}=e,l=n;oe(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const c=[1,1];oe(fi(i,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`);const u=Pa(r.shape,s,i,c,a),[d,h]=tBe(r,o,u,l);return[d,h]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rBe(t,e,n,r){const s=He(e),a=He(t.shape)/s,o=Tt({inputs:{x:t},attrs:{shape:[a,s]},backend:r}),l=$p(o,"float32","mean",r),c=Tt({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sBe={kernelName:hk,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{keepDims:s,axis:i}=e,a=n,o=r.shape.length,l=An(i,r.shape);let c=l;const u=ns(c,o),d=u!=null,h=a.shouldExecuteOnCPU([r]),p=[];let m=r;if(d){if(h){const k=a.texData.get(m.dataId).values,N=new Array(o);for(let R=0;R<N.length;R++)N[R]=r.shape[u[R]];const A=EM(k,r.shape,r.dtype,u,N);m=a.makeTensorInfo(N,r.dtype);const O=a.texData.get(m.dataId);O.values=A}else m=cE(r,u,a);p.push(m),c=fs(c.length,o)}ei("sum",c,o);const[f,b]=zs(m.shape,c);let w=f;s&&(w=ws(f,l));const g=rBe(m,b,w,a);for(const C of p)a.disposeIntermediateTensorInfo(C);return g}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iBe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,l=An(i,s.shape);let c=l;const u=ns(c,o);let d=s;u!=null&&(d=Oi({inputs:{x:s},backend:n,attrs:{perm:u}}),c=fs(c.length,s.shape.length)),ei("min",c,o);const[h,p]=zs(d.shape,c),m=He(p),f=Tt({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),b=$p(f,f.dtype,"min",n);let w;if(a){const g=ws(h,l);w=Tt({inputs:{x:b},backend:n,attrs:{shape:g}})}else w=Tt({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),w}const oBe={kernelName:fk,backendName:"webgl",kernelFunc:iBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aBe=TM+`
  return min(a, b);
`,lBe=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Op+`
  return result;
`,cBe=ti({opSnippet:aBe,packedOpSnippet:lBe,cpuKernelImpl:QNe}),uBe={kernelName:fx,backendName:"webgl",kernelFunc:cBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dBe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=n.map((u,d)=>u[0]+e[d]+u[1]);const s=e.length,i=gr(s),a=n.map(u=>u[0]).join(","),o=n.map((u,d)=>u[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),c=r==="reflect"?0:1;if(s===1){this.userCode=`
        int start = ${a};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${c};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${c};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${a});
      ${i} end = ${i}(${o});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${s}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${c};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${c};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hBe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((m,f)=>m[0]+e[f]+m[1]);const s=e.length,i=gr(s),a=n.map(m=>m[0]).join(","),o=n.map((m,f)=>m[0]+e[f]).join(","),l=Ei("rc",s),c=Ei("source",s),u=`${l[s-1]} < ${this.outputShape[s-1]}`,d=s===1?"source":`vec2(${c.slice(-2).join()})`,h=r==="reflect"?0:1;let p="";if(s===1){const m=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${h};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${h};
        }
        source -= start;
      `;p=`
        ${i} rc = outputLoc;
        ${m}
        result[0] = getChannel(getX(${c.join()}), ${d});
        ${l[s-1]} += 1;
        if(${u}) {
          ${m}
          result[1] = getChannel(getX(${c.join()}), ${d});
        }
      `}else{const m=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${h}) +
                gte * ((end - 1) * 2 - source + ${h});
        source -= start;
      `;p=`
        ${i} rc = outputLoc;
        ${m}
        result[0] = getChannel(getX(${c.join()}), ${d});
        ${l[s-1]} += 1;
        if(${u}) {
          ${m}
          result[1] = getChannel(getX(${c.join()}), ${d});
        }
        rc = outputLoc;
        ${l[s-2]} += 1;
        if(${l[s-2]} < ${this.outputShape[s-2]}) {
          ${m}
          result[2] = getChannel(getX(${c.join()}), ${d});
          ${l[s-1]} += 1;
          if(${u}) {
            ${m}
            result[3] = getChannel(getX(${c.join()}), ${d});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${a});
      const ${i} end = ${i}(${o});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fBe=({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{paddings:s,mode:i}=n,a=je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new hBe(r.shape,s,i):new dBe(r.shape,s,i);return e.runWebGLProgram(a,[r],r.dtype)},pBe={kernelName:pk,backendName:"webgl",kernelFunc:fBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mBe=`if (b == 0.0) return NAN;
  return mod(a, b);`,gBe=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+Op+`
  return result;
`,vBe=ti({opSnippet:mBe,packedOpSnippet:gBe}),yBe={kernelName:px,backendName:"webgl",kernelFunc:vBe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bBe{constructor(e,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xBe=`
if (a == b) {
  return 1.0;
};
return a / b;`,wBe=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,NX=ti({opSnippet:xBe,packedOpSnippet:wBe,checkOutOfBounds:!0}),_Be={kernelName:Qb,backendName:"webgl",kernelFunc:NX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M6="return a - b;",RX=ti({opSnippet:M6,packedOpSnippet:M6,supportsComplex:!0,cpuKernelImpl:bRe}),SBe={kernelName:Nx,backendName:"webgl",kernelFunc:RX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OX(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,a=An([i],s.shape),o=AX({inputs:{x:s},backend:n,attrs:{reductionIndices:a,keepDims:!1}}),l=ws(o.shape,a),c=Tt({inputs:{x:o},backend:n,attrs:{shape:l}}),u=RX({inputs:{a:s,b:c},backend:n}),d=EX({inputs:{x:u},backend:n}),h=uE({inputs:{x:d},backend:n,attrs:{axis:a,keepDims:!1}}),p=Tt({inputs:{x:h},backend:n,attrs:{shape:l}}),m=NX({inputs:{a:d,b:p},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),m}const CBe={kernelName:Ok,backendName:"webgl",kernelFunc:OX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kBe(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:a,normalized:o}=r,l=o?s:OX({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),c=l.shape[0],u=l.shape[1],d=new bBe(c,u,i),h=[[a]],p=n.runWebGLProgram(d,[l],"int32",h);return o||n.disposeIntermediateTensorInfo(l),p}const EBe={kernelName:u3,backendName:"webgl",kernelFunc:kBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TBe=Ba+`
  return -x;
`,IBe=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function ABe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])){const i=n.texData.get(r.dataId),[a,o]=eRe(i.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,a)}let s;return je().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new cd(r.shape,IBe):s=new ql(r.shape,TBe),n.runWebGLProgram(s,[r],r.dtype)}const NBe={kernelName:mk,backendName:"webgl",kernelFunc:ABe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RBe=hP;function OBe(t){Vo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l}=r,c=n.readSync(s.dataId),u=n.readSync(i.dataId),{selectedIndices:d}=RBe(c,u,a,o,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const $Be={kernelName:_D,backendName:"webgl",kernelFunc:OBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DBe=fP;function PBe(t){Vo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=r,u=n.readSync(s.dataId),d=n.readSync(i.dataId),{selectedIndices:h,validOutputs:p}=DBe(u,d,a,o,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}const MBe={kernelName:SD,backendName:"webgl",kernelFunc:PBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BBe=pP;function LBe(t){Vo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=r,u=n.readSync(s.dataId),d=n.readSync(i.dataId),h=a,p=o,m=l,f=c,{selectedIndices:b,selectedScores:w}=BBe(u,d,h,p,m,f);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([w.length],"float32",new Float32Array(w))]}const FBe={kernelName:CD,backendName:"webgl",kernelFunc:LBe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jBe{constructor(e,n,r,s){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${s}), float(${r}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zBe=t=>{const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:a,onValue:o,offValue:l}=r,c=He(s.shape),u=new jBe(c,a,o,l),d=Tt({inputs:{x:s},backend:n,attrs:{shape:[c]}}),h=n.runWebGLProgram(u,[d],i);n.disposeIntermediateTensorInfo(d);const p=[...s.shape,a],m=Tt({inputs:{x:h},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(h),m},UBe={kernelName:yk,backendName:"webgl",kernelFunc:zBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OS(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="complex64"){const s=s1({inputs:{input:r},backend:n}),i=OS({inputs:{x:s},backend:n}),a=dE({inputs:{input:r},backend:n}),o=OS({inputs:{x:a},backend:n}),l=dh({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}else return i1({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const WBe={kernelName:Pk,backendName:"webgl",kernelFunc:OS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $X(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const s=s1({inputs:{input:r},backend:n}),i=$X({inputs:{x:s},backend:n}),a=dE({inputs:{input:r},backend:n}),o=OS({inputs:{x:a},backend:n}),l=dh({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}else return i1({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const VBe={kernelName:vk,backendName:"webgl",kernelFunc:$X};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GBe(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return lR({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,a=e[0].dtype;e.forEach(u=>{H$(i,u.shape,"All tensors passed to stack must have matching shapes"),oe(a===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],l=e.map(u=>{const d=lR({inputs:{input:u},backend:n,attrs:{dim:s}});return o.push(d),d}),c=yX({inputs:l,backend:n,attrs:{axis:s}});return o.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const HBe={kernelName:bk,backendName:"webgl",kernelFunc:GBe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YBe{constructor(e,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((c,u)=>c[0]+e[u]+c[1]);const s=e.length,i=gr(s),a=n.map(c=>c[0]).join(","),o=n.map((c,u)=>c[0]+e[u]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);if(s===1){this.userCode=`
        int start = ${a};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${a});
      ${i} end = ${i}(${o});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qBe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((f,b)=>f[0]+e[b]+f[1]);const s=e.length,i=gr(s),a=n.map(f=>f[0]).join(","),o=n.map((f,b)=>f[0]+e[b]).join(","),l=Ei("rc",s),c=Ei("source",s),u=`${l[s-1]} < ${this.outputShape[s-1]}`,d=s===1?"source":`vec2(${c.slice(-2).join()})`,h=[`${i} rc = outputLoc;`,`${l[s-1]} += 1;
       if(${u}) {
      `,s===1?"":`}
       rc = outputLoc;
       ${l[s-2]} += 1;
       if(${l[s-2]} < ${this.outputShape[s-2]}) {`,s===1?"":`  ${l[s-1]} += 1;
         if(${u}) {`],p=s===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let m="";for(let f=0,b=s===1?2:4;f<b;f++)m+=`
        ${h[f]}
        if (${p}) {
          result[${f}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${f}] = getChannel(getX(${c.join()}), ${d});
        }
      `;m+=s===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${a});
      const ${i} end = ${i}(${o});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${m}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DX=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:a}=r;if(He(s.shape)===0){const c=i.map((u,d)=>u[0]+s.shape[d]+u[1]);return i1({backend:n,attrs:{shape:c,value:a,dtype:s.dtype}})}const o=je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new qBe(s.shape,i,a):new YBe(s.shape,i,a),l=[[a]];return n.runWebGLProgram(o,[s],s.dtype,l)},XBe={kernelName:xk,backendName:"webgl",kernelFunc:DX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KBe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,JBe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+Op+`
  return result;
`,QBe=ti({opSnippet:KBe,packedOpSnippet:JBe}),ZBe={kernelName:gx,backendName:"webgl",kernelFunc:QBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e5e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,l=[],c=An(i,s.shape);let u=c;const d=ns(u,o);let h=s;d!=null&&(h=Oi({inputs:{x:s},backend:n,attrs:{perm:d}}),u=fs(u.length,o),l.push(h)),ei("prod",u,o);let p;if(n.shouldExecuteOnCPU([h])){const m=n.texData.get(h.dataId).values,{outVals:f,outShape:b,outDtype:w}=nRe(h.shape,h.dtype,m,u);p=n.makeTensorInfo(b,w,f)}else{const[m,f]=zs(h.shape,u),b=He(f),w=Tt({inputs:{x:h},backend:n,attrs:{shape:[-1,b]}}),g=BD(s.dtype),C=$p(w,g,"prod",n);p=Tt({inputs:{x:C},backend:n,attrs:{shape:m}}),l.push(w),l.push(C)}if(a){l.push(p);const m=ws(p.shape,c);p=Tt({inputs:{x:p},backend:n,attrs:{shape:m}})}return l.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const t5e={kernelName:_k,backendName:"webgl",kernelFunc:e5e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n5e(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:a}=e,{outputRaggedRank:o}=r,l=s.map(w=>n.readSync(w.dataId)),c=s.map(w=>w.shape),u=n.readSync(i.dataId),d=n.readSync(a.dataId),[h,p,m]=rRe(l,c,u,i.shape,i.dtype,d,a.shape,o),f=h.map(w=>n.makeTensorInfo([w.length],"int32",w)),b=n.makeTensorInfo(m,i.dtype,p);return f.concat([b])}const r5e={kernelName:d3,backendName:"webgl",kernelFunc:n5e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s5e(t){const{inputs:e,backend:n}=t,{starts:r,limits:s,deltas:i}=e,a=n.readSync(r.dataId),o=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=sRe(a,r.shape,r.dtype,o,s.shape,l,i.shape),d=n.makeTensorInfo([c.length],"int32",c),h=n.makeTensorInfo([u.length],r.dtype,u);return[d,h]}const i5e={kernelName:h3,backendName:"webgl",kernelFunc:s5e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o5e(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:a,rowPartitionTensors:o}=e,{rowPartitionTypes:l}=r,c=n.readSync(s.dataId),u=n.readSync(i.dataId),d=n.readSync(a.dataId),h=o.map(b=>n.readSync(b.dataId)),p=o.map(b=>b.shape),[m,f]=iRe(c,s.shape,u,i.shape,i.dtype,d,a.shape,h,p,l);return n.makeTensorInfo(m,i.dtype,f)}const a5e={kernelName:f3,backendName:"webgl",kernelFunc:o5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PX=t=>{const{backend:e,attrs:n}=t,{start:r,stop:s,step:i,dtype:a}=n,o=oRe(r,s,i,a);return e.makeTensorInfo([o.length],a,o)},l5e={kernelName:kD,backendName:"webgl",kernelFunc:PX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c5e="return 1.0 / x;",u5e=Un({opSnippet:c5e}),d5e={kernelName:vx,backendName:"webgl",kernelFunc:u5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h5e=Ba+`
  return (x < 0.0) ? 0.0 : x;
`,f5e=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,p5e=Un({opSnippet:h5e,packedOpSnippet:f5e}),m5e={kernelName:yx,backendName:"webgl",kernelFunc:p5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g5e=Ba+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,v5e=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,y5e=Un({opSnippet:g5e,packedOpSnippet:v5e}),b5e={kernelName:bx,backendName:"webgl",kernelFunc:y5e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x5e{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[a,o,l,c]=e;this.outputShape=[a,n,r,c];const u=[s&&n>1?o-1:o,s&&r>1?l-1:l],d=[s&&n>1?n-1:n,s&&r>1?r-1:r];let h;i?h="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/d[0]},
          ${u[1]/d[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class w5e{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,o,l,c]=e;this.outputShape=[a,n,r,c];const u=[s&&n>1?o-1:o,s&&r>1?l-1:l],d=[s&&n>1?n-1:n,s&&r>1?r-1:r];let h;i?h="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/d[0]},
          ${u[1]/d[1]},
          ${u[1]/d[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _5e(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r,[l,c]=o,u=je().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new w5e(s.shape,l,c,i,a):new x5e(s.shape,l,c,i,a);return n.runWebGLProgram(u,[s],"float32")}const S5e={kernelName:kk,backendName:"webgl",kernelFunc:_5e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class C5e{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,a,o]=e,l=[r&&a>1?s-1:s,r&&o>1?i-1:i],c=[r&&a>1?a-1:a,r&&o>1?o-1:o],u=l[0]/c[0],d=l[1]/c[1],h=1/u,p=1/d,m=Math.ceil(h)*2+2,f=Math.ceil(p)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${d});

        const float invHeightScale = float(${h});
        const float invWidthScale = float(${p});

        const int winHeight = int(${m});
        const int winWidth = int(${f});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${a}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k5e(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r,o=new C5e(i.shape,s.shape,a);return n.runWebGLProgram(o,[i],i.dtype)}const E5e={kernelName:ID,backendName:"webgl",kernelFunc:k5e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class T5e{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[a,o,l,c]=e;this.outputShape=[a,n,r,c];const u=[s&&n>1?o-1:o,s&&r>1?l-1:l],d=[s&&n>1?n-1:n,s&&r>1?r-1:r],h=s?"0.5":"0.0";let p;i?p="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":p="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/d[0]},
          ${u[1]/d[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${p};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class I5e{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,o,l,c]=e;this.outputShape=[a,n,r,c];const u=[s&&n>1?o-1:o,s&&r>1?l-1:l],d=[s&&n>1?n-1:n,s&&r>1?r-1:r],h=s?"0.5":"0.0";let p;i?p="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":p="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/d[0]},
          ${u[1]/d[1]},
          ${u[1]/d[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${p};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A5e(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r,[l,c]=o,u=je().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new I5e(s.shape,l,c,i,a):new T5e(s.shape,l,c,i,a);return n.runWebGLProgram(u,[s],s.dtype)}const N5e={kernelName:Ck,backendName:"webgl",kernelFunc:A5e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class R5e{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,a,o]=e,l=[r&&a>1?s-1:s,r&&o>1?i-1:i],c=[r&&a>1?a-1:a,r&&o>1?o-1:o],u=l[0]/c[0],d=l[1]/c[1],h=1/u,p=1/d,m=Math.ceil(h)*2+2,f=Math.ceil(p)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${d});

        const float invHeightScale = float(${h});
        const float invWidthScale = float(${p});

        const int winHeight = int(${m});
        const int winWidth = int(${f});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${a}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${c[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${c[1]}));

            int sourceNearestRow = int(min(
                float(int(${s}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O5e(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r,o=new R5e(i.shape,s.shape,a);return n.runWebGLProgram(o,[i],i.dtype)}const $5e={kernelName:TD,backendName:"webgl",kernelFunc:O5e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class D5e{constructor(e,n){this.variableNames=["x"];const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const s=o=>n.indexOf(o)!==-1&&e[o]!==1?`${e[o]} - coords[${o}] - 1`:`coords[${o}]`,i=e.map((o,l)=>s(l)).join(","),a=gr(r);this.userCode=`
      void main() {
        ${a} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class P5e{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=e;const s=Ei("rc",r),i=`${s[r-1]} + 1 < ${this.outputShape[r-1]}`,a=`${s[r-2]} + 1 < ${this.outputShape[r-2]}`,o=gr(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(s.slice())};
          if(${i}){
            result.g = ${c(s.slice())};
          }
          if(${a}) {
            result.b = ${u(s.slice())};
            if(${i}) {
              result.a = ${d(s.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(m){return h(m)}function c(m){return m[r-1]="("+m[r-1]+" + 1)",h(m)}function u(m){return m[r-2]="("+m[r-2]+" + 1)",h(m)}function d(m){return m[r-1]="("+m[r-1]+" + 1)",m[r-2]="("+m[r-2]+" + 1)",h(m)}function h(m){const f=e.map((g,C)=>p(C,m)),b=f.join(","),w=f.slice(-2).join(",");return`getChannel(getX(${b}), vec2(${w}))`}function p(m,f){return n.indexOf(m)!==-1&&e[m]!==1?`${e[m]} - ${f[m]} - 1`:`${f[m]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M5e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r,a=s.shape.length,o=An(i,s.shape);if(a===0)return To({inputs:{x:s},backend:n});const l=je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new P5e(s.shape,o):new D5e(s.shape,o);return n.runWebGLProgram(l,[s],s.dtype)}const B5e={kernelName:Ek,backendName:"webgl",kernelFunc:M5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class L5e{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=e[1],s=e[2];this.outputShape=e;let i="";typeof n=="number"?i=`float outputValue = ${n.toFixed(2)};`:i=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F5e={kernelName:PD,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:a}=e,o=n,l=new L5e(r.shape,i),[c,u]=TP(a,r.shape[1],r.shape[2]),d=[[c,u,Math.sin(s),Math.cos(s)]];return o.runWebGLProgram(l,[r],r.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j5e=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,z5e=Un({opSnippet:j5e}),U5e={kernelName:xx,backendName:"webgl",kernelFunc:z5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W5e="return inversesqrt(x);",V5e=Un({opSnippet:W5e,cpuKernelImpl:aRe}),G5e={kernelName:wx,backendName:"webgl",kernelFunc:V5e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NM{constructor(e,n,r,s,i,a,o=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;const c=gr(i.length),u=gr(a.length);let d="";r===1?d="i":r===2&&(d="i, j");const h=`getIndices(${d})`;let p="";s===1?p="i":s===2&&(p="i, coords[1]");const m=`getUpdates(${p})`;let f="";l&&(f="coords[0], coords[1]");const b=`getDefaultValue(${f})`,w=n>1?"strides[j]":"strides";this.userCode=`
        ${c} strides = ${c}(${i});

        void main() {
          ${u} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${h});
              flattenedIndex += index * ${w};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${m};
              found = true;
            }
          }
          setOutput(mix(${b}, sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class H5e{constructor(e,n,r,s,i,a,o=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a;const c=gr(i.length),u=gr(a.length);let d="";r===1?d="i":r===2&&(d="i, j");const h=`getIndices(${d})`;let p="";s===1?p="i":s===2&&(p="i, coords[1]");const m=`getUpdates(${p})`;let f="";l&&(f="coords[0], coords[1]");const b=`getDefaultValue(${f})`,w=n>1?"strides[j]":"strides",g=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${c} strides = ${c}(${i});

        void main() {
          ${u} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${h});
              flattenedIndex += index.xz * ${w};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${g};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${m};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${b}, sum, found));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y5e(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:a}=r,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=Tp(i,s,a),h=[d/c,c];if(d===0)return n.makeTensorInfo(a,s.dtype);const p=Tt({inputs:{x:s},backend:n,attrs:{shape:[l,o]}}),m=Tt({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),f=n.makeTensorInfo([],"float32",new Float32Array([0]));let b;je().getBool("WEBGL_PACK")?b=new H5e(l,o,p.shape.length,m.shape.length,u,h):b=new NM(l,o,p.shape.length,m.shape.length,u,h);const w=n.runWebGLProgram(b,[m,p,f],m.dtype),g=Tt({inputs:{x:w},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(f),g}const q5e={kernelName:p3,backendName:"webgl",kernelFunc:Y5e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class X5e{constructor(e,n,r,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,r];const i="while (left < right) {",a=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,o=je().getNumber("WEBGL_VERSION")===2?i:a,l=s==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${o}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K5e(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:a}=r,o=new X5e(s.shape[0],s.shape[1],i.shape[1],a),l=[[s.shape[1]]];return n.runWebGLProgram(o,[s,i],"int32",l)}const J5e={kernelName:g3,backendName:"webgl",kernelFunc:K5e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Q5e{constructor(e,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let s,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",s="resRC";else{const o=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],c=[];for(let u=0;u<n.length;u++)c.push(`${o[u]}`),u<e&&l.push(`${o[u]}`);s=l.join(),i=c.join()}const a=gr(r);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        float cVal = getC(${s});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z5e(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e,a=new Q5e(r.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(a,[r,s,i],ko(s.dtype,i.dtype))}const eLe={kernelName:Tk,backendName:"webgl",kernelFunc:Z5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tLe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${Gk};
  float scale = ${Hk};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,nLe=Un({opSnippet:tLe}),rLe={kernelName:_x,backendName:"webgl",kernelFunc:nLe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sLe=Ug+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,iLe=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,oLe=Un({opSnippet:sLe,packedOpSnippet:iLe,cpuKernelImpl:cRe}),aLe={kernelName:Ex,backendName:"webgl",kernelFunc:oLe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lLe=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,cLe=Un({opSnippet:lLe}),uLe={kernelName:kx,backendName:"webgl",kernelFunc:cLe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dLe=Ug+`
  return sin(x);
`,hLe=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${Op}
  return result;
`,fLe=Un({opSnippet:dLe,packedOpSnippet:hLe}),pLe={kernelName:Sx,backendName:"webgl",kernelFunc:fLe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mLe=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,gLe=Un({opSnippet:mLe}),vLe={kernelName:Cx,backendName:"webgl",kernelFunc:gLe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yLe=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,bLe=Un({opSnippet:yLe}),xLe={kernelName:Tx,backendName:"webgl",kernelFunc:bLe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wLe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:a}=r;oe(s.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const o=i.reduce((w,g)=>w*g),l=[[0,0]];l.push(...a);for(let w=1+i.length;w<s.shape.length;++w)l.push([0,0]);const c=[],u=DX({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),d=Ux(u.shape,i,o,!1),h=Wx(d.length,i.length,!1),p=Vx(u.shape,i,o,!1),m=Tt({inputs:{x:u},backend:n,attrs:{shape:d}}),f=Oi({inputs:{x:m},backend:n,attrs:{perm:h}}),b=Tt({inputs:{x:f},backend:n,attrs:{shape:p}});return c.push(u),c.push(m),c.push(f),c.forEach(w=>n.disposeIntermediateTensorInfo(w)),b},_Le={kernelName:Nk,backendName:"webgl",kernelFunc:wLe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SLe(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:a}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${s.shape}`);if(a.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${a.shape}`);const o=n.readSync(r.dataId),l=n.readSync(s.dataId),c=n.readSync(i.dataId),u=n.readSync(a.dataId)[0],[d,h,p,m,f]=dRe(o,r.shape,r.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(h,r.dtype,d),n.makeTensorInfo([h[0]],s.dtype,p),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map(b=>Number(b)))),n.makeTensorInfo([f.length],r.dtype,new Int32Array(f))]}const CLe={kernelName:v3,backendName:"webgl",kernelFunc:SLe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kLe(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.readSync(s.dataId)),o=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[c,u,d]=hRe(o,r.shape,r.dtype,a,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([d.length],i.dtype,new Int32Array(d))]}const ELe={kernelName:y3,backendName:"webgl",kernelFunc:kLe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TLe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);const a=n.readSync(r.dataId),o=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=iX(a,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(u,r.dtype,c)}const ILe={kernelName:b3,backendName:"webgl",kernelFunc:TLe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ALe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);const a=n.readSync(r.dataId),o=n.readSync(s.dataId),l=n.readSync(i.dataId),[c,u]=iX(a,r.shape,r.dtype,o,l);return n.makeTensorInfo(u,r.dtype,c)}const NLe={kernelName:x3,backendName:"webgl",kernelFunc:ALe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RLe(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:a}=e,{outputShape:o}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=Tp(i,s,o),p=!1;if(i.dtype==="string"){const w=n.bufferSync(s),g=n.bufferSync(i),C=zd(n.readSync(a.dataId)[0]),k=lRe(w,g,o,h,u,c,l,d,C,p);return n.makeTensorInfo(o,k.dtype,k.values)}const m=new NM(c,l,s.shape.length,i.shape.length,d,[h,1],p),f=n.runWebGLProgram(m,[i,s,a],i.dtype),b=Tt({inputs:{x:f},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(f),b}const OLe={kernelName:w3,backendName:"webgl",kernelFunc:RLe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Le(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:a}=r,o=An(a,s.shape)[0],l=UP(s,i,o),c=s.shape.length,u=new Array(c).fill(0),d=s.shape.slice();return l.map(h=>{const p=[...d];p[o]=h;const m=Wg({inputs:{x:s},backend:n,attrs:{begin:u,size:p}});return u[o]+=h,m})}const DLe={kernelName:Rk,backendName:"webgl",kernelFunc:$Le};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B6="return sqrt(x);",PLe=Un({opSnippet:B6,packedOpSnippet:B6,cpuKernelImpl:fRe}),MLe={kernelName:Ix,backendName:"webgl",kernelFunc:PLe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BLe="return x * x;",LLe=Un({opSnippet:BLe}),FLe={kernelName:AD,backendName:"webgl",kernelFunc:LLe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L6="return (a - b) * (a - b);",jLe=ti({opSnippet:L6,packedOpSnippet:L6}),zLe={kernelName:Ax,backendName:"webgl",kernelFunc:jLe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ULe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");const i=n.readSync(s.dataId),a=pu(i),o=pRe(a,"string",r);return n.makeTensorInfo(s.shape,"string",o)}const WLe={kernelName:ND,backendName:"webgl",kernelFunc:ULe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VLe({inputs:t,attrs:e,backend:n}){const{x:r}=t,s=Ba+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,i=new ql(r.shape,s);return n.runWebGLProgram(i,[r],r.dtype)}const GLe={kernelName:Dx,backendName:"webgl",kernelFunc:VLe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HLe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=r;const s=r.length,i=gr(r.length),a=gr(r.length);let o="";if(s===1)o="coords * strides + begin";else{let l=0;o=r.map((c,u)=>(l++,r.length===1?`coords * strides[${u}] + begin[${u}]`:`coords[${l-1}] * strides[${u}] + begin[${u}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${e});
      ${i} strides = ${i}(${n});

      void main() {
        ${a} coords = getOutputCoords();
        setOutput(getX(${o}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YLe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:a,strides:o,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=r,{finalShapeSparse:p,finalShape:m,isIdentity:f,sliceDim0:b,isSimpleSlice:w,begin:g,end:C,strides:k}=CP(s.shape,i,a,o,l,c,u,d,h);let N;if(f)N=Tt({inputs:{x:s},backend:n,attrs:{shape:m}});else if(b||w){oe(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const O=wP(g,C,k),R=Wg({inputs:{x:s},backend:n,attrs:{begin:g,size:O}});N=Tt({inputs:{x:R},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(R)}else if(n.shouldExecuteOnCPU([s])){const R=n.readSync(s.dataId),$=In(s.shape,s.dtype,R),D=mRe(p,$,k,g);N=n.makeTensorInfo(m,s.dtype,D.values)}else{const R=new HLe(g,k,p);N=n.runWebGLProgram(R,[s],s.dtype)}const A=Tt({inputs:{x:N},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(N),A}const qLe={kernelName:RD,backendName:"webgl",kernelFunc:YLe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XLe(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:a,rightPad:o,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:d}=e,h=n.readSync(u.dataId),p=n.readSync(d.dataId),[m,f]=gRe(h,p,s,i,a,o,l,c);return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(d.shape,"int32",f)]}const KLe={kernelName:_3,backendName:"webgl",kernelFunc:XLe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JLe(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:a}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(a.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const o=n.readSync(i.dataId),l=n.readSync(a.dataId)[0],[c,u,d]=vRe(o,l,s),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const QLe={kernelName:S3,backendName:"webgl",kernelFunc:JLe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZLe(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const a=n.readSync(i.dataId),o=yRe(a,s);return n.makeTensorInfo(i.shape,"int32",o)}const eFe={kernelName:C3,backendName:"webgl",kernelFunc:ZLe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tFe="return tan(x);",nFe=Un({opSnippet:tFe}),rFe={kernelName:Rx,backendName:"webgl",kernelFunc:nFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sFe=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,iFe=Un({opSnippet:sFe}),oFe={kernelName:Ox,backendName:"webgl",kernelFunc:iFe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aFe(t){const{inputs:e,backend:n,attrs:r}=t,{tensor:s,indices:i,updates:a}=e,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=Tp(a,i,s.shape),h=[d/c,c];if(d===0)return n.makeTensorInfo(s.shape,i.dtype);const p=Tt({inputs:{x:i},backend:n,attrs:{shape:[l,o]}}),m=Tt({inputs:{x:a},backend:n,attrs:{shape:[l,c]}}),f=Tt({inputs:{x:s},backend:n,attrs:{shape:h}}),b=new NM(l,o,p.shape.length,m.shape.length,u,h,!1,!0),w=n.runWebGLProgram(b,[m,p,f],f.dtype),g=Tt({inputs:{x:w},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(w),g}const lFe={kernelName:m3,backendName:"webgl",kernelFunc:aFe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cFe{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let a=0;a<r.length;a++)r[a]=e[a]*n[a];this.outputShape=r,this.rank=r.length;const s=gr(this.rank),i=uFe(e);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}}function uFe(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let s=0;s<t.length;s++)r.push(`imod(${n[s]}, ${t[s]})`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MX(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;if(s.dtype==="string"||s.shape.length>5){const l=n.readSync(s.dataId),c=s.dtype==="string"?l.map(h=>zd(h)):l,u=In(s.shape,s.dtype,c),d=xRe(u,i);return n.makeTensorInfo(d.shape,d.dtype,d.values)}const a=new cFe(s.shape,i);return n.runWebGLProgram(a,[s],s.dtype)}const dFe={kernelName:$x,backendName:"webgl",kernelFunc:MX};class hFe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class fFe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rf(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function F6(t){let e=1;for(;e<t;)e*=2;return e}function pFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:a}=r,o=je().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=je().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=s.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([s])||u<o||i>l){const D=n.readSync(s.dataId),[B,M]=wRe(D,c,s.dtype,i,a);return[n.makeTensorInfo(B.shape,B.dtype,B.values),n.makeTensorInfo(M.shape,M.dtype,M.values)]}if(i===0)return c[c.length-1]=0,[n.makeTensorInfo(c,s.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(u===1)return[s,i1({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const d=n.texData.get(s.dataId),h=d!==null&&d.isPacked,p=h?n.unpackTensor(s):s,f=He(c)/u,b=Tt({inputs:{x:p},attrs:{shape:[f,u]},backend:n});h&&rf(n,p);const w=F6(i),g=F6(u);let C=null;const k=()=>C===null?[b,b]:[b,C],N=(D,B,M)=>{const z=k(),W=new hFe(M),q=[[u],[C===null?1:0],[Number.NEGATIVE_INFINITY],[D],[B]],H=C;C=n.runWebGLProgram(W,z,"int32",q),rf(n,H)};for(let D=1;D<w;D*=2){const B=D*2;for(let M=D;M>=1;M/=2)N(B,M,[f,g])}for(let D=g;D>w;D/=2){const B=k(),M=new fFe([f,D/2]),W=[[u],[C===null?1:0],[w]],V=C;C=n.runWebGLProgram(M,B,"int32",W),rf(n,V);const q=w/2,H=q*2;for(let K=q;K>=1;K/=2)N(H,K,C.shape)}let A=C;C=Wg({inputs:{x:C},backend:n,attrs:{begin:0,size:[f,i]}}),rf(n,A);let O=IX({inputs:{x:b,indices:C},backend:n,attrs:{axis:1,batchDims:1}});rf(n,b);const R=c.slice(0,-1);R.push(i),A=C,C=Tt({inputs:{x:C},attrs:{shape:R},backend:n}),rf(n,A);const $=O;return O=Tt({inputs:{x:O},attrs:{shape:R},backend:n}),rf(n,$),[O,C]}const mFe={kernelName:OD,backendName:"webgl",kernelFunc:pFe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gFe{constructor(e,n,r,s,i,a){this.variableNames=["Image","Transforms"],this.outputShape=a;const o=r==="nearest"?1:2;let l;switch(s){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${o} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vFe(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,transforms:i}=e,{interpolation:a,fillMode:o,fillValue:l,outputShape:c}=r,[u,d,h,p]=s.shape,[m,f]=c??[d,h],b=[u,m,f,p],w=new gFe(d,h,a,o,l,b);return n.runWebGLProgram(w,[s,i],"float32")}const yFe={kernelName:$D,backendName:"webgl",kernelFunc:vFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bFe(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;t1(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const a=r.readSync(i.dataId),{outputValues:o,outputShape:l,indices:c}=_Re(a,s,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([c.length],"int32",c)]}const xFe={kernelName:DD,backendName:"webgl",kernelFunc:bFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wFe(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const a=s,o=a.shape.length,l=s.shape[i],c=new Array(o-1);let u=0;for(let f=0;f<o;f++)f!==i&&(c[u++]=a.shape[f]);const d=[],h=new Array(o).fill(0),p=a.shape.slice();p[i]=1;const m=new Array(l);for(let f=0;f<m.length;f++){h[i]=f;const b=Wg({inputs:{x:a},backend:n,attrs:{begin:h,size:p}}),w=Tt({inputs:{x:b},backend:n,attrs:{shape:c}});m[f]=w,d.push(b)}return d.forEach(f=>n.disposeIntermediateTensorInfo(f)),m}const _Fe={kernelName:$k,backendName:"webgl",kernelFunc:wFe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SFe{constructor(e,n){this.variableNames=["x","segmentIds"];const r=e.windowSize,s=e.batchSize,i=e.inSize,a=e.numSegments,o=a*Math.ceil(i/r);this.outputShape=[s,o];const l="0.0",c="sumValue",u=Math.floor(r/4)*4,d=r%4,h=`
        sumValue += dot(values, segFilter);
    `;let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let m="";i%r>0&&(m=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${m}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${a})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${a})));

        float sumValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${h}
        }

        int inIdx = inOffset + ${u};
        if (${d===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${h}
        } else if (${d===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${h}
        } else if (${d===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${h}
        }
        setOutput(${c});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:a}=r,o=s.shape.length,l=[];let c=0;const u=ns([c],o);let d=s;u!=null&&(d=Oi({inputs:{x:s},backend:n,attrs:{perm:u}}),l.push(d),c=fs(1,o)[0]);const h=pG(d.shape,c,a),p=He([d.shape[c]]),m=Tt({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}});l.push(m);const f=BD(s.dtype),b=(k,N,A,O,R)=>{const $=k.shape[0],D=k.shape[1],B=fG(D,R),M={windowSize:B,inSize:D,batchSize:$,numSegments:R},z=new SFe(M,N),W=n.compileAndRun(z,[k,A],O);if(l.push(W),W.shape[1]===R)return W;const V=PX({backend:n,attrs:{start:0,stop:R,step:1,dtype:"float32"}}),q=MX({inputs:{x:V},backend:n,attrs:{reps:[D/B]}});return l.push(V),l.push(q),b(W,N,q,O,R)},w=b(m,"unsortedSegmentSum",i,f,a),g=Tt({inputs:{x:w},backend:n,attrs:{shape:h}});let C=g;if(u!=null){l.push(g);const k=oh(u);C=Oi({inputs:{x:C},backend:n,attrs:{perm:k}})}return l.forEach(k=>n.disposeIntermediateTensorInfo(k)),C}const kFe={kernelName:Dk,backendName:"webgl",kernelFunc:CFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EFe=[fOe,mOe,yOe,wOe,SOe,EOe,IOe,NOe,DOe,MOe,FOe,UOe,GOe,XOe,QOe,e$e,n$e,o$e,l$e,u$e,p$e,w$e,S$e,k$e,R$e,$$e,B$e,KRe,j$e,G$e,X$e,tDe,sDe,oDe,lDe,uDe,pDe,vDe,xDe,_De,CDe,EDe,ADe,RDe,PDe,BDe,jDe,WDe,GDe,XDe,ZDe,rPe,oPe,cPe,uPe,hPe,pPe,gPe,yPe,xPe,CPe,TPe,NPe,OPe,PPe,LPe,UPe,HPe,XRe,qPe,W$e,JPe,eMe,rMe,QRe,aMe,dMe,fMe,vMe,xMe,CMe,TMe,RMe,PMe,LMe,jMe,VMe,HMe,qMe,QMe,eBe,nBe,sBe,oBe,uBe,pBe,yBe,EBe,tOe,NBe,$Be,MBe,FBe,T$e,UBe,VBe,HBe,XBe,ZBe,eOe,t5e,r5e,i5e,a5e,l5e,I$e,_Be,d5e,m5e,b5e,rOe,S5e,E5e,N5e,$5e,B5e,F5e,U5e,G5e,q5e,J5e,eLe,rLe,aLe,uLe,pLe,vLe,b$e,CBe,xLe,_Le,CLe,ELe,ILe,NLe,OLe,DLe,MLe,FLe,zLe,WLe,GLe,qLe,KLe,QLe,eFe,SBe,uOe,rFe,oFe,lFe,dFe,mFe,yFe,dOe,xFe,_Fe,kFe,WBe];for(const t of EFe)E3(t);const TFe=(t,e)=>e.some(n=>t instanceof n);let j6,z6;function IFe(){return j6||(j6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AFe(){return z6||(z6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BX=new WeakMap,cR=new WeakMap,LX=new WeakMap,iI=new WeakMap,RM=new WeakMap;function NFe(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Nd(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&BX.set(n,t)}).catch(()=>{}),RM.set(e,t),e}function RFe(t){if(cR.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});cR.set(t,e)}let uR={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cR.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LX.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OFe(t){uR=t(uR)}function $Fe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(oI(this),e,...n);return LX.set(r,e.sort?e.sort():[e]),Nd(r)}:AFe().includes(t)?function(...e){return t.apply(oI(this),e),Nd(BX.get(this))}:function(...e){return Nd(t.apply(oI(this),e))}}function DFe(t){return typeof t=="function"?$Fe(t):(t instanceof IDBTransaction&&RFe(t),TFe(t,IFe())?new Proxy(t,uR):t)}function Nd(t){if(t instanceof IDBRequest)return NFe(t);if(iI.has(t))return iI.get(t);const e=DFe(t);return e!==t&&(iI.set(t,e),RM.set(e,t)),e}const oI=t=>RM.get(t);function FX(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=Nd(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Nd(a.result),l.oldVersion,l.newVersion,Nd(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const PFe=["get","getKey","getAll","getAllKeys","count"],MFe=["put","add","delete","clear"],aI=new Map;function U6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(aI.get(e))return aI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=MFe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||PFe.includes(n)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&l.done]))[0]};return aI.set(e,i),i}OFe(t=>({...t,get:(e,n,r)=>U6(e,n)||t.get(e,n,r),has:(e,n)=>!!U6(e,n)||t.has(e,n)}));function jX(t){return eh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(t)}function zX(t){return eh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(t)}function UX(t){return eh({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(t)}/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */function W6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function WX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(n),!0).forEach(function(r){FFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dR(t){return dR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dR(t)}function BFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LFe(t,e,n){return e&&V6(t.prototype,e),n&&V6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FFe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VX(t){return jFe(t)||zFe(t)||UFe(t)||WFe()}function jFe(t){if(Array.isArray(t))return hR(t)}function zFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UFe(t,e){if(t){if(typeof t=="string")return hR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hR(t,e)}}function hR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hE=typeof window<"u"&&typeof window.document<"u",dc=hE?window:{},OM=hE&&dc.document.documentElement?"ontouchstart"in dc.document.documentElement:!1,$M=hE?"PointerEvent"in dc:!1,qr="cropper",DM="all",GX="crop",HX="move",YX="zoom",sf="e",of="w",Yp="s",Fu="n",lv="ne",cv="nw",uv="se",dv="sw",fR="".concat(qr,"-crop"),G6="".concat(qr,"-disabled"),uo="".concat(qr,"-hidden"),H6="".concat(qr,"-hide"),VFe="".concat(qr,"-invisible"),$S="".concat(qr,"-modal"),pR="".concat(qr,"-move"),cb="".concat(qr,"Action"),hw="".concat(qr,"Preview"),PM="crop",qX="move",XX="none",mR="crop",gR="cropend",vR="cropmove",yR="cropstart",Y6="dblclick",GFe=OM?"touchstart":"mousedown",HFe=OM?"touchmove":"mousemove",YFe=OM?"touchend touchcancel":"mouseup",q6=$M?"pointerdown":GFe,X6=$M?"pointermove":HFe,K6=$M?"pointerup pointercancel":YFe,J6="ready",Q6="resize",Z6="wheel",bR="zoom",e4="image/jpeg",qFe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,XFe=/^data:/,KFe=/^data:image\/jpeg;base64,/,JFe=/^img|canvas$/i,KX=200,JX=100,t4={viewMode:0,dragMode:PM,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:KX,minContainerHeight:JX,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},QFe='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',ZFe=Number.isNaN||dc.isNaN;function Bn(t){return typeof t=="number"&&!ZFe(t)}var n4=function(e){return e>0&&e<1/0};function lI(t){return typeof t>"u"}function mp(t){return dR(t)==="object"&&t!==null}var eje=Object.prototype.hasOwnProperty;function mm(t){if(!mp(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&eje.call(n,"isPrototypeOf")}catch{return!1}}function co(t){return typeof t=="function"}var tje=Array.prototype.slice;function QX(t){return Array.from?Array.from(t):tje.call(t)}function ks(t,e){return t&&co(e)&&(Array.isArray(t)||Bn(t.length)?QX(t).forEach(function(n,r){e.call(t,n,r,t)}):mp(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var Kr=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return mp(e)&&r.length>0&&r.forEach(function(i){mp(i)&&Object.keys(i).forEach(function(a){e[a]=i[a]})}),e},nje=/\.\d*(?:0|9){12}\d*$/;function Om(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return nje.test(t)?Math.round(t*e)/e:t}var rje=/^width|height|left|top|marginLeft|marginTop$/;function ud(t,e){var n=t.style;ks(e,function(r,s){rje.test(s)&&Bn(r)&&(r="".concat(r,"px")),n[s]=r})}function sje(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Gs(t,e){if(e){if(Bn(t.length)){ks(t,function(r){Gs(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function ac(t,e){if(e){if(Bn(t.length)){ks(t,function(n){ac(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function gm(t,e,n){if(e){if(Bn(t.length)){ks(t,function(r){gm(r,e,n)});return}n?Gs(t,e):ac(t,e)}}var ije=/([a-z\d])([A-Z])/g;function MM(t){return t.replace(ije,"$1-$2").toLowerCase()}function xR(t,e){return mp(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(MM(e)))}function ub(t,e,n){mp(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(MM(e)),n)}function oje(t,e){if(mp(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(MM(e)))}var ZX=/\s\s*/,eK=function(){var t=!1;if(hE){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});dc.addEventListener("test",n,r),dc.removeEventListener("test",n,r)}return t}();function el(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(ZX).forEach(function(i){if(!eK){var a=t.listeners;a&&a[i]&&a[i][n]&&(s=a[i][n],delete a[i][n],Object.keys(a[i]).length===0&&delete a[i],Object.keys(a).length===0&&delete t.listeners)}t.removeEventListener(i,s,r)})}function ha(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(ZX).forEach(function(i){if(r.once&&!eK){var a=t.listeners,o=a===void 0?{}:a;s=function(){delete o[i][n],t.removeEventListener(i,s,r);for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];n.apply(t,u)},o[i]||(o[i]={}),o[i][n]&&t.removeEventListener(i,o[i][n],r),o[i][n]=s,t.listeners=o}t.addEventListener(i,s,r)})}function $m(t,e,n){var r;return co(Event)&&co(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function tK(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var cI=dc.location,aje=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function r4(t){var e=t.match(aje);return e!==null&&(e[1]!==cI.protocol||e[2]!==cI.hostname||e[3]!==cI.port)}function s4(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function oy(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,s=t.translateX,i=t.translateY,a=[];Bn(s)&&s!==0&&a.push("translateX(".concat(s,"px)")),Bn(i)&&i!==0&&a.push("translateY(".concat(i,"px)")),Bn(e)&&e!==0&&a.push("rotate(".concat(e,"deg)")),Bn(n)&&n!==1&&a.push("scaleX(".concat(n,")")),Bn(r)&&r!==1&&a.push("scaleY(".concat(r,")"));var o=a.length?a.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function lje(t){var e=WX({},t),n=0;return ks(t,function(r,s){delete e[s],ks(e,function(i){var a=Math.abs(r.startX-i.startX),o=Math.abs(r.startY-i.startY),l=Math.abs(r.endX-i.endX),c=Math.abs(r.endY-i.endY),u=Math.sqrt(a*a+o*o),d=Math.sqrt(l*l+c*c),h=(d-u)/u;Math.abs(h)>Math.abs(n)&&(n=h)})}),n}function fw(t,e){var n=t.pageX,r=t.pageY,s={endX:n,endY:r};return e?s:WX({startX:n,startY:r},s)}function cje(t){var e=0,n=0,r=0;return ks(t,function(s){var i=s.startX,a=s.startY;e+=i,n+=a,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function dd(t){var e=t.aspectRatio,n=t.height,r=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=n4(r),a=n4(n);if(i&&a){var o=n*e;s==="contain"&&o>r||s==="cover"&&o<r?n=r/e:r=n*e}else i?n=r/e:a&&(r=n*e);return{width:r,height:n}}function uje(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var s=r%90*Math.PI/180,i=Math.sin(s),a=Math.cos(s),o=e*a+n*i,l=e*i+n*a;return r>90?{width:l,height:o}:{width:o,height:l}}function dje(t,e,n,r){var s=e.aspectRatio,i=e.naturalWidth,a=e.naturalHeight,o=e.rotate,l=o===void 0?0:o,c=e.scaleX,u=c===void 0?1:c,d=e.scaleY,h=d===void 0?1:d,p=n.aspectRatio,m=n.naturalWidth,f=n.naturalHeight,b=r.fillColor,w=b===void 0?"transparent":b,g=r.imageSmoothingEnabled,C=g===void 0?!0:g,k=r.imageSmoothingQuality,N=k===void 0?"low":k,A=r.maxWidth,O=A===void 0?1/0:A,R=r.maxHeight,$=R===void 0?1/0:R,D=r.minWidth,B=D===void 0?0:D,M=r.minHeight,z=M===void 0?0:M,W=document.createElement("canvas"),V=W.getContext("2d"),q=dd({aspectRatio:p,width:O,height:$}),H=dd({aspectRatio:p,width:B,height:z},"cover"),K=Math.min(q.width,Math.max(H.width,m)),F=Math.min(q.height,Math.max(H.height,f)),ie=dd({aspectRatio:s,width:O,height:$}),de=dd({aspectRatio:s,width:B,height:z},"cover"),ee=Math.min(ie.width,Math.max(de.width,i)),J=Math.min(ie.height,Math.max(de.height,a)),ae=[-ee/2,-J/2,ee,J];return W.width=Om(K),W.height=Om(F),V.fillStyle=w,V.fillRect(0,0,K,F),V.save(),V.translate(K/2,F/2),V.rotate(l*Math.PI/180),V.scale(u,h),V.imageSmoothingEnabled=C,V.imageSmoothingQuality=N,V.drawImage.apply(V,[t].concat(VX(ae.map(function(ue){return Math.floor(Om(ue))})))),V.restore(),W}var nK=String.fromCharCode;function hje(t,e,n){var r="";n+=e;for(var s=e;s<n;s+=1)r+=nK(t.getUint8(s));return r}var fje=/^data:.*,/;function pje(t){var e=t.replace(fje,""),n=atob(e),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return ks(s,function(i,a){s[a]=n.charCodeAt(a)}),r}function mje(t,e){for(var n=[],r=8192,s=new Uint8Array(t);s.length>0;)n.push(nK.apply(null,QX(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function gje(t){var e=new DataView(t),n;try{var r,s,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var a=e.byteLength,o=2;o+1<a;){if(e.getUint8(o)===255&&e.getUint8(o+1)===225){s=o;break}o+=1}if(s){var l=s+4,c=s+10;if(hje(e,l,4)==="Exif"){var u=e.getUint16(c);if(r=u===18761,(r||u===19789)&&e.getUint16(c+2,r)===42){var d=e.getUint32(c+4,r);d>=8&&(i=c+d)}}}if(i){var h=e.getUint16(i,r),p,m;for(m=0;m<h;m+=1)if(p=i+m*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function vje(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var yje={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),a=Number(n.minContainerHeight);Gs(s,uo),ac(e,uo);var o={width:Math.max(r.offsetWidth,i>=0?i:KX),height:Math.max(r.offsetHeight,a>=0?a:JX)};this.containerData=o,ud(s,{width:o.width,height:o.height}),Gs(e,uo),ac(s,uo)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,a=s?n.naturalWidth:n.naturalHeight,o=i/a,l=e.width,c=e.height;e.height*o>e.width?r===3?l=e.height*o:c=e.width/o:r===3?c=e.width/o:l=e.height*o;var u={aspectRatio:o,naturalWidth:i,naturalHeight:a,width:l,height:c};this.canvasData=u,this.limited=r===1||r===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=Kr({},u)},limitCanvas:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,o=r.viewMode,l=i.aspectRatio,c=this.cropped&&a;if(e){var u=Number(r.minCanvasWidth)||0,d=Number(r.minCanvasHeight)||0;o>1?(u=Math.max(u,s.width),d=Math.max(d,s.height),o===3&&(d*l>u?u=d*l:d=u/l)):o>0&&(u?u=Math.max(u,c?a.width:0):d?d=Math.max(d,c?a.height:0):c&&(u=a.width,d=a.height,d*l>u?u=d*l:d=u/l));var h=dd({aspectRatio:l,width:u,height:d});u=h.width,d=h.height,i.minWidth=u,i.minHeight=d,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(o>(c?0:1)){var p=s.width-i.width,m=s.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,m),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,m),c&&this.limited&&(i.minLeft=Math.min(a.left,a.left+(a.width-i.width)),i.minTop=Math.min(a.top,a.top+(a.height-i.height)),i.maxLeft=a.left,i.maxTop=a.top,o===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=s.height&&(i.minTop=Math.min(0,m),i.maxTop=Math.max(0,m))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(e,n){var r=this.canvasData,s=this.imageData;if(n){var i=uje({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),a=i.width,o=i.height,l=r.width*(a/r.naturalWidth),c=r.height*(o/r.naturalHeight);r.left-=(l-r.width)/2,r.top-=(c-r.height)/2,r.width=l,r.height=c,r.aspectRatio=a/o,r.naturalWidth=a,r.naturalHeight=o,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,ud(this.canvas,Kr({width:r.width,height:r.height},oy({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);Kr(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),ud(this.image,Kr({width:r.width,height:r.height},oy(Kr({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=Kr({},i)},limitCropBox:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,o=this.limited,l=r.aspectRatio;if(e){var c=Number(r.minCropBoxWidth)||0,u=Number(r.minCropBoxHeight)||0,d=o?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,h=o?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;c=Math.min(c,s.width),u=Math.min(u,s.height),l&&(c&&u?u*l>c?u=c/l:c=u*l:c?u=c/l:u&&(c=u*l),h*l>d?h=d/l:d=h*l),a.minWidth=Math.min(c,d),a.minHeight=Math.min(u,h),a.maxWidth=d,a.maxHeight=h}n&&(o?(a.minLeft=Math.max(0,i.left),a.minTop=Math.max(0,i.top),a.maxLeft=Math.min(s.width,i.left+i.width)-a.width,a.maxTop=Math.min(s.height,i.top+i.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=s.width-a.width,a.maxTop=s.height-a.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&ub(this.face,cb,r.width>=n.width&&r.height>=n.height?HX:DM),ud(this.cropBox,Kr({width:r.width,height:r.height},oy({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),$m(this.element,mR,this.getData())}},bje={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",a=document.createElement("img");if(n&&(a.crossOrigin=n),a.src=s,a.alt=i,this.viewBox.appendChild(a),this.viewBoxImage=a,!!r){var o=r;typeof r=="string"?o=e.ownerDocument.querySelectorAll(r):r.querySelector&&(o=[r]),this.previews=o,ks(o,function(l){var c=document.createElement("img");ub(l,hw,{width:l.offsetWidth,height:l.offsetHeight,html:l.innerHTML}),n&&(c.crossOrigin=n),c.src=s,c.alt=i,c.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',l.innerHTML="",l.appendChild(c)})}},resetPreview:function(){ks(this.previews,function(e){var n=xR(e,hw);ud(e,{width:n.width,height:n.height}),e.innerHTML=n.html,oje(e,hw)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,a=e.width,o=e.height,l=r.left-n.left-e.left,c=r.top-n.top-e.top;!this.cropped||this.disabled||(ud(this.viewBoxImage,Kr({width:a,height:o},oy(Kr({translateX:-l,translateY:-c},e)))),ks(this.previews,function(u){var d=xR(u,hw),h=d.width,p=d.height,m=h,f=p,b=1;s&&(b=h/s,f=i*b),i&&f>p&&(b=p/i,m=s*b,f=p),ud(u,{width:m,height:f}),ud(u.getElementsByTagName("img")[0],Kr({width:a*b,height:o*b},oy(Kr({translateX:-l*b,translateY:-c*b},e))))}))}},xje={bind:function(){var e=this.element,n=this.options,r=this.cropper;co(n.cropstart)&&ha(e,yR,n.cropstart),co(n.cropmove)&&ha(e,vR,n.cropmove),co(n.cropend)&&ha(e,gR,n.cropend),co(n.crop)&&ha(e,mR,n.crop),co(n.zoom)&&ha(e,bR,n.zoom),ha(r,q6,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&ha(r,Z6,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&ha(r,Y6,this.onDblclick=this.dblclick.bind(this)),ha(e.ownerDocument,X6,this.onCropMove=this.cropMove.bind(this)),ha(e.ownerDocument,K6,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&ha(window,Q6,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;co(n.cropstart)&&el(e,yR,n.cropstart),co(n.cropmove)&&el(e,vR,n.cropmove),co(n.cropend)&&el(e,gR,n.cropend),co(n.crop)&&el(e,mR,n.crop),co(n.zoom)&&el(e,bR,n.zoom),el(r,q6,this.onCropStart),n.zoomable&&n.zoomOnWheel&&el(r,Z6,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&el(r,Y6,this.onDblclick),el(e.ownerDocument,X6,this.onCropMove),el(e.ownerDocument,K6,this.onCropEnd),n.responsive&&el(window,Q6,this.onResize)}},wje={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,a=Math.abs(s-1)>Math.abs(i-1)?s:i;if(a!==1){var o,l;e.restore&&(o=this.getCanvasData(),l=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(ks(o,function(c,u){o[u]=c*a})),this.setCropBoxData(ks(l,function(c,u){l[u]=c*a})))}}},dblclick:function(){this.disabled||this.options.dragMode===XX||this.setDragMode(sje(this.dragBox,fR)?qX:PM)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Bn(n)&&n!==1||Bn(r)&&r!==0||e.ctrlKey))){var s=this.options,i=this.pointers,a;e.changedTouches?ks(e.changedTouches,function(o){i[o.identifier]=fw(o)}):i[e.pointerId||0]=fw(e),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?a=YX:a=xR(e.target,cb),qFe.test(a)&&$m(this.element,yR,{originalEvent:e,action:a})!==!1&&(e.preventDefault(),this.action=a,this.cropping=!1,a===GX&&(this.cropping=!0,Gs(this.dragBox,$S)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),$m(this.element,vR,{originalEvent:e,action:n})!==!1&&(e.changedTouches?ks(e.changedTouches,function(s){Kr(r[s.identifier]||{},fw(s,!0))}):Kr(r[e.pointerId||0]||{},fw(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?ks(e.changedTouches,function(s){delete r[s.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,gm(this.dragBox,$S,this.cropped&&this.options.modal)),$m(this.element,gR,{originalEvent:e,action:n}))}}},_je={change:function(e){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,a=this.pointers,o=this.action,l=n.aspectRatio,c=i.left,u=i.top,d=i.width,h=i.height,p=c+d,m=u+h,f=0,b=0,w=s.width,g=s.height,C=!0,k;!l&&e.shiftKey&&(l=d&&h?d/h:1),this.limited&&(f=i.minLeft,b=i.minTop,w=f+Math.min(s.width,r.width,r.left+r.width),g=b+Math.min(s.height,r.height,r.top+r.height));var N=a[Object.keys(a)[0]],A={x:N.endX-N.startX,y:N.endY-N.startY},O=function($){switch($){case sf:p+A.x>w&&(A.x=w-p);break;case of:c+A.x<f&&(A.x=f-c);break;case Fu:u+A.y<b&&(A.y=b-u);break;case Yp:m+A.y>g&&(A.y=g-m);break}};switch(o){case DM:c+=A.x,u+=A.y;break;case sf:if(A.x>=0&&(p>=w||l&&(u<=b||m>=g))){C=!1;break}O(sf),d+=A.x,d<0&&(o=of,d=-d,c-=d),l&&(h=d/l,u+=(i.height-h)/2);break;case Fu:if(A.y<=0&&(u<=b||l&&(c<=f||p>=w))){C=!1;break}O(Fu),h-=A.y,u+=A.y,h<0&&(o=Yp,h=-h,u-=h),l&&(d=h*l,c+=(i.width-d)/2);break;case of:if(A.x<=0&&(c<=f||l&&(u<=b||m>=g))){C=!1;break}O(of),d-=A.x,c+=A.x,d<0&&(o=sf,d=-d,c-=d),l&&(h=d/l,u+=(i.height-h)/2);break;case Yp:if(A.y>=0&&(m>=g||l&&(c<=f||p>=w))){C=!1;break}O(Yp),h+=A.y,h<0&&(o=Fu,h=-h,u-=h),l&&(d=h*l,c+=(i.width-d)/2);break;case lv:if(l){if(A.y<=0&&(u<=b||p>=w)){C=!1;break}O(Fu),h-=A.y,u+=A.y,d=h*l}else O(Fu),O(sf),A.x>=0?p<w?d+=A.x:A.y<=0&&u<=b&&(C=!1):d+=A.x,A.y<=0?u>b&&(h-=A.y,u+=A.y):(h-=A.y,u+=A.y);d<0&&h<0?(o=dv,h=-h,d=-d,u-=h,c-=d):d<0?(o=cv,d=-d,c-=d):h<0&&(o=uv,h=-h,u-=h);break;case cv:if(l){if(A.y<=0&&(u<=b||c<=f)){C=!1;break}O(Fu),h-=A.y,u+=A.y,d=h*l,c+=i.width-d}else O(Fu),O(of),A.x<=0?c>f?(d-=A.x,c+=A.x):A.y<=0&&u<=b&&(C=!1):(d-=A.x,c+=A.x),A.y<=0?u>b&&(h-=A.y,u+=A.y):(h-=A.y,u+=A.y);d<0&&h<0?(o=uv,h=-h,d=-d,u-=h,c-=d):d<0?(o=lv,d=-d,c-=d):h<0&&(o=dv,h=-h,u-=h);break;case dv:if(l){if(A.x<=0&&(c<=f||m>=g)){C=!1;break}O(of),d-=A.x,c+=A.x,h=d/l}else O(Yp),O(of),A.x<=0?c>f?(d-=A.x,c+=A.x):A.y>=0&&m>=g&&(C=!1):(d-=A.x,c+=A.x),A.y>=0?m<g&&(h+=A.y):h+=A.y;d<0&&h<0?(o=lv,h=-h,d=-d,u-=h,c-=d):d<0?(o=uv,d=-d,c-=d):h<0&&(o=cv,h=-h,u-=h);break;case uv:if(l){if(A.x>=0&&(p>=w||m>=g)){C=!1;break}O(sf),d+=A.x,h=d/l}else O(Yp),O(sf),A.x>=0?p<w?d+=A.x:A.y>=0&&m>=g&&(C=!1):d+=A.x,A.y>=0?m<g&&(h+=A.y):h+=A.y;d<0&&h<0?(o=cv,h=-h,d=-d,u-=h,c-=d):d<0?(o=dv,d=-d,c-=d):h<0&&(o=lv,h=-h,u-=h);break;case HX:this.move(A.x,A.y),C=!1;break;case YX:this.zoom(lje(a),e),C=!1;break;case GX:if(!A.x||!A.y){C=!1;break}k=tK(this.cropper),c=N.startX-k.left,u=N.startY-k.top,d=i.minWidth,h=i.minHeight,A.x>0?o=A.y>0?uv:lv:A.x<0&&(c-=d,o=A.y>0?dv:cv),A.y<0&&(u-=h),this.cropped||(ac(this.cropBox,uo),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}C&&(i.width=d,i.height=h,i.left=c,i.top=u,this.action=o,this.renderCropBox()),ks(a,function(R){R.startX=R.endX,R.startY=R.endY})}},Sje={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Gs(this.dragBox,$S),ac(this.cropBox,uo),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Kr({},this.initialImageData),this.canvasData=Kr({},this.initialCanvasData),this.cropBoxData=Kr({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Kr(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ac(this.dragBox,$S),Gs(this.cropBox,uo)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,ks(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ac(this.cropper,G6)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Gs(this.cropper,G6)),this},destroy:function(){var e=this.element;return e[qr]?(e[qr]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(lI(e)?e:s+Number(e),lI(n)?n:i+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(Bn(e)&&(r.left=e,s=!0),Bn(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var s=this.options,i=this.canvasData,a=i.width,o=i.height,l=i.naturalWidth,c=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var u=l*e,d=c*e;if($m(this.element,bR,{ratio:e,oldRatio:a/l,originalEvent:r})===!1)return this;if(r){var h=this.pointers,p=tK(this.cropper),m=h&&Object.keys(h).length?cje(h):{pageX:r.pageX,pageY:r.pageY};i.left-=(u-a)*((m.pageX-p.left-i.left)/a),i.top-=(d-o)*((m.pageY-p.top-i.top)/o)}else mm(n)&&Bn(n.x)&&Bn(n.y)?(i.left-=(u-a)*((n.x-i.left)/a),i.top-=(d-o)*((n.y-i.top)/o)):(i.left-=(u-a)/2,i.top-=(d-o)/2);i.width=u,i.height=d,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Bn(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,Bn(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(Bn(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(Bn(e)&&(r.scaleX=e,s=!0),Bn(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,a;if(this.ready&&this.cropped){a={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var o=r.width/r.naturalWidth;if(ks(a,function(u,d){a[d]=u/o}),e){var l=Math.round(a.y+a.height),c=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=c-a.x,a.height=l-a.y}}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=r.rotate||0),n.scalable&&(a.scaleX=r.scaleX||1,a.scaleY=r.scaleY||1),a},setData:function(e){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&mm(e)){var a=!1;n.rotatable&&Bn(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,a=!0),n.scalable&&(Bn(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,a=!0),Bn(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=r.width/r.naturalWidth;Bn(e.x)&&(i.left=e.x*o+s.left),Bn(e.y)&&(i.top=e.y*o+s.top),Bn(e.width)&&(i.width=e.width*o),Bn(e.height)&&(i.height=e.height*o),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?Kr({},this.containerData):{}},getImageData:function(){return this.sized?Kr({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&ks(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&mm(e)&&(Bn(e.left)&&(n.left=e.left),Bn(e.top)&&(n.top=e.top),Bn(e.width)?(n.width=e.width,n.height=e.width/r):Bn(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&mm(e)&&(Bn(e.left)&&(n.left=e.left),Bn(e.top)&&(n.top=e.top),Bn(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),Bn(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=dje(this.image,this.imageData,n,e);if(!this.cropped)return r;var s=this.getData(),i=s.x,a=s.y,o=s.width,l=s.height,c=r.width/Math.floor(n.naturalWidth);c!==1&&(i*=c,a*=c,o*=c,l*=c);var u=o/l,d=dd({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),h=dd({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=dd({aspectRatio:u,width:e.width||(c!==1?r.width:o),height:e.height||(c!==1?r.height:l)}),m=p.width,f=p.height;m=Math.min(d.width,Math.max(h.width,m)),f=Math.min(d.height,Math.max(h.height,f));var b=document.createElement("canvas"),w=b.getContext("2d");b.width=Om(m),b.height=Om(f),w.fillStyle=e.fillColor||"transparent",w.fillRect(0,0,m,f);var g=e.imageSmoothingEnabled,C=g===void 0?!0:g,k=e.imageSmoothingQuality;w.imageSmoothingEnabled=C,k&&(w.imageSmoothingQuality=k);var N=r.width,A=r.height,O=i,R=a,$,D,B,M,z,W;O<=-o||O>N?(O=0,$=0,B=0,z=0):O<=0?(B=-O,O=0,$=Math.min(N,o+O),z=$):O<=N&&(B=0,$=Math.min(o,N-O),z=$),$<=0||R<=-l||R>A?(R=0,D=0,M=0,W=0):R<=0?(M=-R,R=0,D=Math.min(A,l+R),W=D):R<=A&&(M=0,D=Math.min(l,A-R),W=D);var V=[O,R,$,D];if(z>0&&W>0){var q=m/o;V.push(B*q,M*q,z*q,W*q)}return w.drawImage.apply(w,[r].concat(VX(V.map(function(H){return Math.floor(Om(H))})))),b},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!lI(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=e===PM,a=n.movable&&e===qX;e=i||a?e:XX,n.dragMode=e,ub(r,cb,e),gm(r,fR,i),gm(r,pR,a),n.cropBoxMovable||(ub(s,cb,e),gm(s,fR,i),gm(s,pR,a))}return this}},Cje=dc.Cropper,rK=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(BFe(this,t),!e||!JFe.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Kr({},t4,mm(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return LFe(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[qr]){if(n[qr]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(XFe.test(n)){KFe.test(n)?this.read(pje(n)):this.clone();return}var a=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=o,a.onerror=o,a.ontimeout=o,a.onprogress=function(){a.getResponseHeader("content-type")!==e4&&a.abort()},a.onload=function(){r.read(a.response)},a.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&r4(n)&&s.crossOrigin&&(n=s4(n)),a.open("GET",n,!0),a.responseType="arraybuffer",a.withCredentials=s.crossOrigin==="use-credentials",a.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=gje(n),a=0,o=1,l=1;if(i>1){this.url=mje(n,e4);var c=vje(i);a=c.rotate,o=c.scaleX,l=c.scaleY}r.rotatable&&(s.rotate=a),r.scalable&&(s.scaleX=o,s.scaleY=l),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&r4(r)&&(s||(s="anonymous"),i=s4(r)),this.crossOrigin=s,this.crossOriginUrl=i;var a=document.createElement("img");s&&(a.crossOrigin=s),a.src=i||r,a.alt=n.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),Gs(a,H6),n.parentNode.insertBefore(a,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=dc.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(dc.navigator.userAgent),i=function(c,u){Kr(n.imageData,{naturalWidth:c,naturalHeight:u,aspectRatio:c/u}),n.initialImageData=Kr({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var a=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){i(a.width,a.height),s||o.removeChild(a)},a.src=r.src,s||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(a))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,a=document.createElement("div");a.innerHTML=QFe;var o=a.querySelector(".".concat(qr,"-container")),l=o.querySelector(".".concat(qr,"-canvas")),c=o.querySelector(".".concat(qr,"-drag-box")),u=o.querySelector(".".concat(qr,"-crop-box")),d=u.querySelector(".".concat(qr,"-face"));this.container=i,this.cropper=o,this.canvas=l,this.dragBox=c,this.cropBox=u,this.viewBox=o.querySelector(".".concat(qr,"-view-box")),this.face=d,l.appendChild(s),Gs(n,uo),i.insertBefore(o,n.nextSibling),ac(s,H6),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,Gs(u,uo),r.guides||Gs(u.getElementsByClassName("".concat(qr,"-dashed")),uo),r.center||Gs(u.getElementsByClassName("".concat(qr,"-center")),uo),r.background&&Gs(o,"".concat(qr,"-bg")),r.highlight||Gs(d,VFe),r.cropBoxMovable&&(Gs(d,pR),ub(d,cb,DM)),r.cropBoxResizable||(Gs(u.getElementsByClassName("".concat(qr,"-line")),uo),Gs(u.getElementsByClassName("".concat(qr,"-point")),uo)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),co(r.ready)&&ha(n,J6,r.ready,{once:!0}),$m(n,J6)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),ac(this.element,uo)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Cje,t}},{key:"setDefaults",value:function(n){Kr(t4,mm(n)&&n)}}]),t}();Kr(rK.prototype,yje,bje,xje,wje,_je,Sje);var wf=function(){return wf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},wf.apply(this,arguments)};function uI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var kje=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],Eje={opacity:0,maxWidth:"100%"},sK=sn.forwardRef(function(t,e){var n=uI(t,[]),r=n.dragMode,s=r===void 0?"crop":r,i=n.src,a=n.style,o=n.className,l=n.crossOrigin,c=n.scaleX,u=n.scaleY,d=n.enable,h=n.zoomTo,p=n.rotateTo,m=n.alt,f=m===void 0?"picture":m,b=n.ready,w=n.onInitialized,g=uI(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),C={scaleY:u,scaleX:c,enable:d,zoomTo:h,rotateTo:p},k=function(){for(var A=[],O=0;O<arguments.length;O++)A[O]=arguments[O];var R=Q.useRef(null);return sn.useEffect(function(){A.forEach(function($){$&&(typeof $=="function"?$(R.current):$.current=R.current)})},[A]),R}(e,Q.useRef(null));Q.useEffect(function(){var A;!((A=k.current)===null||A===void 0)&&A.cropper&&typeof h=="number"&&k.current.cropper.zoomTo(h)},[n.zoomTo]),Q.useEffect(function(){var A;!((A=k.current)===null||A===void 0)&&A.cropper&&i!==void 0&&k.current.cropper.reset().clear().replace(i)},[i]),Q.useEffect(function(){if(k.current!==null){var A=new rK(k.current,wf(wf({dragMode:s},g),{ready:function(O){O.currentTarget!==null&&function(R,$){$===void 0&&($={});var D=$.enable,B=D===void 0||D,M=$.scaleX,z=M===void 0?1:M,W=$.scaleY,V=W===void 0?1:W,q=$.zoomTo,H=q===void 0?0:q,K=$.rotateTo;B?R.enable():R.disable(),R.scaleX(z),R.scaleY(V),K!==void 0&&R.rotateTo(K),H>0&&R.zoomTo(H)}(O.currentTarget.cropper,C),b&&b(O)}}));w&&w(A)}return function(){var O,R;(R=(O=k.current)===null||O===void 0?void 0:O.cropper)===null||R===void 0||R.destroy()}},[k]);var N=function(A){return kje.reduce(function(O,R){var $=O,D=R;return $[D],uI($,[typeof D=="symbol"?D:D+""])},A)}(wf(wf({},g),{crossOrigin:l,src:i,alt:f}));return sn.createElement("div",{style:a,className:o},sn.createElement("img",wf({},N,{style:Eje,ref:k})))});const DS=({isLoading:t,text:e,loadingText:n,className:r="",disabled:s=!1,...i})=>S.jsxs(dn,{className:`LoadButton ${r}`,disabled:s||t,...i,children:[t&&S.jsx(Ay,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," ",t?n:e]}),iK={0:"Fresh Apple",1:"Fresh Banana",2:"Fresh Orange",3:"Rotten Apple",4:"Rotten Banana",5:"Rotten Orange"},oK={API_ENDPOINT:"http://localhost:5000/api"};var wR={},Tje={get exports(){return wR},set exports(t){wR=t}};(function(t,e){(function(r,s){t.exports=s(Q)})(Sl,function(n){return function(r){var s={};function i(a){if(s[a])return s[a].exports;var o=s[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=s,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:l})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(o&1&&(a=i(a)),o&8||o&4&&typeof a=="object"&&a&&a.__esModule)return a;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:a}),o&2&&typeof a!="string")for(var c in a)i.d(l,c,function(u){return a[u]}.bind(null,c));return l},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,s,i){i.r(s);var a=i("react"),o=function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,b){f.__proto__=b}||function(f,b){for(var w in b)b.hasOwnProperty(w)&&(f[w]=b[w])},h(p,m)};return function(p,m){h(p,m);function f(){this.constructor=p}p.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}(),l=function(){return l=Object.assign||function(h){for(var p,m=1,f=arguments.length;m<f;m++){p=arguments[m];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(h[b]=p[b])}return h},l.apply(this,arguments)},c=function(h,p){var m={};for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&p.indexOf(f)<0&&(m[f]=h[f]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,f=Object.getOwnPropertySymbols(h);b<f.length;b++)p.indexOf(f[b])<0&&Object.prototype.propertyIsEnumerable.call(h,f[b])&&(m[f[b]]=h[f[b]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(f,b){m.call(navigator,p,f,b)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(h){o(p,h);function p(m){var f=h.call(this,m)||this;return f.canvas=null,f.ctx=null,f.requestUserMediaId=0,f.unmounted=!1,f.state={hasUserMedia:!1},f}return p.prototype.componentDidMount=function(){var m=this,f=m.state,b=m.props;if(this.unmounted=!1,!u()){b.onUserMediaError("getUserMedia not supported");return}f.hasUserMedia||this.requestUserMedia(),b.children&&typeof b.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(m){var f=this.props;if(!u()){f.onUserMediaError("getUserMedia not supported");return}var b=JSON.stringify(m.audioConstraints)!==JSON.stringify(f.audioConstraints),w=JSON.stringify(m.videoConstraints)!==JSON.stringify(f.videoConstraints),g=m.minScreenshotWidth!==f.minScreenshotWidth,C=m.minScreenshotHeight!==f.minScreenshotHeight;(w||g||C)&&(this.canvas=null,this.ctx=null),(b||w)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(f){m.removeTrack(f),f.stop()}),m.getAudioTracks().map(function(f){m.removeTrack(f),f.stop()})):m.stop())},p.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(p.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},p.prototype.getScreenshot=function(m){var f=this,b=f.state,w=f.props;if(!b.hasUserMedia)return null;var g=this.getCanvas(m);return g&&g.toDataURL(w.screenshotFormat,w.screenshotQuality)},p.prototype.getCanvas=function(m){var f=this,b=f.state,w=f.props;if(!this.video||!b.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var g=this.video.videoWidth,C=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var k=g/C;g=w.minScreenshotWidth||this.video.clientWidth,C=g/k,w.minScreenshotHeight&&C<w.minScreenshotHeight&&(C=w.minScreenshotHeight,g=C*k)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||g,this.canvas.height=(m==null?void 0:m.height)||C,this.ctx=this.canvas.getContext("2d")}var N=this,A=N.ctx,O=N.canvas;return A&&O&&(w.mirrored&&(A.translate(O.width,0),A.scale(-1,1)),A.imageSmoothingEnabled=w.imageSmoothing,A.drawImage(this.video,0,0,(m==null?void 0:m.width)||O.width,(m==null?void 0:m.height)||O.height),w.mirrored&&(A.scale(-1,1),A.translate(-O.width,0))),O},p.prototype.requestUserMedia=function(){var m=this,f=this.props,b=function(C,k){var N={video:typeof k<"u"?k:!0};f.audio&&(N.audio=typeof C<"u"?C:!0),m.requestUserMediaId++;var A=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(N).then(function(O){m.unmounted||A!==m.requestUserMediaId?p.stopMediaStream(O):m.handleUserMedia(null,O)}).catch(function(O){m.handleUserMedia(O)})};if("mediaDevices"in navigator)b(f.audioConstraints,f.videoConstraints);else{var w=function(C){return{optional:[{sourceId:C}]}},g=function(C){var k=C.deviceId;return typeof k=="string"?k:Array.isArray(k)&&k.length>0?k[0]:typeof k=="object"&&k.ideal?k.ideal:null};MediaStreamTrack.getSources(function(C){var k=null,N=null;C.forEach(function(R){R.kind==="audio"?k=R.id:R.kind==="video"&&(N=R.id)});var A=g(f.audioConstraints);A&&(k=A);var O=g(f.videoConstraints);O&&(N=O),b(w(k),w(N))})}},p.prototype.handleUserMedia=function(m,f){var b=this.props;if(m||!f){this.setState({hasUserMedia:!1}),b.onUserMediaError(m);return}this.stream=f;try{this.video&&(this.video.srcObject=f),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(f)})}b.onUserMedia(f)},p.prototype.render=function(){var m=this,f=this,b=f.state,w=f.props,g=w.audio;w.forceScreenshotSourceSize,w.onUserMedia,w.onUserMediaError,w.screenshotFormat,w.screenshotQuality,w.minScreenshotWidth,w.minScreenshotHeight,w.audioConstraints,w.videoConstraints,w.imageSmoothing;var C=w.mirrored,k=w.style,N=k===void 0?{}:k,A=w.children,O=c(w,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),R=C?l(l({},N),{transform:(N.transform||"")+" scaleX(-1)"}):N,$={getScreenshot:this.getScreenshot.bind(this)};return a.createElement(a.Fragment,null,a.createElement("video",l({autoPlay:!0,src:b.src,muted:!g,playsInline:!0,ref:function(D){m.video=D},style:R},O)),A&&A($))},p.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(a.Component);s.default=d},react:function(r,s){r.exports=n}}).default})})(Tje);const Ije=IR(wR),Aje="tensorflowjs",i4="model_info_store",hv="web-model",dI="/model/model3/transfer_learning/model.json",qp=150,ju=224,o4=3,a4=()=>{const t=Q.useRef("noWebCam"),e=Q.useRef("yesWebCam"),n=Q.useRef("canvas"),r=Q.useRef("cropper"),s=Q.useRef(null),[i,a]=Q.useState(null),[o,l]=Q.useState(null),[c,u]=Q.useState(null),[d]=Q.useState(null),[h,p]=Q.useState(!1),[m,f]=Q.useState(!1),[b,w]=Q.useState(""),[g,C]=Q.useState(!1),[k,N]=Q.useState(!1),[A,O]=Q.useState([]),[R,$]=Q.useState(!0),[D,B]=Q.useState(!1),[M,z]=Q.useState(!1),[W,V]=Q.useState(!1),[q,H]=Q.useState(!1),[K,F]=Q.useState(!1),[ie,de]=Q.useState({}),ee=async()=>{if("indexedDB"in window)try{const Fe=await ld("indexeddb://"+hv);console.log("modelTemp"),console.log(Fe),a(Fe);try{const Ce=await(await FX(Aje,1)).transaction(i4).objectStore(i4).get(hv),_e=new Date(Ce.modelArtifactsInfo.dateSaved);await Ye(),console.log(s.current),!s.current||_e>=new Date(s.current).getTime()?console.log("Using saved model"):(B(!0),z(!0))}catch(nt){console.warn(nt),console.warn("Could not retrieve when model was saved.")}}catch(Fe){console.log("Not found in IndexedDB. Loading and saving..."),console.log(Fe);const nt=await ld(dI);console.log("modelTemp"),console.log(nt),a(nt),await nt.save("indexeddb://"+hv)}else{console.warn("IndexedDB not supported.");const Fe=await ld(dI);a(Fe)}f(!0),ae(),(await De(()=>i.predict(bs([1,qp,qp,3])))).dispose()},J=async()=>{try{s.current=null,a(null),l(null),u(null),p(!1),f(!1),w(""),C(!1),N(!1),O([]),$(!0),B(!1),z(!1),V(!1),H(!1),F(!1),de({})}catch(fe){console.warn(fe)}},ae=async()=>{try{const fe=await navigator.mediaDevices.getUserMedia({video:!0}),Fe=await MY(e.current.video,{resizeWidth:ju,resizeHeight:ju,facingMode:"user",videoTrack:fe.getVideoTracks()[0]});console.log("cam"),console.log(Fe),l(Fe),Fe.start()}catch(fe){console.log("error"),console.log(fe),t.current.style.display="block"}},ue=async()=>{console.log("here"),ae()},le=async()=>{o&&(console.log("yes"),console.log(o),console.log(o.webcamConfig.videoTrack.enabled),o.webcamConfig.videoTrack.enabled=!1,console.log(o.webcamConfig.videoTrack.enabled),await o.stop(),l(null),c&&(console.log(c),c.getTracks().forEach(fe=>fe.stop()),u(null)),l(null),a(null))},Ee=()=>{const fe=document.getElementById("yesWebCam");fe&&fe.pause()},ze=()=>{const fe=document.getElementById("yesWebCam");fe&&fe.play()},Pe=async fe=>{console.log("setShowModal"),console.log(h),p(fe),h?(console.log("Stop"),J()):(console.log("Start"),ee(),ae(),ue())},Ke=async()=>{Pe(!1)},Ye=async()=>{await fetch(`${oK.API_ENDPOINT}/model_info`,{method:"GET"}).then(async fe=>{await fe.json().then(Fe=>{s.current=Fe.last_updated}).catch(Fe=>{console.log("Unable to get parse model info.")})}).catch(fe=>{console.log("Unable to get model info")})},We=async()=>{console.log("Updating the model: "+hv),H(!0);const fe=await ld(dI);a(fe),await i.save("indexeddb://"+hv),H(!1),B(!1),z(!1),V(!0)},ot=async()=>{N(!0),document.getElementById("canvas");const fe=De(()=>yP(croppedCanvas).toFloat()),Fe=await Le(fe),nt=bo.resizeBilinear(Fe,[qp,qp]),_e=await i.predict(nt).data(),Y=await dt(_e,o4);O(Y),$(!R),N(!1);const me=refs.canvas.getContext("2d"),ge=ju/croppedCanvas.width,Ve=ju/croppedCanvas.height,Nt=Math.min(ge,Ve);me.clearRect(0,0,ju,ju),me.drawImage(croppedCanvas,0,0,croppedCanvas.width*Nt,croppedCanvas.height*Nt),fe.dispose(),Fe.dispose(),nt.dispose()},Je=async()=>{N(!0);const fe=document.getElementById("canvas");console.log("webcam"),console.log(o);const Fe=await o.capture(),nt=bo.resizeBilinear(Fe,[qp,qp]),Ce=await Le(nt),_e=i.predict(Ce),Y=await _e.data(),me=await dt(Y,o4);console.log("preds"),console.log(me),O(me),N(!1);const ge=De(()=>Fe.toFloat().div(255));return await MV(ge,fe),nt.dispose(),Fe.dispose(),Ce.dispose(),_e.dispose(),ge.dispose(),{predictions:A,isClassifying:k,photoSettingsOpen:R}},Le=async fe=>De(()=>fe.expandDims(0).toFloat().div(127).sub(1)),dt=(fe,Fe)=>{const nt=[];for(let me=0;me<fe.length;me++)nt.push({value:fe[me],index:me});nt.sort((me,ge)=>ge.value-me.value);const Ce=new Float32Array(Fe),_e=new Int32Array(Fe);for(let me=0;me<Fe;me++)Ce[me]=nt[me].value,_e[me]=nt[me].index;const Y=[];for(let me=0;me<_e.length;me++)Y.push({className:iK[_e[me]],probability:(Ce[me]*100).toFixed(2)});return Y},Ct=()=>($(!R),R||ue(),{photoSettingsOpen:R}),Ae=fe=>{fe.target.files&&fe.target.files.length>0&&(setFile(URL.createObjectURL(fe.target.files[0])),setfilename(fe.target.files[0].name))},rt=fe=>{switch(fe){case"camera":ue();break;case"localfile":setFile(null),setfilename(null);break}};return S.jsxs(S.Fragment,{children:[S.jsx(dn,{className:"btn btn-info pull-right m-l-20 btn-rounded btn-outline hidden-xs hidden-sm waves-effect waves-light",onClick:()=>Pe(!0),children:"Classify"}),h?S.jsx(S.Fragment,{children:S.jsx("div",{className:"justify-center items-center flex  fixed inset-0 z-50 outline-none focus:outline-none",children:S.jsx("div",{className:"Classify container",children:S.jsx("div",{className:"relative w-[1000px]  my-6 mx-auto ",children:S.jsxs("div",{className:"border-0 rounded-lg  shadow-lg relative flex flex-col w-full h-[600px] bg-white outline-none focus:outline-none ",children:[S.jsxs("div",{className:"flex items-center justify-between border-solid border-slate-200 rounded-t",children:[S.jsx("h4",{className:"text-[19px] font-[400] text-[#202054] leading-[28.8px] mx-8",children:"Testing"}),S.jsx("div",{className:"ml-auto leading-none font-semibold outline-none focus:outline-none",onClick:Ke,children:S.jsx("span",{className:" flex items-center justify-center cursor-pointer  text-black  h-5 w-5  text-2xl  outline-none focus:outline-none",children:""})})]}),!m&&S.jsxs(Q.Fragment,{children:[S.jsx(Ay,{animation:"border",role:"status",children:S.jsx("span",{className:"sr-only",children:"Loading..."})})," ",S.jsx("span",{className:"loading-model-text",children:"Loading Model"}),S.jsx("h6",{children:"Please wait patiently, for the first time it will take a little bit longer"})]}),m&&S.jsxs(Q.Fragment,{children:[S.jsxs(dn,{onClick:Ct,className:"classify-panel-header","aria-controls":"photo-selection-pane","aria-expanded":R,children:["Take or Select a Photo to Classify",S.jsx("span",{className:"panel-arrow",children:R?S.jsx(zX,{}):S.jsx(UX,{})})]}),R&&S.jsxs("div",{id:"photo-selection-pane",children:[D&&M&&S.jsx(Ta,{children:S.jsxs(qf,{variant:"info",show:D&&M,onClose:()=>z(!1),dismissible:!0,children:["An update for the ",S.jsx("strong",{children:modelType})," model is available.",S.jsxs("div",{className:"d-flex justify-content-center pt-1",children:[!q&&S.jsx(dn,{onClick:We,variant:"outline-info",children:"Update"}),q&&S.jsxs("div",{children:[S.jsx(Ay,{animation:"border",role:"status",size:"sm",children:S.jsx("span",{className:"sr-only",children:"Downloading..."})})," ",S.jsx("strong",{children:"Downloading..."})]})]})]})}),W&&S.jsx(Ta,{children:S.jsxs(qf,{variant:"success",onClose:()=>V(!1),dismissible:!0,children:["The ",S.jsx("strong",{children:modelType})," model has been updated!"]})}),S.jsxs(GO,{defaultActiveKey:"camera",id:"input-options",onSelect:rt,className:"justify-content-center",children:[S.jsxs(Ym,{eventKey:"camera",title:"Take Photo",children:[S.jsxs("div",{id:"no-webcam",ref:t,children:[S.jsx("span",{className:"camera-icon",children:S.jsx(jX,{})}),"No camera found. ",S.jsx("br",{}),"Please use a device with a camera, or upload an image instead."]}),S.jsx("div",{className:"webcam-box-outer",children:S.jsx("div",{className:"webcam-box-inner",children:S.jsx(Ije,{id:"webcam",audio:!1,ref:e,muted:!0,style:{transform:"scaleX(-1)"},width:"448",height:"448"})})}),S.jsx("button",{onClick:Ee,children:"pause"}),S.jsx("button",{onClick:ze,children:"Restart"}),S.jsx("button",{onClick:le,children:"Stop"}),S.jsx("button",{onClick:ue,children:"Start"}),S.jsx("div",{className:"button-container",children:S.jsx(DS,{variant:"primary",size:"lg",onClick:Je,isLoading:k,text:"Let's Classify!",loadingText:"Classifying..."})})]}),S.jsxs(Ym,{eventKey:"localfile",title:"Select Image From Local",children:[S.jsxs(Mt.Group,{controlId:"file",children:[S.jsx(Mt.Label,{children:"Upload your image"}),S.jsx("br",{}),S.jsx(Mt.Label,{className:"imagelabel",children:b||"Browse"}),S.jsx(Mt.Control,{onChange:Ae,type:"file",accept:"image/*",className:"imagefile"})]}),d&&S.jsxs(Q.Fragment,{children:[S.jsx("div",{id:"local-image",children:S.jsx(sK,{ref:r,src:d,style:{height:400,width:"100%"},guides:!0,aspectRatio:1/1,viewMode:2})}),S.jsx("div",{className:"button-container",children:S.jsx(DS,{variant:"primary",size:"lg",disabled:!b,onClick:ot,isLoading:k,text:"Let's Classify!",loadingText:"Classifying..."})})]})]})]})]}),console.log("predictions.length"),console.log(A.length),A.length>0&&S.jsxs("div",{className:"classification-results",id:"photo-settings",children:[S.jsx("h3",{children:"Predictions"}),S.jsx("canvas",{id:"canvas",ref:n,width:ju,height:ju}),S.jsx("br",{}),S.jsx(G8,{children:A.map(fe=>(console.log(fe),fe.className==="Fresh Apple"||fe.className==="Fresh Orange"||fe.className==="Fresh Banana"?S.jsxs("div",{children:[S.jsxs("p",{children:["This most likely ",S.jsx("strong",{children:fe.className})," with ",fe.probability,"% probability!"]}),S.jsx("p",{children:"You can eat it safely!"})]}):S.jsxs("div",{children:[S.jsxs("p",{children:["Oh no! This is ",S.jsx("strong",{children:fe.className})," with ",fe.probability,"% probability!"]}),S.jsx("p",{children:"You shouldn't eat it!"})]})))})]})]})]})})})})}):null]})},Nje=t=>{var s;const e=yl(i=>i),n=bp();console.log(" ~ file: nav.jsx:6 ~ Navbar ~ props:",t);const r=Qi();return S.jsxs(ki,{className:"bg-title px-5",children:[S.jsx(er,{lg:4,md:4,sm:4,xs:12,className:"justify-content-center d-flex align-items-center",children:S.jsxs("h4",{className:"page-title mb-0",children:["Dashboard of ",(s=t==null?void 0:t.data)==null?void 0:s.userName]})}),S.jsx(er,{lg:4,md:4,sm:4,xs:6,className:"d-flex justify-content-center align-items-center",children:S.jsx(dn,{onClick:()=>r("/user"),className:"btn-info btn-rounded btn-outline px-3 py-2 hidden-xs hidden-sm waves-effect waves-light",children:"Home"})}),S.jsx(er,{lg:4,md:4,sm:4,xs:6,className:"d-flex justify-content-end align-items-center",children:e.authUser.isUserAuthenticated?S.jsx(dn,{onClick:()=>{n(Eoe()),r("/user_auth")},className:"btn-info btn-rounded btn-outline px-3 py-2 hidden-xs hidden-sm waves-effect waves-light mr-3",children:"Log out"}):S.jsx(dn,{className:"btn-info btn-rounded btn-outline px-3 py-2 hidden-xs hidden-sm waves-effect waves-light mr-3",children:"Log in"})})]})};function Rje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Oje="https://infura-ipfs.io/ipfs",$je=function(e){return e.startsWith("ipfs://")?e.substring(7):e},Dje=["hash","gatewayUrl"],l4=function(e){var n=e.hash,r=e.gatewayUrl,s=r===void 0?Oje:r,i=Rje(e,Dje);return sn.createElement("img",Object.assign({src:s+"/"+$je(n)},i))};function Pje(){var Ie,Ze,pt,kt,Kt,Hn,ur,Zn,Dr,Wn,Er,La,Su,Cu,Di,mc,ku,Tl,Fn,to,no,ro,xn,Il,Ws,Fa,ja,so,aa;const t=yl(tt=>tt),e=bp(),n=Qi();yl(tt=>tt.isUserAuthenticated),Q.useState([]),Q.useState(!1),Q.useState("");const[r,s]=Q.useState({}),[i,a]=Q.useState([{id:1,name:"strawberry seed",price:20,quantity:10,index:20},{id:2,name:"Watermellon seed",price:20,quantity:10,index:20},{id:3,name:"Manure",price:20,quantity:10,index:20}]),[o,l]=Q.useState(!1),[c,u]=Q.useState(!1),[d,h]=Q.useState(!1),[p,m]=Q.useState(!1),[f,b]=Q.useState(!1),[w,g]=Q.useState(!1),[C,k]=Q.useState(!1),[N,A]=Q.useState(!1),[O,R]=Q.useState(!1);Q.useState(!1);const[$,D]=Q.useState([]),[B,M]=Q.useState([]),[z,W]=Q.useState([]),[V,q]=Q.useState(null),H=tt=>S.jsxs(hf,{id:"popover-basic",...tt,children:[S.jsx(hf.Header,{as:"h3",children:tt.customText.name}),S.jsx(hf.Body,{children:S.jsxs("div",{children:[S.jsxs("div",{children:[S.jsx("label",{children:"Producer ID:"}),S.jsx("span",{children:tt.customText.producer.id})]}),S.jsxs("div",{children:[S.jsx("label",{children:"Product Price:"}),S.jsx("span",{children:tt.customText.product.price})]}),S.jsxs("div",{children:[S.jsx("label",{children:"Soil Type:"}),S.jsx("span",{children:tt.customText.producer.production_data.soil_type})]})]})})]}),K=tt=>S.jsxs(hf,{id:"popover-basic",...tt,children:[S.jsx(hf.Header,{as:"h3",children:tt.customText.name}),S.jsx(hf.Body,{children:S.jsxs("div",{children:[S.jsxs("div",{children:[S.jsx("label",{children:"Exporter Id:"}),S.jsx("span",{children:tt.customText.exporter.id})]}),S.jsxs("div",{children:[S.jsx("label",{children:"exporter Price:"}),S.jsx("span",{children:tt.customText.product.price})]}),S.jsxs("div",{children:[S.jsx("label",{children:"Packaging:"}),S.jsx("span",{children:tt.customText.producer.production_data.soil_type})]})]})})]}),[F,ie]=Q.useState(""),[de,ee]=Q.useState(""),[J,ae]=Q.useState({name:"",price:"",quantity:"",id:(Ie=t.authUser)==null?void 0:Ie.user,loggedUserType:((Ze=t.authUser)==null?void 0:Ze.userType)=="Farmer"?"manufacturer":(pt=t.authUser)==null?void 0:pt.userType,rawItems:[]}),ue=tt=>{console.log(z);const{options:Jt}=tt.target,cn=Array.from(Jt).filter(Ut=>Ut.selected).map(Ut=>Ut.value);ae(Ut=>({...Ut,rawItems:cn})),W(cn)},le=tt=>{const{name:Jt,value:cn}=tt.target;ae(Ut=>({...Ut,[Jt]:cn}))},Ee=async tt=>{var Jt,cn,Ut;tt.preventDefault(),await pa.addProduct(J),Me(),l(!1),ae({name:"",price:"",quantity:"",id:(Jt=t.authUser)==null?void 0:Jt.user,loggedUserType:((cn=t.authUser)==null?void 0:cn.userType)=="farmer"?"manufacturer":(Ut=t.authUser)==null?void 0:Ut.userType})},[ze,Pe]=Q.useState({climate:"",soilType:"",price:0,id:(kt=t.authUser)==null?void 0:kt.user,loggedUserType:((Kt=t.authUser)==null?void 0:Kt.userType)=="Farmer"?"manufacturer":(Hn=t.authUser)==null?void 0:Hn.userType}),Ke=tt=>{const{name:Jt,value:cn}=tt.target;Pe(Ut=>({...Ut,[Jt]:cn}))},Ye=async tt=>{var Jt,cn,Ut;tt.preventDefault(),ze.productId=V,await pa.listProduct(ze),u(!1),Me(),Pe({soilType:"",climate:"",productId:"",price:"",id:(Jt=t.authUser)==null?void 0:Jt.user,loggedUserType:((cn=t.authUser)==null?void 0:cn.userType)=="farmer"?"manufacturer":(Ut=t.authUser)==null?void 0:Ut.userType})},[We,ot]=Q.useState({packagingType:"",quantityPerPackage:"",packagingDate:0,price:"",id:(ur=t.authUser)==null?void 0:ur.user,loggedUserType:((Zn=t.authUser)==null?void 0:Zn.userType)=="Farmer"?"manufacturer":(Dr=t.authUser)==null?void 0:Dr.userType}),Je=tt=>{console.log(" ~ file: user_dashboard.jsx:126 ~ handleListProductExporter ~ listProductExporter:",We);const{name:Jt,value:cn}=tt.target;ot(Ut=>({...Ut,[Jt]:cn}))},Le=async tt=>{var Jt,cn,Ut;tt.preventDefault(),We.productId=V,await pa.listProduct(We),Me(),m(!1),ot({packagingType:"",quantityPerPackage:"",packagingDate:0,price:"",id:(Jt=t.authUser)==null?void 0:Jt.user,loggedUserType:((cn=t.authUser)==null?void 0:cn.userType)=="Farmer"?"manufacturer":(Ut=t.authUser)==null?void 0:Ut.userType})},[dt,Ct]=Q.useState({logistic:"",preferredDeliveryDate:"",deliveryType:"",price:0,id:(Wn=t.authUser)==null?void 0:Wn.user,userType:((Er=t.authUser)==null?void 0:Er.userType)=="Farmer"?"manufacturer":(La=t.authUser)==null?void 0:La.userType}),Ae=tt=>{console.log(" ~ file: user_dashboard.jsx:126 ~ handlelogisticSelect ~ logisticSelect:",dt);const{name:Jt,value:cn}=tt.target;Ct(Ut=>({...Ut,[Jt]:cn}))},rt=async tt=>{var Jt,cn,Ut;tt.preventDefault(),dt.productId=V,await pa.selectLogistic(dt),Me(),b(!1),Ct({logistic:"",preferredDeliveryDate:"",deliveryType:"",price:0,id:(Jt=t.authUser)==null?void 0:Jt.user,userType:((cn=t.authUser)==null?void 0:cn.userType)=="Farmer"?"manufacturer":(Ut=t.authUser)==null?void 0:Ut.userType})},[fe,Fe]=Q.useState({shipmentPickup:"",id:(Su=t.authUser)==null?void 0:Su.user,loggedUserType:((Cu=t.authUser)==null?void 0:Cu.userType)=="Farmer"?"manufacturer":(Di=t.authUser)==null?void 0:Di.userType}),nt=tt=>{const{name:Jt,value:cn}=tt.target;Fe(Ut=>({...Ut,[Jt]:cn}))},Ce=async tt=>{var Jt,cn,Ut;tt.preventDefault(),fe.productId=V,await pa.productPickup(fe),Me(),k(!1),Fe({shipmentPickup:"",id:(Jt=t.authUser)==null?void 0:Jt.user,loggedUserType:((cn=t.authUser)==null?void 0:cn.userType)=="Farmer"?"manufacturer":(Ut=t.authUser)==null?void 0:Ut.userType})},[_e,Y]=Q.useState({shipmentDelivery:"",id:(mc=t.authUser)==null?void 0:mc.user,loggedUserType:((ku=t.authUser)==null?void 0:ku.userType)=="Farmer"?"manufacturer":(Tl=t.authUser)==null?void 0:Tl.userType}),me=tt=>{const{name:Jt,value:cn}=tt.target;Y(Ut=>({...Ut,[Jt]:cn}))},ge=async tt=>{var Jt,cn,Ut;tt.preventDefault(),_e.productId=V,await pa.productDelivery(_e),Me(),A(!1),setLLogisticDelivery({shipmentDelivery:"",id:(Jt=t.authUser)==null?void 0:Jt.user,loggedUserType:((cn=t.authUser)==null?void 0:cn.userType)=="Farmer"?"manufacturer":(Ut=t.authUser)==null?void 0:Ut.userType})},[Ve,Nt]=Q.useState({price:0,id:(Fn=t.authUser)==null?void 0:Fn.user,loggedUserType:((to=t.authUser)==null?void 0:to.userType)=="Farmer"?"manufacturer":(no=t.authUser)==null?void 0:no.userType}),hn=tt=>{const{name:Jt,value:cn}=tt.target;Nt(Ut=>({...Ut,[Jt]:cn}))},Lt=async tt=>{var Jt,cn,Ut;tt.preventDefault(),Ve.productId=V,await pa.listProduct(Ve),Me(),g(!1),Nt({price:0,id:(Jt=t.authUser)==null?void 0:Jt.user,loggedUserType:((cn=t.authUser)==null?void 0:cn.userType)=="Farmer"?"manufacturer":(Ut=t.authUser)==null?void 0:Ut.userType})};Q.useState({climate:"",soilType:"",price:0,id:(ro=t.authUser)==null?void 0:ro.user,loggedUserType:((xn=t.authUser)==null?void 0:xn.userType)=="Farmer"?"manufacturer":(Il=t.authUser)==null?void 0:Il.userType});const Sn=(tt,Jt)=>{const cn=z.map(Ut=>Ut.id===tt?{...Ut,quantity:Jt}:Ut);W(cn)},Ne=tt=>{const Jt=z.filter(cn=>cn.id!==tt);W(Jt)};async function Me(){var cn,Ut,Pi,Gr,xr;const tt={key:((cn=t.authUser)==null?void 0:cn.userType)=="manufacturer"?"producer":(Ut=t.authUser)==null?void 0:Ut.userType,role:(Pi=t.authUser)==null?void 0:Pi.userType,id:(Gr=t.authUser)==null?void 0:Gr.user},Jt=await pa.fetchbyrole(tt);D((xr=Jt.data)==null?void 0:xr.success)}async function ct(){var tt,Jt,cn;if(console.log(" ~ file: user_dashboard.jsx:369 ~ getLogistic ~ logistic:",B),B.length<=0){const Ut={userType:((tt=t.authUser)==null?void 0:tt.userType)==="manufacturer"?"producer":(Jt=t.authUser)==null?void 0:Jt.userType,type:"logistic",id:(cn=t.authUser)==null?void 0:cn.user};try{const Pi=await zo.fetchUserbyrole(Ut);console.log("res.data:",Pi.data),M(Pi==null?void 0:Pi.data)}catch(Pi){console.error("Error:",Pi)}}}function Be(tt){e(Toe(tt)),n("/preview")}return Q.useEffect(()=>{Me()},[]),S.jsxs(Ta,{fluid:!0,children:[S.jsx(ki,{children:S.jsx(er,{md:12,children:S.jsxs(qf,{variant:"info",id:"divOngoingTransaction",style:{display:"none"},children:["Ongoing Transaction: ",S.jsx("span",{id:"linkOngoingTransaction",children:"None"})]})})}),S.jsx(ki,{children:S.jsx(er,{md:12,xs:12,children:S.jsxs(Vn,{className:"white-box",children:[S.jsxs("div",{className:"user-bg",style:{height:"fit-content"},children:[S.jsx(k5,{src:lpe,alt:"user",fluid:!0}),S.jsx("div",{className:"overlay-box",children:S.jsxs("div",{className:"user-content",children:[S.jsx("div",{className:"flex justify-center",children:(Ws=t.authUser)!=null&&Ws.profilePic?S.jsx(l4,{hash:(Fa=t.authUser)==null?void 0:Fa.profilePic,onClick:()=>n("profile"),style:{width:"6vw",height:"auto",cursor:"pointer"},className:"img-fluid thumb-lg img-circle",alt:"img"}):S.jsx(k5,{src:cpe,id:"userImage",style:{width:"6vw",height:"auto"},className:"img-fluid thumb-lg img-circle",alt:"img"})}),S.jsx("h4",{className:"text-white",id:"userName",children:(ja=t.authUser)==null?void 0:ja.userName}),S.jsx("h5",{className:"text-white",id:"currentUserAddress",children:(so=t.authUser)==null?void 0:so.userName})]})})]}),S.jsxs(Vn.Body,{className:"user-btm-box",children:[S.jsxs(ki,{children:[S.jsxs(er,{md:3,sm:6,xs:12,className:"text-center",children:[S.jsxs("p",{className:"text-purple",children:[S.jsx("i",{className:"fa fa-mobile"})," Contact No"]}),S.jsx("h5",{id:"userContact",children:r==null?void 0:r.phoneNumber})]}),S.jsxs(er,{md:3,sm:6,xs:12,className:"text-center",children:[S.jsxs("p",{className:"text-blue",children:[S.jsx("i",{className:"fa fa-user"})," Role"]}),S.jsx("h5",{id:"userRole",children:(aa=t.authUser)==null?void 0:aa.userType})]}),S.jsxs(er,{md:6,sm:12,xs:12,className:"text-center",children:[S.jsx(dn,{className:"btn btn-info pull-right m-l-20 btn-rounded btn-outline hidden-xs hidden-sm waves-effect waves-light",onClick:()=>n("explorar"),children:"Explorar"}),S.jsx(dn,{className:"btn btn-info pull-right m-l-20 btn-rounded btn-outline hidden-xs hidden-sm waves-effect waves-light",onClick:()=>l(!0),children:"Create Batch"}),S.jsx(dn,{className:"btn btn-info pull-right m-l-20 btn-rounded btn-outline hidden-xs hidden-sm waves-effect waves-light",onClick:()=>{n("details")},children:"View Details"}),S.jsx(a4,{})]})]}),S.jsx(ki,{children:S.jsx(er,{children:S.jsxs(Wo,{striped:!0,bordered:!0,hover:!0,className:"product-overview",id:"userCultivationTable",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Product ID"}),S.jsx("th",{children:"Farmer"}),S.jsx("th",{children:"Exporter"}),S.jsx("th",{children:"Importer"}),S.jsx("th",{children:"Logistic"}),S.jsx("th",{children:"Retailer"}),S.jsx("th",{children:"test"}),S.jsx("th",{children:"view"})]})}),S.jsx("tbody",{children:$==null?void 0:$.map(tt=>S.jsxs("tr",{children:[S.jsx("td",{children:tt.Record.id}),S.jsx("td",{children:(()=>tt.Record.producer.id?tt.Record.producer.status==="Complete"?S.jsx(O5,{placement:"top",delay:{show:250,hide:400},overlay:Jt=>H({...Jt,customText:tt.Record}),children:S.jsx("span",{className:"label label-success font-weight-100",children:"Completed"})}):tt.Record.status==="Processing"?S.jsx("span",{className:"label label-warning font-weight-100",onClick:()=>{u(!0),q(tt.Record.id)},children:"Processing"}):S.jsx("span",{className:"label label-danger font-weight-100",children:"Not Available"}):S.jsx("span",{className:"label label-danger font-weight-100",children:"Not Available"}))()}),S.jsx("td",{children:(()=>tt.Record.exporter.id?tt.Record.exporter.status==="Complete"?S.jsx(O5,{placement:"top",delay:{show:250,hide:400},overlay:Jt=>K({...Jt,customText:tt.Record}),children:S.jsx("span",{className:"label label-success font-weight-100",children:"Completed"})}):tt.Record.status==="Processing"?S.jsx("span",{className:"label label-warning font-weight-100",onClick:()=>{m(!0),q(tt.Record.id)},children:"Processing"}):S.jsx("span",{className:"label label-danger font-weight-100",onClick:()=>{h(!0),q(tt.Record.id)},children:tt.Record.exporter.id}):S.jsx("span",{className:"label label-danger font-weight-100",children:"Not Available"}))()}),S.jsx("td",{children:(()=>tt.Record.importer.id?tt.Record.status==="Available"?S.jsx("span",{className:"label label-success font-weight-100",onClick:()=>setImporterModalOpen(!0),children:"Available"}):tt.Record.status==="Processing"?S.jsx("span",{className:"label label-warning font-weight-100",onClick:()=>{q(tt.Record.id),ct(),b(!0)},children:"Processing"}):tt.Record.status==="Ordered"?S.jsx("span",{className:"label label-primary font-weight-100",children:"Ordered"}):tt.Record.importer.status==="recieved"?S.jsx("span",{className:"label label-info font-weight-100",onClick:()=>{q(tt.Record.id),g(!0)},children:"Received"}):S.jsx("span",{className:"label label-danger font-weight-100",children:tt.Record.exporter.id}):S.jsx("span",{className:"label label-danger font-weight-100",children:"Not Available"}))()}),S.jsx("td",{children:(()=>tt.Record.logistic.id?tt.Record.logistic.status==="delivered"?S.jsx("span",{className:"label label-success font-weight-100",children:"Completed"}):tt.Record.logistic.status==="Processing"?S.jsx("span",{className:"label label-warning font-weight-100",onClick:()=>{q(tt.Record.id),k(!0)},children:"waiting to pickup"}):tt.Record.logistic.status==="pickup"?S.jsx("span",{className:"label label-warning font-weight-100",onClick:()=>{q(tt.Record.id),A(!0)},children:"Picked up"}):S.jsx("span",{className:"label label-danger font-weight-100",children:tt.Record.logistic.id}):tt.Record.status==="Ordered"?S.jsx("span",{onClick:()=>{q(tt.Record.id),ct(),b(!0)},className:"label label-danger font-weight-100",children:"select logistic"}):S.jsx("span",{className:"label label-danger font-weight-100",children:"select"}))()}),S.jsx("td",{children:(()=>tt.Record&&tt.Record.retailer&&tt.Record.retailer.id?tt.Record.status==="Available"?S.jsx("span",{className:"label label-success font-weight-100",onClick:()=>R(!0),children:"Completed"}):tt.Record.status==="Processing"?S.jsx("span",{className:"label label-warning font-weight-100",onClick:()=>setNewRetailerProcessingStageModalOpen(!0),children:"Processing"}):S.jsx("span",{className:"label label-danger font-weight-100",onClick:()=>R(!0),children:tt.Record.retailer.id}):S.jsx("span",{className:"label label-danger font-weight-100",onClick:()=>R(!0),children:"Not Available"}))()}),S.jsx("td",{children:S.jsx(a4,{})}),S.jsx("td",{onClick:()=>{Be(tt.Record)},children:S.jsx(Mb,{icon:vfe})})]},tt.Key))})]})})})]})]})})}),S.jsxs(ln,{show:c,toggle:()=>u(!1),children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{children:"list Item for sell"})}),S.jsx(ln.Body,{children:S.jsxs("form",{children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Climate"}),S.jsx("input",{type:"text",className:"form-control",placeholder:"Climate",name:"climate",onChange:Ke,value:ze.climate,required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"SoilType"}),S.jsx("input",{type:"text",className:"form-control",name:"soilType",onChange:Ke,value:ze.soilType,placeholder:"Soil Type",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Price"}),S.jsx("input",{type:"text",className:"form-control",name:"price",onChange:Ke,value:ze.price,placeholder:"Price",required:!0})]})]})}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>u(!1),children:"Close"}),S.jsx(dn,{variant:"primary",onClick:Ye,children:"Save changes"})]})]}),S.jsxs(ln,{show:o,toggle:()=>l(!1),children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{children:"Create Batch"})}),S.jsx(ln.Body,{children:S.jsxs("form",{children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Name"}),S.jsx("input",{type:"text",name:"name",onChange:le,value:J.name,className:"form-control",placeholder:"Name",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Quantity"}),S.jsx("input",{type:"number",name:"quantity",onChange:le,value:J.quantity,className:"form-control",placeholder:"Quantity",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Price of raw material"}),S.jsx("input",{type:"number",name:"price",onChange:le,className:"form-control",value:J.price,placeholder:"Price",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Select Raw Items"}),S.jsx("select",{name:"rawItems",onChange:ue,className:"form-control",children:i.map(tt=>S.jsx("option",{value:tt.id,children:tt.name},tt.id))})]}),z.length>0&&S.jsx("div",{className:"selected-items",children:z==null?void 0:z.map(tt=>S.jsxs("div",{className:"selected-item",children:[S.jsx("span",{children:tt.name}),S.jsx("input",{type:"number",value:tt.quantity,onChange:Jt=>Sn(tt.id,Jt.target.value),className:"quantity-input"}),S.jsx("button",{onClick:()=>Ne(tt.id),className:"remove-button",children:"X"})]},tt.id))})]})}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),S.jsx(dn,{variant:"primary",onClick:Ee,children:"Save changes"})]})]}),S.jsxs(ln,{show:p,toggle:()=>m(!1),children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{id:"exportModalTitle",children:"Export"})}),S.jsx(ln.Body,{children:S.jsxs(Mt,{children:[S.jsxs(Mt.Group,{controlId:"packagingType",children:[S.jsx(Mt.Label,{children:"Packaging Type"}),S.jsxs(Mt.Control,{as:"select",value:We.packagingType,name:"packagingType",onChange:Je,required:!0,children:[S.jsx("option",{value:"",children:"Select Packaging Type"}),S.jsx("option",{value:"Bags",children:"Bags"}),S.jsx("option",{value:"Crate",children:"Crate"}),S.jsx("option",{value:"Cartons",children:"Cartons"})]})]}),S.jsxs(Mt.Group,{controlId:"packagingDate",children:[S.jsx(Mt.Label,{children:"Packaging Date"}),S.jsx(Mt.Control,{type:"date",name:"packagingDate",value:We.packagingDate,onChange:Je,required:!0})]}),S.jsxs(Mt.Group,{controlId:"quantityPerPackage",children:[S.jsx(Mt.Label,{children:"Quantity per Package"}),S.jsx(Mt.Control,{type:"number",name:"quantityPerPackage",value:We.quantityPerPackage,onChange:Je,required:!0})]}),S.jsxs(Mt.Group,{controlId:"packagingMaterialsUsed",children:[S.jsx(Mt.Label,{children:"Price"}),S.jsx(Mt.Control,{type:"number",name:"price",value:We.price,onChange:Je,required:!0})]})]})}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>m(!1),children:"Close"}),S.jsx(dn,{variant:"primary",type:"submit",form:"fifthModalForm",onClick:Le,children:"Save"})]})]}),S.jsxs(ln,{show:d,toggle:()=>h(!1),children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{id:"exportModalTitle",children:"Export"})}),S.jsx(ln.Body,{children:S.jsxs("form",{children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Select Logistic"}),S.jsx("input",{type:"text",name:"name",onChange:le,value:J.name,className:"form-control",placeholder:"Name",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Estimate date"}),S.jsx("input",{type:"date",name:"quantity",onChange:le,value:J.quantity,className:"form-control",placeholder:"Quantity",required:!0})]})]})}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>h(!1),children:"Close"}),S.jsx(dn,{variant:"primary",type:"submit",form:"fifthModalForm",children:"Save"})]})]}),S.jsxs(ln,{show:f,children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{id:"farmerModelTitle",children:"Shipment"})}),S.jsx(ln.Body,{children:S.jsxs(Mt,{children:[S.jsxs(Mt.Group,{controlId:"selectedShipment",children:[S.jsx(Mt.Label,{children:"Select Shipment"}),S.jsxs(Mt.Control,{as:"select",value:dt.logistic,name:"logistic",onChange:Ae,required:!0,children:[S.jsx("option",{value:"",children:"Choose..."}),B==null?void 0:B.map(tt=>S.jsxs("option",{value:tt.Record.User_ID,children:[S.jsx(l4,{hash:tt.Record.profilePic,alt:"img"}),tt.Record.Name]},tt.Key))]})]}),S.jsxs(Mt.Group,{controlId:"preferredDeliveryDate",children:[S.jsx(Mt.Label,{children:"Preferred Delivery Date"}),S.jsx(Mt.Control,{type:"date",value:dt.preferredDeliveryDate,name:"preferredDeliveryDate",onChange:Ae,required:!0})]}),S.jsxs(Mt.Group,{controlId:"shipmentType",children:[S.jsx(Mt.Label,{children:"Shipment Type"}),S.jsx(Mt.Check,{type:"radio",id:"normalDelivery",label:"Normal",value:"normal",name:"deliveryType",checked:dt.deliveryType==="normal",onChange:Ae}),S.jsx(Mt.Check,{type:"radio",id:"expressDelivery",label:"Express",value:"express",name:"deliveryType",checked:dt.deliveryType==="express",onChange:Ae})]})]})}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>b(!1),children:"Close"}),S.jsx(dn,{variant:"primary",type:"submit",form:"fifthModalForm",onClick:rt,children:"Save"})]})]}),S.jsxs(ln,{show:w,children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{id:"exportModalTitle",children:"List for sale"})}),S.jsx(ln.Body,{children:S.jsx(Mt,{children:S.jsxs(Mt.Group,{controlId:"packagingMaterialsUsed",children:[S.jsx(Mt.Label,{children:"Price"}),S.jsx(Mt.Control,{type:"number",name:"price",value:Ve.price,onChange:hn,required:!0})]})})}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>g(!1),children:"Close"}),S.jsx(dn,{variant:"primary",type:"submit",form:"fifthModalForm",onClick:Lt,children:"Save"})]})]}),S.jsxs(ln,{show:C,children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{id:"forthModalTitle",children:"Logistic Pickup"})}),S.jsxs(ln.Body,{children:[S.jsxs("div",{className:"d-flex align-items-center mb-3",children:[S.jsxs(dn,{variant:"danger",className:"d-flex align-items-center",children:["Download Shipping Label ",S.jsx(uL,{className:"ms-1"})]}),S.jsxs(dn,{className:"d-flex align-items-center ms-3",children:["View Shipping Label ",S.jsx(uL,{className:"ms-1"})]})]}),S.jsx(Mt,{children:S.jsx(Mt.Group,{controlId:"shipmentPickup",children:S.jsx(Mt.Check,{type:"radio",label:"Shipment Picked up",name:"shipmentPickup",value:"true",checked:fe.shipmentPickup==="true",onChange:nt,required:!0})})})]}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>k(!1),children:"Close"}),S.jsx(dn,{variant:"primary",type:"submit",form:"ForthModalForm",onClick:Ce,children:"Save"})]})]}),S.jsxs(ln,{show:N,children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{id:"forthModalTitle",children:"Logistic Pickup"})}),S.jsx(ln.Body,{children:S.jsx(Mt,{children:S.jsx(Mt.Group,{controlId:"shipmentDelivery",children:S.jsx(Mt.Check,{type:"radio",label:"Shipment Delivery",name:"shipmentDelivery",value:"true",checked:_e.shipmentDelivery==="true",onChange:me,required:!0})})})}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>A(!1),children:"Close"}),S.jsx(dn,{variant:"primary",type:"submit",form:"ForthModalForm",onClick:ge,children:"Save"})]})]}),S.jsxs(ln,{show:O,children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{id:"fifthModalTitle",children:"Retailer"})}),S.jsx(ln.Body,{children:S.jsxs(Mt,{children:[S.jsxs(Mt.Group,{controlId:"quantity",children:[S.jsx(Mt.Label,{children:"Quantity"}),S.jsx(Mt.Control,{type:"number",value:F,onChange:tt=>ie(tt.target.value),required:!0})]}),S.jsxs(Mt.Group,{controlId:"price",children:[S.jsx(Mt.Label,{children:"Price"}),S.jsx(Mt.Control,{type:"number",value:de,onChange:tt=>ee(tt.target.value),required:!0})]})]})}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>R(!1),children:"Close"}),S.jsx(dn,{variant:"primary",type:"submit",form:"fifthModalForm",children:"Save"})]})]}),S.jsx(ape,{price:"19.99",manufacturingDate:"2023-06-01",shippingDate:"2023-06-10"})]})}Tg.register(zy,Uy,Qv,C$,Y_,H_);const Mje={responsive:!0,plugins:{title:{}}},Bje=["January","February","March","April","May","June","July"],Lje={labels:Bje,datasets:[{label:"Dataset 1",data:[1e5,5e4],backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Dataset 2",data:[1e5,5e4],backgroundColor:"rgba(53, 162, 235, 0.5)"}]},aK=()=>{const[t,e]=Q.useState({});return Q.useEffect(()=>{e({labels:["Revenue","Expenses"],datasets:[{label:"Amount",data:[1e5,5e4],backgroundColor:["rgba(54, 162, 235, 0.2)","rgba(255, 99, 132, 0.2)"],borderColor:["rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]})},[]),S.jsxs(Ta,{fluid:!0,children:[S.jsxs(ki,{children:[S.jsx(er,{md:4,children:S.jsx(Vn,{className:"card cardcontainer",children:S.jsxs(Vn.Body,{children:[S.jsx(Vn.Title,{children:"Inventory"}),S.jsxs(Wo,{responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Product"}),S.jsx("th",{children:"Quantity"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"Raw materials"}),S.jsx("td",{children:"1000 units"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Work-in-progress"}),S.jsx("td",{children:"500 units"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Finished goods"}),S.jsx("td",{children:"200 units"})]})]})]})]})})}),S.jsx(er,{md:4,children:S.jsx(Vn,{className:"card cardcontainer",children:S.jsxs(Vn.Body,{children:[S.jsx(Vn.Title,{children:"Orders"}),S.jsxs(Wo,{responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Status"}),S.jsx("th",{children:"Volume"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"Received"}),S.jsx("td",{children:"1000 units"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Fulfilled"}),S.jsx("td",{children:"800 units"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Canceled"}),S.jsx("td",{children:"50 units"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Returns"}),S.jsx("td",{children:"20 units"})]})]})]})]})})}),S.jsx(er,{md:4,children:S.jsx(Vn,{className:"card cardcontainer",children:S.jsxs(Vn.Body,{children:[S.jsx(Vn.Title,{children:"Logistics"}),S.jsxs(Wo,{responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Transportation"}),S.jsx("th",{children:"Performance"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"On-time delivery"}),S.jsx("td",{children:"90%"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Delivery lead time"}),S.jsx("td",{children:"3 days"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Freight volume"}),S.jsx("td",{children:"10,000 lbs"})]})]})]})]})})})]}),S.jsxs(ki,{children:[S.jsx(er,{md:6,children:S.jsx(Vn,{className:"card cardcontainer",children:S.jsxs(Vn.Body,{children:[S.jsx(Vn.Title,{children:"Quality"}),S.jsxs(Wo,{responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Supplier/Product"}),S.jsx("th",{children:"Defect rate"}),S.jsx("th",{children:"Complaints"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"Supplier A"}),S.jsx("td",{children:"1%"}),S.jsx("td",{children:"10"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Supplier B"}),S.jsx("td",{children:"2%"}),S.jsx("td",{children:"5"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Product X"}),S.jsx("td",{children:"0.5%"}),S.jsx("td",{})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Product Y"}),S.jsx("td",{children:"0.8%"}),S.jsx("td",{children:"2"})]})]})]})]})})}),S.jsx(er,{md:6,children:S.jsx(Vn,{className:"card cardcontainer",children:S.jsxs(Vn.Body,{children:[S.jsx(Vn.Title,{children:"Finance"}),S.jsx(zw,{options:Mje,data:Lje}),S.jsxs(Wo,{responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Revenue"}),S.jsx("th",{children:"Expenses"}),S.jsx("th",{children:"Profit"})]})}),S.jsx("tbody",{children:S.jsxs("tr",{children:[S.jsx("td",{children:"$100,000"}),S.jsx("td",{children:"$50,000"}),S.jsx("td",{children:"$50,000"})]})})]})]})})})]})]})};function Fje(t){var i,a,o;const[e,n]=Q.useState("Shop"),r=Qi(),s=[{path:"/user",name:"Home",noofstartup:(i=t==null?void 0:t.count)==null?void 0:i.ccds},{path:"/user/explorar",name:"Shop",noofstartup:(a=t==null?void 0:t.count)==null?void 0:a.ccds},{path:"/user/explorar/inventory",name:"inventory",noofstartup:(o=t==null?void 0:t.count)==null?void 0:o.ccps}];return S.jsx("div",{className:"containize flex flex-col gap-y-7",children:S.jsxs("div",{className:"sidebar-container",children:[S.jsx("h2",{children:e}),S.jsx("div",{children:s.map((l,c)=>S.jsxs("div",{onClick:()=>{n(l.name),r(l.path)},activeclassname:"active",style:{cursor:"pointer"},className:"flex justify-between py-2 px-4 bg-gray-200 text-gray-700 hover:bg-gray-300 rounded transition-colors duration-300",children:[S.jsx("div",{className:"link-text",children:l.name}),S.jsx("div",{className:"link-text",children:l.noofstartup})]},c))})]})})}function jje({cart:t,increaseQuantity:e,decreaseQuantity:n}){var c,u,d,h,p;const[r,s]=Q.useState(!1),i=yl(m=>m),a=bp(),o=(c=i.cart)==null?void 0:c.cartItems.reduce((m,f)=>m+f.price*f.quantity,0),l=async m=>{var w,g,C;m.preventDefault();const f={items:(w=i.cart)==null?void 0:w.cartItems,id:(g=i.authUser)==null?void 0:g.user,userType:(C=i.authUser)==null?void 0:C.userType};let b;b=await pa.buyProduct(f),console.log(b),a(u9()),console.log("hello")};return S.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("div",{children:S.jsx("h2",{children:"Cart"})}),S.jsxs("div",{className:"flex items-center",children:[S.jsxs("button",{className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded",onClick:l,children:["Checkout (",o.toFixed(2),")"]}),S.jsxs("button",{className:"ml-4 flex items-center",onClick:()=>s(!r),children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6M9 11h6M9 15h6M3 21h18a2 2 0 002-2V5a2 2 0 00-2-2H3a2 2 0 00-2 2v14a2 2 0 002 2z"})}),S.jsx("span",{className:"ml-1",children:(d=(u=i.cart)==null?void 0:u.cartItems)==null?void 0:d.length})]})]})]}),r&&S.jsxs("div",{className:"bg-white p-4 border rounded mt-2 max-h-60 overflow-y-scroll",children:[S.jsx("h3",{className:"mb-4",children:"Shopping Cart"}),(p=(h=i.cart)==null?void 0:h.cartItems)==null?void 0:p.map(m=>S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsxs("div",{children:[S.jsx("span",{className:"font-bold",children:m.name})," "]}),S.jsxs("div",{children:[S.jsxs("span",{className:"text-gray-600",children:["$",m.price.toFixed(2)]})," ",S.jsxs("span",{className:"text-gray-600",children:["x ",m.quantity]})," ",S.jsxs("span",{className:"text-gray-600",children:["= ",(m.quantity*m.price).toFixed(2)]})]}),S.jsxs("div",{children:[S.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded",onClick:()=>a(Roe(m)),children:"-"}),S.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded ml-2",onClick:()=>a(Ooe(m)),children:"+"}),S.jsx("button",{className:"bg-red-200 hover:bg-red-300 px-2 py-1 rounded ml-2",onClick:()=>a(Noe(m)),children:"Remove"})]})]},m.id))]})]})}function lK({shop:t}){console.log("shop",t),Qi();const e=bp();console.log("Hello");const[n,r]=Q.useState(null),[s,i]=Q.useState([]),a=c=>{r(c)};function o(c){i(s.map(u=>u.id===c.id?{...u,quantity:u.quantity+1}:u))}function l(c){i(s.map(u=>u.id===c.id&&u.quantity>1?{...u,quantity:u.quantity-1}:u))}return S.jsxs("div",{className:"flex flex-col w-[90%]",children:[S.jsx("div",{className:"flex gap-8",children:S.jsx("div",{className:"w-[50%] flex flex-col gap-8",children:S.jsx("div",{className:"rounded-[5px]!important md:grid md:grid-cols-3 gap-[28.5px]",children:t==null?void 0:t.map((c,u)=>{var d,h,p,m,f;return S.jsx("div",{className:"startupcard",onMouseEnter:()=>a(u),onMouseLeave:()=>a(null),onClick:()=>e(Aoe({id:c.Key,name:c.Record.name,price:c.Record.product.price})),children:S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsxs("div",{className:"relative",children:[S.jsx("img",{src:"https://picsum.photos/200",className:"banner"}),S.jsx("div",{className:"absolute bottom-5 mt-[-20px] flex justify-center items-center bg-[#fefefe] w-[60px] h-[60px] rounded-full border-[0.8px] border-solid border-[#DDDDDD]",children:S.jsx("img",{src:"https://picsum.photos/200",className:"w-full h-full rounded-full"})})]}),n===u&&S.jsx("div",{className:"card__hover-content",children:S.jsx("p",{className:"compdes",children:(h=(d=c.Record)==null?void 0:d.product)==null?void 0:h.description})}),S.jsx("p",{className:"compdes",children:(p=c==null?void 0:c.Record)==null?void 0:p.name}),S.jsxs("p",{className:"compdes",children:["",(f=(m=c==null?void 0:c.Record)==null?void 0:m.product)==null?void 0:f.price]})]})},u)})})})}),S.jsx(jje,{increaseQuantity:o,decreaseQuantity:l,cart:s})]})}function zje({inventory:t}){console.log(" props inventory"),console.log(t),Qi(),Q.useState([{_id:1,registeredCompanyName:"boo",shortDescription:"fsdds",quantity:10,tags:"sdfsdf",colour:"#F0D9FF"},{_id:2,registeredCompanyName:"boo",shortDescription:"fsdds",quantity:10,tags:"sdfsdf",colour:"#F0D9FF"}]),console.log("Hello");const[e,n]=Q.useState(null),r=s=>{n(s)};return S.jsx("div",{className:"flex flex-col w-[80%]",children:S.jsx("div",{className:"flex gap-8",children:S.jsx("div",{className:"w-[75%] flex flex-col gap-8",children:S.jsx("div",{className:"rounded-[5px]!important md:grid md:grid-cols-3 gap-[28.5px]",children:t==null?void 0:t.map((s,i)=>S.jsx("div",{className:"startupcard ",onMouseEnter:()=>r(i),onMouseLeave:()=>r(null),onClick:()=>{handleCallback(s._id)},children:S.jsxs("div",{className:" flex flex-col gap-3",children:[S.jsxs("div",{children:[S.jsx("img",{src:"https://picsum.photos/200",className:"banner"}),S.jsx("div",{className:"flex px-3 ",children:S.jsx("label",{className:"not-italic font-medium m-2 leading-[13px] text-[#252525] font-[Poppins]",children:s.name})})]}),e===i&&S.jsx("div",{className:"card__hover-content",children:S.jsx("div",{children:S.jsx("p",{className:"compdes",children:s.shortDescription})})}),S.jsx("p",{className:"compdes",children:s.text}),S.jsx("div",{className:"flex justify-between",children:S.jsxs("div",{children:[S.jsx("label",{className:"not-italic font-normal text-[16px] leading-4 tracking-[0.971402px] text-[#252525] font-[Roboto]",children:s.rise}),S.jsxs("p",{className:"not-italic font-normal text-[12.5726px] leading-4 tracking-[0.971402px] text-[#828F99] font-[Roboto]",children:["Quantity - ",s.quantity]})]})})]})},i))})})})})}function Uje(){Qi();const t=yl(l=>l),[e,n]=Q.useState([{registeredCompanyName:"boo",shortDescription:"fsdds",tags:"sdfsdf",colour:"#F0D9FF"},{registeredCompanyName:"boo",shortDescription:"fsdds",tags:"sdfsdf",colour:"#F0D9FF"}]),[r,s]=Q.useState([{_id:1,registeredCompanyName:"boo",shortDescription:"fsdds",quantity:10,tags:"sdfsdf",colour:"#F0D9FF"},{_id:2,registeredCompanyName:"boo",shortDescription:"fsdds",quantity:10,tags:"sdfsdf",colour:"#F0D9FF"}]);console.log("Hello"),Q.useState(!1);async function i(){var u,d,h;const l={key:"producer",role:(u=t.authUser)==null?void 0:u.userType,id:(d=t.authUser)==null?void 0:d.user},c=await pa.fetchRawProduct(l);console.log("res"),console.log(c),n((h=c.data)==null?void 0:h.success)}async function a(){var u,d,h;const l={userType:(u=t.authUser)==null?void 0:u.userType,id:(d=t.authUser)==null?void 0:d.user},c=await pa.fetchInventory(l);console.log("res inventory"),console.log("res inventory"),console.log(c),s((h=c.data)==null?void 0:h.inventory)}async function o(){var u,d,h;const l={id:(u=t.authUser)==null?void 0:u.user,userType:(d=t.authUser)==null?void 0:d.userType,role:"middlemen"},c=await pa.fetchShopProduct(l);console.log("res"),console.log(c),n((h=c.data)==null?void 0:h.success)}return Q.useEffect(()=>{var l;((l=t.authUser)==null?void 0:l.userType)=="manufacturer"?(i(),a()):(o(),a())},[]),S.jsx("div",{children:S.jsx("div",{className:"bg-[#f7f7f7] flex justify-center items-center p-[20px]",children:S.jsx("div",{className:"flex flex-col w-[100%]",children:S.jsxs("div",{className:"flex gap-8",children:[S.jsx(Fje,{}),S.jsx("div",{className:"w-[75%] flex flex-col gap-8",children:S.jsxs(vb,{children:[S.jsx(yr,{path:"/inventory",element:S.jsx(zje,{inventory:r})}),S.jsx(yr,{path:"/",element:S.jsx(lK,{shop:e})})]})})]})})})})}function hI({name:t,price:e,onAddToCart:n}){return S.jsxs("div",{children:[S.jsx("h3",{children:t}),S.jsxs("p",{children:["$",e.toFixed(2)]}),S.jsx("button",{onClick:n,children:"Add to Cart"})]})}function Wje({name:t,price:e,quantity:n,onIncreaseQuantity:r,onDecreaseQuantity:s,onRemove:i}){return S.jsxs("tr",{children:[S.jsx("td",{children:t}),S.jsxs("td",{children:["",e.toFixed(2)]}),S.jsxs("td",{children:[S.jsx("button",{onClick:s,children:"-"}),n,S.jsx("button",{onClick:r,children:"+"})]}),S.jsxs("td",{children:["$",(e*n).toFixed(2)]}),S.jsx("td",{children:S.jsx("button",{onClick:i,children:"Remove"})})]})}function Vje({cartItems:t,onIncreaseQuantity:e,onDecreaseQuantity:n,onRemove:r}){return S.jsxs("div",{children:[S.jsx("h2",{children:"Cart"}),t.length===0?S.jsx("p",{children:"Your cart is empty."}):S.jsxs("table",{children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Product Name"}),S.jsx("th",{children:"Price"}),S.jsx("th",{children:"Quantity"}),S.jsx("th",{children:"Total Price"}),S.jsx("th",{children:"Remove Item"})]})}),S.jsx("tbody",{children:t.map(s=>S.jsx(Wje,{name:s.name,price:s.price,quantity:s.quantity,onIncreaseQuantity:()=>e(s),onDecreaseQuantity:()=>n(s),onRemove:()=>r(s)},s.id))}),S.jsx("tfoot",{children:S.jsxs("tr",{children:[S.jsx("td",{colSpan:"3",children:"Total"}),S.jsxs("td",{children:["$",t.reduce((s,i)=>s+i.price*i.quantity,0).toFixed(2)]})]})})]})]})}function Gje(){const[t,e]=Q.useState([]);function n(a){const o=t.find(l=>l.id===a.id);e(o?t.map(l=>l.id===a.id?{...l,quantity:l.quantity+1}:l):[...t,{...a,quantity:1}])}function r(a){e(t.map(o=>o.id===a.id?{...o,quantity:o.quantity+1}:o))}function s(a){e(t.map(o=>o.id===a.id&&o.quantity>1?{...o,quantity:o.quantity-1}:o))}function i(a){e(t.filter(o=>o.id!==a.id))}return S.jsxs("div",{children:[S.jsx("h1",{children:"Online Store"}),S.jsxs("div",{children:[S.jsx("h2",{children:"Products"}),S.jsxs("div",{children:[S.jsx(hI,{name:"Product 1",price:9.99,onAddToCart:()=>n({id:1,name:"Product 1",price:9.99})}),S.jsx(hI,{name:"Product 2",price:14.99,onAddToCart:()=>n({id:2,name:"Product 2",price:14.99})}),S.jsx(hI,{name:"Product 3",price:19.99,onAddToCart:()=>n({id:3,name:"Product 3",price:19.99})})]})]}),S.jsx(Vje,{cartItems:t,onIncreaseQuantity:r,onDecreaseQuantity:s,onRemove:i})]})}function Hje(){const[t,e]=Q.useState("statistics"),[n,r]=Q.useState([]),[s,i]=Q.useState(!1),a=yl(c=>c),o=[{Header:"Index",accessor:"Key"},{Header:"To",accessor:"Record.recipient"},{Header:"From",accessor:"Record.sender"},{Header:"Amount",accessor:"Record.totalPrice"},{Header:"View",Cell:()=>S.jsx(dn,{className:"text-red-600",onClick:()=>i(!0),value:"View Invoice",children:"Save"})}];async function l(){var d,h;const c={id:(d=a.authUser)==null?void 0:d.user,role:(h=a.authUser)==null?void 0:h.userType},u=await zo.fetchTransaction(c);console.log(" ~ file: details.jsx:182 ~ ControlledTabsExample ~ res:",u),r(u.data.success)}return Q.useEffect(()=>{l()},[]),S.jsxs(S.Fragment,{children:[S.jsxs(GO,{id:"controlled-tab-example",activeKey:t,onSelect:c=>e(c),className:"mb-3",children:[S.jsx(Ym,{eventKey:"statistics",title:"Statistics",children:S.jsx(aK,{})}),S.jsx(Ym,{eventKey:"transection",title:"Transection",children:S.jsx(f9,{getTrProps:c=>({className:"bg-gray-100 hover:bg-gray-200 cursor-pointer"}),data:n,columns:o})})]}),S.jsxs(ln,{size:"lg",show:s,children:[S.jsx(ln.Header,{children:S.jsx(ln.Title,{id:"fifthModalTitle",children:"Invoice"})}),S.jsx(ln.Body,{children:S.jsx(Ta,{className:"py-5",children:S.jsx(Vn,{className:"p-4",children:S.jsxs(Vn.Body,{children:[S.jsx(Ta,{className:"mb-2 mt-3",children:S.jsxs("div",{className:"d-flex align-items-baseline",children:[S.jsx("div",{className:"col-xl-9",children:S.jsxs("p",{style:{color:"#7e8d9f",fontSize:"20px"},children:["Invoice > > ",S.jsx("strong",{children:"ID: #123-123"})]})}),S.jsxs("div",{className:"col-xl-3 float-end",children:[S.jsx(dn,{variant:"light",className:"text-capitalize border-0",href:"javascript:void(0);",onClick:()=>window.print(),children:"Print"}),S.jsx(dn,{variant:"light",className:"text-capitalize border-0 ms-2",children:"Export"}),S.jsx("hr",{})]})]})}),S.jsx(Ta,{children:S.jsx("div",{className:"text-center",children:S.jsx("i",{className:"fab fa-mdb",style:{fontSize:"4rem",color:"#5d9fc5"}})})}),S.jsxs("div",{className:"row",children:[S.jsx("div",{className:"col-xl-8",children:S.jsxs("ul",{className:"list-unstyled text-muted",children:[S.jsxs("li",{children:["To: ",S.jsx("span",{style:{color:"#5d9fc5"},children:"John Lorem"})]}),S.jsx("li",{children:"Street, City"}),S.jsx("li",{children:"State, Country"}),S.jsxs("li",{children:[S.jsx("i",{className:"fas fa-phone-alt"})," 123-456-789"]})]})}),S.jsxs("div",{className:"col-xl-4",children:[S.jsx("p",{className:"text-muted",children:"Invoice"}),S.jsxs("ul",{className:"list-unstyled text-muted",children:[S.jsxs("li",{children:[S.jsx("i",{className:"fas fa-circle",style:{color:"#84B0CA"}}),S.jsx("span",{className:"fw-bold ms-1",children:"ID:"}),"#123-456"]}),S.jsxs("li",{children:[S.jsx("i",{className:"fas fa-circle",style:{color:"#84B0CA"}}),S.jsx("span",{className:"fw-bold ms-1",children:"Creation Date: "}),"Jun 23,2021"]}),S.jsxs("li",{children:[S.jsx("i",{className:"fas fa-circle",style:{color:"#84B0CA"}}),S.jsx("span",{className:"fw-bold ms-1",children:"Status:"}),S.jsx("span",{className:"badge bg-warning text-black fw-bold ms-1",children:"Unpaid"})]})]})]})]}),S.jsx("div",{className:"my-2 mx-1 justify-content-center",children:S.jsxs("table",{className:"table table-striped table-borderless",children:[S.jsx("thead",{className:"text-white",style:{backgroundColor:"#84B0CA"},children:S.jsxs("tr",{children:[S.jsx("th",{scope:"col",children:"#"}),S.jsx("th",{scope:"col",children:"Description"}),S.jsx("th",{scope:"col",children:"Qty"}),S.jsx("th",{scope:"col",children:"Unit Price"}),S.jsx("th",{scope:"col",children:"Amount"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("th",{scope:"row",children:"1"}),S.jsx("td",{children:"Pro Package"}),S.jsx("td",{children:"4"}),S.jsx("td",{children:"$200"}),S.jsx("td",{children:"$800"})]}),S.jsxs("tr",{children:[S.jsx("th",{scope:"row",children:"2"}),S.jsx("td",{children:"Web hosting"}),S.jsx("td",{children:"1"}),S.jsx("td",{children:"$10"}),S.jsx("td",{children:"$10"})]}),S.jsxs("tr",{children:[S.jsx("th",{scope:"row",children:"3"}),S.jsx("td",{children:"Consulting"}),S.jsx("td",{children:"1 year"}),S.jsx("td",{children:"$300"}),S.jsx("td",{children:"$300"})]})]})]})}),S.jsxs("div",{className:"row",children:[S.jsx("div",{className:"col-xl-8",children:S.jsx("textarea",{className:"ms-3",children:"Add additional notes and payment information"})}),S.jsxs("div",{className:"col-xl-3",children:[S.jsxs("ul",{className:"list-unstyled",children:[S.jsxs("li",{className:"text-black me-4",children:[S.jsx("span",{className:"text-black me-4",children:"SubTotal"}),"$1110"]}),S.jsxs("li",{className:"text-black me-4 mt-2",children:[S.jsx("span",{className:"text-black me-4",children:"Tax(15%)"}),"$111"]})]}),S.jsxs("p",{className:"text-black float-start",children:[S.jsx("span",{className:"text-black me-3",children:" Total Amount"}),S.jsx("span",{style:{fontSize:"25px"},children:"$1221"})]})]})]}),S.jsx("hr",{}),S.jsxs("div",{className:"row",children:[S.jsx("div",{className:"col-xl-10",children:S.jsx("p",{children:"Thank you for your purchase"})}),S.jsx("div",{className:"col-xl-2",children:S.jsx(dn,{className:"text-capitalize",style:{backgroundColor:"#60bdf3"},children:"Pay Now"})})]})]})})})}),S.jsxs(ln.Footer,{children:[S.jsx(dn,{variant:"secondary",onClick:()=>i(!1),children:"Close"}),S.jsx(dn,{variant:"primary",type:"submit",form:"fifthModalForm",children:"Save"})]})]})]})}Tg.register(zy,Uy,jw,Cv,C$,Y_,H_);const Yje={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Line Chart"}}};function qje({hourlyData:t}){console.log("hourlyData"),console.log(t);const e=t.hourly.time,n=t.hourly.temperature_2m,r=t.hourly.relativehumidity_2m,s=t.hourly.windspeed_10m,i={labels:e,datasets:[{label:"temperature",data:n,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"humidity",data:r,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"},{label:"windSpeed",data:s,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]};return S.jsx(gde,{options:Yje,data:i})}function Xje(t){return eh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"}}]})(t)}function Kje(t){return eh({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M746 835.28L544.529 723.678c74.88-58.912 95.216-174.688 95.216-239.601v-135.12c0-89.472-118.88-189.12-238.288-189.12-119.376 0-241.408 99.664-241.408 189.12v135.12c0 59.024 24.975 178.433 100.624 239.089L54 835.278S0 859.342 0 889.342v81.088c0 29.84 24.223 54.064 54 54.064h692c29.807 0 54.031-24.224 54.031-54.064v-81.087c0-31.808-54.032-54.064-54.032-54.064zm-9.967 125.215H64.002V903.28c4.592-3.343 11.008-7.216 16.064-9.536 1.503-.688 3.007-1.408 4.431-2.224l206.688-112.096c18.848-10.224 31.344-29.184 33.248-50.528s-7.008-42.256-23.712-55.664c-53.664-43.024-76.656-138.32-76.656-189.152V348.96c0-45.968 86.656-125.12 177.408-125.12 92.432 0 174.288 78.065 174.288 125.12v135.12c0 50.128-15.568 145.84-70.784 189.28a64.098 64.098 0 0 0-24.224 55.664 64.104 64.104 0 0 0 33.12 50.849l201.472 111.6c1.777.975 4.033 2.031 5.905 2.848 4.72 2 10.527 5.343 14.783 8.288v57.887zM969.97 675.936L765.505 564.335c74.88-58.912 98.224-174.688 98.224-239.601v-135.12c0-89.472-121.872-190.128-241.28-190.128-77.6 0-156.943 42.192-203.12 96.225 26.337 1.631 55.377 1.664 80.465 9.664 33.711-26.256 76.368-41.872 122.656-41.872 92.431 0 177.278 79.055 177.278 126.128v135.12c0 50.127-18.56 145.84-73.775 189.28a64.098 64.098 0 0 0-24.224 55.664 64.104 64.104 0 0 0 33.12 50.848l204.465 111.6c1.776.976 4.032 2.032 5.904 2.848 4.72 2 10.527 5.344 14.783 8.288v56.912H830.817c19.504 14.72 25.408 35.776 32.977 64h106.192c29.807 0 54.03-24.224 54.03-54.064V730.03c-.015-31.84-54.047-54.096-54.047-54.096z"}}]})(t)}function Jje(t){return eh({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2 20h20v2H2v-2zm2-8h2v7H4v-7zm5 0h2v7H9v-7zm4 0h2v7h-2v-7zm5 0h2v7h-2v-7zM2 7l10-5 10 5v4H2V7zm2 1.236V9h16v-.764l-8-4-8 4zM12 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}}]}]})(t)}const Qje=()=>S.jsx(S.Fragment,{children:S.jsx("section",{children:S.jsx("div",{className:"border-[2px] p-2 w-[302px] h-[330px] bg-white rounded-[20px]",children:S.jsxs("ul",{className:"pt-[25px]",children:[S.jsx(rT,{to:"/user/profile/*",className:"link",activeclassname:"active",children:S.jsxs("li",{className:"flex cursor-pointer justify-start  text-[#000000] items-center py-[15px] ",children:[S.jsx("span",{className:"px-[30px]",children:S.jsx(Xje,{size:30})}),S.jsx("h4",{className:"pl-[10px] text-[18px] font-[400]  leading-[21.09px]",children:"Profile"})]})}),S.jsx(rT,{to:"kyc",className:"link",activeclassname:"active",children:S.jsxs("li",{className:"flex cursor-pointer justify-start text-[#000000] items-center py-[15px]   ",children:[S.jsx("span",{className:"px-[30px]",children:S.jsx(Kje,{size:30})}),S.jsx("h4",{className:"pl-[10px] text-[18px] font-[400] leading-[21.09px]",children:"KYC"})]})}),S.jsx(rT,{to:"bankdetail",className:"link",activeclassname:"active",children:S.jsxs("li",{className:"flex cursor-pointer justify-start text-[#000000] items-center active:py-[15px] py-[15px] ",children:[S.jsx("span",{className:"px-[30px]",children:S.jsx(Jje,{size:30})}),S.jsxs("h4",{className:"pl-[10px] text-[18px] font-[400] leading-[21.09px]",children:[" ","Bank details"]})]})})]})})})}),pw="https://8fdb-2409-40e6-2d-3b86-a0c1-15ef-a3da-83dd.ngrok-free.app";class hd{}ut(hd,"pan",async e=>{try{const n=await Dn.post(pw+"/v1/kyc/verify_and_add_pan",e);return console.log(n),n.data}catch(n){return console.log(n.data),n.data}}),ut(hd,"aadhar",async e=>{try{return(await Dn.post(pw+"/user/kyc/verify_and_add_aadhar",e)).data}catch(n){return console.log(n.data),n.data}}),ut(hd,"bank",async e=>{try{return(await Dn.post(pw+"/v1/kyc/verify_and_add_bank",e)).data}catch(n){return console.log(n.data),n.data}}),ut(hd,"other",async e=>{try{return(await Dn.post(pw+"/v1/kyc/add_other",e)).data}catch(n){return console.log(n.data),n.data}});const Zje=()=>{const t=Qi(),e=yl(f=>f),n={Name:"",phone:"",email:"",address:"",city:"",state:"",pincode:"",country:""};yp();const r=["India","NRI"],s={India:["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal"],NRI:["NRI"]},[i,a]=Q.useState(""),[o,l]=Q.useState(n);localStorage.getItem("loginMethod2");const c=localStorage.getItem("loginMethod");console.log("registerMethod"),console.log(c);const[u,d]=Q.useState(!1);function h(f){const{name:b,value:w}=f.target;l(g=>({...g,[b]:w})),console.log(o)}async function p(f){var C,k,N;f.preventDefault();let b;if(m()){lr.error("Please fill in all fields");return}b={id:(C=e.authUser)==null?void 0:C.user,userType:((k=e.authUser)==null?void 0:k.userType)=="farmer"?"manufacturer":(N=e.authUser)==null?void 0:N.userType};const w={...o,...b};console.log(w);const g=await hd.signupComplete(w);console.log(g),g.code==200&&(lr.success("Profile Completed"),g.data.status.includes("profile")?t("/layoutprofile"):g.data.status.includes("pan")||g.data.status.includes("aadhar")?t("/layoutprofile/kyc"):g.data.status.includes("bank")?t("/layoutprofile/bankdetail"):g.data.status.includes("other")?t("/layoutprofile/others"):t("/investor/dashboard"))}function m(){for(const f in o)if(!o[f])return!1;return!0}return Q.useEffect(()=>{async function f(){var w,g,C,k,N,A;const b=await zo.fetchUserbyById({id:(w=e.authUser)==null?void 0:w.user,userType:((g=e.authUser)==null?void 0:g.userType)=="farmer"?"manufacturer":(C=e.authUser)==null?void 0:C.userType});if(console.log(" ~ file: Profile.jsx:134 ~ fetchData ~ res:",b.data),b&&b.data.status==200){const O={Name:b.data.Name,phone:b.data.phone,email:b.data.Email,address:b.data.Address.address,country:b.data.Address.country,city:(k=b.data.Address)==null?void 0:k.city,state:(N=b.data.Address)==null?void 0:N.state,pincode:(A=b.data.Address)==null?void 0:A.pincode};console.log(" ~ file: Profile.jsx:131 ~ fetchData ~ value:",O),l(O)}}f()},[]),S.jsx(S.Fragment,{children:S.jsx("section",{children:S.jsx("div",{className:" md:ml-[25px] bg-white md:w-[808px] w-[100%] rounded-[20px]   ",children:S.jsxs("div",{className:"md:px-[35px] px-[15px] py-[40px]",children:[S.jsxs("div",{className:"flex justify-between items-center mb-[15px] md:pr-[25px] ",children:[S.jsx("div",{className:"pl-[20px] ",children:S.jsx("h4",{className:"text-[19px] font-[400] text-[#202054] leading-[28.8px]",children:"Personal details"})}),S.jsx("div",{className:""})]}),S.jsxs("form",{className:"w-full ",onSubmit:p,children:[S.jsx("div",{className:"flex flex-wrap mx-3 mb-6",children:S.jsxs("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",children:"Name"}),S.jsx("input",{className:"appearance-none block  text-gray-700 border  border-gray-200  rounded w-full py-[10px] px-4 mb-3 leading-tight  bg-white focus:outline-none focus:border-gray-500",type:"text",defaultValue:o.Name,placeholder:"Enter your name here ",onChange:h,name:"firstName",disabled:u})]})}),S.jsxs("div",{className:"flex flex-wrap mx-3 mb-6",children:[S.jsxs("div",{className:"w-1/2 px-3",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",htmlFor:"grid-password",children:"Email id"}),S.jsx("input",{className:"appearance-none block w-full  text-gray-700 border border-gray-200 rounded py-[10px] px-4 mb-3 leading-tight focus:outline-none bg-white focus:border-gray-500",id:"grid-password",type:"email",defaultValue:o.email,placeholder:"Enter your email id here ",onChange:h,name:"email",disabled:u})]}),S.jsxs("div",{className:"w-1/2 px-3",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",htmlFor:"grid-password",children:"Mobile number"}),S.jsx("input",{className:" inputs  appearance-none block w-full  text-gray-700 border border-gray-200 rounded py-[10px] px-4 mb-3 leading-tight focus:outline-none bg-white focus:border-gray-500",id:"grid-password",type:"number",defaultValue:o.phone,placeholder:"Enter your mobile Number Here ",onChange:h,disabled:u,name:"phone"})]})]}),S.jsx("div",{className:"flex flex-wrap mx-3 mb-6",children:S.jsxs("div",{className:"w-full px-3",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",htmlFor:"grid-password",children:"Address"}),S.jsx("input",{className:"appearance-none block w-full  text-gray-700 border border-gray-200 rounded py-[10px] px-4 mb-3 leading-tight focus:outline-none bg-white focus:border-gray-500",id:"grid-password",type:"text",value:o.address,onChange:h,disabled:u,name:"address",placeholder:"Enter your room no area name Here  "})]})}),S.jsxs("div",{className:"flex flex-wrap mx-3 mb-6",children:[S.jsxs("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",children:"city"}),S.jsx("input",{className:"appearance-none block w-full  text-gray-700 border  border-gray-200  rounded py-[10px] px-4 mb-3 leading-tight  bg-white focus:outline-none focus:border-gray-500",type:"text",placeholder:"Enter your city Here ",defaultValue:o.city,onChange:h,disabled:u,name:"city"})]}),S.jsx("div",{className:"w-full md:w-1/2 px-3",children:i&&S.jsxs("div",{children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",children:"State"}),S.jsx("select",{className:" appearance-none block w-full  text-gray-700 border border-gray-200 rounded py-[10px] px-4 leading-tight focus:outline-none bg-white focus:border-gray-500",children:s[i].map(f=>S.jsx("option",{children:f}))})]})})]}),S.jsxs("div",{className:"flex flex-wrap mx-3 mb-6",children:[S.jsxs("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",children:"Pincode"}),S.jsx("input",{className:"inputs appearance-none block w-full  text-gray-700 border  border-gray-200  rounded py-[10px] px-4 mb-3 leading-tight  bg-white focus:outline-none focus:border-gray-500",type:"number",placeholder:"Enter your pincode Here ",defaultValue:o.pincode,onChange:h,disabled:u,name:"pincode"})]}),S.jsxs("div",{className:"w-full md:w-1/2 px-3",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",children:"Country"}),S.jsx("select",{className:"appearance-none block w-full  text-gray-700 border border-gray-200 rounded py-[10px] px-4 leading-tight focus:outline-none bg-white focus:border-gray-500",disabled:u,onChange:f=>{a(f.target.value)},children:r.map(f=>S.jsx("option",{children:f}))})]})]}),S.jsx("div",{className:"w-[100%] flex md:justify-end  justify-center pr-[20px] pt-[5px]",children:S.jsx("button",{onClick:f=>addKyc(f),className:"bg-[#62f392] text-[#ffffff] md:px-4 md:py-[8px] py-[9px] px-12 rounded-[10px] hover:bg-[#44a665] duration-200",children:S.jsx("h4",{className:"px-[20px]",children:" Confirm"})})})]})]})})})})};function e6e(){const t=Qi(),e=yl(b=>b),[n,r]=Q.useState(1),[s,i]=Q.useState(""),[a,o]=Q.useState(""),[l,c]=Q.useState(""),[u,d]=Q.useState("");Q.useEffect(()=>{async function b(){var g;const w=await zo.fetchUserbyById({id:(g=e.authUser)==null?void 0:g.user});console.log("res"),console.log(w),w&&w.code==200&&(console.log("worked"),c(w.data.data.firstName),d(w.data.data.lastName),w.data.data.pan.status!="pending"&&(console.log("pending state"),i(w.data.data.pan.panNo)),w.data.data.aadhar.status!="pending"&&(console.log("pending state"),o(w.data.data.aadhar.aadharNo)))}b()},[]);const h=async b=>{var C,k,N,A,O,R;if(b.preventDefault(),n==2){const $={panNo:s,userType:((C=e.authUser)==null?void 0:C.userType)=="farmer"?"manufacturer":(k=e.authUser)==null?void 0:k.userType,id:(N=e.authUser)==null?void 0:N.user};console.log($);const D=await hd.pan($);D.code==200&&(lr.success("Pan Card Verified"),D.data.status.includes("profile")?t("/layoutprofile"):t("/investor/dashboard"));return}const w={aadhar:a,userType:((A=e.authUser)==null?void 0:A.userType)=="farmer"?"manufacturer":(O=e.authUser)==null?void 0:O.userType,id:(R=e.authUser)==null?void 0:R.user},g=await hd.aadhar(w);g.code==200&&(lr.success("Aadhar card verified"),g.data.status.includes("pan")?r(2):t("/investor/dashboard"))},p=b=>{r(b)},m=b=>{const w=b.target.value;i(w),console.log(w)},f=b=>{const w=b.target.value;o(w),console.log(w)};return S.jsx(S.Fragment,{children:S.jsx("section",{children:S.jsx("div",{className:"w-[100%]",children:S.jsxs("div",{className:"flex flex-col relative break-all  ",children:[S.jsxs("div",{className:"flex justify-start items-center md:w-[60%] w-[100%] h-[70px] md:pb-[15px] ",children:[S.jsx("div",{className:"w-[100px] flex justify-start items-center ",children:S.jsx("button",{className:n===1?"  border-[#202052] border-b-[4px] duration-600 w-[100%] py-[10px] text-[#202054] font-[400] leading-[18.75px]  ":" w-[100%] py-[10px] text-[#828F99] font-[400] leading-[18.75px]",onClick:()=>p(1),children:"Aadhar card"})}),S.jsx("div",{className:"w-[100px] flex justify-center items-center",children:S.jsx("button",{className:n===2?"  border-[#202052] border-b-[4px] duration-600 w-[100%] py-[10px]  text-[#202054] font-[400] leading-[18.75px] ":" w-[100%] py-[10px]  text-[#828F99] font-[400] leading-[18.75px]",onClick:()=>p(2),children:"PAN CARD"})})]}),S.jsx("div",{className:"w-[100%] md:pt-[50px] pt-[45px]",children:S.jsxs("form",{action:"",children:[S.jsx("div",{className:n===1?" duration-600  ":"hidden",children:S.jsx("div",{className:"flex flex-wrap  mb-6",children:S.jsxs("div",{className:"w-full px-3",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[9px]",htmlFor:"grid-password",children:"Aadhar card number"}),S.jsx("input",{className:"inputs appearance-none block w-full  text-gray-700 border border-gray-300 rounded py-[7px] px-4 mb-3 leading-tight focus:outline-none bg-white focus:border-gray-500",id:"grid-password",type:"number",placeholder:"Enter your Aadhar card number here ",defaultValue:a,onChange:b=>f(b)})]})})}),S.jsx("div",{className:n===2?" duration-600":"hidden",children:S.jsx("div",{className:"flex flex-wrap mb-6",children:S.jsxs("div",{className:"w-full px-3",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[9px]",htmlFor:"grid-password",children:"PAN Card number"}),S.jsx("input",{className:"inputs appearance-none block w-full  text-gray-700 border border-gray-300 rounded py-[7px] px-4 mb-3 leading-tight focus:outline-none bg-white focus:border-gray-500",id:"grid-password",defaultValue:s,placeholder:"Enter your PAN Card number Here  ",onChange:b=>m(b)})]})})}),S.jsx("div",{className:"flex justify-center md:justify-end items-center pr-[8px] mt-[50px]",children:S.jsx("button",{onClick:b=>h(b),className:"bg-[#62f392] text-[#ffffff] md:px-4 md:py-[8px] py-[9px] px-12 rounded-[10px] hover:bg-[#44a665] duration-200",children:S.jsx("h4",{className:"px-[20px]",children:" Confirm"})})})]})})]})})})})}const t6e=()=>S.jsx(S.Fragment,{children:S.jsx("div",{className:" md:ml-[25px] bg-white md:w-[808px] w-[100%] rounded-[20px]  ",children:S.jsxs("div",{className:"md:px-[45px] px-[15px] py-[40px]",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-[15px] md:pr-[25px] ",children:[S.jsx("div",{className:"pl-[20px] ",children:S.jsx("h4",{className:"text-[19px] font-[400] text-[#202054] leading-[28.8px]",children:"KYC"})}),S.jsx("div",{className:"",children:S.jsx(w_,{position:"bottom-right"})})]}),S.jsx("div",{children:S.jsx("h4",{className:"text-[13.33px] text-[#828F99] font-[400] md:leading-[15.62px] leading-[20px]",children:"Complete Your KYC in Minutes: Verify Your Identity and Start Participating in the network"})})]}),S.jsx("div",{className:"md:mt-[40px] mt-[25px]",children:S.jsx(e6e,{})})]})})}),n6e=()=>{const t=Qi(),e=yl(f=>f),[n,r]=Q.useState(""),[s,i]=Q.useState(""),[a,o]=Q.useState(""),[l,c]=Q.useState(""),[u,d]=Q.useState("");Q.useEffect(()=>{async function f(){var w;const b=await investAPI.fetch({id:(w=e.authUser)==null?void 0:w.user});console.log("res"),console.log(b),b&&b.code==200&&b.data.data.bank.status!="pending"}f()},[]);const h=f=>{const b=f.target.value;r(b),console.log(b)},p=f=>{const b=f.target.value;i(b),console.log(b)},m=async f=>{var g,C;f.preventDefault(),JSON.parse(sessionStorage.getItem("auth"));const b={id:(g=e.authUser)==null?void 0:g.user,role:(C=e.authUser)==null?void 0:C.userType,firstName:l,lastName:u,accountNumber:n,acctype:a,ifsc:s},w=await hd.bank(b);console.log(w),w.code==200&&(console.log("Success"),lr.success("Success"),w.data.status.includes("profile")?t("/layoutprofile"):w.data.status.includes("pan")||w.data.status.includes("aadhar")?t("/layoutprofile/kyc"):w.data.status.includes("bank")?t("/layoutprofile/bankdetail"):w.data.status.includes("other")?t("/layoutprofile/others"):t("/investor/dashboard"))};return S.jsx(S.Fragment,{children:S.jsx("section",{children:S.jsx("div",{className:"md:ml-[25px] bg-white md:w-[808px] w-[100%] rounded-[20px]  ",children:S.jsxs("div",{className:"md:px-[35px] px-[15px] py-[40px]",children:[S.jsxs("div",{className:"flex justify-between items-center mb-[15px] md:pr-[25px] ",children:[S.jsx("div",{className:"pl-[20px] ",children:S.jsx("h4",{className:"text-[19px] font-[400] text-[#202054] leading-[28.8px]",children:"Bank Details"})}),S.jsx("div",{className:""})]}),S.jsxs("form",{className:"w-full ",children:[S.jsx("div",{className:"flex flex-wrap mx-3 mb-7",children:S.jsxs("div",{className:"w-full px-3",children:[S.jsx("label",{htmlFor:"bank_name",className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",children:"Bank name"}),S.jsxs("select",{defaultValue:"DEFAULT",id:"bank_name",className:" border border-gray-300 text-gray-900 text-sm rounded-lg  focus:border-gray-500 block w-full p-2.5 bg-[#ffffff] ",children:[S.jsx("option",{value:"DEFAULT",children:"Choose your Bank"}),S.jsx("option",{value:"ACBL",children:"Abhyudaya Co-op Bank Ltd "}),S.jsx("option",{value:"SD",children:"Abu Dhabi Commercial Bank Ltd"}),S.jsx("option",{value:"NP",children:"National Bank of Abu Dhabi PJSC "}),S.jsx("option",{value:"AB",children:"AB Bank Ltd."}),S.jsx("option",{value:"AM",children:"Ahmedabad Mercantile Co-op Bank"}),S.jsx("option",{value:"ALB",children:"Allahabad Bank"}),S.jsx("option",{value:"ANB",children:"Andhra Bank"}),S.jsx("option",{value:"ADB",children:"Antwerp Diamond Bank Mumbai"}),S.jsx("option",{value:"ANZ",children:'"Australia and New Zealand Banking Group Limited"'}),S.jsx("option",{value:"AFS",children:"Axis Bank"}),S.jsx("option",{value:"BOF",children:"Bank Of America"}),S.jsx("option",{value:"BOB",children:"Bank Of Bahrain And Kuwait"}),S.jsx("option",{value:"BOBF",children:"Bank of Baroda"}),S.jsx("option",{value:"BOC",children:"Bank Of Ceylon"}),S.jsx("option",{value:"BOI",children:"Bank of India"}),S.jsx("option",{value:"BOM",children:"Bank Of Maharashtra"}),S.jsx("option",{value:"BONS",children:"Bank Of Nova Scotia"}),S.jsx("option",{value:"BOTM",children:"Bank Of Tokyo-Mitsubishi Ufj Ltd"}),S.jsx("option",{value:"BII",children:"Bank Internasional Indonesia"}),S.jsx("option",{value:"BBP",children:"Barclays Bank Plc"}),S.jsx("option",{value:"BCCB",children:"Bassein Catholic Co-op Bank Ltd"}),S.jsx("option",{value:"BCB",children:"Bharat Co-op Bank (Mumbai) Ltd"}),S.jsx("option",{value:"BNP",children:"BNP Paribas"}),S.jsx("option",{value:"CB",children:"Canara Bank"}),S.jsx("option",{value:"CSB",children:"Catholic Syrian Bank Ltd"}),S.jsx("option",{value:"CBI",children:"Central Bank of India"}),S.jsx("option",{value:"CCB",children:"Chinatrust Commercial Bank"}),S.jsx("option",{value:"CI",children:"Citibank India"}),S.jsx("option",{value:"CCBL",children:"Citizencredit Co-op Bank Ltd"}),S.jsx("option",{value:"CUB",children:"City Union Bank Ltd"}),S.jsx("option",{value:"CBF",children:"Corporation Bank"}),S.jsx("option",{value:"CCIB",children:"Cosmos Co-op Bank Ltd"}),S.jsx("option",{value:"CAC",children:"Credit Agricole Corp and Investment Bank"}),S.jsx("option",{value:"CBA",children:"Commonwealth Bank of Australia"}),S.jsx("option",{value:"DBSB",children:"DBS Bank"}),S.jsx("option",{value:"DB",children:"Dena Bank"}),S.jsx("option",{value:"DBAG",children:"Deutsche Bank Ag"}),S.jsx("option",{value:"DCB",children:"Development Credit Bank"}),S.jsx("option",{value:"BHABL",children:"Dhanlaxmi Bank Ltd"}),S.jsx("option",{value:"DICG",children:"Dicgc"}),S.jsx("option",{value:"DB",children:"Doha Bank"}),S.jsx("option",{value:"DNS",children:"Dombivli Nagari Sahakari Bank Ltd"}),S.jsx("option",{value:"EI",children:"Export-Import Bank of India"}),S.jsx("option",{value:"FBL",children:"Federal Bank Ltd"}),S.jsx("option",{value:"FBL",children:"Firstrand Bank Ltd"}),S.jsx("option",{value:"GBC",children:"Greater Bombay Co-op Bank Ltd"}),S.jsx("option",{value:"HDFC",children:"HDFC Bank"}),S.jsx("option",{value:"HSBC",children:"HSBC"}),S.jsx("option",{value:"HSBC",children:"HSBC Bank Oman S.A.O.G."}),S.jsx("option",{value:"ICIC",children:"ICICI Bank"}),S.jsx("option",{value:"IDBI",children:"IDBI Bank"}),S.jsx("option",{value:"IDFC",children:"IDFC Bank Limited"}),S.jsx("option",{value:"INB",children:"Indian Bank"}),S.jsx("option",{value:"IOB",children:"Indian Overseas Bank"}),S.jsx("option",{value:"IND",children:"IndusInd Bank Ltd."}),S.jsx("option",{value:"IACB",children:"Industrial and Commercial Bank of China Ltd."}),S.jsx("option",{value:"IVB",children:"ING Vysya Bank"}),S.jsx("option",{value:"IBK",children:"Industrial Bank of Korea"}),S.jsx("option",{value:"JK",children:"Jammu & Kashmir Bank Ltd."}),S.jsx("option",{value:"JS",children:"Janakalyan Sahakari Bank Ltd"}),S.jsx("option",{value:"JSB",children:"Janata Sahkari Bank Ltd Pune"}),S.jsx("option",{value:"JCB",children:"Jpmorgan Chase Bank"}),S.jsx("option",{value:"KC",children:"Kalupur Commercial Co-op Bank Ltd"}),S.jsx("option",{value:"KJ",children:"Kalyan Janata Sahakari Bank Ltd"}),S.jsx("option",{value:"KC",children:"Kapole Co-op Bank"}),S.jsx("option",{value:"KBL",children:"Karnataka Bank Ltd."}),S.jsx("option",{value:"KSC",children:"Karnataka State Co-op Apex Bank"}),S.jsx("option",{value:"KVB",children:"Karur Vysya Bank"}),S.jsx("option",{value:"KMB",children:"Kotak Mahindra Bank"}),S.jsx("option",{value:"KHB",children:"KEB Hana Bank"}),S.jsx("option",{value:"KTB",children:"Krung Thai Bank PCL Mumbai"}),S.jsx("option",{value:"LVB",children:"Lakshmi Vilas Bank Ltd"}),S.jsx("option",{value:"MCB",children:"Mahanagar Co-op Bank Ltd"}),S.jsx("option",{value:"MSC",children:"Maharashtra State Co-operative Bank Limited"}),S.jsx("option",{value:"MBP",children:"Mashreq Bank Psc"}),S.jsx("option",{value:"MUC",children:"Mehsana Urban Co-op Bank Ltd"}),S.jsx("option",{value:"MCB",children:"Mizuho Corporate Bank Ltd"}),S.jsx("option",{value:"NB",children:"Nainital Bank Ltd"}),S.jsx("option",{value:"NIC",children:"New India Co-op Bank Ltd"}),S.jsx("option",{value:"NCB",children:"Nkgsb Co-op Bank Ltd"}),S.jsx("option",{value:"NNSB",children:"Nutan Nagarik Sahakari Bank Ltd"}),S.jsx("option",{value:"OIB",children:"Oman International Bank Saog"}),S.jsx("option",{value:"OBOFC",children:"Oriental Bank of Commerce"}),S.jsx("option",{value:"PJSB",children:"Parsik Janata Sahakari Bank Ltd"}),S.jsx("option",{value:"PAM",children:"Punjab and Maharashtra Bank Ltd."}),S.jsx("option",{value:"PNB",children:"Punjab National Bank"}),S.jsx("option",{value:"PNSB",children:"Punjab & Sind Bank"}),S.jsx("option",{value:"QNB",children:"Qatar National Bank(QPSC)"}),S.jsx("option",{value:"RNSBL",children:"Rajkot Nagarik Sahakari Bank Ltd"}),S.jsx("option",{value:"RBL",children:"Ratnakar Bank Ltd"}),S.jsx("option",{value:"RBOI",children:"Reserve Bank Of India"}),S.jsx("option",{value:"RBOS",children:"Royal bank of scotland"}),S.jsx("option",{value:"RI",children:"Rabobank International"}),S.jsx("option",{value:"SBER",children:"Sberbank"}),S.jsx("option",{value:"SCB",children:"Saraswat Co-operative Bank Ltd."}),S.jsx("option",{value:"SVC",children:"Shamrao Vithal Co-op Bank Ltd"}),S.jsx("option",{value:"SB",children:"Shinhan Bank"}),S.jsx("option",{value:"SG",children:"Societe Generale"}),S.jsx("option",{value:"SBL",children:"Sonali Bank Ltd."}),S.jsx("option",{value:"SIB",children:"South Indian Bank"}),S.jsx("option",{value:"SCB",children:"Standard Chartered Bank"}),S.jsx("option",{value:"SBIO",children:"State Bank Of Bikaner And Jaipur"}),S.jsx("option",{value:"SBOH",children:"State Bank of Hyderabad"}),S.jsx("option",{value:"SBOI",children:"State Bank of India"}),S.jsx("option",{value:"SBIG",children:"SBI Global Factors Ltd(SBIGFL) factoring Unit"}),S.jsx("option",{value:"IF",children:"India Factoring and Finance Solutions Pvt. Ltd"}),S.jsx("option",{value:"IFCI",children:"IFCI Factors Limited"}),S.jsx("option",{value:"BMCB",children:"Bombay Mercantile Co-operative bank Limited"}),S.jsx("option",{value:"SBM",children:"State Bank Of Mauritius Ltd"}),S.jsx("option",{value:"SBOM",children:"State Bank of Mysore"}),S.jsx("option",{value:"SBP",children:"State Bank Of Patiala"}),S.jsx("option",{value:"SBT",children:"State Bank Of Travancore"}),S.jsx("option",{value:"SBOS",children:"State Bank of Saurashtra"}),S.jsx("option",{value:"SMBC",children:"Sumitomo Mitsui Banking Corporation"}),S.jsx("option",{value:"SPCB",children:"Surat Peoples Co-op Bank Ltd"}),S.jsx("option",{value:"SB",children:"Syndicate Bank"}),S.jsx("option",{value:"TMBI",children:"Tamilnad Mercantile Bank Ltd"}),S.jsx("option",{value:"TJSB",children:"Thane Janta Sahakari Bank, Ltd."}),S.jsx("option",{value:"TKU",children:"The Karad Urban Co-op Bank Ltd"}),S.jsx("option",{value:"TNMC",children:"The Nasik Merchants Co-op Bank Ltd"}),S.jsx("option",{value:"UBS",children:"UBS AG"}),S.jsx("option",{value:"UCO",children:"UCO Bank"}),S.jsx("option",{value:"UBOF",children:"Union Bank of India"}),S.jsx("option",{value:"UBOI",children:"United Bank of India"}),S.jsx("option",{value:"UOB",children:"United Overseas Bank"}),S.jsx("option",{value:"VB",children:"Vijaya Bank"}),S.jsx("option",{value:"WBSO",children:"West Bengal State Co-op Bank Ltd"}),S.jsx("option",{value:"WBC",children:"Westpac Banking Corporation"}),S.jsx("option",{value:"WB",children:"Woori Bank"}),S.jsx("option",{value:"YBF",children:"Yes Bank"}),S.jsx("option",{value:"ENB",children:"Emirates NBD Bank PJSC"})]})]})}),S.jsx("div",{className:"flex flex-wrap mx-3 mb-6",children:S.jsxs("div",{className:"w-full px-3",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",htmlFor:"grid-password",children:"Account number"}),S.jsx("input",{className:"inputs appearance-none block w-full  text-gray-700 border border-gray-200 rounded py-[10px] px-4 mb-3 leading-tight focus:outline-none bg-white focus:border-gray-500",id:"grid-password",type:"number",onChange:f=>h(f),defaultValue:n,placeholder:"Enter your Account Number  "})]})}),S.jsx("div",{className:"flex flex-wrap mx-3 mb-6",children:S.jsxs("div",{className:"w-full px-3",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",htmlFor:"grid-password",children:"Conform Account number"}),S.jsx("input",{className:"inputs appearance-none block w-full  text-gray-700 border border-gray-200 rounded py-[10px] px-4 mb-3 leading-tight focus:outline-none bg-white focus:border-gray-500",id:"grid-password",type:"number",onChange:f=>h(f),defaultValue:n,placeholder:"Enter your Account Number  "})]})}),S.jsx("div",{className:"flex flex-wrap mx-3 mb-6",children:S.jsxs("div",{className:"w-full px-3",children:[S.jsx("label",{className:"block uppercase tracking-wide text-[#828F99] font-[400] leading-[11.72px] text-[10px] mb-[5px]",htmlFor:"grid-password",children:"IFSC code"}),S.jsx("input",{className:"appearance-none block w-full  text-gray-700 border border-gray-200 rounded py-[10px] px-4 mb-3 leading-tight focus:outline-none bg-white focus:border-gray-500",id:"grid-password",type:"text",defaultValue:s,onChange:f=>p(f),placeholder:"Enter your IFSC code  "})]})}),S.jsxs("div",{className:"flex flex-wrap md:mx-3  md:justify-start justify-center mb-6",children:[S.jsxs("div",{className:"flex items-center mr-4 md:px-3",children:[S.jsx("input",{id:"inline-radio",type:"radio",value:"acctype",onChange:f=>f.target.value,acctype:"saving",name:"inline-radio-group",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300"}),S.jsx("label",{htmlFor:"inline-radio",className:"ml-2 md:text-sm font-medium text-gray-900 dark:text-gray-300 text-[12px]",children:"Saving account"})]}),S.jsxs("div",{className:"flex items-center mr-4",children:[S.jsx("input",{id:"inline-2-radio",type:"radio",value:"acctype",acctype:"current",onChange:f=>f.target.value,name:"inline-radio-group",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300"}),S.jsx("label",{htmlFor:"inline-2-radio",className:"ml-2 md:text-sm font-medium text-gray-900 dark:text-gray-300 text-[12px]",children:"Currrent Account"})]})]}),S.jsx("div",{className:"w-[100%] flex md:justify-end justify-center pr-[20px] pt-[80px]",children:S.jsx("button",{onClick:f=>m(f),className:"bg-[#62f392] text-[#ffffff] md:px-4 md:py-[8px] py-[9px] px-12 rounded-[10px] hover:bg-[#44a665] duration-200",children:S.jsx("h4",{className:"px-[20px]",children:" Confirm"})})})]})]})})})})},r6e=()=>S.jsx(S.Fragment,{children:S.jsx("section",{children:S.jsx("div",{className:"border-[2px] md:ml-[25px] bg-white w-[100%] rounded-[20px]  ",children:S.jsxs(vb,{children:[S.jsx(yr,{path:"/*",element:S.jsx(Zje,{})}),S.jsx(yr,{path:"/kyc",element:S.jsx(t6e,{})}),S.jsx(yr,{path:"/bankdetail",element:S.jsx(n6e,{})})]})})})}),s6e=()=>S.jsx(S.Fragment,{children:S.jsx("div",{className:"w-[100%] bg-[#f2f2f2]   md:p-0 p-[20px] font-[Roboto] ",children:S.jsx("div",{className:"pb-[60px]",children:S.jsxs("div",{className:"flex justify-center ",children:[S.jsxs("div",{className:"md:block hidden",children:[S.jsx("div",{className:" text-[#202054] ",children:S.jsx("h4",{className:"md:text-[30px] text-[24px] font-[400]  py-[25px]",children:"Kyc Verification"})}),S.jsx(Qje,{})]}),S.jsx("div",{className:"md:pt-[95px]",children:S.jsx(r6e,{})})]})})})});var _R={},i6e={get exports(){return _R},set exports(t){_R=t}};(function(t,e){(function(r,s){t.exports=s()})(Sl,function(){return(()=>{function n(i){var a=s[i];if(a!==void 0)return a.exports;var o=s[i]={id:i,loaded:!1,exports:{}};return r[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={1553:i=>{var a=function(o){function l(ee,J,ae){return Object.defineProperty(ee,J,{value:ae,enumerable:!0,configurable:!0,writable:!0}),ee[J]}function c(ee,J,ae,ue){var le=J&&J.prototype instanceof d?J:d,Ee=Object.create(le.prototype),ze=new C(ue||[]);return Ee._invoke=function(Ke,Ye,We){var ot=z;return function(Le,dt){if(ot===V)throw new Error("Generator is already running");if(ot===q){if(Le==="throw")throw dt;return N()}for(We.method=Le,We.arg=dt;;){var Ct=We.delegate;if(Ct){var Ae=b(Ct,We);if(Ae){if(Ae===H)continue;return Ae}}if(We.method==="next")We.sent=We._sent=We.arg;else if(We.method==="throw"){if(ot===z)throw ot=q,We.arg;We.dispatchException(We.arg)}else We.method==="return"&&We.abrupt("return",We.arg);ot=V;var rt=u(Ke,Ye,We);if(rt.type==="normal"){if(ot=We.done?q:W,rt.arg===H)continue;return{value:rt.arg,done:We.done}}rt.type==="throw"&&(ot=q,We.method="throw",We.arg=rt.arg)}}}(ee,ae,ze),Ee}function u(ee,J,ae){try{return{type:"normal",arg:ee.call(J,ae)}}catch(ue){return{type:"throw",arg:ue}}}function d(){}function h(){}function p(){}function m(ee){["next","throw","return"].forEach(function(J){l(ee,J,function(ae){return this._invoke(J,ae)})})}function f(ee,J){function ae(le,Ee,ze,Pe){var Ke=u(ee[le],ee,Ee);if(Ke.type!=="throw"){var Ye=Ke.arg,We=Ye.value;return We&&typeof We=="object"&&R.call(We,"__await")?J.resolve(We.__await).then(function(ot){ae("next",ot,ze,Pe)},function(ot){ae("throw",ot,ze,Pe)}):J.resolve(We).then(function(ot){Ye.value=ot,ze(Ye)},function(ot){return ae("throw",ot,ze,Pe)})}Pe(Ke.arg)}var ue;this._invoke=function(Ee,ze){function Pe(){return new J(function(Ke,Ye){ae(Ee,ze,Ke,Ye)})}return ue=ue?ue.then(Pe,Pe):Pe()}}function b(ee,J){var ae=ee.iterator[J.method];if(ae===A){if(J.delegate=null,J.method==="throw"){if(ee.iterator.return&&(J.method="return",J.arg=A,b(ee,J),J.method==="throw"))return H;J.method="throw",J.arg=new TypeError("The iterator does not provide a 'throw' method")}return H}var ue=u(ae,ee.iterator,J.arg);if(ue.type==="throw")return J.method="throw",J.arg=ue.arg,J.delegate=null,H;var le=ue.arg;return le?le.done?(J[ee.resultName]=le.value,J.next=ee.nextLoc,J.method!=="return"&&(J.method="next",J.arg=A),J.delegate=null,H):le:(J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,H)}function w(ee){var J={tryLoc:ee[0]};1 in ee&&(J.catchLoc=ee[1]),2 in ee&&(J.finallyLoc=ee[2],J.afterLoc=ee[3]),this.tryEntries.push(J)}function g(ee){var J=ee.completion||{};J.type="normal",delete J.arg,ee.completion=J}function C(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(w,this),this.reset(!0)}function k(ee){if(ee){var J=ee[D];if(J)return J.call(ee);if(typeof ee.next=="function")return ee;if(!isNaN(ee.length)){var ae=-1,ue=function le(){for(;++ae<ee.length;)if(R.call(ee,ae))return le.value=ee[ae],le.done=!1,le;return le.value=A,le.done=!0,le};return ue.next=ue}}return{next:N}}function N(){return{value:A,done:!0}}var A,O=Object.prototype,R=O.hasOwnProperty,$=typeof Symbol=="function"?Symbol:{},D=$.iterator||"@@iterator",B=$.asyncIterator||"@@asyncIterator",M=$.toStringTag||"@@toStringTag";try{l({},"")}catch{l=function(J,ae,ue){return J[ae]=ue}}o.wrap=c;var z="suspendedStart",W="suspendedYield",V="executing",q="completed",H={},K={};l(K,D,function(){return this});var F=Object.getPrototypeOf,ie=F&&F(F(k([])));ie&&ie!==O&&R.call(ie,D)&&(K=ie);var de=p.prototype=d.prototype=Object.create(K);return h.prototype=p,l(de,"constructor",p),l(p,"constructor",h),h.displayName=l(p,M,"GeneratorFunction"),o.isGeneratorFunction=function(ee){var J=typeof ee=="function"&&ee.constructor;return!!J&&(J===h||(J.displayName||J.name)==="GeneratorFunction")},o.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,p):(ee.__proto__=p,l(ee,M,"GeneratorFunction")),ee.prototype=Object.create(de),ee},o.awrap=function(ee){return{__await:ee}},m(f.prototype),l(f.prototype,B,function(){return this}),o.AsyncIterator=f,o.async=function(ee,J,ae,ue,le){le===void 0&&(le=Promise);var Ee=new f(c(ee,J,ae,ue),le);return o.isGeneratorFunction(J)?Ee:Ee.next().then(function(ze){return ze.done?ze.value:Ee.next()})},m(de),l(de,M,"Generator"),l(de,D,function(){return this}),l(de,"toString",function(){return"[object Generator]"}),o.keys=function(ee){var J=[];for(var ae in ee)J.push(ae);return J.reverse(),function ue(){for(;J.length;){var le=J.pop();if(le in ee)return ue.value=le,ue.done=!1,ue}return ue.done=!0,ue}},o.values=k,C.prototype={constructor:C,reset:function(ee){if(this.prev=0,this.next=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(g),!ee)for(var J in this)J.charAt(0)==="t"&&R.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=A)},stop:function(){this.done=!0;var ee=this.tryEntries[0].completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(ee){function J(Ke,Ye){return Ee.type="throw",Ee.arg=ee,ae.next=Ke,Ye&&(ae.method="next",ae.arg=A),!!Ye}if(this.done)throw ee;for(var ae=this,ue=this.tryEntries.length-1;ue>=0;--ue){var le=this.tryEntries[ue],Ee=le.completion;if(le.tryLoc==="root")return J("end");if(le.tryLoc<=this.prev){var ze=R.call(le,"catchLoc"),Pe=R.call(le,"finallyLoc");if(ze&&Pe){if(this.prev<le.catchLoc)return J(le.catchLoc,!0);if(this.prev<le.finallyLoc)return J(le.finallyLoc)}else if(ze){if(this.prev<le.catchLoc)return J(le.catchLoc,!0)}else{if(!Pe)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return J(le.finallyLoc)}}}},abrupt:function(ee,J){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var ue=this.tryEntries[ae];if(ue.tryLoc<=this.prev&&R.call(ue,"finallyLoc")&&this.prev<ue.finallyLoc){var le=ue;break}}le&&(ee==="break"||ee==="continue")&&le.tryLoc<=J&&J<=le.finallyLoc&&(le=null);var Ee=le?le.completion:{};return Ee.type=ee,Ee.arg=J,le?(this.method="next",this.next=le.finallyLoc,H):this.complete(Ee)},complete:function(ee,J){if(ee.type==="throw")throw ee.arg;return ee.type==="break"||ee.type==="continue"?this.next=ee.arg:ee.type==="return"?(this.rval=this.arg=ee.arg,this.method="return",this.next="end"):ee.type==="normal"&&J&&(this.next=J),H},finish:function(ee){for(var J=this.tryEntries.length-1;J>=0;--J){var ae=this.tryEntries[J];if(ae.finallyLoc===ee)return this.complete(ae.completion,ae.afterLoc),g(ae),H}},catch:function(ee){for(var J=this.tryEntries.length-1;J>=0;--J){var ae=this.tryEntries[J];if(ae.tryLoc===ee){var ue=ae.completion;if(ue.type==="throw"){var le=ue.arg;g(ae)}return le}}throw new Error("illegal catch attempt")},delegateYield:function(ee,J,ae){return this.delegate={iterator:k(ee),resultName:J,nextLoc:ae},this.method==="next"&&(this.arg=A),H}},o}(i.exports);try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},7757:(i,a,o)=>{i.exports=o(1553)},8641:(i,a,o)=>{function l(){var O=(0,w.R)();return O.__SENTRY__=O.__SENTRY__||{extensions:{},hub:void 0},O}function c(O){var R=l(),$=h(R);return p(R,O),$}function u(){var O=l();return d(O)&&!h(O).isOlderThan(4)||p(O,new A),(0,g.KV)()?function($){try{var D=l().__SENTRY__,B=D&&D.extensions&&D.extensions.domain&&D.extensions.domain.active;if(!B)return h($);if(!d(B)||h(B).isOlderThan(4)){var M=h($).getStackTop();p(B,new A(M.client,C.s.clone(M.scope)))}return h(B)}catch{return h($)}}(O):h(O)}function d(O){return!!(O&&O.__SENTRY__&&O.__SENTRY__.hub)}function h(O){return(0,w.Y)("hub",()=>new A,O)}function p(O,R){return!!O&&((O.__SENTRY__=O.__SENTRY__||{}).hub=R,!0)}o.d(a,{Gd:()=>u,cu:()=>l});var m=o(2844),f=o(1170),b=o(2343),w=o(2991),g=o(2176),C=o(6769),k=o(5771),N=100;class A{__init(){this._stack=[{}]}constructor(R,$=new C.s,D=4){this._version=D,A.prototype.__init.call(this),this.getStackTop().scope=$,R&&this.bindClient(R)}isOlderThan(R){return this._version<R}bindClient(R){this.getStackTop().client=R,R&&R.setupIntegrations&&R.setupIntegrations()}pushScope(){var R=C.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:R}),R}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(R){var $=this.pushScope();try{R($)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(R,$){var D=this._lastEventId=$&&$.event_id?$.event_id:(0,m.DM)(),B=new Error("Sentry syntheticException");return this._withClient((M,z)=>{M.captureException(R,{originalException:R,syntheticException:B,...$,event_id:D},z)}),D}captureMessage(R,$,D){var B=this._lastEventId=D&&D.event_id?D.event_id:(0,m.DM)(),M=new Error(R);return this._withClient((z,W)=>{z.captureMessage(R,$,{originalException:R,syntheticException:M,...D,event_id:B},W)}),B}captureEvent(R,$){var D=$&&$.event_id?$.event_id:(0,m.DM)();return R.type!=="transaction"&&(this._lastEventId=D),this._withClient((B,M)=>{B.captureEvent(R,{...$,event_id:D},M)}),D}lastEventId(){return this._lastEventId}addBreadcrumb(R,$){const{scope:D,client:B}=this.getStackTop();if(!D||!B)return;const{beforeBreadcrumb:M=null,maxBreadcrumbs:z=N}=B.getOptions&&B.getOptions()||{};if(!(z<=0)){var W={timestamp:(0,f.yW)(),...R},V=M?(0,b.Cf)(()=>M(W,$)):W;V!==null&&D.addBreadcrumb(V,z)}}setUser(R){var $=this.getScope();$&&$.setUser(R)}setTags(R){var $=this.getScope();$&&$.setTags(R)}setExtras(R){var $=this.getScope();$&&$.setExtras(R)}setTag(R,$){var D=this.getScope();D&&D.setTag(R,$)}setExtra(R,$){var D=this.getScope();D&&D.setExtra(R,$)}setContext(R,$){var D=this.getScope();D&&D.setContext(R,$)}configureScope(R){const{scope:$,client:D}=this.getStackTop();$&&D&&R($)}run(R){var $=c(this);try{R(this)}finally{c($)}}getIntegration(R){var $=this.getClient();if(!$)return null;try{return $.getIntegration(R)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&b.kg.warn(`Cannot retrieve integration ${R.id} from the current Hub`),null}}startTransaction(R,$){return this._callExtensionMethod("startTransaction",R,$)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(R=!1){if(R)return this.endSession();this._sendSessionUpdate()}endSession(){var R=this.getStackTop(),$=R&&R.scope,D=$&&$.getSession();D&&(0,k.RJ)(D),this._sendSessionUpdate(),$&&$.setSession()}startSession(R){const{scope:$,client:D}=this.getStackTop(),{release:B,environment:M}=D&&D.getOptions()||{};var z=(0,w.R)();const{userAgent:W}=z.navigator||{};var V=(0,k.Hv)({release:B,environment:M,...$&&{user:$.getUser()},...W&&{userAgent:W},...R});if($){var q=$.getSession&&$.getSession();q&&q.status==="ok"&&(0,k.CT)(q,{status:"exited"}),this.endSession(),$.setSession(V)}return V}shouldSendDefaultPii(){var R=this.getClient(),$=R&&R.getOptions();return!!($&&$.sendDefaultPii)}_sendSessionUpdate(){const{scope:R,client:$}=this.getStackTop();if(R){var D=R.getSession();D&&$&&$.captureSession&&$.captureSession(D)}}_withClient(R){const{scope:$,client:D}=this.getStackTop();D&&R(D,$)}_callExtensionMethod(R,...$){var D=l().__SENTRY__;if(D&&D.extensions&&typeof D.extensions[R]=="function")return D.extensions[R].apply(this,$);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&b.kg.warn(`Extension method ${R} couldn't be found, doing nothing.`)}}},6769:(i,a,o)=>{function l(){return(0,m.Y)("globalEventProcessors",()=>[])}function c(w){l().push(w)}o.d(a,{s:()=>b,c:()=>c});var u=o(7597),d=o(1170),h=o(6893),p=o(2343),m=o(2991),f=o(5771);class b{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(g){var C=new b;return g&&(C._breadcrumbs=[...g._breadcrumbs],C._tags={...g._tags},C._extra={...g._extra},C._contexts={...g._contexts},C._user=g._user,C._level=g._level,C._span=g._span,C._session=g._session,C._transactionName=g._transactionName,C._fingerprint=g._fingerprint,C._eventProcessors=[...g._eventProcessors],C._requestSession=g._requestSession,C._attachments=[...g._attachments]),C}addScopeListener(g){this._scopeListeners.push(g)}addEventProcessor(g){return this._eventProcessors.push(g),this}setUser(g){return this._user=g||{},this._session&&(0,f.CT)(this._session,{user:g}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(g){return this._requestSession=g,this}setTags(g){return this._tags={...this._tags,...g},this._notifyScopeListeners(),this}setTag(g,C){return this._tags={...this._tags,[g]:C},this._notifyScopeListeners(),this}setExtras(g){return this._extra={...this._extra,...g},this._notifyScopeListeners(),this}setExtra(g,C){return this._extra={...this._extra,[g]:C},this._notifyScopeListeners(),this}setFingerprint(g){return this._fingerprint=g,this._notifyScopeListeners(),this}setLevel(g){return this._level=g,this._notifyScopeListeners(),this}setTransactionName(g){return this._transactionName=g,this._notifyScopeListeners(),this}setContext(g,C){return C===null?delete this._contexts[g]:this._contexts={...this._contexts,[g]:C},this._notifyScopeListeners(),this}setSpan(g){return this._span=g,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var g=this.getSpan();return g&&g.transaction}setSession(g){return g?this._session=g:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(g){if(!g)return this;if(typeof g=="function"){var C=g(this);return C instanceof b?C:this}return g instanceof b?(this._tags={...this._tags,...g._tags},this._extra={...this._extra,...g._extra},this._contexts={...this._contexts,...g._contexts},g._user&&Object.keys(g._user).length&&(this._user=g._user),g._level&&(this._level=g._level),g._fingerprint&&(this._fingerprint=g._fingerprint),g._requestSession&&(this._requestSession=g._requestSession)):(0,u.PO)(g)&&(g=g,this._tags={...this._tags,...g.tags},this._extra={...this._extra,...g.extra},this._contexts={...this._contexts,...g.contexts},g.user&&(this._user=g.user),g.level&&(this._level=g.level),g.fingerprint&&(this._fingerprint=g.fingerprint),g.requestSession&&(this._requestSession=g.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(g,C){var k=typeof C=="number"?Math.min(C,100):100;if(k<=0)return this;var N={timestamp:(0,d.yW)(),...g};return this._breadcrumbs=[...this._breadcrumbs,N].slice(-k),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(g){return this._attachments.push(g),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(g,C={}){if(this._extra&&Object.keys(this._extra).length&&(g.extra={...this._extra,...g.extra}),this._tags&&Object.keys(this._tags).length&&(g.tags={...this._tags,...g.tags}),this._user&&Object.keys(this._user).length&&(g.user={...this._user,...g.user}),this._contexts&&Object.keys(this._contexts).length&&(g.contexts={...this._contexts,...g.contexts}),this._level&&(g.level=this._level),this._transactionName&&(g.transaction=this._transactionName),this._span){g.contexts={trace:this._span.getTraceContext(),...g.contexts};var k=this._span.transaction&&this._span.transaction.name;k&&(g.tags={transaction:k,...g.tags})}return this._applyFingerprint(g),g.breadcrumbs=[...g.breadcrumbs||[],...this._breadcrumbs],g.breadcrumbs=g.breadcrumbs.length>0?g.breadcrumbs:void 0,g.sdkProcessingMetadata={...g.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...l(),...this._eventProcessors],g,C)}setSDKProcessingMetadata(g){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...g},this}_notifyEventProcessors(g,C,k,N=0){return new h.cW((A,O)=>{var R=g[N];if(C===null||typeof R!="function")A(C);else{var $=R({...C},k);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&R.id&&$===null&&p.kg.log(`Event processor "${R.id}" dropped event`),(0,u.J8)($)?$.then(D=>this._notifyEventProcessors(g,D,k,N+1).then(A)).then(null,O):this._notifyEventProcessors(g,$,k,N+1).then(A).then(null,O)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(g=>{g(this)}),this._notifyingListeners=!1)}_applyFingerprint(g){g.fingerprint=g.fingerprint?Array.isArray(g.fingerprint)?g.fingerprint:[g.fingerprint]:[],this._fingerprint&&(g.fingerprint=g.fingerprint.concat(this._fingerprint)),g.fingerprint&&!g.fingerprint.length&&delete g.fingerprint}}},5771:(i,a,o)=>{function l(m){var f=(0,d.ph)(),b={sid:(0,h.DM)(),init:!0,timestamp:f,started:f,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(g){return(0,p.Jr)({sid:`${g.sid}`,init:g.init,started:new Date(1e3*g.started).toISOString(),timestamp:new Date(1e3*g.timestamp).toISOString(),status:g.status,errors:g.errors,did:typeof g.did=="number"||typeof g.did=="string"?`${g.did}`:void 0,duration:g.duration,attrs:{release:g.release,environment:g.environment,ip_address:g.ipAddress,user_agent:g.userAgent}})}(b)};return m&&c(b,m),b}function c(m,f={}){if(f.user&&(!m.ipAddress&&f.user.ip_address&&(m.ipAddress=f.user.ip_address),m.did||f.did||(m.did=f.user.id||f.user.email||f.user.username)),m.timestamp=f.timestamp||(0,d.ph)(),f.ignoreDuration&&(m.ignoreDuration=f.ignoreDuration),f.sid&&(m.sid=f.sid.length===32?f.sid:(0,h.DM)()),f.init!==void 0&&(m.init=f.init),!m.did&&f.did&&(m.did=`${f.did}`),typeof f.started=="number"&&(m.started=f.started),m.ignoreDuration)m.duration=void 0;else if(typeof f.duration=="number")m.duration=f.duration;else{var b=m.timestamp-m.started;m.duration=b>=0?b:0}f.release&&(m.release=f.release),f.environment&&(m.environment=f.environment),!m.ipAddress&&f.ipAddress&&(m.ipAddress=f.ipAddress),!m.userAgent&&f.userAgent&&(m.userAgent=f.userAgent),typeof f.errors=="number"&&(m.errors=f.errors),f.status&&(m.status=f.status)}function u(m,f){let b={};f?b={status:f}:m.status==="ok"&&(b={status:"exited"}),c(m,b)}o.d(a,{RJ:()=>u,Hv:()=>l,CT:()=>c});var d=o(1170),h=o(2844),p=o(535)},790:(i,a,o)=>{function l(){var A=(0,C.x1)();if(A){var O="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.log(`[Tracing] Transaction: ${O} -> Global error occured`),A.setStatus(O)}}function c(){var A=this.getScope();if(A){var O=A.getSpan();if(O)return{"sentry-trace":O.toTraceparent()}}return{}}function u(A,O,R){if(!(0,C.zu)(O))return A.sampled=!1,A;if(A.sampled!==void 0)return A.setMetadata({transactionSampling:{method:"explicitly_set"}}),A;let $;return typeof O.tracesSampler=="function"?($=O.tracesSampler(R),A.setMetadata({transactionSampling:{method:"client_sampler",rate:Number($)}})):R.parentSampled!==void 0?($=R.parentSampled,A.setMetadata({transactionSampling:{method:"inheritance"}})):($=O.tracesSampleRate,A.setMetadata({transactionSampling:{method:"client_rate",rate:Number($)}})),function(B){return(0,b.i2)(B)||typeof B!="number"&&typeof B!="boolean"?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(B)} of type ${JSON.stringify(typeof B)}.`),!1):B<0||B>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${B}.`),!1):!0}($)?$?(A.sampled=Math.random()<$,A.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.log(`[Tracing] starting ${A.op} transaction - ${A.name}`),A):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number($)})`),A)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] Discarding transaction because "+(typeof O.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),A.sampled=!1,A):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),A.sampled=!1,A)}function d(A,O){var R=this.getClient(),$=R&&R.getOptions()||{};let D=new N.Y(A,this);return D=u(D,$,{parentSampled:A.parentSampled,transactionContext:A,...O}),D.sampled&&D.initSpanRecorder($._experiments&&$._experiments.maxSpans),D}function h(A,O,R,$,D,B){var M=A.getClient(),z=M&&M.getOptions()||{};let W=new k.io(O,A,R,$,D);return W=u(W,z,{parentSampled:O.parentSampled,transactionContext:O,...B}),W.sampled&&W.initSpanRecorder(z._experiments&&z._experiments.maxSpans),W}function p(){(function(){var O=(0,m.cu)();O.__SENTRY__&&(O.__SENTRY__.extensions=O.__SENTRY__.extensions||{},O.__SENTRY__.extensions.startTransaction||(O.__SENTRY__.extensions.startTransaction=d),O.__SENTRY__.extensions.traceHeaders||(O.__SENTRY__.extensions.traceHeaders=c))})(),(0,w.KV)()&&function(){var O=(0,m.cu)();if(O.__SENTRY__){var R={mongodb:()=>new((0,w.l$)(i,"./integrations/node/mongo")).Mongo,mongoose:()=>new((0,w.l$)(i,"./integrations/node/mongo")).Mongo({mongoose:!0}),mysql:()=>new((0,w.l$)(i,"./integrations/node/mysql")).Mysql,pg:()=>new((0,w.l$)(i,"./integrations/node/postgres")).Postgres},$=Object.keys(R).filter(D=>!!(0,w.$y)(D)).map(D=>{try{return R[D]()}catch{return}}).filter(D=>D);$.length>0&&(O.__SENTRY__.integrations=[...O.__SENTRY__.integrations||[],...$])}}(),function(){(0,g.o)("error",l),(0,g.o)("unhandledrejection",l)}()}o.d(a,{ro:()=>p,lb:()=>h});var m=o(8641),f=o(2343),b=o(7597),w=o(2176),g=o(9732),C=o(3233),k=o(6458),N=o(3391);i=o.hmd(i)},6458:(i,a,o)=>{function l(w){var g=w.getScope();g&&g.getTransaction()&&g.setSpan(void 0)}o.d(a,{mg:()=>m,nT:()=>p,io:()=>b});var c=o(1170),u=o(2343),d=o(5334),h=o(3391),p=1e3,m=3e4;class f extends d.gB{constructor(g,C,k,N){super(N),this._pushActivity=g,this._popActivity=C,this.transactionSpanId=k}add(g){g.spanId!==this.transactionSpanId&&(g.finish=C=>{g.endTimestamp=typeof C=="number"?C:(0,c._I)(),this._popActivity(g.spanId)},g.endTimestamp===void 0&&this._pushActivity(g.spanId)),super.add(g)}}class b extends h.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(g,C,k=p,N=m,A=!1){super(g,C),this._idleHub=C,this._idleTimeout=k,this._finalTimeout=N,this._onScope=A,b.prototype.__init.call(this),b.prototype.__init2.call(this),b.prototype.__init3.call(this),b.prototype.__init4.call(this),A&&(l(C),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),C.configureScope(O=>O.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(g=(0,c._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){for(var C of((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*g).toISOString(),this.op),this._beforeFinishCallbacks))C(this,g);this.spanRecorder.spans=this.spanRecorder.spans.filter(k=>{if(k.spanId===this.spanId)return!0;k.endTimestamp||(k.endTimestamp=g,k.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(k,void 0,2)));var N=k.startTimestamp<g;return N||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(k,void 0,2)),N}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&l(this._idleHub),super.finish(g)}registerBeforeFinishCallback(g){this._beforeFinishCallbacks.push(g)}initSpanRecorder(g){this.spanRecorder||(this.spanRecorder=new f(C=>{this._finished||this._pushActivity(C)},C=>{this._finished||this._popActivity(C)},this.spanId,g),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(g){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||Object.keys(this.activities).length!==0||this.finish(g)},this._idleTimeout)}_pushActivity(g){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log(`[Tracing] pushActivity: ${g}`),this.activities[g]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(g){if(this.activities[g]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log(`[Tracing] popActivity ${g}`),delete this.activities[g],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var C=(0,c._I)()+this._idleTimeout/1e3;this._startIdleTimeout(C)}}_beat(){if(!this._finished){var g=Object.keys(this.activities).join("");g===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=g,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},5e3)}}},5334:(i,a,o)=>{o.d(a,{Dr:()=>p,gB:()=>h});var l=o(5375),c=o(2844),u=o(1170),d=o(535);class h{__init(){this.spans=[]}constructor(f=1e3){h.prototype.__init.call(this),this._maxlen=f}add(f){this.spans.length>this._maxlen?f.spanRecorder=void 0:this.spans.push(f)}}class p{__init2(){this.traceId=(0,c.DM)()}__init3(){this.spanId=(0,c.DM)().substring(16)}__init4(){this.startTimestamp=(0,u._I)()}__init5(){this.tags={}}__init6(){this.data={}}constructor(f){if(p.prototype.__init2.call(this),p.prototype.__init3.call(this),p.prototype.__init4.call(this),p.prototype.__init5.call(this),p.prototype.__init6.call(this),!f)return this;f.traceId&&(this.traceId=f.traceId),f.spanId&&(this.spanId=f.spanId),f.parentSpanId&&(this.parentSpanId=f.parentSpanId),"sampled"in f&&(this.sampled=f.sampled),f.op&&(this.op=f.op),f.description&&(this.description=f.description),f.data&&(this.data=f.data),f.tags&&(this.tags=f.tags),f.status&&(this.status=f.status),f.startTimestamp&&(this.startTimestamp=f.startTimestamp),f.endTimestamp&&(this.endTimestamp=f.endTimestamp)}startChild(f){var b=new p({...f,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});return b.spanRecorder=this.spanRecorder,b.spanRecorder&&b.spanRecorder.add(b),b.transaction=this.transaction,b}setTag(f,b){return this.tags={...this.tags,[f]:b},this}setData(f,b){return this.data={...this.data,[f]:b},this}setStatus(f){return this.status=f,this}setHttpStatus(f){this.setTag("http.status_code",String(f));var b=function(g){if(g<400&&g>=100)return"ok";if(g>=400&&g<500)switch(g){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(g>=500&&g<600)switch(g){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(f);return b!=="unknown_error"&&this.setStatus(b),this}isSuccess(){return this.status==="ok"}finish(f){this.endTimestamp=typeof f=="number"?f:(0,u._I)()}toTraceparent(){let f="";return this.sampled!==void 0&&(f=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${f}`}toContext(){return(0,d.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(f){return this.data=(0,l.h)(f.data,()=>({})),this.description=f.description,this.endTimestamp=f.endTimestamp,this.op=f.op,this.parentSpanId=f.parentSpanId,this.sampled=f.sampled,this.spanId=(0,l.h)(f.spanId,()=>this.spanId),this.startTimestamp=(0,l.h)(f.startTimestamp,()=>this.startTimestamp),this.status=f.status,this.tags=(0,l.h)(f.tags,()=>({})),this.traceId=(0,l.h)(f.traceId,()=>this.traceId),this}getTraceContext(){return(0,d.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,d.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}},3391:(i,a,o)=>{o.d(a,{Y:()=>m});var l=o(5375),c=o(8641),u=o(2343),d=o(535),h=o(9181),p=o(5334);class m extends p.Dr{__init(){this._measurements={}}constructor(b,w){super(b),m.prototype.__init.call(this),this._hub=w||(0,c.Gd)(),this._name=b.name||"",this.metadata=b.metadata||{},this._trimEnd=b.trimEnd,this.transaction=this}get name(){return this._name}set name(b){this._name=b,this.metadata.source="custom"}setName(b,w="custom"){this.name=b,this.metadata.source=w}initSpanRecorder(b=1e3){this.spanRecorder||(this.spanRecorder=new p.gB(b)),this.spanRecorder.add(this)}setMeasurement(b,w,g=""){this._measurements[b]={value:w,unit:g}}setMetadata(b){this.metadata={...this.metadata,...b}}finish(b){if(this.endTimestamp===void 0){if(this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(b),this.sampled===!0){var w=this.spanRecorder?this.spanRecorder.spans.filter(N=>N!==this&&N.endTimestamp):[];this._trimEnd&&w.length>0&&(this.endTimestamp=w.reduce((N,A)=>N.endTimestamp&&A.endTimestamp?N.endTimestamp>A.endTimestamp?N:A:N).endTimestamp);var g=this.metadata,C={contexts:{trace:this.getTraceContext()},spans:w,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...g,baggage:this.getBaggage()},...g.source&&{transaction_info:{source:g.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),C.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(C)}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var k=this._hub.getClient();k&&k.recordDroppedEvent("sample_rate","transaction")}}toContext(){var b=super.toContext();return(0,d.Jr)({...b,name:this.name,trimEnd:this._trimEnd})}updateWithContext(b){return super.updateWithContext(b),this.name=(0,l.h)(b.name,()=>""),this._trimEnd=b.trimEnd,this}getBaggage(){var b=this.metadata.baggage,w=!b||(0,h.Gp)(b)?this._populateBaggageWithSentryValues(b):b;return this.metadata.baggage=w,w}_populateBaggageWithSentryValues(b=(0,h.Hn)({})){var w=this._hub||(0,c.Gd)(),g=w&&w.getClient();if(!g)return b;const{environment:C,release:k}=g.getOptions()||{},{publicKey:N}=g.getDsn()||{};var A=this.metadata&&this.metadata.transactionSampling&&this.metadata.transactionSampling.rate,O=A!==void 0?A.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:16}):void 0,R=w.getScope();const{segment:$}=R&&R.getUser()||{};var D=this.metadata.source,B=D&&D!=="url"?this.name:void 0;return(0,h.Hn)((0,d.Jr)({environment:C,release:k,transaction:B,user_segment:$,public_key:N,trace_id:this.traceId,sample_rate:O,...(0,h.Hk)(b)}),"",!1)}}},3233:(i,a,o)=>{function l(h){var p=(0,d.Gd)().getClient(),m=h||p&&p.getOptions();return!!m&&("tracesSampleRate"in m||"tracesSampler"in m)}function c(h){var p=(h||(0,d.Gd)()).getScope();return p&&p.getTransaction()}function u(h){return h/1e3}o.d(a,{x1:()=>c,zu:()=>l,XL:()=>u});var d=o(8641)},9181:(i,a,o)=>{function l(g,C="",k=!0){return[{...g},C,k]}function c(g){return g[0]}function u(g){return g[2]}function d(g,C=!1){return!Array.isArray(g)&&!(0,m.HD)(g)||typeof g=="number"?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.warn("[parseBaggageHeader] Received input value of incompatible type: ",typeof g,g),l({},"")):((0,m.HD)(g)?g:g.join(",")).split(",").map(k=>k.trim()).filter(k=>k!==""&&(C||w.test(k))).reduce(([k,N],A)=>{const[O,R]=A.split("=");if(w.test(O)){var $=decodeURIComponent(O.split("-")[1]);return[{...k,[$]:decodeURIComponent(R)},N,!0]}return[k,N===""?A:`${N},${A}`,!0]},[{},"",!0])}function h(g,C){if(!g&&!C)return"";var k=C&&d(C,!0)||void 0,N=k&&function(O){return O[1]}(k);return function(O){return Object.keys(O[0]).reduce((R,$)=>{var D=O[0][$],B=`sentry-${encodeURIComponent($)}=${encodeURIComponent(D)}`,M=R===""?B:`${R},${B}`;return M.length>8192?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.warn(`Not adding key: ${$} with val: ${D} to baggage due to exceeding baggage size limits.`),R):M},O[1])}(l(g&&g[0]||{},N||""))}function p(g,C){var k=d(g||"");return(C||!function(A){return Object.keys(A[0]).length===0}(k))&&function(A){A[2]=!1}(k),k}o.d(a,{bU:()=>b,Hn:()=>l,Hk:()=>c,Gp:()=>u,J8:()=>h,rg:()=>p});var m=o(7597),f=o(2343),b="baggage",w=/^sentry-/},8464:(i,a,o)=>{function l(p,m){try{let w=p;var f=[];let g=0,C=0;var b=3;let k;for(;w&&g++<5&&(k=c(w,m),!(k==="html"||g>1&&C+f.length*b+k.length>=80));)f.push(k),C+=k.length,w=w.parentNode;return f.reverse().join(" > ")}catch{return"<unknown>"}}function c(p,m){var f=p,b=[];let w,g,C,k,N;if(!f||!f.tagName)return"";b.push(f.tagName.toLowerCase());var A=m&&m.length?m.filter(R=>f.getAttribute(R)).map(R=>[R,f.getAttribute(R)]):null;if(A&&A.length)A.forEach(R=>{b.push(`[${R[0]}="${R[1]}"]`)});else if(f.id&&b.push(`#${f.id}`),w=f.className,w&&(0,h.HD)(w))for(g=w.split(/\s+/),N=0;N<g.length;N++)b.push(`.${g[N]}`);var O=["type","name","title","alt"];for(N=0;N<O.length;N++)C=O[N],k=f.getAttribute(C),k&&b.push(`[${C}="${k}"]`);return b.join("")}function u(){var p=(0,d.R)();try{return p.document.location.href}catch{return""}}o.d(a,{l:()=>u,R:()=>l});var d=o(2991),h=o(7597)},5375:(i,a,o)=>{function l(c,u){return c??u()}o.d(a,{h:()=>l})},2991:(i,a,o)=>{function l(){return(0,u.KV)()?o.g:typeof window<"u"?window:typeof self<"u"?self:d}function c(h,p,m){var f=m||l(),b=f.__SENTRY__=f.__SENTRY__||{};return b[h]||(b[h]=p())}o.d(a,{R:()=>l,Y:()=>c});var u=o(2176),d={}},9732:(i,a,o)=>{function l(M){if(!A[M])switch(A[M]=!0,M){case"console":(function(){"console"in k&&b.RU.forEach(function(W){W in k.console&&(0,w.hl)(k.console,W,function(V){return function(...q){u("console",{args:q,level:W}),V&&V.apply(k.console,q)}})})})();break;case"dom":(function(){if("document"in k){var W=u.bind(null,"dom"),V=p(W,!0);k.document.addEventListener("click",V,!1),k.document.addEventListener("keypress",V,!1),["EventTarget","Node"].forEach(q=>{var H=k[q]&&k[q].prototype;H&&H.hasOwnProperty&&H.hasOwnProperty("addEventListener")&&((0,w.hl)(H,"addEventListener",function(K){return function(F,ie,de){if(F==="click"||F=="keypress")try{var ee=this,J=ee.__sentry_instrumentation_handlers__=ee.__sentry_instrumentation_handlers__||{},ae=J[F]=J[F]||{refCount:0};if(!ae.handler){var ue=p(W);ae.handler=ue,K.call(this,F,ue,de)}ae.refCount+=1}catch{}return K.call(this,F,ie,de)}}),(0,w.hl)(H,"removeEventListener",function(K){return function(F,ie,de){if(F==="click"||F=="keypress")try{var ee=this,J=ee.__sentry_instrumentation_handlers__||{},ae=J[F];ae&&(ae.refCount-=1,ae.refCount<=0&&(K.call(this,F,ae.handler,de),ae.handler=void 0,delete J[F]),Object.keys(J).length===0&&delete ee.__sentry_instrumentation_handlers__)}catch{}return K.call(this,F,ie,de)}}))})}})();break;case"xhr":(function(){if("XMLHttpRequest"in k){var W=XMLHttpRequest.prototype;(0,w.hl)(W,"open",function(V){return function(...q){var H=this,K=q[1],F=H.__sentry_xhr__={method:(0,f.HD)(q[0])?q[0].toUpperCase():q[0],url:q[1]};(0,f.HD)(K)&&F.method==="POST"&&K.match(/sentry_key/)&&(H.__sentry_own_request__=!0);var ie=function(){if(H.readyState===4){try{F.status_code=H.status}catch{}u("xhr",{args:q,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:H})}};return"onreadystatechange"in H&&typeof H.onreadystatechange=="function"?(0,w.hl)(H,"onreadystatechange",function(de){return function(...ee){return ie(),de.apply(H,ee)}}):H.addEventListener("readystatechange",ie),V.apply(H,q)}}),(0,w.hl)(W,"send",function(V){return function(...q){return this.__sentry_xhr__&&q[0]!==void 0&&(this.__sentry_xhr__.body=q[0]),u("xhr",{args:q,startTimestamp:Date.now(),xhr:this}),V.apply(this,q)}})}})();break;case"fetch":(function(){(0,C.t$)()&&(0,w.hl)(k,"fetch",function(W){return function(...V){var q={args:V,fetchData:{method:d(V),url:h(V)},startTimestamp:Date.now()};return u("fetch",{...q}),W.apply(k,V).then(H=>(u("fetch",{...q,endTimestamp:Date.now(),response:H}),H),H=>{throw u("fetch",{...q,endTimestamp:Date.now(),error:H}),H})}})})();break;case"history":(function(){function W(q){return function(...H){var K=H.length>2?H[2]:void 0;if(K){var F=O,ie=String(K);O=ie,u("history",{from:F,to:ie})}return q.apply(this,H)}}if((0,C.Bf)()){var V=k.onpopstate;k.onpopstate=function(...q){var H=k.location.href,K=O;if(O=H,u("history",{from:K,to:H}),V)try{return V.apply(this,q)}catch{}},(0,w.hl)(k.history,"pushState",W),(0,w.hl)(k.history,"replaceState",W)}})();break;case"error":(function(){D=k.onerror,k.onerror=function(W,V,q,H,K){return u("error",{column:H,error:K,line:q,msg:W,url:V}),!!D&&D.apply(this,arguments)}})();break;case"unhandledrejection":(function(){B=k.onunhandledrejection,k.onunhandledrejection=function(W){return u("unhandledrejection",W),!B||B.apply(this,arguments)}})();break;default:return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&b.kg.warn("unknown instrumentation type:",M))}}function c(M,z){N[M]=N[M]||[],N[M].push(z),l(M)}function u(M,z){if(M&&N[M])for(var W of N[M]||[])try{W(z)}catch(V){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&b.kg.error(`Error while triggering instrumentation handler.
Type: ${M}
Name: ${(0,g.$P)(W)}
Error:`,V)}}function d(M=[]){return"Request"in k&&(0,f.V9)(M[0],Request)&&M[0].method?String(M[0].method).toUpperCase():M[1]&&M[1].method?String(M[1].method).toUpperCase():"GET"}function h(M=[]){return typeof M[0]=="string"?M[0]:"Request"in k&&(0,f.V9)(M[0],Request)?M[0].url:String(M[0])}function p(M,z=!1){return W=>{if(W&&$!==W&&!function(H){if(H.type!=="keypress")return!1;try{var K=H.target;if(!K||!K.tagName)return!0;if(K.tagName==="INPUT"||K.tagName==="TEXTAREA"||K.isContentEditable)return!1}catch{}return!0}(W)){var V=W.type==="keypress"?"input":W.type;(R===void 0||function(H,K){if(!H||H.type!==K.type)return!0;try{if(H.target!==K.target)return!0}catch{}return!1}($,W))&&(M({event:W,name:V,global:z}),$=W),clearTimeout(R),R=k.setTimeout(()=>{R=void 0},1e3)}}}o.d(a,{o:()=>c});var m=o(2991),f=o(7597),b=o(2343),w=o(535),g=o(360),C=o(8823),k=(0,m.R)(),N={},A={};let O,R,$,D=null,B=null},7597:(i,a,o)=>{function l(R){switch(O.call(R)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return A(R,Error)}}function c(R,$){return O.call(R)===`[object ${$}]`}function u(R){return c(R,"ErrorEvent")}function d(R){return c(R,"DOMError")}function h(R){return c(R,"DOMException")}function p(R){return c(R,"String")}function m(R){return R===null||typeof R!="object"&&typeof R!="function"}function f(R){return c(R,"Object")}function b(R){return typeof Event<"u"&&A(R,Event)}function w(R){return typeof Element<"u"&&A(R,Element)}function g(R){return c(R,"RegExp")}function C(R){return!!(R&&R.then&&typeof R.then=="function")}function k(R){return f(R)&&"nativeEvent"in R&&"preventDefault"in R&&"stopPropagation"in R}function N(R){return typeof R=="number"&&R!=R}function A(R,$){try{return R instanceof $}catch{return!1}}o.d(a,{TX:()=>d,fm:()=>h,kK:()=>w,VZ:()=>l,VW:()=>u,cO:()=>b,V9:()=>A,i2:()=>N,PO:()=>f,pt:()=>m,Kj:()=>g,HD:()=>p,Cy:()=>k,J8:()=>C});var O=Object.prototype.toString},2343:(i,a,o)=>{function l(m){var f=(0,u.R)();if(!("console"in f))return m();var b=f.console,w={};h.forEach(g=>{var C=b[g]&&b[g].__sentry_original__;g in f.console&&C&&(w[g]=b[g],b[g]=C)});try{return m()}finally{Object.keys(w).forEach(g=>{b[g]=w[g]})}}function c(){let m=!1;var f={enable:()=>{m=!0},disable:()=>{m=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?h.forEach(b=>{f[b]=(...w)=>{m&&l(()=>{d.console[b](`Sentry Logger [${b}]:`,...w)})}}):h.forEach(b=>{f[b]=()=>{}}),f}o.d(a,{RU:()=>h,Cf:()=>l,kg:()=>p});var u=o(2991),d=(0,u.R)(),h=["debug","info","warn","error","log","assert","trace"];let p;p=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?(0,u.Y)("logger",c):c()},2844:(i,a,o)=>{function l(){var w=(0,f.R)(),g=w.crypto||w.msCrypto;if(g!==void 0&&g.getRandomValues){var C=new Uint16Array(8);g.getRandomValues(C),C[3]=4095&C[3]|16384,C[4]=16383&C[4]|32768;var k=N=>{let A=N.toString(16);for(;A.length<4;)A=`0${A}`;return A};return k(C[0])+k(C[1])+k(C[2])+k(C[3])+k(C[4])+k(C[5])+k(C[6])+k(C[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,N=>{var A=16*Math.random()|0;return(N==="x"?A:3&A|8).toString(16)})}function c(w){if(!w)return{};var g=w.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!g)return{};var C=g[6]||"",k=g[8]||"";return{host:g[4],path:g[5],protocol:g[2],relative:g[5]+C+k}}function u(w){return w.exception&&w.exception.values?w.exception.values[0]:void 0}function d(w){const{message:g,event_id:C}=w;if(g)return g;var k=u(w);return k?k.type&&k.value?`${k.type}: ${k.value}`:k.type||k.value||C||"<unknown>":C||"<unknown>"}function h(w,g,C){var k=w.exception=w.exception||{},N=k.values=k.values||[],A=N[0]=N[0]||{};A.value||(A.value=g||""),A.type||(A.type=C||"Error")}function p(w,g){var C=u(w);if(C){var k=C.mechanism;if(C.mechanism={type:"generic",handled:!0,...k,...g},g&&"data"in g){var N={...k&&k.data,...g.data};C.mechanism.data=N}}}function m(w){if(w&&w.__sentry_captured__)return!0;try{(0,b.xp)(w,"__sentry_captured__",!0)}catch{}return!1}o.d(a,{EG:()=>p,Db:()=>h,YO:()=>m,jH:()=>d,en:()=>c,DM:()=>l});var f=o(2991),b=o(535)},2176:(i,a,o)=>{function l(){return!function(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function c(d,h){return d.require(h)}function u(d){let h;try{h=c(i,d)}catch{}try{const{cwd:p}=c(i,"process");h=c(i,`${p()}/node_modules/${d}`)}catch{}return h}o.d(a,{l$:()=>c,KV:()=>l,$y:()=>u}),i=o.hmd(i)},535:(i,a,o)=>{function l(A,O,R){if(O in A){var $=A[O],D=R($);if(typeof D=="function")try{u(D,$)}catch{}A[O]=D}}function c(A,O,R){Object.defineProperty(A,O,{value:R,writable:!0,configurable:!0})}function u(A,O){var R=O.prototype||{};A.prototype=O.prototype=R,c(A,"__sentry_original__",O)}function d(A){return A.__sentry_original__}function h(A){return Object.keys(A).map(O=>`${encodeURIComponent(O)}=${encodeURIComponent(A[O])}`).join("&")}function p(A){if((0,k.VZ)(A))return{message:A.message,name:A.name,stack:A.stack,...f(A)};if((0,k.cO)(A)){var O={type:A.type,target:m(A.target),currentTarget:m(A.currentTarget),...f(A)};return typeof CustomEvent<"u"&&(0,k.V9)(A,CustomEvent)&&(O.detail=A.detail),O}return A}function m(A){try{return(0,k.kK)(A)?(0,C.R)(A):Object.prototype.toString.call(A)}catch{return"<unknown>"}}function f(A){if(typeof A=="object"&&A!==null){var O={};for(var R in A)Object.prototype.hasOwnProperty.call(A,R)&&(O[R]=A[R]);return O}return{}}function b(A,O=40){var R=Object.keys(p(A));if(R.sort(),!R.length)return"[object has no keys]";if(R[0].length>=O)return(0,N.$G)(R[0],O);for(let D=R.length;D>0;D--){var $=R.slice(0,D).join(", ");if(!($.length>O))return D===R.length?$:(0,N.$G)($,O)}return""}function w(A){return g(A,new Map)}function g(A,O){if((0,k.PO)(A)){if((D=O.get(A))!==void 0)return D;var R={};for(var $ of(O.set(A,R),Object.keys(A)))A[$]!==void 0&&(R[$]=g(A[$],O));return R}if(Array.isArray(A)){var D;return(D=O.get(A))!==void 0?D:(R=[],O.set(A,R),A.forEach(B=>{R.push(g(B,O))}),R)}return A}o.d(a,{xp:()=>c,Sh:()=>p,Jr:()=>w,zf:()=>b,hl:()=>l,HK:()=>d,$Q:()=>u,_j:()=>h});var C=o(8464),k=o(7597),N=o(7321)},360:(i,a,o)=>{function l(...h){var p=h.sort((m,f)=>m[0]-f[0]).map(m=>m[1]);return(m,f=0)=>{var b=[];for(var w of m.split(`
`).slice(f))for(var g of p){var C=g(w);if(C){b.push(C);break}}return function(N){if(!N.length)return[];let A=N;var O=A[0].function||"",R=A[A.length-1].function||"";return O.indexOf("captureMessage")===-1&&O.indexOf("captureException")===-1||(A=A.slice(1)),R.indexOf("sentryWrapped")!==-1&&(A=A.slice(0,-1)),A.slice(0,50).map($=>({...$,filename:$.filename||A[0].filename,function:$.function||"?"})).reverse()}(b)}}function c(h){return Array.isArray(h)?l(...h):h}function u(h){try{return h&&typeof h=="function"&&h.name||d}catch{return d}}o.d(a,{pE:()=>l,$P:()=>u,Sq:()=>c});var d="<anonymous>"},7321:(i,a,o)=>{function l(h,p=0){return typeof h!="string"||p===0||h.length<=p?h:`${h.substr(0,p)}...`}function c(h,p){if(!Array.isArray(h))return"";var m=[];for(let b=0;b<h.length;b++){var f=h[b];try{m.push(String(f))}catch{m.push("[value cannot be serialized]")}}return m.join(p)}function u(h,p){return!!(0,d.HD)(h)&&((0,d.Kj)(p)?p.test(h):typeof p=="string"&&h.indexOf(p)!==-1)}o.d(a,{zC:()=>u,nK:()=>c,$G:()=>l});var d=o(7597)},8823:(i,a,o)=>{function l(){if(!("fetch"in(0,h.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function c(m){return m&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(m.toString())}function u(){if(!l())return!1;var m=(0,h.R)();if(c(m.fetch))return!0;let f=!1;var b=m.document;if(b&&typeof b.createElement=="function")try{var w=b.createElement("iframe");w.hidden=!0,b.head.appendChild(w),w.contentWindow&&w.contentWindow.fetch&&(f=c(w.contentWindow.fetch)),b.head.removeChild(w)}catch(g){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",g)}return f}function d(){var m=(0,h.R)(),f=m.chrome,b=f&&f.app&&f.app.runtime,w="history"in m&&!!m.history.pushState&&!!m.history.replaceState;return!b&&w}o.d(a,{Du:()=>c,Ak:()=>l,Bf:()=>d,t$:()=>u});var h=o(2991),p=o(2343)},6893:(i,a,o)=>{function l(p){return new h(m=>{m(p)})}function c(p){return new h((m,f)=>{f(p)})}o.d(a,{cW:()=>h,$2:()=>c,WD:()=>l});var u,d=o(7597);(function(p){p[p.PENDING=0]="PENDING",p[p.RESOLVED=1]="RESOLVED",p[p.REJECTED=2]="REJECTED"})(u||(u={}));class h{__init(){this._state=u.PENDING}__init2(){this._handlers=[]}constructor(m){h.prototype.__init.call(this),h.prototype.__init2.call(this),h.prototype.__init3.call(this),h.prototype.__init4.call(this),h.prototype.__init5.call(this),h.prototype.__init6.call(this);try{m(this._resolve,this._reject)}catch(f){this._reject(f)}}then(m,f){return new h((b,w)=>{this._handlers.push([!1,g=>{if(m)try{b(m(g))}catch(C){w(C)}else b(g)},g=>{if(f)try{b(f(g))}catch(C){w(C)}else w(g)}]),this._executeHandlers()})}catch(m){return this.then(f=>f,m)}finally(m){return new h((f,b)=>{let w,g;return this.then(C=>{g=!1,w=C,m&&m()},C=>{g=!0,w=C,m&&m()}).then(()=>{g?b(w):f(w)})})}__init3(){this._resolve=m=>{this._setResult(u.RESOLVED,m)}}__init4(){this._reject=m=>{this._setResult(u.REJECTED,m)}}__init5(){this._setResult=(m,f)=>{this._state===u.PENDING&&((0,d.J8)(f)?f.then(this._resolve,this._reject):(this._state=m,this._value=f,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state!==u.PENDING){var m=this._handlers.slice();this._handlers=[],m.forEach(f=>{f[0]||(this._state===u.RESOLVED&&f[1](this._value),this._state===u.REJECTED&&f[2](this._value),f[0]=!0)})}}}}},1170:(i,a,o)=>{o.d(a,{Z1:()=>b,yW:()=>p,ph:()=>m,_I:()=>f});var l=o(2991),c=o(2176);i=o.hmd(i);var u={nowSeconds:()=>Date.now()/1e3},d=(0,c.KV)()?function(){try{return(0,c.l$)(i,"perf_hooks").performance}catch{return}}():function(){const{performance:g}=(0,l.R)();if(g&&g.now)return{now:()=>g.now(),timeOrigin:Date.now()-g.now()}}(),h=d===void 0?u:{nowSeconds:()=>(d.timeOrigin+d.now())/1e3},p=u.nowSeconds.bind(u),m=h.nowSeconds.bind(h),f=m,b=(()=>{const{performance:w}=(0,l.R)();if(w&&w.now){var g=36e5,C=w.now(),k=Date.now(),N=w.timeOrigin?Math.abs(w.timeOrigin+C-k):g,A=N<g,O=w.timing&&w.timing.navigationStart,R=typeof O=="number"?Math.abs(O+C-k):g;return A||R<g?N<=R?w.timeOrigin:O:k}})()},1736:(i,a,o)=>{function l(_,v){(v==null||v>_.length)&&(v=_.length);for(var y=0,x=new Array(v);y<v;y++)x[y]=_[y];return x}function c(_,v){if(_){if(typeof _=="string")return l(_,v);var y=Object.prototype.toString.call(_).slice(8,-1);return y==="Object"&&_.constructor&&(y=_.constructor.name),y==="Map"||y==="Set"?Array.from(_):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?l(_,v):void 0}}function u(_,v){return function(x){if(Array.isArray(x))return x}(_)||function(x,E){var T=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(T!=null){var I,P,L=[],U=!0,X=!1;try{for(T=T.call(x);!(U=(I=T.next()).done)&&(L.push(I.value),!E||L.length!==E);U=!0);}catch(G){X=!0,P=G}finally{try{U||T.return==null||T.return()}finally{if(X)throw P}}return L}}(_,v)||c(_,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(_){return function(y){if(Array.isArray(y))return l(y)}(_)||function(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}(_)||c(_)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(_,v,y,x,E,T,I){try{var P=_[T](I),L=P.value}catch(U){return void y(U)}P.done?v(L):Promise.resolve(L).then(x,E)}function p(_){return function(){var v=this,y=arguments;return new Promise(function(x,E){function T(L){h(P,x,E,T,I,"next",L)}function I(L){h(P,x,E,T,I,"throw",L)}var P=_.apply(v,y);T(void 0)})}}function m(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function f(_,v,y){return v in _?Object.defineProperty(_,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):_[v]=y,_}function b(_){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(_)}function w(_,v,y){if(!v.has(_))throw new TypeError("attempted to "+y+" private field on non-instance");return v.get(_)}function g(_,v){return function(x,E){return E.get?E.get.call(x):E.value}(_,w(_,v,"get"))}function C(_,v,y){return function(E,T,I){if(T.set)T.set.call(E,I);else{if(!T.writable)throw new TypeError("attempted to set read only private field");T.value=I}}(_,w(_,v,"set"),y),y}function k(_){return _.reduce((v,y)=>(v.every(x=>y.name!==x.name)&&v.push(y),v),[])}function N(_){var v=_.defaultIntegrations&&[..._.defaultIntegrations]||[],y=_.integrations;let x=[...k(v)];Array.isArray(y)?x=[...x.filter(I=>y.every(P=>P.name!==I.name)),...k(y)]:typeof y=="function"&&(x=y(x),x=Array.isArray(x)?x:[x]);var E=x.map(I=>I.name),T="Debug";return E.indexOf(T)!==-1&&x.push(...x.splice(E.indexOf(T),1)),x}function A(_,v){return v.ignoreInternal&&function(x){try{return x.exception.values[0].type==="SentryError"}catch{}return!1}(_)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,mt.jH)(_)}`),!0):function(x,E){return!E||!E.length?!1:function(I){if(I.message)return[I.message];if(I.exception)try{const{type:P="",value:L=""}=I.exception.values&&I.exception.values[0]||{};return[`${L}`,`${P}: ${L}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error(`Cannot extract message for event ${(0,mt.jH)(I)}`),[]}return[]}(x).some(T=>E.some(I=>(0,Pt.zC)(T,I)))}(_,v.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,mt.jH)(_)}`),!0):function(x,E){if(!E||!E.length)return!1;var T=O(x);return!!T&&E.some(I=>(0,Pt.zC)(T,I))}(_,v.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,mt.jH)(_)}.
Url: ${O(_)}`),!0):!function(x,E){if(!E||!E.length)return!0;var T=O(x);return!T||E.some(I=>(0,Pt.zC)(T,I))}(_,v.allowUrls)&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,mt.jH)(_)}.
Url: ${O(_)}`),!0)}function O(_){try{let v;try{v=_.exception.values[0].stacktrace.frames}catch{}return v?function(x=[]){for(let T=x.length-1;T>=0;T--){var E=x[T];if(E&&E.filename!=="<anonymous>"&&E.filename!=="[native code]")return E.filename||null}return null}(v):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error(`Cannot extract url for event ${(0,mt.jH)(_)}`),null}}function R(_,v=!1){const{host:y,path:x,pass:E,port:T,projectId:I,protocol:P,publicKey:L}=_;return`${P}://${L}${v&&E?`:${E}`:""}@${y}${T?`:${T}`:""}/${x&&`${x}/`}${I}`}function $(_){return{protocol:_.protocol,publicKey:_.publicKey||"",pass:_.pass||"",host:_.host,port:_.port||"",path:_.path||"",projectId:_.projectId}}function D(_){var v=typeof _=="string"?function(x){var E=Hr.exec(x);if(!E)throw new en(`Invalid Sentry Dsn: ${x}`);const[T,I,P="",L,U="",X]=E.slice(1);let G="",te=X;var ce=te.split("/");if(ce.length>1&&(G=ce.slice(0,-1).join("/"),te=ce.pop()),te){var pe=te.match(/^\d+/);pe&&(te=pe[0])}return $({host:L,pass:P,path:G,projectId:te,port:U,protocol:T,publicKey:I})}(_):$(_);return function(x){if(typeof __SENTRY_DEBUG__<"u"&&!__SENTRY_DEBUG__)return;const{port:E,projectId:T,protocol:I}=x;if(["protocol","publicKey","host","projectId"].forEach(P=>{if(!x[P])throw new en(`Invalid Sentry Dsn: ${P} missing`)}),!T.match(/^\d+$/))throw new en(`Invalid Sentry Dsn: Invalid projectId ${T}`);if(!function(L){return L==="http"||L==="https"}(I))throw new en(`Invalid Sentry Dsn: Invalid protocol ${I}`);if(E&&isNaN(parseInt(E,10)))throw new en(`Invalid Sentry Dsn: Invalid port ${E}`);return!0}(v),v}function B(_,v=[]){return[_,v]}function M(_,v){const[y,x]=_;return[y,[...x,v]]}function z(_,v){_[1].forEach(y=>{var x=y[0].type;v(y,x)})}function W(_,v){return(v||new TextEncoder).encode(_)}function V(_,v){function y(P){typeof T=="string"?T=typeof P=="string"?T+P:[W(T,v),P]:T.push(typeof P=="string"?W(P,v):P)}const[x,E]=_;let T=JSON.stringify(x);for(var I of E){const[P,L]=I;y(`
${JSON.stringify(P)}
`),y(typeof L=="string"||L instanceof Uint8Array?L:JSON.stringify(L))}return typeof T=="string"?T:function(L){var U=L.reduce((ce,pe)=>ce+pe.length,0),X=new Uint8Array(U);let G=0;for(var te of L)X.set(te,G),G+=te.length;return X}(T)}function q(_,v){var y=typeof _.data=="string"?W(_.data,v):_.data;return[(0,Bt.Jr)({type:"attachment",length:y.length,filename:_.filename,content_type:_.contentType,attachment_type:_.attachmentType}),y]}function H(_){return la[_]}function K(_,v=1/0,y=1/0){try{return ie("",_,v,y)}catch(x){return{ERROR:`**non-serializable** (${x})`}}}function F(_,v=3,y=102400){var x=K(_,v);return function(T){return function(P){return~-encodeURI(P).split(/%..|./).length}(JSON.stringify(T))}(x)>y?F(_,v-1,y):x}function ie(_,v,y=1/0,x=1/0,E=function(){var I=typeof WeakSet=="function",P=I?new WeakSet:[];return[function(U){if(I)return!!P.has(U)||(P.add(U),!1);for(let X=0;X<P.length;X++)if(P[X]===U)return!0;return P.push(U),!1},function(U){if(I)P.delete(U);else for(let X=0;X<P.length;X++)if(P[X]===U){P.splice(X,1);break}}]}()){const[T,I]=E;if(v===null||["number","boolean","string"].includes(typeof v)&&!(0,Qt.i2)(v))return v;var P=function(re,be){try{return re==="domain"&&be&&typeof be=="object"&&be._events?"[Domain]":re==="domainEmitter"?"[DomainEmitter]":o.g!==void 0&&be===o.g?"[Global]":typeof window<"u"&&be===window?"[Window]":typeof document<"u"&&be===document?"[Document]":(0,Qt.Cy)(be)?"[SyntheticEvent]":typeof be=="number"&&be!=be?"[NaN]":be===void 0?"[undefined]":typeof be=="function"?`[Function: ${(0,rn.$P)(be)}]`:typeof be=="symbol"?`[${String(be)}]`:typeof be=="bigint"?`[BigInt: ${String(be)}]`:`[object ${Object.getPrototypeOf(be).constructor.name}]`}catch(Re){return`**non-serializable** (${Re})`}}(_,v);if(!P.startsWith("[object "))return P;if(v.__sentry_skip_normalization__)return v;if(y===0)return P.replace("object ","");if(T(v))return"[Circular ~]";var L=v;if(L&&typeof L.toJSON=="function")try{return ie("",L.toJSON(),y-1,x,E)}catch{}var U=Array.isArray(v)?[]:{};let X=0;var G=(0,Bt.Sh)(v);for(var te in G)if(Object.prototype.hasOwnProperty.call(G,te)){if(X>=x){U[te]="[MaxProperties ~]";break}var ce=G[te];U[te]=ie(te,ce,y-1,x,E),X+=1}return I(v),U}function de(_){var v=_.protocol?`${_.protocol}:`:"",y=_.port?`:${_.port}`:"";return`${v}//${_.host}${y}${_.path?`/${_.path}`:""}/api/`}function ee(_,v={}){var y=typeof v=="string"?v:v.tunnel,x=typeof v!="string"&&v._metadata?v._metadata.sdk:void 0;return y||`${function(T){return`${de(T)}${T.projectId}/envelope/`}(_)}?${function(T,I){return(0,Bt._j)({sentry_key:T.publicKey,sentry_version:"7",...I&&{sentry_client:`${I.name}/${I.version}`}})}(_,x)}`}function J(_){if(!_||!_.sdk)return;const{name:v,version:y}=_.sdk;return{name:v,version:y}}function ae(_,v,y,x){var E=J(y),T=_.type||"event";const{transactionSampling:I}=_.sdkProcessingMetadata||{},{method:P,rate:L}=I||{};(function(G,te){return te&&(G.sdk=G.sdk||{},G.sdk.name=G.sdk.name||te.name,G.sdk.version=G.sdk.version||te.version,G.sdk.integrations=[...G.sdk.integrations||[],...te.integrations||[]],G.sdk.packages=[...G.sdk.packages||[],...te.packages||[]]),G})(_,y&&y.sdk);var U=function(G,te,ce,pe){var re=G.sdkProcessingMetadata&&G.sdkProcessingMetadata.baggage,be=re&&(0,ar.Hk)(re);return{event_id:G.event_id,sent_at:new Date().toISOString(),...te&&{sdk:te},...!!ce&&{dsn:R(pe)},...G.type==="transaction"&&be&&{trace:(0,Bt.Jr)({...be})}}}(_,E,x,v);return delete _.sdkProcessingMetadata,B(U,[[{type:T,sample_rates:[{id:P,rate:L}]},_]])}function ue(_,v){var y=Ee(_,v),x={type:v&&v.name,value:ze(v)};return y.length&&(x.stacktrace={frames:y}),x.type===void 0&&x.value===""&&(x.value="Unrecoverable error caught"),x}function le(_,v){return{exception:{values:[ue(_,v)]}}}function Ee(_,v){var y=v.stacktrace||v.stack||"",x=function(T){if(T){if(typeof T.framesToPop=="number")return T.framesToPop;if(Qg.test(T.message))return 1}return 0}(v);try{return _(y,x)}catch{}return[]}function ze(_){var v=_&&_.message;return v?v.error&&typeof v.error.message=="string"?v.error.message:v:"No error message"}function Pe(_,v,y,x,E){let T;if((0,Qt.VW)(v)&&v.error)return le(_,v.error);if((0,Qt.TX)(v)||(0,Qt.fm)(v)){var I=v;if("stack"in v)T=le(_,v);else{var P=I.name||((0,Qt.TX)(I)?"DOMError":"DOMException"),L=I.message?`${P}: ${I.message}`:P;T=Ke(_,L,y,x),(0,mt.Db)(T,L)}return"code"in I&&(T.tags={...T.tags,"DOMException.code":`${I.code}`}),T}return(0,Qt.VZ)(v)?le(_,v):(0,Qt.PO)(v)||(0,Qt.cO)(v)?(T=function(X,G,te,ce){var pe={exception:{values:[{type:(0,Qt.cO)(G)?G.constructor.name:ce?"UnhandledRejection":"Error",value:`Non-Error ${ce?"promise rejection":"exception"} captured with keys: ${(0,Bt.zf)(G)}`}]},extra:{__serialized__:F(G)}};if(te){var re=Ee(X,te);re.length&&(pe.exception.values[0].stacktrace={frames:re})}return pe}(_,v,y,E),(0,mt.EG)(T,{synthetic:!0}),T):(T=Ke(_,v,y,x),(0,mt.Db)(T,`${v}`,void 0),(0,mt.EG)(T,{synthetic:!0}),T)}function Ke(_,v,y,x){var E={message:v};if(x&&y){var T=Ee(_,y);T.length&&(E.exception={values:[{value:v,stacktrace:{frames:T}}]})}return E}function Ye(_){return _==="warn"?"warning":$u.includes(_)?_:"log"}function We(_){var v={category:"console",data:{arguments:_.args,logger:"console"},level:Ye(_.level),message:(0,Pt.nK)(_.args," ")};if(_.level==="assert"){if(_.args[0]!==!1)return;v.message=`Assertion failed: ${(0,Pt.nK)(_.args.slice(1)," ")||"console.assert"}`,v.data.arguments=_.args.slice(1)}(0,ft.Gd)().addBreadcrumb(v,{input:_.args,level:_.level})}function ot(_){if(_.endTimestamp){if(_.xhr.__sentry_own_request__)return;const{method:v,url:y,status_code:x,body:E}=_.xhr.__sentry_xhr__||{};(0,ft.Gd)().addBreadcrumb({category:"xhr",data:{method:v,url:y,status_code:x},type:"http"},{xhr:_.xhr,input:E})}}function Je(_){_.endTimestamp&&(_.fetchData.url.match(/sentry_key/)&&_.fetchData.method==="POST"||(_.error?(0,ft.Gd)().addBreadcrumb({category:"fetch",data:_.fetchData,level:"error",type:"http"},{data:_.error,input:_.args}):(0,ft.Gd)().addBreadcrumb({category:"fetch",data:{..._.fetchData,status_code:_.response.status},type:"http"},{input:_.args,response:_.response})))}function Le(_){var v=(0,_t.R)();let y=_.from,x=_.to;var E=(0,mt.en)(v.location.href);let T=(0,mt.en)(y);var I=(0,mt.en)(x);T.path||(T=E),E.protocol===I.protocol&&E.host===I.host&&(x=I.relative),E.protocol===T.protocol&&E.host===T.host&&(y=T.relative),(0,ft.Gd)().addBreadcrumb({category:"navigation",data:{from:y,to:x}})}function dt(){if(za)return za;if((0,or.Du)(Tr.fetch))return za=Tr.fetch.bind(Tr);var _=Tr.document;let v=Tr.fetch;if(_&&typeof _.createElement=="function")try{var y=_.createElement("iframe");y.hidden=!0,_.head.appendChild(y);var x=y.contentWindow;x&&x.fetch&&(v=x.fetch),_.head.removeChild(y)}catch(E){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",E)}return za=v.bind(Tr)}function Ct(_,v,y,x){var E={filename:_,function:v,in_app:!0};return y!==void 0&&(E.lineno=y),x!==void 0&&(E.colno=x),E}function Ae(_,v){return(0,ft.Gd)().captureException(_,{captureContext:v})}function rt(_){(0,ft.Gd)().withScope(_)}function fe(){return $l>0}function Fe(){$l+=1,setTimeout(()=>{$l-=1})}function nt(_,v={},y){if(typeof _!="function")return _;try{var x=_.__sentry_wrapped__;if(x)return x;if((0,Bt.HK)(_))return _}catch{return _}var E=function(){var I=Array.prototype.slice.call(arguments);try{y&&typeof y=="function"&&y.apply(this,arguments);var P=I.map(L=>nt(L,v));return _.apply(this,P)}catch(L){throw Fe(),rt(U=>{U.addEventProcessor(X=>(v.mechanism&&((0,mt.Db)(X,void 0,void 0),(0,mt.EG)(X,v.mechanism)),X.extra={...X.extra,arguments:I},X)),Ae(L)}),L}};try{for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(E[T]=_[T])}catch{}(0,Bt.$Q)(E,_),(0,Bt.xp)(_,"__sentry_wrapped__",E);try{Object.getOwnPropertyDescriptor(E,"name").configurable&&Object.defineProperty(E,"name",{get:()=>_.name})}catch{}return E}function Ce(_){return function(...v){var y=v[0];return v[0]=nt(y,{mechanism:{data:{function:(0,rn.$P)(_)},handled:!0,type:"instrument"}}),_.apply(this,v)}}function _e(_){return function(v){return _.apply(this,[nt(v,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,rn.$P)(_)},handled:!0,type:"instrument"}})])}}function Y(_){return function(...v){var y=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(x=>{x in y&&typeof y[x]=="function"&&(0,Bt.hl)(y,x,function(E){var T={mechanism:{data:{function:x,handler:(0,rn.$P)(E)},handled:!0,type:"instrument"}},I=(0,Bt.HK)(E);return I&&(T.mechanism.data.handler=(0,rn.$P)(I)),nt(E,T)})}),_.apply(this,v)}}function me(_){var v=(0,_t.R)(),y=v[_]&&v[_].prototype;y&&y.hasOwnProperty&&y.hasOwnProperty("addEventListener")&&((0,Bt.hl)(y,"addEventListener",function(x){return function(E,T,I){try{typeof T.handleEvent=="function"&&(T.handleEvent=nt(T.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,rn.$P)(T),target:_},handled:!0,type:"instrument"}}))}catch{}return x.apply(this,[E,nt(T,{mechanism:{data:{function:"addEventListener",handler:(0,rn.$P)(T),target:_},handled:!0,type:"instrument"}}),I])}}),(0,Bt.hl)(y,"removeEventListener",function(x){return function(E,T,I){var P=T;try{var L=P&&P.__sentry_wrapped__;L&&x.call(this,E,L,I)}catch{}return x.call(this,E,P,I)}}))}function ge(){(0,Rn.o)("error",_=>{const[v,y,x]=Lt();if(!v.getIntegration(ri))return;const{msg:E,url:T,line:I,column:P,error:L}=_;if(!(fe()||L&&L.__sentry_own_request__)){var U=L===void 0&&(0,Qt.HD)(E)?function(G,te,ce,pe){var re=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let be=(0,Qt.VW)(G)?G.message:G,Re="Error";var lt=be.match(re);return lt&&(Re=lt[1],be=lt[2]),Nt({exception:{values:[{type:Re,value:be}]}},te,ce,pe)}(E,T,I,P):Nt(Pe(y,L||E,void 0,x,!1),T,I,P);U.level="error",hn(v,L,U,"onerror")}})}function Ve(){(0,Rn.o)("unhandledrejection",_=>{const[v,y,x]=Lt();if(!v.getIntegration(ri))return;let E=_;try{"reason"in _?E=_.reason:"detail"in _&&"reason"in _.detail&&(E=_.detail.reason)}catch{}if(fe()||E&&E.__sentry_own_request__)return!0;var T=(0,Qt.pt)(E)?function(P){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(P)}`}]}}}(E):Pe(y,E,void 0,x,!0);T.level="error",hn(v,E,T,"onunhandledrejection")})}function Nt(_,v,y,x){var E=_.exception=_.exception||{},T=E.values=E.values||[],I=T[0]=T[0]||{},P=I.stacktrace=I.stacktrace||{},L=P.frames=P.frames||[],U=isNaN(parseInt(x,10))?void 0:x,X=isNaN(parseInt(y,10))?void 0:y,G=(0,Qt.HD)(v)&&v.length>0?v:(0,io.l)();return L.length===0&&L.push({colno:U,filename:G,function:"?",in_app:!0,lineno:X}),_}function hn(_,v,y,x){(0,mt.EG)(y,{handled:!1,type:x}),_.captureEvent(y,{originalException:v})}function Lt(){var _=(0,ft.Gd)(),v=_.getClient(),y=v&&v.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[_,y.stackParser,y.attachStacktrace]}function Sn(_,v,y,x,E){if(!(x.exception&&x.exception.values&&E&&(0,Qt.V9)(E.originalException,Error)))return x;var T=Ne(_,y,E.originalException,v);return x.exception.values=[...T,...x.exception.values],x}function Ne(_,v,y,x,E=[]){if(!(0,Qt.V9)(y[x],Error)||E.length+1>=v)return E;var T=ue(_,y[x]);return Ne(_,v,y[x],x,[T,...E])}function Me(_,v){return!!v&&(!!function(x,E){var T=x.message,I=E.message;return!(!T&&!I||T&&!I||!T&&I||T!==I||!Be(x,E)||!ct(x,E))}(_,v)||!!function(x,E){var T=Ie(E),I=Ie(x);return!(!T||!I||T.type!==I.type||T.value!==I.value||!Be(x,E)||!ct(x,E))}(_,v))}function ct(_,v){let y=Ze(_),x=Ze(v);if(!y&&!x)return!0;if(y&&!x||!y&&x||(y=y,x=x,x.length!==y.length))return!1;for(let I=0;I<x.length;I++){var E=x[I],T=y[I];if(E.filename!==T.filename||E.lineno!==T.lineno||E.colno!==T.colno||E.function!==T.function)return!1}return!0}function Be(_,v){let y=_.fingerprint,x=v.fingerprint;if(!y&&!x)return!0;if(y&&!x||!y&&x)return!1;y=y,x=x;try{return y.join("")===x.join("")}catch{return!1}}function Ie(_){return _.exception&&_.exception.values&&_.exception.values[0]}function Ze(_){var v=_.exception;if(v)try{return v.values[0].stacktrace.frames}catch{return}}function pt(_){function v(x){return y.splice(y.indexOf(x),1)[0]}var y=[];return{$:y,add:function(E){if(!function(){return _===void 0||y.length<_}())return(0,vn.$2)(new en("Not adding Promise due to buffer limit reached."));var T=E();return y.indexOf(T)===-1&&y.push(T),T.then(()=>v(T)).then(null,()=>v(T).then(null,()=>{})),T},drain:function(E){return new vn.cW((T,I)=>{let P=y.length;if(!P)return T(!0);var L=setTimeout(()=>{E&&E>0&&T(!1)},E);y.forEach(U=>{(0,vn.WD)(U).then(()=>{--P||(clearTimeout(L),T(!0))},I)})})}}}function kt(_,{statusCode:v,headers:y},x=Date.now()){var E={..._},T=y&&y["x-sentry-rate-limits"],I=y&&y["retry-after"];if(T)for(var P of T.trim().split(",")){const[G,te]=P.split(":",2);var L=parseInt(G,10),U=1e3*(isNaN(L)?60:L);if(te)for(var X of te.split(";"))E[X]=x+U;else E.all=x+U}else I?E.all=x+function(te,ce=Date.now()){var pe=parseInt(`${te}`,10);if(!isNaN(pe))return 1e3*pe;var re=Date.parse(`${te}`);return isNaN(re)?6e4:re-ce}(I,x):v===429&&(E.all=x+6e4);return E}function Kt(_,v,y=pt(_.bufferSize||30)){let x={};return{send:function(T){var I=[];if(z(T,(U,X)=>{var G=H(X);(function(ce,pe,re=Date.now()){return function(Re,lt){return Re[lt]||Re.all||0}(ce,pe)>re})(x,G)?_.recordDroppedEvent("ratelimit_backoff",G):I.push(U)}),I.length===0)return(0,vn.WD)();var P=B(T[0],I),L=U=>{z(P,(X,G)=>{_.recordDroppedEvent(U,H(G))})};return y.add(()=>v({body:V(P,_.textEncoder)}).then(U=>{U.statusCode!==void 0&&(U.statusCode<200||U.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Sentry responded with status code ${U.statusCode} to sent event.`),x=kt(x,U)},U=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error("Failed while sending event:",U),L("network_error")})).then(U=>U,U=>{if(U instanceof en)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error("Skipped sending event due to full buffer"),L("queue_overflow"),(0,vn.WD)();throw U})},flush:E=>y.drain(E)}}function Hn(_,v=dt()){return Kt(_,function(x){var E={body:x.body,method:"POST",referrerPolicy:"origin",headers:_.headers,..._.fetchOptions};return v(_.url,E).then(T=>({statusCode:T.status,headers:{"x-sentry-rate-limits":T.headers.get("X-Sentry-Rate-Limits"),"retry-after":T.headers.get("Retry-After")}}))})}function ur(_){return Kt(_,function(y){return new vn.cW((x,E)=>{var T=new XMLHttpRequest;for(var I in T.onerror=E,T.onreadystatechange=()=>{T.readyState===4&&x({statusCode:T.status,headers:{"x-sentry-rate-limits":T.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":T.getResponseHeader("Retry-After")}})},T.open("POST",_.url),_.headers)Object.prototype.hasOwnProperty.call(_.headers,I)&&T.setRequestHeader(I,_.headers[I]);T.send(y.body)})})}function Zn(_={}){if(_.defaultIntegrations===void 0&&(_.defaultIntegrations=pE),_.release===void 0){var v=(0,_t.R)();v.SENTRY_RELEASE&&v.SENTRY_RELEASE.id&&(_.release=v.SENTRY_RELEASE.id)}_.autoSessionTracking===void 0&&(_.autoSessionTracking=!0),_.sendClientReports===void 0&&(_.sendClientReports=!0);var y={..._,stackParser:(0,rn.Sq)(_.stackParser||Pu),integrations:N(_),transport:_.transport||((0,or.Ak)()?Hn:ur)};(function(E,T){T.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.enable();var I=(0,ft.Gd)(),P=I.getScope();P&&P.update(T.initialScope);var L=new E(T);I.bindClient(L)})(mi,y),_.autoSessionTracking&&function(){if((0,_t.R)().document===void 0)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var E=(0,ft.Gd)();E.captureSession&&(Dr(E),(0,Rn.o)("history",({from:T,to:I})=>{T!==void 0&&T!==I&&Dr((0,ft.Gd)())}))}()}function Dr(_){_.startSession({ignoreDuration:!0}),_.captureSession()}function Wn(_){return typeof _=="number"&&isFinite(_)}function Er(_,{startTimestamp:v,...y}){return v&&_.startTimestamp>v&&(_.startTimestamp=v),_.startChild({startTimestamp:v,...y})}function La(){return ji&&ji.addEventListener&&ji.performance}function Su(_=!1){var v=La();v&&Br.Z1&&(v.mark&&ji.performance.mark("sentry-tracing-init"),function(){((x,E)=>{var T=Ah("CLS",0);let I,P=0,L=[];var U=G=>{if(G&&!G.hadRecentInput){var te=L[0],ce=L[L.length-1];P&&L.length!==0&&G.startTime-ce.startTime<1e3&&G.startTime-te.startTime<5e3?(P+=G.value,L.push(G)):(P=G.value,L=[G]),P>T.value&&(T.value=P,T.entries=L,I&&I())}},X=Nh("layout-shift",U);X&&(I=Ih(x,T,E),Ic(()=>{X.takeRecords().map(U),I(!0)}))})(x=>{var E=x.entries.pop();E&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding CLS"),an.cls={value:x.value,unit:""},Wa=E)})}(),function(x){((E,T)=>{var I=Rh(),P=Ah("LCP");let L;var U=te=>{var ce=te.startTime;ce<I.firstHiddenTime&&(P.value=ce,P.entries.push(te)),L&&L()},X=Nh("largest-contentful-paint",U);if(X){L=Ih(E,P,T);var G=()=>{i0[P.id]||(X.takeRecords().map(U),X.disconnect(),i0[P.id]=!0,L(!0))};["keydown","click"].forEach(te=>{addEventListener(te,G,{once:!0,capture:!0})}),Ic(G,!0)}})(E=>{var T=E.entries.pop();if(T){var I=(0,yn.XL)(Br.Z1),P=(0,yn.XL)(T.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding LCP"),an.lcp={value:E.value,unit:"millisecond"},an["mark.lcp"]={value:I+P,unit:"second"},gs=T}},x)}(_),function(){((x,E)=>{var T=Rh(),I=Ah("FID");let P;var L=X=>{P&&X.startTime<T.firstHiddenTime&&(I.value=X.processingStart-X.startTime,I.entries.push(X),P(!0))},U=Nh("first-input",L);U&&(P=Ih(x,I,E),Ic(()=>{U.takeRecords().map(L),U.disconnect()},!0))})(x=>{var E=x.entries.pop();if(E){var T=(0,yn.XL)(Br.Z1),I=(0,yn.XL)(E.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding FID"),an.fid={value:x.value,unit:"millisecond"},an["mark.fid"]={value:T+I,unit:"second"}}})}())}function Cu(_){var v=La();if(!v||!ji.performance.getEntries||!Br.Z1)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Tracing] Adding & adjusting spans using Performance API");var y=(0,yn.XL)(Br.Z1),x=v.getEntries();let E,T;x.slice(o0).forEach(I=>{var P=(0,yn.XL)(I.startTime),L=(0,yn.XL)(I.duration);if(!(_.op==="navigation"&&y+P<_.startTimestamp))switch(I.entryType){case"navigation":(function(pe,re,be){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(Re=>{Di(pe,re,Re,be)}),Di(pe,re,"secureConnection",be,"TLS/SSL","connectEnd"),Di(pe,re,"fetch",be,"cache","domainLookupStart"),Di(pe,re,"domainLookup",be,"DNS"),function(lt,Et,et){Er(lt,{op:"browser",description:"request",startTimestamp:et+(0,yn.XL)(Et.requestStart),endTimestamp:et+(0,yn.XL)(Et.responseEnd)}),Er(lt,{op:"browser",description:"response",startTimestamp:et+(0,yn.XL)(Et.responseStart),endTimestamp:et+(0,yn.XL)(Et.responseEnd)})}(pe,re,be)})(_,I,y),E=y+(0,yn.XL)(I.responseStart),T=y+(0,yn.XL)(I.requestStart);break;case"mark":case"paint":case"measure":var U=function(pe,re,be,Re,lt){var Et=lt+be,et=Et+Re;return Er(pe,{description:re.name,endTimestamp:et,op:re.entryType,startTimestamp:Et}),Et}(_,I,P,L,y),X=Rh(),G=I.startTime<X.firstHiddenTime;I.name==="first-paint"&&G&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding FP"),an.fp={value:I.startTime,unit:"millisecond"},an["mark.fp"]={value:U,unit:"second"}),I.name==="first-contentful-paint"&&G&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding FCP"),an.fcp={value:I.startTime,unit:"millisecond"},an["mark.fcp"]={value:U,unit:"second"});break;case"resource":var te=I.name.replace(ji.location.origin,"");(function(pe,re,be,Re,lt,Et){if(!(re.initiatorType==="xmlhttprequest"||re.initiatorType==="fetch")){var et={};"transferSize"in re&&(et["Transfer Size"]=re.transferSize),"encodedBodySize"in re&&(et["Encoded Body Size"]=re.encodedBodySize),"decodedBodySize"in re&&(et["Decoded Body Size"]=re.decodedBodySize);var Rt=Et+Re;Er(pe,{description:be,endTimestamp:Rt+lt,op:re.initiatorType?`resource.${re.initiatorType}`:"resource",startTimestamp:Rt,data:et})}})(_,I,te,P,L,y)}}),o0=Math.max(x.length-1,0),function(P){var L=ji.navigator;if(L){var U=L.connection;U&&(U.effectiveType&&P.setTag("effectiveConnectionType",U.effectiveType),U.type&&P.setTag("connectionType",U.type),Wn(U.rtt)&&(an["connection.rtt"]={value:U.rtt,unit:"millisecond"}),Wn(U.downlink)&&(an["connection.downlink"]={value:U.downlink,unit:""})),Wn(L.deviceMemory)&&P.setTag("deviceMemory",`${L.deviceMemory} GB`),Wn(L.hardwareConcurrency)&&P.setTag("hardwareConcurrency",String(L.hardwareConcurrency))}}(_),_.op==="pageload"&&(typeof E=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding TTFB"),an.ttfb={value:1e3*(E-_.startTimestamp),unit:"millisecond"},typeof T=="number"&&T<=E&&(an["ttfb.requestTime"]={value:1e3*(E-T),unit:"millisecond"})),["fcp","fp","lcp"].forEach(I=>{if(an[I]&&!(y>=_.startTimestamp)){var P=an[I].value,L=y+(0,yn.XL)(P),U=Math.abs(1e3*(L-_.startTimestamp)),X=U-P;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`[Measurements] Normalized ${I} from ${P} to ${U} (${X})`),an[I].value=U}}),an["mark.fid"]&&an.fid&&Er(_,{description:"first input delay",endTimestamp:an["mark.fid"].value+(0,yn.XL)(an.fid.value),op:"web.vitals",startTimestamp:an["mark.fid"].value}),"fcp"in an||delete an.cls,Object.keys(an).forEach(I=>{_.setMeasurement(I,an[I].value,an[I].unit)}),function(P){gs&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding LCP Data"),gs.element&&P.setTag("lcp.element",(0,io.R)(gs.element)),gs.id&&P.setTag("lcp.id",gs.id),gs.url&&P.setTag("lcp.url",gs.url.trim().slice(0,200)),P.setTag("lcp.size",gs.size)),Wa&&Wa.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding CLS Data"),Wa.sources.forEach((L,U)=>P.setTag(`cls.source.${U+1}`,(0,io.R)(L.node))))}(_)),gs=void 0,Wa=void 0,an={}}function Di(_,v,y,x,E,T){var I=T?v[T]:v[`${y}End`],P=v[`${y}Start`];P&&I&&Er(_,{op:"browser",description:(0,s0.h)(E,()=>y),startTimestamp:x+(0,yn.XL)(P),endTimestamp:x+(0,yn.XL)(I)})}function mc(_){const{traceFetch:v,traceXHR:y,tracingOrigins:x,shouldCreateSpanForRequest:E}={...Nc,..._};var T={},I=U=>{if(T[U])return T[U];var X=x;return T[U]=X.some(G=>(0,Pt.zC)(U,G))&&!(0,Pt.zC)(U,"sentry_key"),T[U]};let P=I;typeof E=="function"&&(P=U=>I(U)&&E(U));var L={};v&&(0,Rn.o)("fetch",U=>{(function(G,te,ce){if(!(!(0,yn.zu)()||!G.fetchData||!te(G.fetchData.url))){if(G.endTimestamp){var pe=G.fetchData.__span;return pe?void((be=ce[pe])&&(G.response?be.setHttpStatus(G.response.status):G.error&&be.setStatus("internal_error"),be.finish(),delete ce[pe])):void 0}var re=(0,yn.x1)();if(re){var be=re.startChild({data:{...G.fetchData,type:"fetch"},description:`${G.fetchData.method} ${G.fetchData.url}`,op:"http.client"});G.fetchData.__span=be.spanId,ce[be.spanId]=be;var Re=G.args[0]=G.args[0],lt=G.args[1]=G.args[1]||{};lt.headers=function(et,Rt,Ft,Xn){let On=Xn.headers;if((0,Qt.V9)(et,Request)&&(On=et.headers),On)if(typeof On.append=="function")On.append("sentry-trace",Ft.toTraceparent()),On.append(ar.bU,(0,ar.J8)(Rt,On.get(ar.bU)));else if(Array.isArray(On)){const[,C2]=On.find(([k2,yK])=>k2===ar.bU);On=[...On,["sentry-trace",Ft.toTraceparent()],[ar.bU,(0,ar.J8)(Rt,C2)]]}else On={...On,"sentry-trace":Ft.toTraceparent(),baggage:(0,ar.J8)(Rt,On.baggage)};else On={"sentry-trace":Ft.toTraceparent(),baggage:(0,ar.J8)(Rt)};return On}(Re,re.getBaggage(),be,lt)}}})(U,P,L)}),y&&(0,Rn.o)("xhr",U=>{(function(G,te,ce){if(!(!(0,yn.zu)()||G.xhr&&G.xhr.__sentry_own_request__||!(G.xhr&&G.xhr.__sentry_xhr__&&te(G.xhr.__sentry_xhr__.url)))){var pe=G.xhr.__sentry_xhr__;if(G.endTimestamp){var re=G.xhr.__sentry_xhr_span_id__;return re?void((Re=ce[re])&&(Re.setHttpStatus(pe.status_code),Re.finish(),delete ce[re])):void 0}var be=(0,yn.x1)();if(be){var Re=be.startChild({data:{...pe.data,type:"xhr",method:pe.method,url:pe.url},description:`${pe.method} ${pe.url}`,op:"http.client"});if(G.xhr.__sentry_xhr_span_id__=Re.spanId,ce[G.xhr.__sentry_xhr_span_id__]=Re,G.xhr.setRequestHeader)try{G.xhr.setRequestHeader("sentry-trace",Re.toTraceparent());var lt=G.xhr.getRequestHeader&&G.xhr.getRequestHeader(ar.bU);G.xhr.setRequestHeader(ar.bU,(0,ar.J8)(be.getBaggage(),lt))}catch{}}}})(U,P,L)})}function ku(){var _=Tl("sentry-trace"),v=Tl("baggage"),y=_?function(T){var I=T.match(mE);if(I){let P;return I[3]==="1"?P=!0:I[3]==="0"&&(P=!1),{traceId:I[1],parentSampled:P,parentSpanId:I[2]}}}(_):void 0,x=(0,ar.rg)(v,_);if(y||x)return{...y&&y,...x&&{metadata:{baggage:x}}}}function Tl(_){var v=(0,_t.R)();if(v.document&&v.document.querySelector){var y=v.document.querySelector(`meta[name=${_}]`);return y?y.getAttribute("content"):null}return null}function Fn(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function to(_,v){return(to=Object.setPrototypeOf||function(x,E){return x.__proto__=E,x})(_,v)}function no(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),v&&to(_,v)}function ro(_,v){return!v||b(v)!=="object"&&typeof v!="function"?Fn(_):v}function xn(_){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(_)}function Il(_,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}function Ws(_,v,y){return v&&Il(_.prototype,v),y&&Il(_,y),_}function Fa(_,v){for(;!Object.prototype.hasOwnProperty.call(_,v)&&(_=xn(_))!==null;);return _}function ja(_,v,y,x){return(ja=typeof Reflect<"u"&&Reflect.set?Reflect.set:function(T,I,P,L){var U,X=Fa(T,I);if(X){if((U=Object.getOwnPropertyDescriptor(X,I)).set)return U.set.call(L,P),!0;if(!U.writable)return!1}if(U=Object.getOwnPropertyDescriptor(L,I)){if(!U.writable)return!1;U.value=P,Object.defineProperty(L,I,U)}else f(L,I,P);return!0})(_,v,y,x)}function so(_,v,y,x,E){if(!ja(_,v,y,x||_)&&E)throw new Error("failed to set property");return y}function aa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tt(_,v,y){return(tt=aa()?Reflect.construct:function(E,T,I){var P=[null];P.push.apply(P,T);var L=new(Function.bind.apply(E,P));return I&&to(L,I.prototype),L}).apply(null,arguments)}function Jt(_){var v=typeof Map=="function"?new Map:void 0;return(Jt=function(x){function E(){return tt(x,arguments,xn(this).constructor)}if(x===null||!function(I){return Function.toString.call(I).indexOf("[native code]")!==-1}(x))return x;if(typeof x!="function")throw new TypeError("Super expression must either be null or a function");if(v!==void 0){if(v.has(x))return v.get(x);v.set(x,E)}return E.prototype=Object.create(x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),to(E,x)})(_)}function cn(_){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,E=xn(_);if(v){var T=xn(this).constructor;x=Reflect.construct(E,arguments,T)}else x=E.apply(this,arguments);return ro(this,x)}}function Ut(_,v,y){return(Ut=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(E,T,I){var P=Fa(E,T);if(P){var L=Object.getOwnPropertyDescriptor(P,T);return L.get?L.get.call(I):L.value}})(_,v,y||_)}function Pi(_){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,E=xn(_);if(v){var T=xn(this).constructor;x=Reflect.construct(E,arguments,T)}else x=E.apply(this,arguments);return ro(this,x)}}function Gr(_,v,y,x){return new(y||(y=Promise))(function(E,T){function I(U){try{L(x.next(U))}catch(X){T(X)}}function P(U){try{L(x.throw(U))}catch(X){T(X)}}function L(U){U.done?E(U.value):function(G){return G instanceof y?G:new y(function(te){te(G)})}(U.value).then(I,P)}L((x=x.apply(_,v||[])).next())})}function xr(_,v){function y(L){return function(U){return function(G){if(x)throw new TypeError("Generator is already executing.");for(;P;)try{if(x=1,E&&(T=2&G[0]?E.return:G[0]?E.throw||((T=E.return)&&T.call(E),0):E.next)&&!(T=T.call(E,G[1])).done)return T;switch(E=0,T&&(G=[2&G[0],T.value]),G[0]){case 0:case 1:T=G;break;case 4:return P.label++,{value:G[1],done:!1};case 5:P.label++,E=G[1],G=[0];continue;case 7:G=P.ops.pop(),P.trys.pop();continue;default:if(T=P.trys,!((T=T.length>0&&T[T.length-1])||G[0]!==6&&G[0]!==2)){P=0;continue}if(G[0]===3&&(!T||G[1]>T[0]&&G[1]<T[3])){P.label=G[1];break}if(G[0]===6&&P.label<T[1]){P.label=T[1],T=G;break}if(T&&P.label<T[2]){P.label=T[2],P.ops.push(G);break}T[2]&&P.ops.pop(),P.trys.pop();continue}G=v.call(_,P)}catch(te){G=[6,te],E=0}finally{x=T=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([L,U])}}var x,E,T,I,P={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return I={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I}function Eu(){for(var _=0,v=0,y=arguments.length;v<y;v++)_+=arguments[v].length;var x=Array(_),E=0;for(v=0;v<y;v++)for(var T=arguments[v],I=0,P=T.length;I<P;I++,E++)x[E]=T[I];return x}function Mi(_,v){return new Promise(function(y){return setTimeout(y,_,v)})}function hh(_,v){try{var y=_();(function(E){return E&&typeof E.then=="function"})(y)?y.then(function(x){return v(!0,x)},function(x){return v(!1,x)}):v(!0,y)}catch(x){v(!1,x)}}function Tu(_,v,y){return y===void 0&&(y=16),Gr(this,void 0,void 0,function(){var x,E,T;return xr(this,function(I){switch(I.label){case 0:x=Date.now(),E=0,I.label=1;case 1:return E<_.length?(v(_[E],E),(T=Date.now())>=x+y?(x=T,[4,Mi(0)]):[3,3]):[3,4];case 2:I.sent(),I.label=3;case 3:return++E,[3,1];case 4:return[2]}})})}function Ss(_,v){_=[_[0]>>>16,65535&_[0],_[1]>>>16,65535&_[1]],v=[v[0]>>>16,65535&v[0],v[1]>>>16,65535&v[1]];var y=[0,0,0,0];return y[3]+=_[3]+v[3],y[2]+=y[3]>>>16,y[3]&=65535,y[2]+=_[2]+v[2],y[1]+=y[2]>>>16,y[2]&=65535,y[1]+=_[1]+v[1],y[0]+=y[1]>>>16,y[1]&=65535,y[0]+=_[0]+v[0],y[0]&=65535,[y[0]<<16|y[1],y[2]<<16|y[3]]}function wr(_,v){_=[_[0]>>>16,65535&_[0],_[1]>>>16,65535&_[1]],v=[v[0]>>>16,65535&v[0],v[1]>>>16,65535&v[1]];var y=[0,0,0,0];return y[3]+=_[3]*v[3],y[2]+=y[3]>>>16,y[3]&=65535,y[2]+=_[2]*v[3],y[1]+=y[2]>>>16,y[2]&=65535,y[2]+=_[3]*v[2],y[1]+=y[2]>>>16,y[2]&=65535,y[1]+=_[1]*v[3],y[0]+=y[1]>>>16,y[1]&=65535,y[1]+=_[2]*v[2],y[0]+=y[1]>>>16,y[1]&=65535,y[1]+=_[3]*v[1],y[0]+=y[1]>>>16,y[1]&=65535,y[0]+=_[0]*v[3]+_[1]*v[2]+_[2]*v[1]+_[3]*v[0],y[0]&=65535,[y[0]<<16|y[1],y[2]<<16|y[3]]}function Bi(_,v){return(v%=64)===32?[_[1],_[0]]:v<32?[_[0]<<v|_[1]>>>32-v,_[1]<<v|_[0]>>>32-v]:(v-=32,[_[1]<<v|_[0]>>>32-v,_[0]<<v|_[1]>>>32-v])}function dr(_,v){return(v%=64)===0?_:v<32?[_[0]<<v|_[1]>>>32-v,_[1]<<v]:[_[1]<<v-32,0]}function fn(_,v){return[_[0]^v[0],_[1]^v[1]]}function fh(_){return _=fn(_,[0,_[0]>>>1]),_=fn(_=wr(_,[4283543511,3981806797]),[0,_[0]>>>1]),_=fn(_=wr(_,[3301882366,444984403]),[0,_[0]>>>1])}function Vg(_,v){v=v||0;var y,x=(_=_||"").length%16,E=_.length-x,T=[0,v],I=[0,v],P=[0,0],L=[0,0],U=[2277735313,289559509],X=[1291169091,658871167];for(y=0;y<E;y+=16)P=[255&_.charCodeAt(y+4)|(255&_.charCodeAt(y+5))<<8|(255&_.charCodeAt(y+6))<<16|(255&_.charCodeAt(y+7))<<24,255&_.charCodeAt(y)|(255&_.charCodeAt(y+1))<<8|(255&_.charCodeAt(y+2))<<16|(255&_.charCodeAt(y+3))<<24],L=[255&_.charCodeAt(y+12)|(255&_.charCodeAt(y+13))<<8|(255&_.charCodeAt(y+14))<<16|(255&_.charCodeAt(y+15))<<24,255&_.charCodeAt(y+8)|(255&_.charCodeAt(y+9))<<8|(255&_.charCodeAt(y+10))<<16|(255&_.charCodeAt(y+11))<<24],P=Bi(P=wr(P,U),31),T=Ss(T=Bi(T=fn(T,P=wr(P,X)),27),I),T=Ss(wr(T,[0,5]),[0,1390208809]),L=Bi(L=wr(L,X),33),I=Ss(I=Bi(I=fn(I,L=wr(L,U)),31),T),I=Ss(wr(I,[0,5]),[0,944331445]);switch(P=[0,0],L=[0,0],x){case 15:L=fn(L,dr([0,_.charCodeAt(y+14)],48));case 14:L=fn(L,dr([0,_.charCodeAt(y+13)],40));case 13:L=fn(L,dr([0,_.charCodeAt(y+12)],32));case 12:L=fn(L,dr([0,_.charCodeAt(y+11)],24));case 11:L=fn(L,dr([0,_.charCodeAt(y+10)],16));case 10:L=fn(L,dr([0,_.charCodeAt(y+9)],8));case 9:L=wr(L=fn(L,[0,_.charCodeAt(y+8)]),X),I=fn(I,L=wr(L=Bi(L,33),U));case 8:P=fn(P,dr([0,_.charCodeAt(y+7)],56));case 7:P=fn(P,dr([0,_.charCodeAt(y+6)],48));case 6:P=fn(P,dr([0,_.charCodeAt(y+5)],40));case 5:P=fn(P,dr([0,_.charCodeAt(y+4)],32));case 4:P=fn(P,dr([0,_.charCodeAt(y+3)],24));case 3:P=fn(P,dr([0,_.charCodeAt(y+2)],16));case 2:P=fn(P,dr([0,_.charCodeAt(y+1)],8));case 1:P=wr(P=fn(P,[0,_.charCodeAt(y)]),U),T=fn(T,P=wr(P=Bi(P,31),X))}return T=Ss(T=fn(T,[0,_.length]),I=fn(I,[0,_.length])),I=Ss(I,T),T=Ss(T=fh(T),I=fh(I)),I=Ss(I,T),("00000000"+(T[0]>>>0).toString(16)).slice(-8)+("00000000"+(T[1]>>>0).toString(16)).slice(-8)+("00000000"+(I[0]>>>0).toString(16)).slice(-8)+("00000000"+(I[1]>>>0).toString(16)).slice(-8)}function gc(_){return parseInt(_)}function Pr(_){return parseFloat(_)}function ms(_,v){return typeof _=="number"&&isNaN(_)?v:_}function Mr(_){return _.reduce(function(v,y){return v+(y?1:0)},0)}function ph(_,v){if(v===void 0&&(v=1),Math.abs(v)>=1)return Math.round(_/v)*v;var y=1/v;return Math.round(_*y)/y}function Iu(_){return _&&typeof _=="object"&&"message"in _?_:{message:_}}function Gg(_,v,y){var x=Object.keys(_).filter(function(T){return function(P,L){return!function(X,G){for(var te=0,ce=X.length;te<ce;++te)if(X[te]===G)return!0;return!1}(P,L)}(y,T)}),E=Array(x.length);return Tu(x,function(T,I){E[I]=function(L,U){var X=function(te){return typeof te!="function"},G=new Promise(function(te){var ce=Date.now();hh(L.bind(null,U),function(){for(var pe=[],re=0;re<arguments.length;re++)pe[re]=arguments[re];var be=Date.now()-ce;if(!pe[0])return te(function(){return{error:Iu(pe[1]),duration:be}});var Re=pe[1];if(X(Re))return te(function(){return{value:Re,duration:be}});te(function(){return new Promise(function(lt){var Et=Date.now();hh(Re,function(){for(var et=[],Rt=0;Rt<arguments.length;Rt++)et[Rt]=arguments[Rt];var Ft=be+Date.now()-Et;if(!et[0])return lt({error:Iu(et[1]),duration:Ft});lt({value:et[1],duration:Ft})})})})})});return function(){return G.then(function(ce){return ce()})}}(_[T],v)}),function(){return Gr(this,void 0,void 0,function(){var I,P,L,U,X,G;return xr(this,function(te){switch(te.label){case 0:for(I={},P=0,L=x;P<L.length;P++)U=L[P],I[U]=void 0;X=Array(x.length),G=function(){var ce;return xr(this,function(pe){switch(pe.label){case 0:return ce=!0,[4,Tu(x,function(re,be){X[be]||(E[be]?X[be]=E[be]().then(function(Re){return I[re]=Re}):ce=!1)})];case 1:return pe.sent(),ce?[2,"break"]:[4,Mi(1)];case 2:return pe.sent(),[2]}})},te.label=1;case 1:return[5,G()];case 2:if(te.sent()==="break")return[3,4];te.label=3;case 3:return[3,1];case 4:return[4,Promise.all(X)];case 5:return te.sent(),[2,I]}})})}}function mh(){var _=window,v=navigator;return Mr(["MSCSSMatrix"in _,"msSetImmediate"in _,"msIndexedDB"in _,"msMaxTouchPoints"in v,"msPointerEnabled"in v])>=4}function vc(){var _=window,v=navigator;return Mr(["webkitPersistentStorage"in v,"webkitTemporaryStorage"in v,v.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in _,"BatteryManager"in _,"webkitMediaStream"in _,"webkitSpeechGrammar"in _])>=5}function Ao(){var _=window,v=navigator;return Mr(["ApplePayError"in _,"CSSPrimitiveValue"in _,"Counter"in _,v.vendor.indexOf("Apple")===0,"getStorageUpdates"in v,"WebKitMediaKeys"in _])>=4}function yc(){var _=window;return Mr(["safari"in _,!("DeviceMotionEvent"in _),!("ongestureend"in _),!("standalone"in navigator)])>=3}function gh(){var _=vc(),v=function(){var E,T,I=window;return Mr(["buildID"in navigator,"MozAppearance"in((T=(E=document.documentElement)===null||E===void 0?void 0:E.style)!==null&&T!==void 0?T:{}),"onmozfullscreenchange"in I,"mozInnerScreenX"in I,"CSSMozDocumentRule"in I,"CanvasCaptureMediaStream"in I])>=4}();if(!_&&!v)return!1;var y=window;return Mr(["onorientationchange"in y,"orientation"in y,_&&!("SharedWorker"in y),v&&/android/i.test(navigator.appVersion)])>=2}function Au(_){var v=new Error(_);return v.name=_,v}function Nu(_,v,y){var x,E,T;return y===void 0&&(y=50),Gr(this,void 0,void 0,function(){var I,P;return xr(this,function(L){switch(L.label){case 0:I=document,L.label=1;case 1:return I.body?[3,3]:[4,Mi(y)];case 2:return L.sent(),[3,1];case 3:P=I.createElement("iframe"),L.label=4;case 4:return L.trys.push([4,,10,11]),[4,new Promise(function(U,X){var G=!1,te=function(){G=!0,U()};P.onload=te,P.onerror=function(re){G=!0,X(re)};var ce=P.style;ce.setProperty("display","block","important"),ce.position="absolute",ce.top="0",ce.left="0",ce.visibility="hidden",v&&"srcdoc"in P?P.srcdoc=v:P.src="about:blank",I.body.appendChild(P);var pe=function(){var re,be;G||(((be=(re=P.contentWindow)===null||re===void 0?void 0:re.document)===null||be===void 0?void 0:be.readyState)==="complete"?te():setTimeout(pe,10))};pe()})];case 5:L.sent(),L.label=6;case 6:return!((E=(x=P.contentWindow)===null||x===void 0?void 0:x.document)===null||E===void 0)&&E.body?[3,8]:[4,Mi(y)];case 7:return L.sent(),[3,6];case 8:return[4,_(P,P.contentWindow)];case 9:return[2,L.sent()];case 10:return(T=P.parentNode)===null||T===void 0||T.removeChild(P),[7];case 11:return[2]}})})}function Dp(_){for(var v=function(X){for(var G,te,ce="Unexpected syntax '"+X+"'",pe=/^\s*([a-z-]*)(.*)$/i.exec(X),re=pe[1]||void 0,be={},Re=/([.:#][\w-]+|\[.+?\])/gi,lt=function(Ft,Xn){be[Ft]=be[Ft]||[],be[Ft].push(Xn)};;){var Et=Re.exec(pe[2]);if(!Et)break;var et=Et[0];switch(et[0]){case".":lt("class",et.slice(1));break;case"#":lt("id",et.slice(1));break;case"[":var Rt=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(et);if(!Rt)throw new Error(ce);lt(Rt[1],(te=(G=Rt[4])!==null&&G!==void 0?G:Rt[5])!==null&&te!==void 0?te:"");break;default:throw new Error(ce)}}return[re,be]}(_),y=v[0],x=v[1],E=document.createElement(y??"div"),T=0,I=Object.keys(x);T<I.length;T++){var P=I[T],L=x[P].join(" ");P==="style"?Hg(E.style,L):E.setAttribute(P,L)}return E}function Hg(_,v){for(var y=0,x=v.split(";");y<x.length;y++){var E=x[y],T=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(E);if(T){var I=T[1],P=T[2],L=T[4];_.setProperty(I,P,L||"")}}}function Yg(_){return _.rect(0,0,10,10),_.rect(2,2,6,6),!_.isPointInPath(5,5,"evenodd")}function qg(_,v){_.width=240,_.height=60,v.textBaseline="alphabetic",v.fillStyle="#f60",v.fillRect(100,1,62,20),v.fillStyle="#069",v.font='11pt "Times New Roman"';var y="Cwm fjordbank gly "+String.fromCharCode(55357,56835);return v.fillText(y,2,15),v.fillStyle="rgba(102, 204, 0, 0.2)",v.font="18pt Arial",v.fillText(y,4,45),vh(_)}function Pp(_,v){_.width=122,_.height=110,v.globalCompositeOperation="multiply";for(var y=0,x=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];y<x.length;y++){var E=x[y],T=E[0],I=E[1],P=E[2];v.fillStyle=T,v.beginPath(),v.arc(I,P,40,0,2*Math.PI,!0),v.closePath(),v.fill()}return v.fillStyle="#f9c",v.arc(60,60,60,0,2*Math.PI,!0),v.arc(60,60,20,0,2*Math.PI,!0),v.fill("evenodd"),vh(_)}function vh(_){return _.toDataURL()}function Xg(){var _=this;return function(){if(Hh===void 0){var y=function(){var x=bc();Al(x)?Hh=setTimeout(y,2500):(Mc=x,Hh=void 0)};y()}}(),function(){return Gr(_,void 0,void 0,function(){var v;return xr(this,function(y){switch(y.label){case 0:return Al(v=bc())?Mc?[2,Eu(Mc)]:function(){var T=document;return T.fullscreenElement||T.msFullscreenElement||T.mozFullScreenElement||T.webkitFullscreenElement||null}()?[4,(x=document,(x.exitFullscreen||x.msExitFullscreen||x.mozCancelFullScreen||x.webkitExitFullscreen).call(x))]:[3,2]:[3,2];case 1:y.sent(),v=bc(),y.label=2;case 2:return Al(v)||(Mc=v),[2,v]}var x})})}}function bc(){var _=screen;return[ms(Pr(_.availTop),null),ms(Pr(_.width)-Pr(_.availWidth)-ms(Pr(_.availLeft),0),null),ms(Pr(_.height)-Pr(_.availHeight)-ms(Pr(_.availTop),0),null),ms(Pr(_.availLeft),null)]}function Al(_){for(var v=0;v<4;++v)if(_[v])return!1;return!0}function Kg(_){var v;return Gr(this,void 0,void 0,function(){var y,x,E,T,I,P,L;return xr(this,function(U){switch(U.label){case 0:for(y=document,x=y.createElement("div"),E=new Array(_.length),T={},yh(x),L=0;L<_.length;++L)I=Dp(_[L]),yh(P=y.createElement("div")),P.appendChild(I),x.appendChild(P),E[L]=I;U.label=1;case 1:return y.body?[3,3]:[4,Mi(50)];case 2:return U.sent(),[3,1];case 3:y.body.appendChild(x);try{for(L=0;L<_.length;++L)E[L].offsetParent||(T[_[L]]=!0)}finally{(v=x.parentNode)===null||v===void 0||v.removeChild(x)}return[2,T]}})})}function yh(_){_.style.setProperty("display","block","important")}function bh(_){return matchMedia("(inverted-colors: "+_+")").matches}function xh(_){return matchMedia("(forced-colors: "+_+")").matches}function ni(_){return matchMedia("(prefers-contrast: "+_+")").matches}function Ru(_){return matchMedia("(prefers-reduced-motion: "+_+")").matches}function Nl(_){return matchMedia("(dynamic-range: "+_+")").matches}function wh(_){var v=function(E){if(gh())return .4;if(Ao())return yc()?.5:.3;var T=E.platform.value||"";return/^Win/.test(T)?.6:/^Mac/.test(T)?.5:.7}(_),y=function(E){return ph(.99+.01*E,1e-4)}(v);return{score:v,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,""+y)}}function xc(_){return Vg(function(y){for(var x="",E=0,T=Object.keys(y).sort();E<T.length;E++){var I=T[E],P=y[I],L=P.error?"error":JSON.stringify(P.value);x+=(x?"|":"")+I.replace(/([:|\\])/g,"\\$1")+":"+L}return x}(_))}function Mp(_){return _===void 0&&(_=50),function(y,x){x===void 0&&(x=1/0);var E=window.requestIdleCallback;return E?new Promise(function(T){return E.call(window,function(){return T()},{timeout:x})}):Mi(Math.min(y,x))}(_,2*_)}function Bp(_,v){return{get:function(y){return Gr(this,void 0,void 0,function(){var x,E;return xr(this,function(T){switch(T.label){case 0:return[4,_()];case 1:return x=T.sent(),E=function(P){var L;return{get visitorId(){return L===void 0&&(L=xc(this.components)),L},set visitorId(U){L=U},confidence:wh(P),components:P,version:ME}}(x),v||y==null||y.debug,[2,E]}})})}}}function _h(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function wc(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?_h(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):_h(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function Sh(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function _c(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?Sh(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):Sh(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function Jg(_){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,E=xn(_);if(v){var T=xn(this).constructor;x=Reflect.construct(E,arguments,T)}else x=E.apply(this,arguments);return ro(this,x)}}function Ou(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function Ch(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?Ou(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):Ou(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function kh(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function Eh(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?kh(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):kh(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function Th(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function Sc(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?Th(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):Th(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function j(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function Z(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?j(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):j(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function ne(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function se(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?ne(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):ne(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function ye(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function he(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?ye(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):ye(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function we(_){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,E=xn(_);if(v){var T=xn(this).constructor;x=Reflect.construct(E,arguments,T)}else x=E.apply(this,arguments);return ro(this,x)}}function qe(_,v){var y=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!y){if(Array.isArray(_)||(y=function(U,X){if(U){if(typeof U=="string")return Xe(U,X);var G=Object.prototype.toString.call(U).slice(8,-1);if(G==="Object"&&U.constructor&&(G=U.constructor.name),G==="Map"||G==="Set")return Array.from(U);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return Xe(U,X)}}(_))||v&&_&&typeof _.length=="number"){y&&(_=y);var x=0,E=function(){};return{s:E,n:function(){return x>=_.length?{done:!0}:{done:!1,value:_[x++]}},e:function(U){throw U},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,I=!0,P=!1;return{s:function(){y=y.call(_)},n:function(){var U=y.next();return I=U.done,U},e:function(U){P=!0,T=U},f:function(){try{I||y.return==null||y.return()}finally{if(P)throw T}}}}function Xe(_,v){(v==null||v>_.length)&&(v=_.length);for(var y=0,x=new Array(v);y<v;y++)x[y]=_[y];return x}function Qe(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function xt(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?Qe(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):Qe(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}o.r(a),o.d(a,{Cashfree:()=>S2});var gt=o(7757),xe=o.n(gt),it=(o(2772),o(561),o(6699),o(2023),o(4916),o(4765),o(2222),o(5827),o(2707),o(9720),"onPaymentSuccess callback is required!"),vt="onPaymentFailure callback is required!",It="onError callback is required",Ot="invalid card number",Vt="invalid card expiry date",gn="invalid card cvv",St={Card:{CARD_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-card-number",CARD_CVV_ELEMENT_NOT_FOUND:"no element found with attribute data-card-cvv",CARD_HOLDER_ELEMENT_NOT_FOUND:"no element found with attribute data-card-holder",CARD_EXPIRY_MONTH_ELEMENT_NOT_FOUND:"no element found with attribute data-card-expiry-mm",CARD_EXPIRY_YEAR_ELEMENT_NOT_FOUND:"no element found with attribute data-card-expiry-yy"},Emi:{CARD_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-number",CARD_CVV_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-cvv",CARD_HOLDER_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-holder",CARD_EXPIRY_MONTH_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-expiry-month",CARD_EXPIRY_YEAR_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-expiry-year",CARD_BANK_NAME_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-bank",CARD_EMI_TENURE_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-tenure"},APP_PHONE_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-app-phone",APP_NAME_ELEMENT_NOT_FOUND:"no element found with attribute data-app-name",NETBANKING_BANK_CODE_ELEMENT_NOT_FOUND:"no element found with attribute data-netbanking-code",NETBANKING_IFSC_CODE_ELEMENT_NOT_FOUND:"no element found with attribute data-netbanking-ifsc",NETBANKING_ACCOUNT_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-netbanking-account",UPI_COLLECT_VPA_ELEMENT_NOT_FOUND:"no element found with attribute data-upi-id",UPI_INTENT_PROVIDER_ELEMENT_NOT_FOUND:"no element found with attribute data-upi-provider",PAYLATER_PHONE_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-paylater-phone",PAYLATER_ELEMENT_NOT_FOUND:"no element found with attribute data-provider",CARDLESS_PHONE_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-cardless-phone",CARDLESS_PROVIDER_ELEMENT_NOT_FOUND:"no element found with attribute data-cardless-provider"};const wt="2.0.0";o(9753),o(9554),o(4747),o(9601),o(6992),o(1539),o(8783),o(4129),o(3948);var nn=o(6769),ft=o(8641),Ue=o(2343),wn=[],mt=o(2844),Pt=o(7321),Mn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Gt{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Gt.id}constructor(v={}){this._options=v,Gt.prototype.__init.call(this)}setupOnce(v,y){var x=E=>{var T=y();if(T){var I=T.getIntegration(Gt);if(I){var P=T.getClient(),L=P?P.getOptions():{};return A(E,function(X={},G={}){return{allowUrls:[...X.allowUrls||[],...G.allowUrls||[]],denyUrls:[...X.denyUrls||[],...G.denyUrls||[]],ignoreErrors:[...X.ignoreErrors||[],...G.ignoreErrors||[],...Mn],ignoreInternal:X.ignoreInternal===void 0||X.ignoreInternal}}(I._options,L))?null:E}}return E};x.id=this.name,v(x)}}Gt.__initStatic();var Bt=o(535);let En;class Tn{constructor(){Tn.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Tn.id}setupOnce(){En=Function.prototype.toString,Function.prototype.toString=function(...v){var y=(0,Bt.HK)(this)||this;return En.apply(y,v)}}}Tn.__initStatic();var _t=o(2991),rn=o(360),or=o(8823),Rn=o(9732),Zt=o(5771);class en extends Error{constructor(v){super(v),this.message=v,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var Hr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Qt=o(7597),vn=o(6893),la={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"},Br=o(1170),ar=o(9181),Cc="Not capturing exception because it's already been captured.";class Li{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(v){if(Li.prototype.__init.call(this),Li.prototype.__init2.call(this),Li.prototype.__init3.call(this),Li.prototype.__init4.call(this),this._options=v,v.dsn){this._dsn=D(v.dsn);var y=ee(this._dsn,v);this._transport=v.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...v.transportOptions,url:y})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("No DSN provided, client will not do anything.")}captureException(v,y,x){if((0,mt.YO)(v))return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(Cc));let E=y&&y.event_id;return this._process(this.eventFromException(v,y).then(T=>this._captureEvent(T,y,x)).then(T=>{E=T})),E}captureMessage(v,y,x,E){let T=x&&x.event_id;var I=(0,Qt.pt)(v)?this.eventFromMessage(String(v),y,x):this.eventFromException(v,x);return this._process(I.then(P=>this._captureEvent(P,x,E)).then(P=>{T=P})),T}captureEvent(v,y,x){if(y&&y.originalException&&(0,mt.YO)(y.originalException))return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(Cc));let E=y&&y.event_id;return this._process(this._captureEvent(v,y,x).then(T=>{E=T})),E}captureSession(v){this._isEnabled()?typeof v.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(v),(0,Zt.CT)(v,{init:!1})):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(v){var y=this._transport;return y?this._isClientDoneProcessing(v).then(x=>y.flush(v).then(E=>x&&E)):(0,vn.WD)(!0)}close(v){return this.flush(v).then(y=>(this.getOptions().enabled=!1,y))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(y){var x={};return y.forEach(E=>{x[E.name]=E,wn.indexOf(E.name)===-1&&(E.setupOnce(nn.c,ft.Gd),wn.push(E.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`Integration installed: ${E.name}`))}),x}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(v){return this._integrations[v]}getIntegration(v){try{return this._integrations[v.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Cannot retrieve integration ${v.id} from the current Client`),null}}sendEvent(v,y={}){if(this._dsn){let E=ae(v,this._dsn,this._options._metadata,this._options.tunnel);for(var x of y.attachments||[])E=M(E,q(x,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(E)}}sendSession(v){if(this._dsn){var y=function(E,T,I,P){var L=J(I);return B({sent_at:new Date().toISOString(),...L&&{sdk:L},...!!P&&{dsn:R(T)}},["aggregates"in E?[{type:"sessions"},E]:[{type:"session"},E]])}(v,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(y)}}recordDroppedEvent(v,y){if(this._options.sendClientReports){var x=`${v}:${y}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`Adding outcome: "${x}"`),this._outcomes[x]=this._outcomes[x]+1||1}}_updateSessionFromEvent(v,y){let x=!1,E=!1;var T=y.exception&&y.exception.values;if(T)for(var I of(E=!0,T)){var P=I.mechanism;if(P&&P.handled===!1){x=!0;break}}var L=v.status==="ok";(L&&v.errors===0||L&&x)&&((0,Zt.CT)(v,{...x&&{status:"crashed"},errors:v.errors||Number(E||x)}),this.captureSession(v))}_isClientDoneProcessing(v){return new vn.cW(y=>{let x=0;var E=setInterval(()=>{this._numProcessing==0?(clearInterval(E),y(!0)):(x+=1,v&&x>=v&&(clearInterval(E),y(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(v,y,x){const{normalizeDepth:E=3,normalizeMaxBreadth:T=1e3}=this.getOptions();var I={...v,event_id:v.event_id||y.event_id||(0,mt.DM)(),timestamp:v.timestamp||(0,Br.yW)()};this._applyClientOptions(I),this._applyIntegrationsMetadata(I);let P=x;y.captureContext&&(P=nn.s.clone(P).update(y.captureContext));let L=(0,vn.WD)(I);if(P){var U=[...y.attachments||[],...P.getAttachments()];U.length&&(y.attachments=U),L=P.applyToEvent(I,y)}return L.then(X=>typeof E=="number"&&E>0?this._normalizeEvent(X,E,T):X)}_normalizeEvent(v,y,x){if(!v)return null;var E={...v,...v.breadcrumbs&&{breadcrumbs:v.breadcrumbs.map(T=>({...T,...T.data&&{data:K(T.data,y,x)}}))},...v.user&&{user:K(v.user,y,x)},...v.contexts&&{contexts:K(v.contexts,y,x)},...v.extra&&{extra:K(v.extra,y,x)}};return v.contexts&&v.contexts.trace&&E.contexts&&(E.contexts.trace=v.contexts.trace,v.contexts.trace.data&&(E.contexts.trace.data=K(v.contexts.trace.data,y,x))),v.spans&&(E.spans=v.spans.map(T=>(T.data&&(T.data=K(T.data,y,x)),T))),E}_applyClientOptions(v){var y=this.getOptions();const{environment:x,release:E,dist:T,maxValueLength:I=250}=y;"environment"in v||(v.environment="environment"in y?x:"production"),v.release===void 0&&E!==void 0&&(v.release=E),v.dist===void 0&&T!==void 0&&(v.dist=T),v.message&&(v.message=(0,Pt.$G)(v.message,I));var P=v.exception&&v.exception.values&&v.exception.values[0];P&&P.value&&(P.value=(0,Pt.$G)(P.value,I));var L=v.request;L&&L.url&&(L.url=(0,Pt.$G)(L.url,I))}_applyIntegrationsMetadata(v){var y=Object.keys(this._integrations);y.length>0&&(v.sdk=v.sdk||{},v.sdk.integrations=[...v.sdk.integrations||[],...y])}_captureEvent(v,y={},x){return this._processEvent(v,y,x).then(E=>E.event_id,E=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(E)})}_processEvent(v,y,x){const{beforeSend:E,sampleRate:T}=this.getOptions();if(!this._isEnabled())return(0,vn.$2)(new en("SDK not enabled, will not capture event."));var I=v.type==="transaction";return!I&&typeof T=="number"&&Math.random()>T?(this.recordDroppedEvent("sample_rate","error"),(0,vn.$2)(new en(`Discarding event because it's not included in the random sample (sampling rate = ${T})`))):this._prepareEvent(v,y,x).then(P=>{if(P===null)throw this.recordDroppedEvent("event_processor",v.type||"error"),new en("An event processor returned null, will not send event.");return y.data&&y.data.__sentry__===!0||I||!E?P:function(U){var X="`beforeSend` method has to return `null` or a valid event.";if((0,Qt.J8)(U))return U.then(G=>{if(!(0,Qt.PO)(G)&&G!==null)throw new en(X);return G},G=>{throw new en(`beforeSend rejected with ${G}`)});if(!(0,Qt.PO)(U)&&U!==null)throw new en(X);return U}(E(P,y))}).then(P=>{if(P===null)throw this.recordDroppedEvent("before_send",v.type||"error"),new en("`beforeSend` returned `null`, will not send event.");var L=x&&x.getSession();return!I&&L&&this._updateSessionFromEvent(L,P),this.sendEvent(P,y),P}).then(null,P=>{throw P instanceof en?P:(this.captureException(P,{data:{__sentry__:!0},originalException:P}),new en(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${P}`))})}_process(v){this._numProcessing+=1,v.then(y=>(this._numProcessing-=1,y),y=>(this._numProcessing-=1,y))}_sendEnvelope(v){this._transport&&this._dsn?this._transport.send(v).then(null,y=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error("Error while sending event:",y)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error("Transport disabled")}_clearOutcomes(){var v=this._outcomes;return this._outcomes={},Object.keys(v).map(y=>{const[x,E]=y.split(":");return{reason:x,category:E,quantity:v[y]}})}}var Rl="7.7.0",Qg=/Minified React error #\d+;/i,io=o(8464),$u=["fatal","error","warning","log","info","debug"],Ol="Breadcrumbs";class oo{static __initStatic(){this.id=Ol}__init(){this.name=oo.id}constructor(v){oo.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...v}}setupOnce(){this.options.console&&(0,Rn.o)("console",We),this.options.dom&&(0,Rn.o)("dom",function(y){return function(E){let T,I=typeof y=="object"?y.serializeAttribute:void 0;typeof I=="string"&&(I=[I]);try{T=E.event.target?(0,io.R)(E.event.target,I):(0,io.R)(E.event,I)}catch{T="<unknown>"}T.length!==0&&(0,ft.Gd)().addBreadcrumb({category:`ui.${E.name}`,message:T},{event:E.event,name:E.name,global:E.global})}}(this.options.dom)),this.options.xhr&&(0,Rn.o)("xhr",ot),this.options.fetch&&(0,Rn.o)("fetch",Je),this.options.history&&(0,Rn.o)("history",Le)}}oo.__initStatic();var Tr=(0,_t.R)();let za;var kc=(0,_t.R)();class mi extends Li{constructor(v){v._metadata=v._metadata||{},v._metadata.sdk=v._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Rl}],version:Rl},super(v),v.sendClientReports&&kc.document&&kc.document.addEventListener("visibilitychange",()=>{kc.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(v,y){return function(E,T,I,P){var L=Pe(E,T,I&&I.syntheticException||void 0,P);return(0,mt.EG)(L),L.level="error",I&&I.event_id&&(L.event_id=I.event_id),(0,vn.WD)(L)}(this._options.stackParser,v,y,this._options.attachStacktrace)}eventFromMessage(v,y="info",x){return function(T,I,P="info",L,U){var X=Ke(T,I,L&&L.syntheticException||void 0,U);return X.level=P,L&&L.event_id&&(X.event_id=L.event_id),(0,vn.WD)(X)}(this._options.stackParser,v,y,x,this._options.attachStacktrace)}sendEvent(v,y){var x=this.getIntegrationById(Ol);x&&x.options&&x.options.sentry&&(0,ft.Gd)().addBreadcrumb({category:"sentry."+(v.type==="transaction"?"transaction":"event"),event_id:v.event_id,level:v.level,message:(0,mt.jH)(v)},{event:v}),super.sendEvent(v,y)}_prepareEvent(v,y,x){return v.platform=v.platform||"javascript",super._prepareEvent(v,y,x)}_flushOutcomes(){var v=this._clearOutcomes();if(v.length!==0)if(this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("Sending outcomes:",v);var y=ee(this._dsn,this._options),x=function(T,I,P){return B(I?{dsn:I}:{},[[{type:"client_report"},{timestamp:P||(0,Br.yW)(),discarded_events:T}]])}(v,this._options.tunnel&&R(this._dsn));try{(function(T,I){Object.prototype.toString.call(Tr&&Tr.navigator)==="[object Navigator]"&&typeof Tr.navigator.sendBeacon=="function"?Tr.navigator.sendBeacon.bind(Tr.navigator)(T,I):(0,or.Ak)()&&dt()(T,{body:I,method:"POST",credentials:"omit",keepalive:!0}).then(null,P=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error(P)})})(y,V(x))}catch(E){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error(E)}}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("No dsn provided, will not send outcomes");else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("No outcomes to send")}}var No="?",Zg=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Du=/\((\S*)(?::(\d+))(?::(\d+))\)/,Yr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Lp=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,e0=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,t0=[[30,_=>{var v=Zg.exec(_);if(v){if(v[2]&&v[2].indexOf("eval")===0){var y=Du.exec(v[2]);y&&(v[2]=y[1],v[3]=y[2],v[4]=y[3])}const[x,E]=Ec(v[1]||No,v[2]);return Ct(E,x,v[3]?+v[3]:void 0,v[4]?+v[4]:void 0)}}],[50,_=>{var v=Yr.exec(_);if(v){if(v[3]&&v[3].indexOf(" > eval")>-1){var y=Lp.exec(v[3]);y&&(v[1]=v[1]||"eval",v[3]=y[1],v[4]=y[2],v[5]="")}let x=v[3],E=v[1]||No;return[E,x]=Ec(E,x),Ct(x,E,v[4]?+v[4]:void 0,v[5]?+v[5]:void 0)}}],[40,_=>{var v=e0.exec(_);return v?Ct(v[2],v[1]||No,+v[3],v[4]?+v[4]:void 0):void 0}]],Pu=(0,rn.pE)(...t0),Ec=(_,v)=>{var y=_.indexOf("safari-extension")!==-1,x=_.indexOf("safari-web-extension")!==-1;return y||x?[_.indexOf("@")!==-1?_.split("@")[0]:No,y?`safari-extension:${v}`:`safari-web-extension:${v}`]:[_,v]};let $l=0;var fE=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Ua{static __initStatic(){this.id="TryCatch"}__init(){this.name=Ua.id}constructor(v){Ua.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...v}}setupOnce(){var v=(0,_t.R)();this._options.setTimeout&&(0,Bt.hl)(v,"setTimeout",Ce),this._options.setInterval&&(0,Bt.hl)(v,"setInterval",Ce),this._options.requestAnimationFrame&&(0,Bt.hl)(v,"requestAnimationFrame",_e),this._options.XMLHttpRequest&&"XMLHttpRequest"in v&&(0,Bt.hl)(XMLHttpRequest.prototype,"send",Y);var y=this._options.eventTarget;y&&(Array.isArray(y)?y:fE).forEach(me)}}Ua.__initStatic();class ri{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=ri.id}__init2(){this._installFunc={onerror:ge,onunhandledrejection:Ve}}constructor(v){ri.prototype.__init.call(this),ri.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...v}}setupOnce(){Error.stackTraceLimit=50;var v,y=this._options;for(var x in y){var E=this._installFunc[x];E&&y[x]&&(v=x,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`Global Handler attached: ${v}`),E(),this._installFunc[x]=void 0)}}}ri.__initStatic();class Ro{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Ro.id}constructor(v={}){Ro.prototype.__init.call(this),this._key=v.key||"cause",this._limit=v.limit||5}setupOnce(){var v=(0,ft.Gd)().getClient();v&&(0,nn.c)((y,x)=>{var E=(0,ft.Gd)().getIntegration(Ro);return E?Sn(v.getOptions().stackParser,E._key,E._limit,y,x):y})}}Ro.__initStatic();class Oo{constructor(){Oo.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Oo.id}setupOnce(v,y){var x=E=>{var T=y().getIntegration(Oo);if(T){try{if(Me(E,T._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return T._previousEvent=E}return T._previousEvent=E}return E};x.id=this.name,v(x)}}Oo.__initStatic();var Fi=(0,_t.R)();class $o{constructor(){$o.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=$o.id}setupOnce(){(0,nn.c)(v=>{if((0,ft.Gd)().getIntegration($o)){if(!Fi.navigator&&!Fi.location&&!Fi.document)return v;var y=v.request&&v.request.url||Fi.location&&Fi.location.href;const{referrer:E}=Fi.document||{},{userAgent:T}=Fi.navigator||{};var x={...y&&{url:y},headers:{...v.request&&v.request.headers,...E&&{Referer:E},...T&&{"User-Agent":T}}};return{...v,request:x}}return v})}}$o.__initStatic();var pE=[new Gt,new Tn,new Ua,new oo,new ri,new Ro,new Oo,new $o],n0=o(790),mE=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),r0=o(6458),yn=o(3233),Tc=(0,_t.R)(),s0=o(5375),Ih=(_,v,y)=>{let x;return E=>{v.value>=0&&(E||y)&&(v.delta=v.value-(x||0),(v.delta||x===void 0)&&(x=v.value,_(v)))}},Ah=(_,v)=>({name:_,value:(0,s0.h)(v,()=>-1),delta:0,entries:[],id:`v2-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`}),Nh=(_,v)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(_)){if(_==="first-input"&&!("PerformanceEventTiming"in self))return;var y=new PerformanceObserver(x=>x.getEntries().map(v));return y.observe({type:_,buffered:!0}),y}}catch{}},Ic=(_,v)=>{var y=x=>{x.type!=="pagehide"&&(0,_t.R)().document.visibilityState!=="hidden"||(_(x),v&&(removeEventListener("visibilitychange",y,!0),removeEventListener("pagehide",y,!0)))};addEventListener("visibilitychange",y,!0),addEventListener("pagehide",y,!0)};let Ac=-1;var Rh=()=>(Ac<0&&(Ac=(0,_t.R)().document.visibilityState==="hidden"?0:1/0,Ic(({timeStamp:_})=>{Ac=_},!0)),{get firstHiddenTime(){return Ac}}),i0={},ji=(0,_t.R)();let gs,Wa,o0=0,an={};var Nc={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]},Va=(0,_t.R)(),gE={idleTimeout:r0.nT,finalTimeout:r0.mg,markBackgroundTransactions:!0,routingInstrumentation:function(v,y=!0,x=!0){if(!Va||!Va.location)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("Could not initialize routing instrumentation due to invalid location"));let E,T=Va.location.href;y&&(E=v({name:Va.location.pathname,op:"pageload",metadata:{source:"url"}})),x&&(0,Rn.o)("history",({to:I,from:P})=>{P===void 0&&T&&T.indexOf(I)!==-1?T=void 0:P!==I&&(T=void 0,E&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`[Tracing] Finishing current transaction with op: ${E.op}`),E.finish()),E=v({name:Va.location.pathname,op:"navigation",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,...Nc};class Oh{__init(){this.name="BrowserTracing"}constructor(v){Oh.prototype.__init.call(this);let y=Nc.tracingOrigins;v&&(v.tracingOrigins&&Array.isArray(v.tracingOrigins)&&v.tracingOrigins.length!==0?y=v.tracingOrigins:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options={...gE,...v,tracingOrigins:y};const{_metricOptions:x}=this.options;Su(x&&x._reportAllChanges)}setupOnce(v,y){this._getCurrentHub=y,this._emitOptionsWarning&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`[Tracing] We added a reasonable default for you: ${Nc.tracingOrigins}`));const{routingInstrumentation:x,startTransactionOnLocationChange:E,startTransactionOnPageLoad:T,markBackgroundTransactions:I,traceFetch:P,traceXHR:L,tracingOrigins:U,shouldCreateSpanForRequest:X}=this.options;x(G=>this._createRouteTransaction(G),T,E),I&&function(){Tc&&Tc.document?Tc.document.addEventListener("visibilitychange",()=>{var te=(0,yn.x1)();if(Tc.document.hidden&&te){var ce="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`[Tracing] Transaction: cancelled -> since tab moved to the background, op: ${te.op}`),te.status||te.setStatus(ce),te.setTag("visibilitychange","document.hidden"),te.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),mc({traceFetch:P,traceXHR:L,tracingOrigins:U,shouldCreateSpanForRequest:X})}_createRouteTransaction(v){if(!this._getCurrentHub)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`[Tracing] Did not create ${v.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:y,idleTimeout:x,finalTimeout:E}=this.options;var T=v.op==="pageload"?ku():void 0,I={...v,...T,...T&&{metadata:{...v.metadata,...T.metadata}},trimEnd:!0},P=typeof y=="function"?y(I):I,L=P===void 0?{...I,sampled:!1}:P;L.metadata=L.name!==I.name?{...L.metadata,source:"custom"}:L.metadata,L.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`[Tracing] Will not send ${L.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`[Tracing] Starting ${L.op} transaction on scope`);var U=this._getCurrentHub();const{location:X}=(0,_t.R)();var G=(0,n0.lb)(U,L,x,E,!0,{location:X});return G.registerBeforeFinishCallback(te=>{Cu(te),te.setTag("sentry_reportAllChanges",!!(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),G}}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&(0,n0.ro)(),o(2419),o(7941),o(2526),o(7327),o(5003),o(9337),o(3321),o(9070),o(5306),o(1058),o(9653),o(3710);var Rc="api_error",si="dom_error",Yn="input_validation_error",a0="redundant_method_call_error",qn="general_error",$h="[data-app-phone]",Dh="[data-app-name]",Ph="[data-upi-id]",Mh="[data-upi-provider]",Do={CARD_NUMBER:"[data-card-number]",CARD_CVV:"[data-card-cvv]",CARD_EXPIRY_MONTH:"[data-card-expiry-mm]",CARD_EXPIRY_YEAR:"[data-card-expiry-yy]",CARD_HOLDER:"[data-card-holder]"},Bh="[data-netbanking-code]",Ga="[data-netbanking-ifsc]",Ha="[data-netbanking-account]",Lr={CARD_NUMBER:"[data-emi-number]",CARD_CVV:"[data-emi-cvv]",CARD_EXPIRY_MONTH:"[data-emi-expiry-mm]",CARD_EXPIRY_YEAR:"[data-emi-expiry-yy]",BANK_NAME:"[data-emi-bank]",EMI_TENURE:"[data-emi-tenure]",CARD_HOLDER:"[data-emi-cardholder]"},Lh="[data-paylater-phone]",Fh="[data-provider]",jh="[data-cardless-phone]",zh="[data-cardless-provider]",Ya=(o(9714),o(7042),function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){var y=16*Math.random()|0;return(v==="x"?y:3&y|8).toString(16)})}),at=function(_){function v(x,E,T,I){var P,L,U,X;return m(this,v),so((P=Fn(X=y.call(this,function(te){return te.charAt(0).toUpperCase()+te.slice(1)}(x))),xn(v.prototype)),"type",E,P,!0),so((L=Fn(X),xn(v.prototype)),"paymentMode",T||"",L,!0),so((U=Fn(X),xn(v.prototype)),"apiCode",I||"",U,!0),X}no(v,_);var y=cn(v);return v}(Jt(Error)),vE=/^(5[1-5][0-9]{0,14}|2[2-7][0-9]{0,14})$/,yE=/^4[0-9]{0,18}$/,bE=/^3[47][0-9]{0,13}$/,xE=/^(36)[0-9]{0,12}$/,wE=/^(6011[0-9]{0,12}|(644|645|646|647|648|649)[0-9]{0,13}|65[0-9]{0,14})$/,_E=/^(352[8,9]{1}[0-9]{0,15}|35[4-8]{1}[0-9]{0,16})$/,SE=/^(5[0|6-8][0-9]{0,17}|6[0-9]{0,18})$/,CE=/^[0-9]{3,4}$/,Uh=/^[6-9][0-9]{9}$/,kE=/^[A-Z]{4}0[A-Z0-9]{6}$/,EE=/^[a-z0-9]{9,25}$/i,Wh=/^[a-zA-Z0-9_\-.]+@[a-zA-Z]{3,}$/,zi=function(v){var y={isReadyToPay:!1,errors:[]};return v.forEach(function(x){return y.errors.push({element:x,error:!1,message:""})}),y},Ui=function(v){var y=!0;return v.forEach(function(x){x.error===!0&&(y=!1)}),y},l0=function(v){if(/[^0-9-\s]+/.test(v))return!1;for(var y=0,x=!1,E=(v=v.replace(/\D/g,"")).length-1;E>=0;E--){var T=v.charAt(E),I=parseInt(T,10);x&&(I*=2)>9&&(I-=9),y+=I,x=!x}return y%10==0||["4434260000000000","4434260000000001"].indexOf(v)>-1},c0=function(v){var y="",x=v.replace(/ +/g,"");return vE.test(x)&&(y="mastercard"),yE.test(x)&&(y="visa"),bE.test(x)&&(y="americanexpress"),xE.test(x)&&(y="diners"),wE.test(x)&&(y="discover"),_E.test(x)&&(y="jcb"),SE.test(x)&&(y="maestro"),y},u0=function(v){return CE.test(v)},d0=function(v){return Number(v)>=new Date().getFullYear()%100},Vh=function(v,y){return!(!v||!y)&&(Number(v)>=new Date().getMonth()+1?d0(y):d0(y-1))},h0=function(){function _(v){m(this,_),this._selectorBase=v==="card"?Do:Lr,this._domErrorBase=v==="card"?St.Card:St.Emi,this._paymentMode=v}return Ws(_,[{key:"checkElementsValidity",value:function(y){if(!function(E){return E!=null}(y.querySelector(this._selectorBase.CARD_NUMBER)))throw new at(this._domErrorBase.CARD_NUMBER_ELEMENT_NOT_FOUND,si);if(!function(E){return E!=null}(y.querySelector(this._selectorBase.CARD_EXPIRY_MONTH)))throw new at(this._domErrorBase.CARD_EXPIRY_MONTH_ELEMENT_NOT_FOUND,si);if(!function(E){return E!=null}(y.querySelector(this._selectorBase.CARD_EXPIRY_YEAR)))throw new at(this._domErrorBase.CARD_EXPIRY_YEAR_ELEMENT_NOT_FOUND,si)}},{key:"checkInputValidity",value:function(y){var x=[this._selectorBase.CARD_NUMBER,this._selectorBase.CARD_EXPIRY_YEAR,this._selectorBase.CARD_CVV,this._selectorBase.CARD_EXPIRY_MONTH,this._selectorBase.CARD_HOLDER],E=zi(x);return E.brand=c0(y.cardNumber),l0(y.cardNumber)||(E.errors[0].error=!0,E.errors[0].message="card : Invalid Card Number entered"),u0(y.cvv)||(E.errors[2].error=!0,E.errors[2].message="card_cvv : Card Cvv must be 3 digits"),y.cardExpiryMonth.length===1?(E.errors[3].error=!0,E.errors[3].message="card_expiry_mm : Expiry month should be double digit"):Vh(y.cardExpiryMonth,y.cardExpiryYear)||(E.errors[3].error=!0,E.errors[3].message="Invalid card expiry date"),Vh(y.cardExpiryMonth,y.cardExpiryYear)||(E.errors[1].error=!0,E.errors[1].message="Invalid card expiry date"),E.isReadyToPay=Ui(E.errors),E}},{key:"checkPaymentRequestValidity",value:function(y){if(!l0(y.cardNumber))throw new at(Ot,Yn,this._paymentMode);if(!u0(y.cvv))throw new at(gn,Yn,this._paymentMode);if(!Vh(y.cardExpiryMonth,y.cardExpiryYear))throw new at(Vt,Yn,this._paymentMode)}}]),_}(),TE=function(_){function v(){return m(this,v),y.apply(this,arguments)}no(v,_);var y=Pi(v);return Ws(v,[{key:"checkElementsValidity",value:function(E,T){if(T&&Ut(xn(v.prototype),"checkElementsValidity",this).call(this,E),!function(P){return P!=null}(E.querySelector(Lr.BANK_NAME)))throw new at(St.Emi.CARD_BANK_NAME_ELEMENT_NOT_FOUND,si);if(!function(P){return P!=null}(E.querySelector(Lr.EMI_TENURE)))throw new at(St.Emi.CARD_EMI_TENURE_ELEMENT_NOT_FOUND,si)}},{key:"checkInputValidity",value:function(E){var T=Ut(xn(v.prototype),"checkInputValidity",this).call(this,E),I=[].concat(d(T.errors),[{element:Lr.BANK_NAME,error:!1,message:""},{element:Lr.EMI_TENURE,error:!1,message:""}]);return T.errors=I,!E.cardBankName&&T.errors[5]&&(T.errors[5].error=!0,T.errors[5].message="invalid bank name",T.isReadyToPay=!1),!E.emiTenure&&T.errors[6]&&(T.errors[6].error=!0,T.errors[6].message="invalid bank name",T.isReadyToPay=!1),T}},{key:"checkPaymentRequestValidity",value:function(E){if(Ut(xn(v.prototype),"checkPaymentRequestValidity",this).call(this,E),!E.cardBankName)throw new at("invalid bank name",Yn);if(!E.emiTenure)throw new at("invalid emi tenure",Yn)}}]),v}(h0),Gh=(o(8674),"cashfree-pay-frame"),Po=function(v,y){(function(E){var T=document.createElement("div");T.innerHTML=function(P,L){return`
    <div 
        id="cashfree-iframe-container" 
        style="position:fixed; overflow:hidden; width:100%; border-radius:5px;"
    >
        <iframe 
            id="`.concat(P,`" loading="eager"
            style="position: absolute; top:50%; left:50%; transform:translate(-50%, -50%); height:`).concat(L,`; width: 420px; padding:56px; padding-left:0; padding-right:0; border:transparent;"
        >
        </iframe>
    </div>`)}(Gh,E||"100%"),document.body.appendChild(T),document.getElementById(Gh)})(v),document.getElementById(Gh).src=y},qa=function(){document.getElementById("cashfree-iframe-container").remove()},f0=o(6265),IE=(o(2481),o(1795)),p0=o.n(IE),Oc=function(){var v,y=!1;return v=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(v)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(v.substr(0,4)))&&(y=!0),y},m0=function(){var v=function(x){return x.test(window.navigator.userAgent)};switch(!0){case v(/edg/i):return"MicrosoftEdge";case v(/trident/i):return"MicrosoftInternetExplorer";case v(/firefox|fxios/i):return"MozillaFirefox";case v(/opr\//i):return"Opera";case v(/ucbrowser/i):return"UCBrowser";case v(/samsungbrowser/i):return"SamsungBrowser";case v(/chrome|crios/i):return"GoogleChrome";case v(/safari/i):return"AppleSafari";default:return"Other"}},g0=function(v,y){return v?v.length<y?v+"x".repeat(y-v.length):v.substr(0,y):"x".repeat(y)},v0=function(){var v=Oc()?"m":"d",y={AppleSafari:"s",GoogleChrome:"c",MozillaFirefox:"m",Opera:"o"}[m0()]||"x",x=p0().parse(window.navigator.userAgent),E=g0(x.version,5),T="x",I="x";return x.os.family&&(T=x.os.family==="OS X"?"m":{a:"a",i:"i",w:"w",m:"m",l:"l"}[x.os.family.charAt(0).toLowerCase()]||"x",I=g0(x.os.version,5)),{deviceType:v,browserType:y,browserVersion:E,osType:T,osVersion:I}},$c=function(v,y){var x=`
        `.concat(`
        <style>
          .boxes {
            --size: 32px;
            --duration: 800ms;
            height: calc(var(--size) * 2);
            width: calc(var(--size) * 3);
            position: relative;
            transform-style: preserve-3d;
            transform-origin: 50% 50%;
            margin-top: calc(var(--size) * 1.5 * -1);
            transform: rotateX(60deg) rotateZ(45deg) rotateY(0deg) translateZ(0px);
          }
          .boxes .box {
            width: var(--size);
            height: var(--size);
            top: 0;
            left: 0;
            position: absolute;
            transform-style: preserve-3d;
          }
          .boxes .box:nth-child(1) {
            transform: translate(100%, 0);
            -webkit-animation: box1 var(--duration) linear infinite;
                    animation: box1 var(--duration) linear infinite;
          }
          .boxes .box:nth-child(2) {
            transform: translate(0, 100%);
            -webkit-animation: box2 var(--duration) linear infinite;
                    animation: box2 var(--duration) linear infinite;
          }
          .boxes .box:nth-child(3) {
            transform: translate(100%, 100%);
            -webkit-animation: box3 var(--duration) linear infinite;
                    animation: box3 var(--duration) linear infinite;
          }
          .boxes .box:nth-child(4) {
            transform: translate(200%, 0);
            -webkit-animation: box4 var(--duration) linear infinite;
                    animation: box4 var(--duration) linear infinite;
          }
          .boxes .box > div {
            --background: #5C8DF6;
            --top: auto;
            --right: auto;
            --bottom: auto;
            --left: auto;
            --translateZ: calc(var(--size) / 2);
            --rotateY: 0deg;
            --rotateX: 0deg;
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--background);
            top: var(--top);
            right: var(--right);
            bottom: var(--bottom);
            left: var(--left);
            transform: rotateY(var(--rotateY)) rotateX(var(--rotateX)) translateZ(var(--translateZ));
          }
          .boxes .box > div:nth-child(1) {
            --top: 0;
            --left: 0;
          }
          .boxes .box > div:nth-child(2) {
            --background: #145af2;
            --right: 0;
            --rotateY: 90deg;
          }
          .boxes .box > div:nth-child(3) {
            --background: #447cf5;
            --rotateX: -90deg;
          }
          .boxes .box > div:nth-child(4) {
            --background: #DBE3F4;
            --top: 0;
            --left: 0;
            --translateZ: calc(var(--size) * 3 * -1);
          }
          
          @-webkit-keyframes box1 {
            0%, 50% {
              transform: translate(100%, 0);
            }
            100% {
              transform: translate(200%, 0);
            }
          }
          
          @keyframes box1 {
            0%, 50% {
              transform: translate(100%, 0);
            }
            100% {
              transform: translate(200%, 0);
            }
          }
          @-webkit-keyframes box2 {
            0% {
              transform: translate(0, 100%);
            }
            50% {
              transform: translate(0, 0);
            }
            100% {
              transform: translate(100%, 0);
            }
          }
          @keyframes box2 {
            0% {
              transform: translate(0, 100%);
            }
            50% {
              transform: translate(0, 0);
            }
            100% {
              transform: translate(100%, 0);
            }
          }
          @-webkit-keyframes box3 {
            0%, 50% {
              transform: translate(100%, 100%);
            }
            100% {
              transform: translate(0, 100%);
            }
          }
          @keyframes box3 {
            0%, 50% {
              transform: translate(100%, 100%);
            }
            100% {
              transform: translate(0, 100%);
            }
          }
          @-webkit-keyframes box4 {
            0% {
              transform: translate(200%, 0);
            }
            50% {
              transform: translate(200%, 100%);
            }
            100% {
              transform: translate(100%, 100%);
            }
          }
          @keyframes box4 {
            0% {
              transform: translate(200%, 0);
            }
            50% {
              transform: translate(200%, 100%);
            }
            100% {
              transform: translate(100%, 100%);
            }
          }
          html {
            -webkit-font-smoothing: antialiased;
          }
        </style>
    `,`
        <div 
            id="cf-loader"
            style="position:fixed;top:0;left:0;height:100vh;width:100vw;background-color:rgba(0,0,0,0.5);z-index:2147483647;"
        >
            <div 
                style="`).concat(Oc()?`
    position:fixed; 
    bottom: 0;
    width:100vw;
    height:40vh;
    max-height: 200px;
    background-color:#fff;
    border-radius:25px;
    border-bottom-right-radius:0;
    border-bottom-left-radius:0;
    color:rgba(0,0,0,0.8);
    box-sizing:border-box;
    z-index:2147483647;`:`
    position:fixed;
    height:520px;
    width:320px;
    top:50%;
    left:50%;
    transform: translate(-50%, -50%);
    background-color:white; 
    border-radius:10px;
    z-index:2147483647;
    padding-top:150px;
    max-width: 100vw;
    `,`"
            >
                <p style="text-align:center;padding-top:1rem;font-size:16px;color:#113A5B">Your payment is being processed.</p>
                <div style="position:relative;text-align: center;">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; display: block; shape-rendering: auto;" width="81px" height="81px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                  <circle cx="84" cy="50" r="10" fill="#ffb6bb">
                      <animate attributeName="r" repeatCount="indefinite" dur="0.6756756756756757s" calcMode="spline" keyTimes="0;1" values="8;0" keySplines="0 0.5 0.5 1" begin="0s"/>
                      <animate attributeName="fill" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="discrete" keyTimes="0;0.25;0.5;0.75;1" values="#ffb6bb;#585872;#95d5ee;#ffe691;#ffb6bb" begin="0s"/>
                  </circle><circle cx="16" cy="50" r="10" fill="#ffb6bb">
                    <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="0s"/>
                    <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="0s"/>
                  </circle><circle cx="50" cy="50" r="10" fill="#ffe691">
                    <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.6756756756756757s"/>
                    <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.6756756756756757s"/>
                  </circle><circle cx="84" cy="50" r="10" fill="#95d5ee">
                    <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-1.3513513513513513s"/>
                    <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-1.3513513513513513s"/>
                  </circle><circle cx="16" cy="50" r="10" fill="#585872">
                    <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-2.027027027027027s"/>
                    <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-2.027027027027027s"/>
                  </circle>
                </svg>
                <p style="text-align:center;font-size:16px;border-bottom:1px solid #113A5B; display: inline-block">
                    <button 
                        id="`).concat(v?"cf-btn-loader-goto":"cf-btn-loader-cancel",`"
                        style="background:none;font-family:inherit;border:none;font-size:16px;cursor:pointer;"    
                    >
                        `).concat(v?"Go to Payment.":"Cancel Payment",`
                    </button>
                </p>
                </div>
            </div>
        </div>
    `),E=document.createElement("div");E.innerHTML=x,document.body.appendChild(E),(0,f0.disablePageScroll)(document.getElementById("cf-loader")),document.getElementById("cf-btn-loader-goto")!==null&&document.getElementById("cf-btn-loader-goto").addEventListener("click",function(){return v.focus()}),document.getElementById("cf-btn-loader-cancel")!==null&&document.getElementById("cf-btn-loader-cancel").addEventListener("click",function(){return y()})},Xa=function(){(0,f0.enablePageScroll)(document.getElementById("cf-loader")),document.getElementById("cf-loader")&&document.getElementById("cf-loader").remove()},AE=o(3379),y0=o.n(AE),NE=o(7795),b0=o.n(NE),RE=o(569),x0=o.n(RE),OE=o(3565),w0=o.n(OE),$E=o(9216),_0=o.n($E),DE=o(4589),S0=o.n(DE),Dc=o(7950),Mo={};Mo.styleTagTransform=S0(),Mo.setAttributes=w0(),Mo.insert=x0().bind(null,"head"),Mo.domAPI=b0(),Mo.insertStyleElement=_0(),y0()(Dc.Z,Mo),Dc.Z&&Dc.Z.locals&&Dc.Z.locals;var C0={},k0=function(){var _=p(xe().mark(function v(y){var x,E,T,I,P=arguments;return xe().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return x=P.length>1&&P[1]!==void 0?P[1]:{},U.next=3,fetch(y,x);case 3:if((E=U.sent).status===200){U.next=9;break}return U.next=7,E.json();case 7:throw T=U.sent,new at(T.message,Rc,null,T.code);case 9:return U.next=11,E.json();case 11:return I=U.sent,U.abrupt("return",I);case 13:case"end":return U.stop()}},v)}));return function(y){return _.apply(this,arguments)}}(),Pc=function(){var _=p(xe().mark(function v(y,x){var E,T,I,P,L,U;return xe().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!(E=C0[y])){G.next=3;break}return G.abrupt("return",E);case 3:return T=x,I=Ya(),T||(T={method:"GET",headers:{"Content-Type":"application/json","x-request-id":I}}),G.next=8,fetch(y,T);case 8:if((P=G.sent).status===200){G.next=14;break}return G.next=12,P.json();case 12:throw L=G.sent,new at(L.message,Rc);case 14:return G.next=16,P.json();case 16:return U=G.sent,C0[y]=U,G.abrupt("return",U);case 19:case"end":return G.stop()}},v)}));return function(y,x){return _.apply(this,arguments)}}(),PE=function _(){var v=this;m(this,_),f(this,"getBrandIcon",function(y){switch(y){case"visa":return"https://js.stripe.com/v3/fingerprinted/img/visa-365725566f9578a9589553aa9296d178.svg";case"americanexpress":return"https://js.stripe.com/v3/fingerprinted/img/amex-a49b82f46c5cd6a96a6e418a6ca1717c.svg";case"mastercard":return"https://js.stripe.com/v3/fingerprinted/img/mastercard-4d8844094130711885b5e41b28c9848f.svg";default:return React.createElement(React.Fragment,null," ")}}),f(this,"renderCrossIcon",function(){return'<svg class="headless-close-modal" width="14px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><g id="Cross" transform="translate(-5.000000, -5.000000)" stroke="#434343" stroke-width="3"><g id="back-arrow"><g id="Cross" transform="translate(6.000000, 6.000000)"><polyline id="Path-6" points="24 -7.07767178e-15 12 12 24 24"></polyline><polyline id="Path-6" transform="translate(6.000000, 12.000000) scale(-1, 1) translate(-6.000000, -12.000000) " points="12 -7.07767178e-15 0 12 12 24"></polyline></g></g></g></g></svg>'}),f(this,"renderBankIcon",function(){return`<svg xmlns="http://www.w3.org/2000/svg" width="10" height="15" viewBox="0 0 10 15" fill="none">
            <path d="M1.25066 13.75C1.33775 13.8373 1.4412 13.9066 1.5551 13.9538C1.669 14.0011 1.7911 14.0254 1.91441 14.0254C2.03773 14.0254 2.15983 14.0011 2.27373 13.9538C2.38762 13.9066 2.49108 13.8373 2.57816 13.75L8.81066 7.51751C8.95035 7.37699 9.02876 7.1869 9.02876 6.98876C9.02876 6.79062 8.95035 6.60053 8.81066 6.46001L2.57816 0.250011C2.40001 0.0898272 2.1673 0.00392426 1.9278 0.0099394C1.6883 0.0159545 1.46019 0.113431 1.29031 0.282356C1.12042 0.451281 1.02165 0.678834 1.01428 0.918296C1.00691 1.15776 1.09149 1.39096 1.25066 1.57001L6.68066 7.00001L1.25066 12.445C1.08113 12.6199 0.986328 12.8539 0.986328 13.0975C0.986328 13.3411 1.08113 13.5751 1.25066 13.75Z" fill="#6930CA"/>
        </svg>`}),f(this,"renderHeadless",function(y,x,E){var T=y.bankData,I=y.payment_amount,P="",L=document.createElement("div");document.body.style.overflow="hidden",L.innerHTML=`
            <div class="headless-modal">
                <div id="headless" class="headless-container">
                    <div id="headless-loader"class="headless-loader">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; display: block; shape-rendering: auto;" width="81px" height="81px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                            <circle cx="84" cy="50" r="10" fill="#ffb6bb">
                                <animate attributeName="r" repeatCount="indefinite" dur="0.6756756756756757s" calcMode="spline" keyTimes="0;1" values="8;0" keySplines="0 0.5 0.5 1" begin="0s"/>
                                <animate attributeName="fill" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="discrete" keyTimes="0;0.25;0.5;0.75;1" values="#ffb6bb;#585872;#95d5ee;#ffe691;#ffb6bb" begin="0s"/>
                            </circle><circle cx="16" cy="50" r="10" fill="#ffb6bb">
                            <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="0s"/>
                            <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="0s"/>
                            </circle><circle cx="50" cy="50" r="10" fill="#ffe691">
                            <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.6756756756756757s"/>
                            <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.6756756756756757s"/>
                            </circle><circle cx="84" cy="50" r="10" fill="#95d5ee">
                            <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-1.3513513513513513s"/>
                            <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-1.3513513513513513s"/>
                            </circle><circle cx="16" cy="50" r="10" fill="#585872">
                            <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-2.027027027027027s"/>
                            <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-2.027027027027027s"/>
                            </circle>
                        </svg>
                    </div>
                    <div class="d-flex-cross">
                        <div class="right-div">`.concat(v.renderCrossIcon(),`</div>
                    </div>
                    <div class="otp-data">
                        <div class="otp-text">Enter One Time Password</div>
                        `).concat(T&&Object.keys(T).length?`<div class="card-details">
                            <div class="card-data mb-10">
                                <img src=`.concat(v.getBrandIcon(T.brand),` style="padding-right: 0.5rem;width: 36px; margin-bottom: 2px;"/>
                                <span class="card-title">Card Number:</span> 
                                `).concat(T.cardNumber.slice(0,4)," XXXX XXXX ").concat(T.cardNumber.slice(-4),`
                            </div>
                        </div>`):"",`
                        <div class="otp-subtext">Please enter OTP sent to your registered mobile number</div>
                        <div class="otp-input-div">
                            <input autocomplete="one-time-code" class="otp-input" id="headless-otp-input" placeholder="Enter OTP"/>
                            `).concat(T&&Object.keys(T).length?'<div id="headless-otp-resend" class="otp-input-resend">Resend OTP </div>':'<div id="headless-otp-resend" class="otp-input-resend"></div>',`
                        </div>
                        <div id="error-msg" class="error-msg"></div> 
                        <div class="btn-div">
                            <button id="headless-cancel" class="btn cancel-btn">Cancel</button>
                            <button id="headless-submit" class="btn submit-btn" disabled>Submit</button>
                        </div>
                    </div>x
                </div>
            </div>
        `),document.body.appendChild(L);var U=function(ce){document.body.style.removeProperty?document.body.style.removeProperty("overflow"):document.body.style.removeAttribute("overflow"),document.body.removeChild(L),x(ce)},X=document.getElementsByClassName("headless-close-modal")[0],G=document.getElementById("headless-submit");X&&X.addEventListener("click",function(){U()}),document.getElementById("headless-cancel").addEventListener("click",function(){U()}),document.getElementById("headless-otp-input").addEventListener("input",function(te){var ce=te.target.value;P=ce,ce.length<4?G.disabled=!0:G.disabled=!1}),document.getElementById("headless-otp-resend").addEventListener("click",p(xe().mark(function te(){var ce,pe,re,be,Re,lt;return xe().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return ce=document.getElementById("headless-loader"),pe=Ya(),re="",et.prev=3,G.disabled=!0,ce.style.display="flex",be=y.data.url,Re={action:"RESEND_OTP"},et.next=10,k0(be,{method:"POST",body:JSON.stringify(Re),headers:{"Content-Type":"application/json","x-request-id":pe}});case 10:et.sent.authenticate_status!=="SUCCESS"&&(re="Failed to send OTP"),et.next=18;break;case 14:et.prev=14,et.t0=et.catch(3),re=et.t0.message||"Something went wrong",et.t0.apiCode==="request_invalid"&&(document.getElementById("headless-otp-resend").style.display="none");case 18:return et.prev=18,G.disabled=!1,ce.style.display="none",(lt=document.getElementById("error-msg"))&&(lt.innerHTML=re||""),et.finish(18);case 24:case"end":return et.stop()}},te,null,[[3,14,18,24]])}))),G.addEventListener("click",p(xe().mark(function te(){var ce,pe,re,be,Re,lt,Et,et;return xe().wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:return ce=document.getElementById("headless-loader"),pe="",re=Ya(),Ft.prev=3,G.disabled=!0,ce.style.display="flex",be=y.data.url,Re={otp:P,action:"SUBMIT_OTP"},Ft.next=10,k0(be,{method:"POST",body:JSON.stringify(Re),headers:{"Content-Type":"application/json","x-request-id":re}});case 10:if((lt=Ft.sent).authenticate_status!=="SUCCESS"){Ft.next=18;break}return Et={transaction:{txStatus:"SUCCESS",txMsg:"",transactionId:lt.cf_payment_id,transactionAmount:I}},U(!0),Ft.next=16,E(Et);case 16:Ft.next=19;break;case 18:pe=lt.payment_message||"Something went wrong";case 19:Ft.next=25;break;case 21:Ft.prev=21,Ft.t0=Ft.catch(3),pe=Ft.t0.message||"Something went wrong",Ft.t0.apiCode!=="request_invalid"&&pe.toUpperCase()!=="MAX OTP ATTEMPT REACHED"||setTimeout(function(){U(!0)},2e3);case 25:return Ft.prev=25,G.disabled=!1,ce.style.display="none",(et=document.getElementById("error-msg"))&&(et.innerHTML=pe||""),Ft.finish(25);case 31:case"end":return Ft.stop()}},te,null,[[3,21,25,31]])})))})},bn=function _(){m(this,_),f(this,"timer","")};f(bn,"pay",function(){var _=p(xe().mark(function v(y,x,E,T,I){var P,L,U,X,G,te,ce,pe,re,be,Re,lt,Et,et,Rt;return xe().wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:return P=Ya(),L="".concat(y).concat(P),U=v0(),X=U.deviceType,G=U.browserType,te=U.browserVersion,ce=U.osType,pe=U.osVersion,re="".concat(T,"-").concat(X,"-").concat(G,"-").concat(te,"-").concat(ce,"-").concat(pe),be={payment_session_id:y,payment_method:x,platform:re},Re={width:800,height:600},lt={left:window.screen.availLeft+window.screen.availWidth/2-Re.width/2,top:window.screen.availTop+window.screen.availHeight/2-Re.height/2},Et=window.open("","_blank","toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=".concat(Re.width,",height=").concat(Re.height,",top=").concat(lt.top,",left=").concat(lt.left)),window.paymentWindow=Et,Xn.next=11,fetch("".concat("https://api.cashfree.com/pg","/orders/sessions/js"),{method:"POST",headers:{"Content-Type":"application/json","x-request-id":P,"x-document-referrer":I||document.referrer},body:JSON.stringify(be)});case 11:if((et=Xn.sent).status===200){Xn.next=17;break}return Xn.next=15,et.json();case 15:throw Rt=Xn.sent,new at(Rt.message,Rc,E,Rt.code);case 17:return Xn.abrupt("return",{response:et.json(),statusToken:L});case 18:case"end":return Xn.stop()}},v)}));return function(v,y,x,E,T){return _.apply(this,arguments)}}()),f(bn,"intentPay",function(){var _=p(xe().mark(function v(y,x,E,T,I){var P,L,U,X,G,te,ce,pe,re,be,Re,lt;return xe().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return P=Ya(),L="".concat(y).concat(P),U=v0(),X=U.deviceType,G=U.browserType,te=U.browserVersion,ce=U.osType,pe=U.osVersion,re="".concat(T,"-").concat(X,"-").concat(G,"-").concat(te,"-").concat(ce,"-").concat(pe),be={payment_session_id:y,payment_method:x,platform:re},et.next=7,fetch("".concat("https://api.cashfree.com/pg","/orders/sessions/js"),{method:"POST",headers:{"Content-Type":"application/json","x-request-id":P,"x-document-referrer":I||document.referrer},body:JSON.stringify(be)});case 7:if((Re=et.sent).status===200){et.next=13;break}return et.next=11,Re.json();case 11:throw lt=et.sent,new at(lt.message,Rc,E);case 13:return et.abrupt("return",{response:Re.json(),statusToken:L});case 14:case"end":return et.stop()}},v)}));return function(v,y,x,E,T){return _.apply(this,arguments)}}()),f(bn,"handlePaymentResponse",function(_,v,y,x,E){var T=window.paymentWindow;return _.action==="link"?(T&&(T.location=_.data.url),$c(T,x),bn.endAndStartTimer(x),T&&T.focus(),T):(T&&T.close(),_.action==="post"?(new PE().renderHeadless(_,x,E),null):(_.action!=="custom"||document.getElementById("cashfree-iframe-container")||($c(null,x),Po("0","".concat("https://api.cashfree.com/pg/view","/status/").concat(v,"/").concat(y))),null))}),f(bn,"endAndStartTimer",function(_){var v=window.paymentWindow;window.clearTimeout(bn.timer),bn.timer=window.setTimeout(function(){Xa(),_&&_(),v&&v.close()},6e5)});var Mc,Hh,E0=function(){function _(v,y,x){var E=this;m(this,_),f(this,"_handleCardNumberChange",function(){E._state.cardNumber=E._cardNumberElement.value.replace(/ +/g,""),E._onChange&&E._onChange(E._validator.checkInputValidity(E._state))}),f(this,"_handleCardCvvChange",function(){E._state.cvv=E._cardCvvElement.value,E._onChange&&E._onChange(E._validator.checkInputValidity(E._state))}),f(this,"_handleCardExpiryMonthChange",function(){E._state.cardExpiryMonth=E._cardExpiryMonthElement.value.replace(/\//g,"").replace(/ +/g,""),E._onChange&&E._onChange(E._validator.checkInputValidity(E._state))}),f(this,"_handleCardExpiryYearChange",function(){E._state.cardExpiryYear=E._cardExpiryYearElement.value,E._onChange&&E._onChange(E._validator.checkInputValidity(E._state))}),f(this,"_handleCardHolderChange",function(){E._state.cardHolder=E._cardHolderElement.value,E._onChange&&E._onChange(E._validator.checkInputValidity(E._state))}),f(this,"handlePaymentResponse",function(T,I,P){return T.bankData=E.bankData,T.payData=E.payData,bn.handlePaymentResponse(T,"card",null,I,P)}),this._cardElement=v,this._onChange=y,this._state={cardNumber:"",cvv:"",cardHolder:"",cardExpiryMonth:"",cardExpiryYear:""},this.bankData={},this.payData={},this._validator=x==="card"?new h0("card"):new TE("emi")}return Ws(_,[{key:"_syncState",value:function(){this._state.cardNumber=this._cardNumberElement.value,this._state.cvv=this._cardCvvElement.value,this._state.cardHolder=this._cardHolderElement.value,this._state.cardExpiryMonth=this._cardExpiryMonthElement.value,this._state.cardExpiryYear=this._cardExpiryYearElement.value}},{key:"_registerListeners",value:function(){this._cardNumberElement.addEventListener("keyup",this._handleCardNumberChange),this._cardCvvElement.addEventListener("keyup",this._handleCardCvvChange),this._cardExpiryMonthElement.addEventListener("keyup",this._handleCardExpiryMonthChange),this._cardExpiryYearElement.addEventListener("keyup",this._handleCardExpiryYearChange),this._cardHolderElement.addEventListener("keyup",this._handleCardHolderChange),this._cardNumberElement.addEventListener("change",this._handleCardNumberChange),this._cardCvvElement.addEventListener("change",this._handleCardCvvChange),this._cardExpiryMonthElement.addEventListener("change",this._handleCardExpiryMonthChange),this._cardExpiryYearElement.addEventListener("change",this._handleCardExpiryYearChange),this._cardHolderElement.addEventListener("change",this._handleCardHolderChange)}}]),_}(),Yh="link",T0=(o(8309),o(3123),function(){return(T0=Object.assign||function(v){for(var y,x=1,E=arguments.length;x<E;x++)for(var T in y=arguments[x])Object.prototype.hasOwnProperty.call(y,T)&&(v[T]=y[T]);return v}).apply(this,arguments)}),ME="3.3.3",Bo=["monospace","sans-serif","serif"],I0=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"],Ka={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".iosAdsiosAds-layout",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-after","#ad-p3",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b",".cc5278_banner_ad"],adGuardFrench:[".zonepub",'[class*="_adLeaderboard"]','[id^="block-xiti_oas-"]','a[href^="http://ptapjmp.com/"]','a[href^="https://go.alvexo.com/"]'],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1","#ad-giftext","#adsSPRBlock",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad",'amp-embed[type="24smi"]',"#mgid_iframe1"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#adbody","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#AD_banner_bottom","#Ads_google_02","#N-ad-article-rightRail-1","#ad-fullbanner2","#ad-zone-2"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#adtoniq-msg-bar","#CoockiesPage","#CookieModal_cookiemodal","#DO_CC_PANEL","#ShowCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="https://xltube.nl/click/"]',"#semilo-lrectangle"],easyListGermany:['a[href^="http://www.hw-area.com/?dp="]','a[href^="https://ads.sunmaker.com/tracking.php?"]',".werbung-skyscraper2",".bannergroup_werbung",".ads_rechts"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]},Yt=Math,sr=function(){return 0},qh={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},BE={fonts:function(){return Nu(function(v,y){var x=y.document,E=x.body;E.style.fontSize="48px";var T=x.createElement("div"),I={},P={},L=function(te){var ce=x.createElement("span"),pe=ce.style;return pe.position="absolute",pe.top="0",pe.left="0",pe.fontFamily=te,ce.textContent="mmMwWLliI0O&1",T.appendChild(ce),ce},U=Bo.map(L),X=function(){for(var te={},ce=function(be){te[be]=Bo.map(function(Re){return function(lt,Et){return L("'"+lt+"',"+Et)}(be,Re)})},pe=0,re=I0;pe<re.length;pe++)ce(re[pe]);return te}();E.appendChild(T);for(var G=0;G<Bo.length;G++)I[Bo[G]]=U[G].offsetWidth,P[Bo[G]]=U[G].offsetHeight;return I0.filter(function(te){return ce=X[te],Bo.some(function(pe,re){return ce[re].offsetWidth!==I[pe]||ce[re].offsetHeight!==P[pe]});var ce})})},domBlockers:function(v){var y=(v===void 0?{}:v).debug;return Gr(this,void 0,void 0,function(){var x,E,T,I;return xr(this,function(P){switch(P.label){case 0:return function(){return Ao()||gh()}()?(x=Object.keys(Ka),[4,Kg((I=[]).concat.apply(I,x.map(function(L){return Ka[L]})))]):[2,void 0];case 1:return E=P.sent(),y&&function(U){for(var X=0,G=Object.keys(Ka);X<G.length;X++)for(var te=G[X],ce=0,pe=Ka[te];ce<pe.length;ce++){var re=pe[ce];""+re+(U[re]?"":"")}}(E),(T=x.filter(function(L){var U=Ka[L];return Mr(U.map(function(X){return E[X]}))>.6*U.length})).sort(),[2,T]}})})},fontPreferences:function(){return function(y,x){return x===void 0&&(x=4e3),Nu(function(E,T){var I=T.document,P=I.body,L=P.style;L.width=x+"px",L.webkitTextSizeAdjust=L.textSizeAdjust="none",vc()?P.style.zoom=""+1/T.devicePixelRatio:Ao()&&(P.style.zoom="reset");var U=I.createElement("div");return U.textContent=Eu(Array(x/20<<0)).map(function(){return"word"}).join(" "),P.appendChild(U),y(I,P)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}(function(v,y){for(var x={},E={},T=0,I=Object.keys(qh);T<I.length;T++){var P=I[T],L=qh[P],U=L[0],X=U===void 0?{}:U,G=L[1],te=G===void 0?"mmMwWLliI0fiflO&1":G,ce=v.createElement("span");ce.textContent=te,ce.style.whiteSpace="nowrap";for(var pe=0,re=Object.keys(X);pe<re.length;pe++){var be=re[pe],Re=X[be];Re!==void 0&&(ce.style[be]=Re)}x[P]=ce,y.appendChild(v.createElement("br")),y.appendChild(ce)}for(var lt=0,Et=Object.keys(qh);lt<Et.length;lt++)E[P=Et[lt]]=x[P].getBoundingClientRect().width;return E})},audio:function(){var v=window,y=v.OfflineAudioContext||v.webkitOfflineAudioContext;if(!y)return-2;if(function(){return Ao()&&!yc()&&!function(){var te=window;return Mr(["DOMRectList"in te,"RTCPeerConnectionIceEvent"in te,"SVGGeometryElement"in te,"ontransitioncancel"in te])>=3}()}())return-1;var x=new y(1,5e3,44100),E=x.createOscillator();E.type="triangle",E.frequency.value=1e4;var T=x.createDynamicsCompressor();T.threshold.value=-50,T.knee.value=40,T.ratio.value=12,T.attack.value=0,T.release.value=.25,E.connect(T),T.connect(x.destination),E.start(0);var I=function(G){var te=3,ce=500,pe=500,re=5e3,be=function(){};return[new Promise(function(Re,lt){var Et=!1,et=0,Rt=0;G.oncomplete=function(On){return Re(On.renderedBuffer)};var Ft=function(){setTimeout(function(){return lt(Au("timeout"))},Math.min(pe,Rt+re-Date.now()))},Xn=function(){try{switch(G.startRendering(),G.state){case"running":Rt=Date.now(),Et&&Ft();break;case"suspended":document.hidden||et++,Et&&et>=te?lt(Au("suspended")):setTimeout(Xn,ce)}}catch(On){lt(On)}};Xn(),be=function(){Et||(Et=!0,Rt>0&&Ft())}}),be]}(x),P=I[0],L=I[1],U=P.then(function(X){return function(te){for(var ce=0,pe=0;pe<te.length;++pe)ce+=Math.abs(te[pe]);return ce}(X.getChannelData(0).subarray(4500))},function(X){if(X.name==="timeout"||X.name==="suspended")return-3;throw X});return U.catch(function(){}),function(){return L(),U}},screenFrame:function(){var v=this,y=Xg();return function(){return Gr(v,void 0,void 0,function(){var x,E;return xr(this,function(T){switch(T.label){case 0:return[4,y()];case 1:return x=T.sent(),[2,[(E=function(I){return I===null?null:ph(I,10)})(x[0]),E(x[1]),E(x[2]),E(x[3])]]}})})}},osCpu:function(){return navigator.oscpu},languages:function(){var v=navigator,y=[],x=v.language||v.userLanguage||v.browserLanguage||v.systemLanguage;if(x!==void 0&&y.push([x]),Array.isArray(v.languages))vc()&&function(){var I=window;return Mr([!("MediaSettingsRange"in I),"RTCEncodedAudioFrame"in I,""+I.Intl=="[object Intl]",""+I.Reflect=="[object Reflect]"])>=3}()||y.push(v.languages);else if(typeof v.languages=="string"){var E=v.languages;E&&y.push(E.split(","))}return y},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return ms(Pr(navigator.deviceMemory),void 0)},screenResolution:function(){var v=screen,y=function(E){return ms(gc(E),null)},x=[y(v.width),y(v.height)];return x.sort().reverse(),x},hardwareConcurrency:function(){return ms(gc(navigator.hardwareConcurrency),void 0)},timezone:function(){var v,y=(v=window.Intl)===null||v===void 0?void 0:v.DateTimeFormat;if(y){var x=new y().resolvedOptions().timeZone;if(x)return x}var E=-function(){var I=new Date().getFullYear();return Math.max(Pr(new Date(I,0,1).getTimezoneOffset()),Pr(new Date(I,6,1).getTimezoneOffset()))}();return"UTC"+(E>=0?"+":"")+Math.abs(E)},sessionStorage:function(){try{return!!window.sessionStorage}catch{return!0}},localStorage:function(){try{return!!window.localStorage}catch{return!0}},indexedDB:function(){if(!mh()&&!function(){var y=window,x=navigator;return Mr(["msWriteProfilerMark"in y,"MSStream"in y,"msLaunchUri"in x,"msSaveBlob"in x])>=3&&!mh()}())try{return!!window.indexedDB}catch{return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var v=navigator.platform;return v==="MacIntel"&&Ao()&&!yc()?function(){if(navigator.platform==="iPad")return!0;var x=screen,E=x.width/x.height;return Mr(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,E>.65&&E<1.53])>=2}()?"iPad":"iPhone":v},plugins:function(){var v=navigator.plugins;if(v){for(var y=[],x=0;x<v.length;++x){var E=v[x];if(E){for(var T=[],I=0;I<E.length;++I){var P=E[I];T.push({type:P.type,suffixes:P.suffixes})}y.push({name:E.name,description:E.description,mimeTypes:T})}}return y}},canvas:function(){var v=function(){var T=document.createElement("canvas");return T.width=1,T.height=1,[T,T.getContext("2d")]}(),y=v[0],x=v[1];return function(T,I){return!(!I||!T.toDataURL)}(y,x)?{winding:Yg(x),geometry:Pp(y,x),text:qg(y,x)}:{winding:!1,geometry:"",text:""}},touchSupport:function(){var v,y=navigator,x=0;y.maxTouchPoints!==void 0?x=gc(y.maxTouchPoints):y.msMaxTouchPoints!==void 0&&(x=y.msMaxTouchPoints);try{document.createEvent("TouchEvent"),v=!0}catch{v=!1}return{maxTouchPoints:x,touchEvent:v,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var v=[],y=0,x=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];y<x.length;y++){var E=x[y],T=window[E];T&&typeof T=="object"&&v.push(E)}return v.sort()},cookiesEnabled:function(){var v=document;try{v.cookie="cookietest=1; SameSite=Strict;";var y=v.cookie.indexOf("cookietest=")!==-1;return v.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",y}catch{return!1}},colorGamut:function(){for(var v=0,y=["rec2020","p3","srgb"];v<y.length;v++){var x=y[v];if(matchMedia("(color-gamut: "+x+")").matches)return x}},invertedColors:function(){return!!bh("inverted")||!bh("none")&&void 0},forcedColors:function(){return!!xh("active")||!xh("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var v=0;v<=100;++v)if(matchMedia("(max-monochrome: "+v+")").matches)return v;throw new Error("Too high value")}},contrast:function(){return ni("no-preference")?0:ni("high")||ni("more")?1:ni("low")||ni("less")?-1:ni("forced")?10:void 0},reducedMotion:function(){return!!Ru("reduce")||!Ru("no-preference")&&void 0},hdr:function(){return!!Nl("high")||!Nl("standard")&&void 0},math:function(){var v,y=Yt.acos||sr,x=Yt.acosh||sr,E=Yt.asin||sr,T=Yt.asinh||sr,I=Yt.atanh||sr,P=Yt.atan||sr,L=Yt.sin||sr,U=Yt.sinh||sr,X=Yt.cos||sr,G=Yt.cosh||sr,te=Yt.tan||sr,ce=Yt.tanh||sr,pe=Yt.exp||sr,re=Yt.expm1||sr,be=Yt.log1p||sr;return{acos:y(.12312423423423424),acosh:x(1e308),acoshPf:(v=1e154,Yt.log(v+Yt.sqrt(v*v-1))),asin:E(.12312423423423424),asinh:T(1),asinhPf:function(Re){return Yt.log(Re+Yt.sqrt(Re*Re+1))}(1),atanh:I(.5),atanhPf:function(Re){return Yt.log((1+Re)/(1-Re))/2}(.5),atan:P(.5),sin:L(-1e300),sinh:U(1),sinhPf:function(Re){return Yt.exp(Re)-1/Yt.exp(Re)/2}(1),cos:X(10.000000000123),cosh:G(1),coshPf:function(Re){return(Yt.exp(Re)+1/Yt.exp(Re))/2}(1),tan:te(-1e300),tanh:ce(1),tanhPf:function(Re){return(Yt.exp(2*Re)-1)/(Yt.exp(2*Re)+1)}(1),exp:pe(1),expm1:re(1),expm1Pf:function(Re){return Yt.exp(Re)-1}(1),log1p:be(10),log1pPf:function(Re){return Yt.log(1+Re)}(10),powPI:function(Re){return Yt.pow(Yt.PI,Re)}(-100)}}};const A0={load:function(v){var y=v===void 0?{}:v,x=y.delayFallback,E=y.debug,T=y.monitoring,I=T===void 0||T;return Gr(this,void 0,void 0,function(){return xr(this,function(P){switch(P.label){case 0:return I&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var U=new XMLHttpRequest;U.open("get","https://m1.openfpcdn.io/fingerprintjs/v3.3.3/npm-monitoring",!0),U.send()}catch{}}(),[4,Mp(x)];case 1:return P.sent(),[2,Bp(function(U){return Gg(BE,U,[])}({debug:E}),E)]}})})},hashComponents:xc,componentsToDebugString:function(v){return JSON.stringify(v,function(y,x){return x instanceof Error?function(T){var I;return T0({name:T.name,message:T.message,stack:(I=T.stack)===null||I===void 0?void 0:I.split(`
`)},T)}(x):x},2)}},Lo=function(v,y){var x=arguments;return p(xe().mark(function E(){var T,I,P,L,U,X,G,te,ce,pe,re,be,Re,lt,Et;return xe().wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(T=x.length>2&&x[2]!==void 0?x[2]:"",v!==""&&T!==""){Rt.next=3;break}return Rt.abrupt("return");case 3:return Rt.next=5,A0.load();case 5:return I=Rt.sent,Rt.next=8,I.get();case 8:P=Rt.sent,L=wc(wc({},P.components),{},{userString:{value:""}}),U=A0.hashComponents(L),X=p0().parse(window.navigator.userAgent),G=document.getElementsByTagName("body")[0].getAttribute("view")||"mobile",te=X.name?X.name:"NoBrowser",ce=X.os.family?X.os.family:"NoOS",pe=te+"-"+ce,re=X.version?X.version:"0.0.1",be=re.split("."),Re=u(be,1),re=Re[0],lt={user_id:U,device_id:U,os_name:pe,os_version:re,platform:G||"NoPlatform",device_brand:X.manufacturer?X.manufacturer:"NA",device_model:X.product?X.product:"NA",language:navigator.language||navigator.userLanguage,event_type:"PGA "+v.toLowerCase(),app_version:"CoreJs"},y&&(lt.event_properties=y),Et=btoa(JSON.stringify(lt)),fetch("".concat("https://payments.cashfree.com/pgbillpayuiapi","/analytics/").concat(T,"/track"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({data:Et})});case 24:case"end":return Rt.stop()}},E)}))()};var LE=function(_){function v(x,E){var T;return m(this,v),f(Fn(T=y.call(this,x,E,"card")),"_setSelectors",function(){T._cardNumberElement=T._cardElement.querySelector(Do.CARD_NUMBER),T._cardCvvElement=T._cardElement.querySelector(Do.CARD_CVV),T._cardExpiryMonthElement=T._cardElement.querySelector(Do.CARD_EXPIRY_MONTH),T._cardExpiryYearElement=T._cardElement.querySelector(Do.CARD_EXPIRY_YEAR),T._cardHolderElement=T._cardElement.querySelector(Do.CARD_HOLDER)}),f(Fn(T),"isValid",function(){var I=T._state,P=I.cardNumber,L=I.cvv,U=I.cardExpiryMonth,X=I.cardExpiryYear,G=I.cardHolder;return!!(P&&L&&U&&X&&G)}),f(Fn(T),"pay",function(){var I=p(xe().mark(function P(L,U,X,G){var te,ce,pe,re;return xe().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return T._validator.checkPaymentRequestValidity(T._state),te=_c({},T._state),ce=c0(te.cardNumber),pe={card:{channel:X?Yh:"post",card_number:T._state.cardNumber,card_holder_name:T._state.cardHolder,card_expiry_mm:T._state.cardExpiryMonth,card_expiry_yy:T._state.cardExpiryYear,card_cvv:T._state.cvv}},Re.next=6,bn.pay(L,pe,"card",U,G);case 6:return re=Re.sent,T.bankData=_c(_c({},te),{},{brand:ce}),T.payData={pluginName:U},Re.abrupt("return",re.response);case 10:case"end":return Re.stop()}},P)}));return function(P,L,U,X){return I.apply(this,arguments)}}()),T._setSelectors(),T._validator.checkElementsValidity(x),T._syncState(),T._registerListeners(),Lo("open_card"),T}no(v,_);var y=Jg(v);return v}(E0),N0=(o(4812),function(v){return Uh.test(v)}),R0=function(v){var y=zi([$h,Dh]);return N0(v.phoneNumber)||(y.errors[0].error=!0,y.errors[0].message="invalid phone number"),v.appName||(y.errors[1].error=!0,y.errors[1].message="invalid app name"),y.isReadyToPay=Ui(y.errors),y},FE=function(v){if(!N0(v.phoneNumber))throw new at("invalid phone number",Yn,"app");if(!v.appName)throw new at("invalid app name",Yn,"app")},jE=function _(v,y){var x=this;m(this,_),f(this,"_syncState",function(){x._state.phoneNumber=x._phoneNumberElement.value,x._state.appName=x._appNameElement.value}),f(this,"_setSelector",function(){x._phoneNumberElement=x._appElement.querySelector($h),x._appNameElement=x._appElement.querySelector(Dh)}),f(this,"_registerListener",function(){x._phoneNumberElement.addEventListener("keyup",x._handlePhoneNumberChange),x._phoneNumberElement.addEventListener("change",x._handlePhoneNumberChange),x._appNameElement.addEventListener("change",x._handleAppNameChange.bind(x))}),f(this,"_handlePhoneNumberChange",function(){x._state.phoneNumber=x._phoneNumberElement.value,x._onChange&&x._onChange(R0(x._state))}),f(this,"_handleAppNameChange",function(){x._state.appName=x._appNameElement.value,x._onChange&&x._onChange(R0(x._state))}),f(this,"isValid",function(){return!!x._state.appName}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X;return xe().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return x._syncState(),FE(x._state),U={app:{channel:x._state.appName,phone:x._state.phoneNumber}},te.next=5,bn.pay(I,U,"app",P,L);case 5:return X=te.sent,x._statusToken=X.statusToken,te.abrupt("return",X.response);case 8:case"end":return te.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"handlePaymentResponse",function(E,T,I){return I(Ch(Ch({},x._state),{},{paymentMode:"app"})),E.action==="link"&&Po("0","".concat("https://api.cashfree.com/pg/view","/status/gpay/").concat(x._statusToken)),bn.handlePaymentResponse(E,x._state.channel,x._statusToken,T)}),this._appElement=v,this._onChange=y,this._state={phoneNumber:"",appName:""},this._setSelector(),function(T){if(T.querySelector($h)===null)throw new at(St.APP_PHONE_NUMBER_ELEMENT_NOT_FOUND);if(T.querySelector(Dh)===null)throw new at(St.APP_NAME_ELEMENT_NOT_FOUND)}(v),this._syncState(),this._registerListener(),Lo("open_app")},zE=function _(){var v=this;m(this,_),f(this,"pay",function(){var y=p(xe().mark(function x(E,T,I){var P,L;return xe().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return P={upi:{channel:"qrcode"}},X.next=3,bn.intentPay(E,P,"upi-qrcode",T,I);case 3:return L=X.sent,v._statusToken=L.statusToken,X.abrupt("return",L.response);case 6:case"end":return X.stop()}},x)}));return function(x,E,T){return y.apply(this,arguments)}}()),f(this,"_getQrCodeWrapperTemplate",function(y){return`
            <div 
                style="position: fixed; top:50%; left:50%; transform:translate(-50%, -50%); height:100%; max-height: 420px; width: 100%;max-width: 420px; padding-left:0; padding-right:0; border:transparent; background-color:white; border-radius:10px;z-index:2147483647;"
            >
                <p 
                    style="font-size: 1rem; padding:15px; text-align:center; font-family:inherit;color: #11385B"
                >
                    Scan the QR Code using your UPI apps
                </p>
                <div style="text-align:center; margin-bottom: 1rem;">
                    <img src="https://payments.cashfree.com/order/icons/gpay.png" alt="gpay" style="height:20px;width:49px;" />
                    <img src="https://payments.cashfree.com/order/icons/wallets/paytm.png" alt="paytm" style="height:20px;" />
                    <img src="https://payments.cashfree.com/order/icons/wallets/phonepe.png" alt="phonepe" style="height:20px;" />
                    <img src="https://payments.cashfree.com/order/icons/upi/bhim_logo.png" alt="bhim" style="height:20px;" />
                    <img
                    src="https://payments.cashfree.com/order/icons/wallets/amazonpay.png"
                    alt="amazonpay"
                    height="20px" />
                </div>
                <div style="position:relative;">
                `.concat(y,`
                </div>
                    <button
                        id="cancel-qrcode" 
                        style="background:none;font-family:inherit;border:none;font-size:16px;cursor:pointer;font-size: 16px;margin-top:36px; border-bottom: 1px solid #113A5B; font-family:inherit; color: #11385B;"
                    >
                        Cancel Payment
                    </button>
            </div>`)}),f(this,"_renderQrCode",function(y){var x=new Image;x.src=y,x.style.display="block",x.style.margin="auto",x.style.height="50%",x.style.width="50%",x.style.maxHeight="320px",x.style.maxWidth="320px";var E=document.createElement("div");E.id="cashfree-qrcode-container",E.style.position="fixed",E.style.top="0",E.style.left="0",E.style.width="100%",E.style.height="100%",E.style.backgroundColor="rgba(0, 0, 0, 0.5)",E.style.zIndex="2147483647",E.style.textAlign="center",E.innerHTML=v._getQrCodeWrapperTemplate(x.outerHTML),document.body.appendChild(E)}),f(this,"handlePaymentResponse",function(y,x){var E=window.paymentWindow;E&&!E.closed&&E.close(),v._renderQrCode(y.data.payload.qrcode),document.getElementById("cancel-qrcode").addEventListener("click",function(){x(),document.getElementById("cashfree-qrcode-container").remove()}),Po("0","".concat("https://api.cashfree.com/pg/view","/status/qrcode/").concat(v._statusToken))})},Bc=o(7251),Fo={};Fo.styleTagTransform=S0(),Fo.setAttributes=w0(),Fo.insert=x0().bind(null,"head"),Fo.domAPI=b0(),Fo.insertStyleElement=_0(),y0()(Bc.Z,Fo),Bc.Z&&Bc.Z.locals&&Bc.Z.locals;var UE=function(){function _(){m(this,_),f(this,"renderCrossIcon",function(){return'<svg class="intent-close-modal" width="14px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><g id="Cross" transform="translate(-5.000000, -5.000000)" stroke="#434343" stroke-width="3"><g id="back-arrow"><g id="Cross" transform="translate(6.000000, 6.000000)"><polyline id="Path-6" points="24 -7.07767178e-15 12 12 24 24"></polyline><polyline id="Path-6" transform="translate(6.000000, 12.000000) scale(-1, 1) translate(-6.000000, -12.000000) " points="12 -7.07767178e-15 0 12 12 24"></polyline></g></g></g></g></svg>'})}return Ws(_,[{key:"renderModal",value:function(y,x,E,T){this.url=y;var I=document.createElement("div");I.innerHTML=`
            <div class="intent-modal">
                <div class="intent-modal-container"> 
                    <div id="intent-cross-modal"class="intent-modal-cross">`.concat(this.renderCrossIcon(),`</div>
                    <div>
                    <a class="intent-modal-app" target="_blank" href=`).concat(y,` id="ios-app-click">
                        Open `).concat(x,` app
                    </a>
                    </div>
                </div>
            </div>
        `),document.body.appendChild(I),document.getElementById("ios-app-click").addEventListener("click",function(){document.body.removeChild(I),E()}),document.getElementById("intent-cross-modal").addEventListener("click",function(){document.body.removeChild(I),T()})}}]),_}(),O0="INR",$0=function(){return!!window.PaymentRequest},D0=function(v,y){return{total:{label:"Total",amount:{currency:v,value:y}},displayItems:[{label:"Original Amount",amount:{currency:v,value:y}}]}},P0=function(v){var y=Promise.resolve(!0);return v.canMakePayment&&(y=v.canMakePayment()),y.then(function(x){return x}).catch(function(x){})},WE=function(){var _=p(xe().mark(function v(){var y,x;return xe().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return y=[{supportedMethods:["https://mercury.phonepe.com/transact/pay"],data:{url:"upi://pay?pa=mynykaa.collect@yesbank&pn=Cashfree&tr=89407775&am=1.00&cu=INR&mode=00&purpose=00&mc=5399&tn=Cashfree%20Payment"}}],x=D0(O0,"1"),T.abrupt("return",new Promise(function(I,P){var L=null;$0()||P(!1);try{L=new PaymentRequest(y,x)}catch(U){return P("Payment Request Error: "+U.message)}return L?(P0(L).then(function(U){return I(U)}).catch(function(U){return P("Error calling checkCanMakePayment: "+U)}),""):P("Web payments are not supported in this browser.")}));case 3:case"end":return T.stop()}},v)}));return function(){return _.apply(this,arguments)}}(),VE=function(){var _=p(xe().mark(function v(y){var x,E;return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return x=[{supportedMethods:y,data:{pa:"cashfree@hdfcbank",pn:"Merchant Name",tr:"11223344",url:"https://www.cashfree.com",mc:"6011",tn:"Payment"}}],E=D0(O0,"1"),I.abrupt("return",new Promise(function(P,L){var U=null;$0()||L(!1);try{U=new PaymentRequest(x,E)}catch(X){return L("Payment Request Error: "+X.message)}return U?(P0(U).then(function(X){return P(X)}).catch(function(X){return L("Error calling checkCanMakePayment: "+X)}),""):L("Web payments are not supported in this browser.")}));case 3:case"end":return I.stop()}},v)}));return function(y){return _.apply(this,arguments)}}(),Xh=function(v){return["gpay","phonepe","paytm","bhim","others"].indexOf(v)!==-1},GE=function(v){var y=zi([Ph]);return function(E){return Wh.test(E)}(v.upiId)||(y.errors[0].error=!0,y.errors[0].message="invalid upi id"),y.isReadyToPay=Ui(y.errors),y},HE=function(v){if(!Xh(v.upiProvider))throw new at("no UPI provider provided.",Yn)},YE=function _(v,y){var x=this;m(this,_),f(this,"_syncState",function(){x._state.upiProvider=x._upiProviderElement.value}),f(this,"_checkIntentSupport",p(xe().mark(function E(){return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,VE("https://tez.google.com/pay");case 3:x._state.isGpayIntentSupported=I.sent,I.next=10;break;case 7:I.prev=7,I.t0=I.catch(0);case 10:return I.prev=10,I.next=13,WE();case 13:x._state.isPhonepeIntentSupported=I.sent,I.next=20;break;case 17:I.prev=17,I.t1=I.catch(10);case 20:case"end":return I.stop()}},E,null,[[0,7],[10,17]])}))),f(this,"_setSelectors",function(){x._upiProviderElement=x._intentElement.querySelector(Mh)}),f(this,"_registerListeners",function(){x._upiProviderElement.addEventListener("change",x._handleUpiProviderChange)}),f(this,"_handleUpiProviderChange",function(){x._state.upiProvider=x._upiProviderElement.value,x._onChange&&x._onChange(function(T){var I=zi([Mh]);return Xh(T.upiProvider)||(I.errors[0].error=!0,I.errors[0].message="invalid upi provider"),I.isReadyToPay=Ui(I.errors),I}(x._state))}),f(this,"isValid",function(){return!!x._state.upiProvider}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X;return xe().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return x._syncState(),HE(x._state),U={upi:{channel:"link",phone:x._state.phoneNumber}},te.next=5,bn.intentPay(I,U,"upi-intent",P,L);case 5:return X=te.sent,x._statusToken=X.statusToken,te.abrupt("return",X.response);case 8:case"end":return te.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"iosAppOpened",function(){$c(null,x.abortCallback),Po("0","".concat("https://api.cashfree.com/pg/view","/status/intent/").concat(x._statusToken))}),f(this,"openLink",function(E){var T=E,I=navigator.userAgent.toLowerCase().indexOf("android")>-1,P=navigator.userAgent.indexOf("Mac")>-1||/iPad|iPhone|iPod/.test(navigator.userAgent),L=T.split("/pay")[1];if(I?(T=(T=x._state.upiProvider==="phonepe"?"phonepe://pay"+L:"intent://pay"+L)+"#Intent;scheme=upi;package="+{gpay:{id:"com.google.android.apps.nbu.paisa.user"},phonepe:{id:"com.phonepe.app"},paytm:{id:"net.one97.paytm"},bhim:{id:"in.org.npci.upiapp"},others:{id:"in.org.npci.upiapp"}}[x._state.upiProvider].id+";end",x._state.upiProvider==="others"&&(T="upi://pay"+L)):P&&(x._state.upiProvider==="phonepe"?T="phonepe://pay"+L:x._state.upiProvider==="gpay"&&(T="tez://upi/pay"+L)),E.includes("payments-test.cashfree.com")&&(T=E),P){if(m0()==="AppleSafari")new UE().renderModal(E,x._state.upiProvider,x.iosAppOpened,x.abortCallback);else{var U=document.getElementById("iosupi");U==null&&((U=document.createElement("a")).id="iosupi"),U.href=E,U.onclick=x.iosAppOpened,document.body.appendChild(U),document.getElementById("iosupi").click()}return"modal"}if(I){var X=document.createElement("a"),G=document.createTextNode("");return X.appendChild(G),X.title="",X.href=T,X.target="_blank",X.click(),"href"}return"none"}),f(this,"handlePaymentResponse",function(){var E=p(xe().mark(function T(I,P,L,U){var X,G,te;return xe().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return U(Eh(Eh({},x._state),{},{paymentMode:"upi-intent"})),x.abortCallback=P,X=window,G=X.paymentWindow,pe.prev=3,Xh(x._state.upiProvider)?(te="",te=I.data.payload[x._state.upiProvider]?I.data.payload[x._state.upiProvider]:I.data.payload.default,x.openLink(te,P)==="href"&&($c(null,P),Po("0","".concat("https://api.cashfree.com/pg/view","/status/intent/").concat(x._statusToken)))):window.open(I.data.payload.default).focus(),pe.abrupt("return",null);case 8:throw pe.prev=8,pe.t0=pe.catch(3),G&&!G.closed&&G.close(),qa(),new at(pe.t0.message,qn);case 13:case"end":return pe.stop()}},T,null,[[3,8]])}));return function(T,I,P,L){return E.apply(this,arguments)}}()),this._intentElement=v,this._onChange=y,this._state={upiProvider:"",isPhonepeIntentSupported:!1,isGpayIntentSupported:!1},this._setSelectors(),function(T){if(!T.querySelector(Mh))throw new at(St.UPI_INTENT_PROVIDER_ELEMENT_NOT_FOUND,si)}(v),this._syncState(),this._registerListeners(),Lo("open_intent")},qE=function _(v,y){var x=this;m(this,_),f(this,"_syncState",function(){x._state.upiId=x._vpaElement.value}),f(this,"_setSelector",function(){x._vpaElement=x._collectElement.querySelector(Ph)}),f(this,"_registerListeners",function(){x._vpaElement.addEventListener("change",x._handleVpaChange),x._vpaElement.addEventListener("keyup",x._handleVpaChange),x._vpaElement.addEventListener("click",x._handleVpaChange)}),f(this,"_handleVpaChange",function(){x._state.upiId=x._vpaElement.value,x._onChange&&x._onChange(GE(x._state))}),f(this,"isValid",function(){return!(!x._state.upiId||!Wh.test(x._state.upiId))}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X;return xe().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(Wh.test(x._state.upiId)){te.next=2;break}throw new at("invalid vpa",Yn,"upi-collect");case 2:return U={upi:{channel:"collect",upi_id:x._state.upiId}},te.next=5,bn.intentPay(I,U,"upi-collect",P,L);case 5:return X=te.sent,x._statusToken=X.statusToken,te.abrupt("return",X.response);case 8:case"end":return te.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"handlePaymentResponse",function(E,T,I){return I(Sc(Sc({},x._state),{},{paymentMode:"upi-collect"})),bn.handlePaymentResponse(E,"collect",x._statusToken,T)}),this._collectElement=v,this._onChange=y,this._state={upiId:""},function(T){if(!T.querySelector(Ph))throw new at(St.UPI_COLLECT_VPA_ELEMENT_NOT_FOUND,si)}(v),this._setSelector(),this._syncState(),this._registerListeners(),Lo("open_collect")},M0=function(v){return!!v},B0=function(v){return kE.test(v)},L0=function(v){return EE.test(v)},Kh=function(v,y){var x=zi([Bh]);return M0(v.bankCode)||(x.errors[0].error=!0,x.errors[0].message="invalid bank code"),(x=function(T,I,P){var L=Z({},P);if(I.querySelector(Ga)!=null)if(B0(T.ifscCode)){var U={element:Ga,error:!1,message:""};L.errors[1]=Z(Z({},L.errors[1]),U)}else{var X={element:Ga,error:!0,message:"invalid ifsc code"};L.errors[1]=Z(Z({},L.errors[1]),X)}if(I.querySelector(Ha)!=null)if(L0(T.accountNumber)){var G={element:Ha,error:!1,message:""};L.errors[2]=Z(Z({},L.errors[1]),G)}else{var te={element:Ha,error:!0,message:"invalid account number"};L.errors[2]=Z(Z({},L.errors[1]),te)}return L}(v,y,x)).isReadyToPay=Ui(x.errors),x},XE=function(v,y){if(!M0(v.bankCode))throw new at("invalid bank code",Yn);if(y.querySelector(Ga)!=null&&!B0(v.ifscCode))throw new at("invalid ifsc code",Yn);if(y.querySelector(Ha)!=null&&!L0(v.accountNumber))throw new at("invalid account number",Yn)},KE=function _(v,y){var x=this;m(this,_),f(this,"_syncState",function(){x._state.bankCode=x._bankCodeElement.value,x._ifscCodeElement&&(x._state.ifscCode=x._ifscCodeElement.value),x._accountNumberElement&&(x._state.accountNumber=x._accountNumberElement.value)}),f(this,"_setSelectors",function(){x._bankCodeElement=x._netBankingElement.querySelector(Bh),x._ifscCodeElement=x._netBankingElement.querySelector(Ga),x._accountNumberElement=x._netBankingElement.querySelector(Ha)}),f(this,"_registerListeners",function(){x._bankCodeElement.addEventListener("change",x._handleBankCodeChange.bind(x)),x._bankCodeElement.addEventListener("keyup",x._handleBankCodeChange.bind(x)),x._ifscCodeElement&&(x._ifscCodeElement.addEventListener("change",x._handleIfscCodeChange),x._ifscCodeElement.addEventListener("keyup",x._handleIfscCodeChange)),x._accountNumberElement&&(x._accountNumberElement.addEventListener("change",x._handleAccountNumberChange),x._accountNumberElement.addEventListener("keyup",x._handleAccountNumberChange))}),f(this,"_handleBankCodeChange",function(){x._state.bankCode=x._bankCodeElement.value,x._onChange&&x._onChange(Kh(x._state,x._netBankingElement))}),f(this,"_handleIfscCodeChange",function(){x._state.ifscCode=x._ifscCodeElement.value,x._onChange&&x._onChange(Kh(x._state,x._netBankingElement))}),f(this,"_handleAccountNumberChange",function(){x._state.accountNumber=x._accountNumberElement.value,x._onChange&&x._onChange(Kh(x._state,x._netBankingElement))}),f(this,"isValid",function(){return!!x._state.bankCode}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X;return xe().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return x._syncState(),XE(x._state,x._netBankingElement),U={netbanking:{channel:"link",netbanking_bank_code:parseInt(x._state.bankCode,10),netbanking_ifsc:x._state.ifscCode,netbanking_account_number:x._state.accountNumber}},te.next=5,bn.pay(I,U,"netbanking",P,L);case 5:return X=te.sent,x._statusToken=X.statusToken,te.abrupt("return",X.response);case 8:case"end":return te.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"handlePaymentResponse",function(E,T,I){return I(se(se({},x._state),{},{paymentMode:"netbanking"})),bn.handlePaymentResponse(E,"netbanking",null,T)}),this._netBankingElement=v,this._onChange=y,this._state={bankCode:"",ifscCode:"",accountNumber:""},function(T){if(!T.querySelector(Bh))throw new at(St.NETBANKING_BANK_CODE_ELEMENT_NOT_FOUND,si)}(v),this._setSelectors(),this._syncState(),this._registerListeners()},JE=function(_){function v(x,E){var T,I;return m(this,v),f(Fn(I=y.call(this,x,E,"emi")),"_registerListeners",function(){Ut((T=Fn(I),xn(v.prototype)),"_registerListeners",T).call(T),I._cardBankNameElement.addEventListener("change",I._handleCardBankNameChange),I._cardEmiTenureElement.addEventListener("change",I._handleCardEmiTenureChange),I._cardBankNameElement.addEventListener("keyup",I._handleCardBankNameChange),I._cardEmiTenureElement.addEventListener("keyup",I._handleCardEmiTenureChange)}),f(Fn(I),"_handleCardBankNameChange",function(){I._state.cardBankName=I._cardBankNameElement.value,I._onChange&&I._onChange(I._validator.checkInputValidity(I._state))}),f(Fn(I),"_handleCardEmiTenureChange",function(){I._state.emiTenure=I._cardEmiTenureElement.value,I._onChange&&I._onChange(I._validator.checkInputValidity(I._state))}),f(Fn(I),"_setSelectors",function(){I._cardNumberElement=I._cardElement.querySelector(Lr.CARD_NUMBER),I._cardCvvElement=I._cardElement.querySelector(Lr.CARD_CVV),I._cardExpiryMonthElement=I._cardElement.querySelector(Lr.CARD_EXPIRY_MONTH),I._cardExpiryYearElement=I._cardElement.querySelector(Lr.CARD_EXPIRY_YEAR),I._cardBankNameElement=I._cardElement.querySelector(Lr.BANK_NAME),I._cardEmiTenureElement=I._cardElement.querySelector(Lr.EMI_TENURE),I._cardHolderElement=I._cardElement.querySelector(Lr.CARD_HOLDER)}),f(Fn(I),"isValid",function(){var P=I._state,L=P.cardNumber,U=P.cvv,X=P.cardExpiryMonth,G=P.cardExpiryYear,te=P.cardBankName,ce=P.emiTenure,pe=P.cardHolder;return!!(L&&U&&X&&G&&te&&pe&&Number(ce)!==0)}),f(Fn(I),"pay",function(){var P=p(xe().mark(function L(U,X,G){var te,ce;return xe().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return I._validator.checkPaymentRequestValidity(I._state),te={emi:{channel:Yh,card_number:I._state.cardNumber,card_expiry_mm:I._state.cardExpiryMonth,card_expiry_yy:I._state.cardExpiryYear,card_cvv:I._state.cvv,card_bank_name:I._state.cardBankName,emi_tenure:parseInt(I._state.emiTenure,10)}},re.next=4,bn.pay(U,te,"emi",X,G);case 4:return ce=re.sent,re.abrupt("return",ce.response);case 6:case"end":return re.stop()}},L)}));return function(L,U,X){return P.apply(this,arguments)}}()),I._state=he(he({},I._state),{},{cardBankName:"",emiTenure:0}),I._setSelectors(),I._validator.checkElementsValidity(x),I._syncState(),I._registerListeners(),I}no(v,_);var y=we(v);return Ws(v,[{key:"_syncState",value:function(){Ut(xn(v.prototype),"_syncState",this).call(this),this._state.cardBankName=this._cardBankNameElement.value,this._state.emiTenure=this._cardEmiTenureElement.value}}]),v}(E0),ii=function _(v){var y=this;m(this,_),f(this,"on",function(x,E){switch(x){case"change":y._payObj._onChange=E}}),this._payObj=v};o(1038),o(1817),o(2165),o(5212),o(3210);const QE={PAY_LATER:{4503:{MAX_AMOUNT:1e4},4506:{MIN_AMOUNT:100}},CARDLESS_EMI:{6061:{MIN_AMOUNT:1e3}}};var ZE=function(v){return v.CREDIT_CARD||v.DEBIT_CARD||v.CORPORATE_CREDIT_CARD||v.PREPAID_CARD},e2=function(v){return!(!v.Wallet&&!v.App)},t2=function(v){return!!v.NET_BANKING},n2=function(v){return!!v.UPI},r2=function(v){return!!v.PAY_LATER},s2=function(v,y){var x=0;return v&&y&&v.forEach(function(E){y.some(function(T){return T.code===E.paymentCode})&&(x+=1)}),x>0},i2=function(v,y){var x=0;return v&&y&&v.forEach(function(E){y.some(function(T){return T.code===E.paymentCode})&&(x+=1)}),x>0},o2=function(v){if(v.CARDLESS_EMI){var y,x=qe(v.CARDLESS_EMI);try{for(x.s();!(y=x.n()).done;){var E=y.value;if(["flexmoney","zestmoney"].includes(E.nick))return!0}}catch(T){x.e(T)}finally{x.f()}}return!1},a2=function(v){var y=[];return v.forEach(function(x){x.isActive&&y.push({dataOption:x.nick,display:x.display})}),y},l2=function(v){var y=[];return v.forEach(function(x){x.isActive&&y.push({dataOption:x.code,display:x.display,isActive:x.isActive,nick:x.nick})}),y},c2=function(v,y){var x=[];return v.forEach(function(E){E.isActive&&x.push({dataOption:E.code,display:E.display})}),y.forEach(function(E){E.isActive&&x.push({dataOption:E.code,display:E.display})}),x},u2=function(){var _=p(xe().mark(function v(){var y,x;return xe().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return y=[],Oc()&&(y.push({dataOption:"phonepe",display:"PhonePe"}),y.push({dataOption:"gpay",display:"GPay"}),y.push({dataOption:"paytm",display:"Paytm"}),y.push({dataOption:"bhim",display:"Bhim"}),x=navigator.userAgent.toLowerCase(),x.indexOf("android")>-1&&y.push({dataOption:"others",display:"Others"})),T.abrupt("return",y);case 3:case"end":return T.stop()}},v)}));return function(){return _.apply(this,arguments)}}(),d2=function(v,y){var x=[],E=QE.PAY_LATER;return v.forEach(function(T){var I=E[T.code]&&E[T.code].MIN_AMOUNT,P=E[T.code]&&E[T.code].MAX_AMOUNT;y<I||y>P||T.isActive&&T.nick!=="epaylater"&&x.push({dataOption:T.nick,display:T.display})}),x},h2=function(v,y){var x=[];return v&&v.forEach(function(E){y.some(function(T){return T.code===E.paymentCode})&&x.push({dataOption:E.nick,display:E.name,schemes:E.schemes})}),x},f2=function(v,y){var x=[];return v&&v.forEach(function(E){y.some(function(T){return T.code===E.paymentCode})&&x.push({dataOption:E.nick,display:E.name,schemes:E.schemes})}),x},p2=function(v){var y=[];return v.some(function(x){return x.nick==="flexmoney"})&&y.push({dataOption:"flexmoney",display:"FlexMoney"}),v.some(function(x){return x.nick==="zestmoney"})&&y.push({dataOption:"zestmoney",display:"ZestMoney"}),y},m2=function(v,y){var x={upi:"UPI",dc:"DEBIT_CARD",cc:"CREDIT_CARD,PREPAID_CARD,CORPORATE_CREDIT_CARD",ppc:"PREPAID_CARD",ccc:"CORPORATE_CREDIT_CARD",nb:"NET_BANKING",wallet:"Wallet",app:"Wallet",emi:"CREDIT_CARD_EMI,DEBIT_CARD_EMI,CARDLESS_EMI",paypal:"Paypal",paylater:"PAY_LATER"},E=[];try{if(v&&v.length>0){v=v.split(",");for(var T=0;T<v.length;T+=1)for(var I=x[v[T].trim()].split(","),P=0;P<I.length;P+=1)y.indexOf(I[P])>-1&&E.indexOf(I[P])===-1&&E.push(I[P])}else E=y;return E}catch{return y}},g2=function(v,y){return Object.keys(y).forEach(function(x){v.indexOf(x)===-1&&(y[x]=null)}),y},Ja=function _(){m(this,_)};f(Ja,"getSupportedPaymentOptions",function(){var _=p(xe().mark(function v(y,x){var E;return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(y){I.next=2;break}throw new at("paymentSessionId missing",qn);case 2:if(x){I.next=4;break}throw new at("payment mode missing",qn);case 4:return I.next=6,Pc("".concat("https://api.cashfree.com/pg","/orders/").concat(y,"/config"));case 6:E=I.sent,I.t0=x,I.next=I.t0==="card"?10:I.t0==="app"?11:I.t0==="netbanking"?12:I.t0==="upi-intent"?13:I.t0==="paylater"?14:I.t0==="creditcardemi"?15:I.t0==="debitcardemi"?16:I.t0==="cardlessemi"?17:18;break;case 10:return I.abrupt("return",c2(E.paymentSettings.paymentModes.DEBIT_CARD,E.paymentSettings.paymentModes.CREDIT_CARD));case 11:return I.abrupt("return",a2(E.paymentSettings.paymentModes.Wallet));case 12:return I.abrupt("return",l2(E.paymentSettings.paymentModes.NET_BANKING));case 13:return I.abrupt("return",u2());case 14:return I.abrupt("return",d2(E.paymentSettings.paymentModes.PAY_LATER,E.orderDetails.orderAmount));case 15:return I.abrupt("return",h2(E.emiDetails,E.paymentSettings.paymentModes.CREDIT_CARD_EMI));case 16:return I.abrupt("return",f2(E.emiDetails,E.paymentSettings.paymentModes.DEBIT_CARD_EMI));case 17:return I.abrupt("return",p2(E.paymentSettings.paymentModes.CARDLESS_EMI));case 18:return I.abrupt("return",[]);case 19:case"end":return I.stop()}},v)}));return function(v,y){return _.apply(this,arguments)}}()),f(Ja,"getSupportedPaymentModes",function(){var _=p(xe().mark(function v(y){var x,E,T,I,P,L,U,X,G;return xe().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(y){ce.next=2;break}throw new at("paymentSessionId missing",qn);case 2:return x=[],ce.next=5,Pc("".concat("https://api.cashfree.com/pg","/orders/").concat(y,"/config"));case 5:return E=ce.sent,T=E.paymentSettings,I=T.paymentModes,P=T.enabledModes,L=E.emiDetails,U=E.orderDetails,X=m2(U.paymentModes,P),G=g2(X,I),ZE(G)&&x.push("card"),e2(G)&&x.push("app"),t2(G)&&x.push("netbanking"),n2(G)&&(x.push("upi-qrcode"),x.push("upi-collect"),Oc()&&x.push("upi-intent"),x.push("upi")),s2(L,G.CREDIT_CARD_EMI)&&U.orderAmount>=2500&&x.push("creditcardemi"),i2(L,G.DEBIT_CARD_EMI)&&U.orderAmount>=2500&&x.push("debitcardemi"),r2(G)&&x.push("paylater"),o2(G)&&U.orderAmount>=500&&x.push("cardlessemi"),ce.abrupt("return",x);case 18:case"end":return ce.stop()}},v)}));return function(v){return _.apply(this,arguments)}}()),f(Ja,"getOrderDetails",function(){var _=p(xe().mark(function v(y){var x;return xe().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(y){T.next=2;break}throw new at("paymentSessionId missing",qn);case 2:return T.next=4,Pc("".concat("https://api.cashfree.com/pg","/orders/").concat(y,"/config"));case 4:return x=T.sent,T.abrupt("return",x.orderDetails);case 6:case"end":return T.stop()}},v)}));return function(v){return _.apply(this,arguments)}}()),f(Ja,"getTheme",function(){var _=p(xe().mark(function v(y){var x,E,T,I,P,L;return xe().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(y){X.next=2;break}throw new at("paymentSessionId missing",qn);case 2:return X.next=4,Pc("".concat("https://api.cashfree.com/pg","/orders/").concat(y,"/config"));case 4:return x=X.sent,E=x.theme,T=x.merchantInfo,I=x.orderDetails,P=x.clientInfo,L=x.isCollectEnabled,X.abrupt("return",{theme:E,merchantInfo:T,orderDetails:I,clientInfo:P,isCollectEnabled:L});case 7:case"end":return X.stop()}},v)}));return function(v){return _.apply(this,arguments)}}());const Lc=Ja;var F0=function(v){return Uh.test(v)},j0=function(v){var y=zi([Lh,Fh]);return F0(v.phoneNumber)||(y.errors[0].error=!0,y.errors[0].message="invalid phone number"),v.provider||(y.errors[1].error=!0,y.errors[1].message="invalid provider name"),y.isReadyToPay=Ui(y.errors),y},v2=function(v){if(!F0(v.phoneNumber))throw new at("invalid phone number",Yn,"paylater");if(!v.provider)throw new at("invalid provider name",Yn,"paylater")},y2=function _(v,y){var x=this;m(this,_),f(this,"_syncState",function(){x._state.phoneNumber=x._phoneNumberElement.value,x._state.provider=x._paylaterElement.value}),f(this,"_setSelector",function(){x._phoneNumberElement=x._paylaterElement.querySelector(Lh),x._paylaterElement=x._paylaterElement.querySelector(Fh)}),f(this,"_registerListener",function(){x._phoneNumberElement.addEventListener("keyup",x._handlePhoneNumberChange),x._phoneNumberElement.addEventListener("change",x._handlePhoneNumberChange),x._paylaterElement.addEventListener("change",x._handleProviderNameChange)}),f(this,"_handlePhoneNumberChange",function(){x._state.phoneNumber=x._phoneNumberElement.value,x._onChange&&x._onChange(j0(x._state))}),f(this,"_handleProviderNameChange",function(){x._state.provider=x._paylaterElement.value,x._onChange&&x._onChange(j0(x._state))}),f(this,"isValid",function(){return!!x._state.provider}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X,G;return xe().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return x._syncState(),v2(x._state),(U=x._state.provider)==="Kotak Paylater"?U="kotak":U==="zestmoneypaylater"?U="zestmoney":U==="Hdfc Paylater"&&(U="flexipay"),X={paylater:{channel:"link",provider:U,phone:x._state.phoneNumber}},ce.next=7,bn.pay(I,X,"paylater",P,L);case 7:return G=ce.sent,x._statusToken=G.statusToken,x.payData={pluginName:P},ce.abrupt("return",G.response);case 11:case"end":return ce.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"handlePaymentResponse",function(E,T,I,P){return I(xt(xt({},x._state),{},{paymentMode:"paylater"})),E.action==="link"&&Po("0","".concat("https://api.cashfree.com/pg/view","/status/gpay/").concat(x._statusToken)),E.payData=x.payData,bn.handlePaymentResponse(E,x._state.channel,x._statusToken,T,P)}),this._paylaterElement=v,this._onChange=y,this._state={phoneNumber:"",provider:""},this._setSelector(),function(T){if(T.querySelector(Lh)===null)throw new at(St.PAYLATER_PHONE_NUMBER_ELEMENT_NOT_FOUND);if(T.querySelector(Fh)===null)throw new at(St.PAYLATER_ELEMENT_NOT_FOUND)}(v),this._syncState(),this._registerListener(),Lo("open_paylater")},z0=function(v){return Uh.test(v)},U0=function(v){var y=zi([jh,zh]);return z0(v.phoneNumber)||(y.errors[0].error=!0,y.errors[0].message="invalid phone number"),v.provider||(y.errors[1].error=!0,y.errors[1].message="invalid provider name"),y.isReadyToPay=Ui(y.errors),y},b2=function(v){if(!z0(v.phoneNumber))throw new at("invalid phone number",Yn,"cardlessEmi");if(!v.provider)throw new at("invalid provider",Yn,"cardlessEmi")},x2=function(){function _(v,y){var x=this;m(this,_),f(this,"_registerListeners",function(){x._phoneNumberElement.addEventListener("keyup",x._handlePhoneNumberChange),x._phoneNumberElement.addEventListener("change",x._handlePhoneNumberChange),x._providerElement.addEventListener("change",x._handleProviderNameChange)}),f(this,"_handleProviderNameChange",function(){x._state.provider=x._providerElement.value,x._onChange&&x._onChange(U0(x._state))}),f(this,"_handlePhoneNumberChange",function(){x._state.phoneNumber=x._phoneNumberElement.value,x._onChange&&x._onChange(U0(x._state))}),f(this,"_setSelectors",function(){x._phoneNumberElement=x._cardlessElement.querySelector(jh),x._providerElement=x._cardlessElement.querySelector(zh)}),f(this,"isValid",function(){return!!x._state.provider}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X;return xe().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return x._syncState(),b2(x._state),U={cardless_emi:{channel:Yh,provider:x._state.provider,phone:x._state.phoneNumber}},te.next=5,bn.pay(I,U,"cardlessemi",P,L);case 5:return X=te.sent,te.abrupt("return",X.response);case 7:case"end":return te.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"handlePaymentResponse",function(E,T){return bn.handlePaymentResponse(E,"cardlessemi",null,T)}),this._cardlessElement=v,this._onChange=y,this._state={provider:"",phoneNumber:""},this._setSelectors(),function(T){if(T.querySelector(jh)===null)throw new at(St.CARDLESS_PHONE_NUMBER_ELEMENT_NOT_FOUND);if(T.querySelector(zh)===null)throw new at(St.CARDLESS_PROVIDER_ELEMENT_NOT_FOUND)}(v),this._syncState(),this._registerListeners(),Lo("open_cardless")}return Ws(_,[{key:"_syncState",value:function(){this._state.provider=this._providerElement.value,this._state.phoneNumber=this._phoneNumberElement.value}}]),_}(),hr=new WeakMap,Rs=new WeakMap,w2=function _(v){var y=this;if(m(this,_),hr.set(this,{writable:!0,value:{onPaymentSuccess:null,onPaymentFailure:null,onError:null}}),Rs.set(this,{writable:!0,value:!1}),f(this,"element",function(x){try{switch(y._validateElementInput(x),x.type.toLowerCase()){case"card":return y._card=new LE(x.pay,x.onChange),new ii(y._card);case"netbanking":return y._netBanking=new KE(x.pay,x.onChange),new ii(y._netBanking);case"app":return y._app=new jE(x.pay,x.onChange),new ii(y._app);case"upi-qrcode":y._qrCode=new zE;break;case"upi-collect":return y._collect=new qE(x.pay,x.onChange),new ii(y._collect);case"upi-intent":return y._intent=new YE(x.pay,x.onChange),y._intent._checkIntentSupport(),new ii(y._intent);case"emi":return y._emi=new JE(x.pay,x.onChange),new ii(y._emi);case"paylater":return y._paylater=new y2(x.pay,x.onChange),new ii(y._paylater);case"cardlessemi":return y._cardlessEmi=new x2(x.pay,x.onChange),new ii(y._cardlessEmi);default:g(y,hr).onError("Element initialization failed for: ".concat(JSON.stringify(x)))}}catch(E){g(y,hr).onError({message:E.message,type:E.type?E.type:qn})}}),f(this,"_validateElementInput",function(x){if(!x)throw new at("required parameters missing. Please check the docs.",qn);if(!x.type)throw new at("type argument missing. Please check the docs.",qn);if(x.type!=="upi-qrcode"&&!x.pay)throw new at("pay argument missing for: ".concat(x.type),qn)}),f(this,"elements",function(x){Array.isArray(x)?x.forEach(function(E){return y.element(E)}):g(y,hr).onError({message:"Expecting a list, got ".concat(b(x)),type:qn})}),f(this,"pay",function(){var x=p(xe().mark(function E(T,I,P){var L,U,X,G,te,ce=arguments;return xe().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(L=ce.length>3&&ce[3]!==void 0&&ce[3],X=" element not initialised. are you missing element method?",I||(I="jsxx-e-".concat(wt,"-x")),re.prev=3,!g(y,Rs)){re.next=6;break}throw new at("payment already in process for payment session id :: ".concat(y.paymentSessionId),a0);case 6:C(y,Rs,!0),re.t0=T,re.next=re.t0==="card"?10:re.t0==="app"?17:re.t0==="upi-intent"?24:re.t0==="netbanking"?33:re.t0==="upi-collect"?40:re.t0==="emi"?47:re.t0==="upi-qrcode"?54:re.t0==="paylater"?61:re.t0==="cardlessemi"?68:75;break;case 10:if(y._card){re.next=12;break}throw new at("card".concat(X),qn);case 12:return re.next=14,y._card.pay(y.paymentSessionId,I,L,P);case 14:return U=re.sent,y._paymentWindow=y._card.handlePaymentResponse(U,y._abortPayment,y.payHeadless),re.abrupt("break",76);case 17:if(y._app){re.next=19;break}throw new at("app".concat(X));case 19:return re.next=21,y._app.pay(y.paymentSessionId,I,P);case 21:return U=re.sent,y._paymentWindow=y._app.handlePaymentResponse(U,y._abortPayment,y.setPaymentData),re.abrupt("break",76);case 24:if(y._intent){re.next=26;break}throw new at("upi-intent".concat(X));case 26:return re.next=28,y._intent.pay(y.paymentSessionId,I,P);case 28:return U=re.sent,re.next=31,y._intent.handlePaymentResponse(U,y._abortPayment,y._abortTimeout,y.setPaymentData);case 31:return y._paymentWindow=re.sent,re.abrupt("break",76);case 33:if(y._netBanking){re.next=35;break}throw new at("netbanking".concat(X));case 35:return re.next=37,y._netBanking.pay(y.paymentSessionId,I,P);case 37:return U=re.sent,y._paymentWindow=y._netBanking.handlePaymentResponse(U,y._abortPayment,y.setPaymentData),re.abrupt("break",76);case 40:if(y._collect){re.next=42;break}throw new at("upi-collect".concat(X));case 42:return re.next=44,y._collect.pay(y.paymentSessionId,I,P);case 44:return U=re.sent,y._paymentWindow=y._collect.handlePaymentResponse(U,y._abortPayment,y.setPaymentData),re.abrupt("break",76);case 47:if(y._emi){re.next=49;break}throw new at("emi".concat(X));case 49:return re.next=51,y._emi.pay(y.paymentSessionId,I,P);case 51:return U=re.sent,y._paymentWindow=y._emi.handlePaymentResponse(U,y._abortPayment),re.abrupt("break",76);case 54:if(y._qrCode){re.next=56;break}throw new at("upi-qrcode".concat(X));case 56:return re.next=58,y._qrCode.pay(y.paymentSessionId,I,P);case 58:return U=re.sent,y._paymentWindow=y._qrCode.handlePaymentResponse(U,y._abortPayment),re.abrupt("break",76);case 61:if(y._paylater){re.next=63;break}throw new at("paylater".concat(X));case 63:return re.next=65,y._paylater.pay(y.paymentSessionId,I,P);case 65:return U=re.sent,y._paymentWindow=y._paylater.handlePaymentResponse(U,y._abortPayment,y.setPaymentData,y.payHeadless),re.abrupt("break",76);case 68:if(y._cardlessEmi){re.next=70;break}throw new at("cardlessEmi".concat(X));case 70:return re.next=72,y._cardlessEmi.pay(y.paymentSessionId,I,P);case 72:return U=re.sent,y._paymentWindow=y._cardlessEmi.handlePaymentResponse(U,y._abortPayment),re.abrupt("break",76);case 75:throw new at("Supported payment Modes are card, netbanking, upi-qrcode, emi, upi-collect, upi-intent and app. You provided:: ".concat(T),qn);case 76:y._handlePaymentWindowClose(),re.next=86;break;case 79:re.prev=79,re.t1=re.catch(3),G=window,(te=G.paymentWindow)&&!te.closed&&te.close(),re.t1.type!==a0&&C(y,Rs,!1),g(y,hr).onError({message:re.t1.message,type:re.t1.type,paymentMode:re.t1.paymentMode});case 86:case"end":return re.stop()}},E,null,[[3,79]])}));return function(E,T,I){return x.apply(this,arguments)}}()),f(this,"checkValidity",function(x){switch(x){case"card":return y._card.isValid();case"netbanking":return y._netBanking.isValid();case"app":return y._app.isValid();case"upi-collect":return y._collect.isValid();case"upi-qrcode":return!0;case"upi-intent":return y._intent.isValid();case"paylater":return y._paylater.isValid();case"creditcardemi":case"debitcardemi":return y._emi.isValid();case"cardlessemi":return y._cardlessEmi.isValid();default:return!1}}),f(this,"getSupportedElements",p(xe().mark(function x(){var E;return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,Lc.getSupportedPaymentModes(y.paymentSessionId);case 3:return E=I.sent,I.abrupt("return",E);case 7:return I.prev=7,I.t0=I.catch(0),g(y,hr).onError({message:I.t0.message,type:I.t0.type,paymentMode:I.t0.paymentMode}),I.abrupt("return",null);case 12:case"end":return I.stop()}},x,null,[[0,7]])}))),f(this,"getSupportedPaymentOptions",function(){var x=p(xe().mark(function E(T){var I;return xe().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,Lc.getSupportedPaymentOptions(y.paymentSessionId,T);case 3:return I=L.sent,L.abrupt("return",I);case 7:return L.prev=7,L.t0=L.catch(0),g(y,hr).onError({message:L.t0.message,type:L.t0.type,paymentMode:L.t0.paymentMode}),L.abrupt("return",null);case 12:case"end":return L.stop()}},E,null,[[0,7]])}));return function(E){return x.apply(this,arguments)}}()),f(this,"getOrderDetails",p(xe().mark(function x(){var E;return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,Lc.getOrderDetails(y.paymentSessionId);case 3:return E=I.sent,I.abrupt("return",E);case 7:return I.prev=7,I.t0=I.catch(0),I.abrupt("return",{});case 11:case"end":return I.stop()}},x,null,[[0,7]])}))),f(this,"getTheme",p(xe().mark(function x(){var E;return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,Lc.getTheme(y.paymentSessionId);case 3:return E=I.sent,I.abrupt("return",E);case 7:return I.prev=7,I.t0=I.catch(0),I.abrupt("return",null);case 11:case"end":return I.stop()}},x,null,[[0,7]])}))),f(this,"_handlePaymentStatusResponse",function(x){x.order&&(y._paymentWindow&&(y._paymentWindow.close&&y._paymentWindow.close(),clearInterval(y._paymentWindowInterval)),document.getElementById("cashfree-iframe-container")&&qa(),Xa(),document.getElementById("cashfree-qrcode-container")&&document.getElementById("cashfree-qrcode-container").remove(),x.transaction&&x.transaction.txStatus&&x.transaction.txStatus.toLowerCase()==="success"?g(y,hr).onPaymentSuccess(x):x.order&&g(y,hr).onPaymentFailure(x),C(y,Rs,!1))}),f(this,"_handlePaymentWindowClose",function(){y._paymentWindowInterval=setInterval(function(){y._paymentWindow&&y._paymentWindow.closed&&(C(y,Rs,!1),Xa(),document.getElementById("cashfree-iframe-container")&&qa(),clearInterval(y._paymentWindowInterval),g(y,hr).onError({message:"User closed the Payment Window.",type:qn}))},500)}),f(this,"_abortPayment",function(x){C(y,Rs,!1),Xa(),x||g(y,hr).onError({message:"Payment aborted by the User.",type:qn}),document.getElementById("cashfree-iframe-container")&&qa(),clearInterval(y._paymentWindowInterval)}),f(this,"payHeadless",function(){var x=p(xe().mark(function E(T){var I,P,L;return xe().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return I=T.transaction,X.next=3,y.getOrderDetails();case 3:P=X.sent,L={transaction:I,order:{status:"PAID",orderId:P.orderId}},y._handlePaymentStatusResponse(L);case 6:case"end":return X.stop()}},E)}));return function(E){return x.apply(this,arguments)}}()),f(this,"_abortTimeout",function(x){C(y,Rs,!1),Xa(),g(y,hr).onError({message:x,type:qn}),document.getElementById("cashfree-iframe-container")&&qa(),clearInterval(y._paymentWindowInterval)}),f(this,"setPaymentData",function(x){y.paymentData=x}),f(this,"getPaymentData",function(){return y.paymentData}),Zn({dsn:"https://cedc1464859a4af7a1d368f8aa398fef@o330525.ingest.sentry.io/6487617",integrations:[new Oh],environment:"Production",allowUrls:["cashfree.com"]}),typeof v.onPaymentSuccess!="function")throw new Error(it);if(typeof v.onPaymentFailure!="function")throw new Error(vt);if(typeof v.onError!="function")throw new Error(It);this.paymentSessionId=v.paymentSessionId,delete v.paymentSessionId,C(this,hr,Object.assign(g(this,hr),v)),C(this,Rs,!1),function(E){window.addEventListener("message",function(T){["http://localhost:3190","https://gamma.cashfree.com","https://sandbox.cashfree.com","https://test.cashfree.com","https://payments-test.cashfree.com","https://payments.cashfree.com","https://api.cashfree.com"].indexOf(T.origin)>-1&&E(T.data)})}(this._handlePaymentStatusResponse)},_2=function(v){return new w2(v)},S2=function _(v){var y=this;m(this,_),f(this,"serverURL","https://api.cashfree.com/pg"),f(this,"drop",function(){var x=p(xe().mark(function E(T,I){var P,L,U,X,G;return xe().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(I){ce.next=2;break}throw new Error("[initialiseDropin] config missing");case 2:if(I.components){ce.next=4;break}throw new Error("[initialiseDropin] components missing in config.");case 4:if(typeof I.onSuccess=="function"){ce.next=6;break}throw new Error(it);case 6:if(typeof I.onFailure=="function"){ce.next=8;break}throw new Error(vt);case 8:if(y.paymentSessionId){ce.next=10;break}throw new Error("PaymentSessionId missing");case 10:I.paymentSessionId=y.paymentSessionId,P=I.onSuccess,L=I.onFailure,U=y,window.addEventListener("message",function(pe){var re=pe.data,be=re.orderData,Re=re.randomId;U.randomId===Re&&(be.order.status==="PAID"?P(be):L(be))}),X=document.getElementById("dropin_frame"+y.randomId),(G=X||document.createElement("iframe")).setAttribute("allowpaymentrequest",!0),G.id="dropin_frame"+y.randomId,G.style=`
            width: 100%;
            height: 100%;
            border: none;
            background-color: rgb(248, 250, 247);
        `,delete I.onSuccess,delete I.onFailure,G.onload=function(){var pe=d(I.components),re=pe.indexOf("order-details"),be=0;if(re>-1&&(pe.length===1?G.style.minHeight="200px":be+=160,pe.splice(re,1)),pe.length===1)switch(pe[0]){case"card":G.style.minHeight=be+200+"px";break;case"upi-qrcode":G.style.minHeight="360px";break;case"upi-collect":G.style.minHeight=be+190+"px";break;case"app":G.style.minHeight=475+(be>0?be-30:0)+"px";break;case"netbanking":G.style.minHeight=be+410+"px";break;case"upi-intent":G.style.minHeight=be+400+"px";break;default:G.style.minHeight="100%"}else pe.length>1&&(pe.includes("app")?G.style.minHeight=575+(be>0?be-30:0)+"px":pe.includes("netbanking")?G.style.minHeight=be+470+"px":pe.includes("upi-intent")?G.style.minHeight=be+400+"px":pe.includes("card")||pe.includes("qr-code")?G.style.minHeight=be+340+"px":pe.includes("upi-collect")&&(G.style.minHeight=be+240+"px"));I.frameHeight=G.clientHeight,I.randomId=U.randomId,I.paymentSessionId=U.paymentSessionId;var Re=window.location,lt=Re.host,Et=Re.pathname,et=Re.search,Rt=Re.href;I.parentUrl=lt+Et+et,I.locationParent=Rt,G.contentWindow.postMessage(I,"*")},G.src="".concat("https://api.cashfree.com/pg/view","/dropin/").concat(wt),T.appendChild(G);case 25:case"end":return ce.stop()}},E)}));return function(E,T){return x.apply(this,arguments)}}()),f(this,"redirect",function(){var x=document.getElementById("invisible-cf-div");x&&x.parentElement.removeChild(x);var E=document.createElement("div");E.setAttribute("id","invisible-cf-div");var T=y.serverURL+"/view/sessions/checkout",I=document.createElement("form");if(I.setAttribute("id","invisible-cf-form"),I.setAttribute("method","post"),I.setAttribute("action",T),I.setAttribute("target","_top"),I.style.width="0px",I.style.height="0px",I.style.display="none",!y.paymentSessionId)throw new Error("Payment Session Id is required");var P=document.createElement("input");P.setAttribute("type","text"),P.setAttribute("name","payment_session_id"),P.setAttribute("value",y.paymentSessionId),I.appendChild(P);var L={userAgent:window.navigator.userAgent},U=Object.entries(L).sort().reduce(function(G,te){var ce=u(te,2),pe=ce[0],re=ce[1];return G[pe]=re,G},{}),X=btoa(JSON.stringify(U));(P=document.createElement("input")).setAttribute("type","text"),P.setAttribute("name","browser_meta"),P.setAttribute("value",X),I.appendChild(P),(P=document.createElement("input")).setAttribute("type","text"),P.setAttribute("name","platform"),P.setAttribute("value","js-ch"),I.appendChild(P),document.body.appendChild(E),E.appendChild(I),I.submit()}),f(this,"elements",function(x){return x.paymentSessionId=y.paymentSessionId,_2(x)}),this.paymentSessionId=v,this.randomId=Math.floor(1e5*Math.random())}},3099:i=>{i.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},6077:(i,a,o)=>{var l=o(111);i.exports=function(c){if(!l(c)&&c!==null)throw TypeError("Can't set "+String(c)+" as a prototype");return c}},1223:(i,a,o)=>{var l=o(5112),c=o(30),u=o(3070),d=l("unscopables"),h=Array.prototype;h[d]==null&&u.f(h,d,{configurable:!0,value:c(null)}),i.exports=function(p){h[d][p]=!0}},1530:(i,a,o)=>{var l=o(8710).charAt;i.exports=function(c,u,d){return u+(d?l(c,u).length:1)}},5787:i=>{i.exports=function(a,o,l){if(!(a instanceof o))throw TypeError("Incorrect "+(l?l+" ":"")+"invocation");return a}},9670:(i,a,o)=>{var l=o(111);i.exports=function(c){if(!l(c))throw TypeError(String(c)+" is not an object");return c}},8533:(i,a,o)=>{var l=o(2092).forEach,c=o(9341)("forEach");i.exports=c?[].forEach:function(d){return l(this,d,arguments.length>1?arguments[1]:void 0)}},8457:(i,a,o)=>{var l=o(9974),c=o(7908),u=o(3411),d=o(7659),h=o(7466),p=o(6135),m=o(8554),f=o(1246);i.exports=function(w){var g,C,k,N,A,O,R=c(w),$=typeof this=="function"?this:Array,D=arguments.length,B=D>1?arguments[1]:void 0,M=B!==void 0,z=f(R),W=0;if(M&&(B=l(B,D>2?arguments[2]:void 0,2)),z==null||$==Array&&d(z))for(C=new $(g=h(R.length));g>W;W++)O=M?B(R[W],W):R[W],p(C,W,O);else for(A=(N=m(R,z)).next,C=new $;!(k=A.call(N)).done;W++)O=M?u(N,B,[k.value,W],!0):k.value,p(C,W,O);return C.length=W,C}},1318:(i,a,o)=>{var l=o(5656),c=o(7466),u=o(1400),d=function(h){return function(p,m,f){var b,w=l(p),g=c(w.length),C=u(f,g);if(h&&m!=m){for(;g>C;)if((b=w[C++])!=b)return!0}else for(;g>C;C++)if((h||C in w)&&w[C]===m)return h||C||0;return!h&&-1}};i.exports={includes:d(!0),indexOf:d(!1)}},2092:(i,a,o)=>{var l=o(9974),c=o(8361),u=o(7908),d=o(7466),h=o(5417),p=[].push,m=function(f){var b=f==1,w=f==2,g=f==3,C=f==4,k=f==6,N=f==7,A=f==5||k;return function(O,R,$,D){for(var B,M,z=u(O),W=c(z),V=l(R,$,3),q=d(W.length),H=0,K=D||h,F=b?K(O,q):w||N?K(O,0):void 0;q>H;H++)if((A||H in W)&&(M=V(B=W[H],H,z),f))if(b)F[H]=M;else if(M)switch(f){case 3:return!0;case 5:return B;case 6:return H;case 2:p.call(F,B)}else switch(f){case 4:return!1;case 7:p.call(F,B)}return k?-1:g||C?C:F}};i.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6),filterReject:m(7)}},1194:(i,a,o)=>{var l=o(7293),c=o(5112),u=o(7392),d=c("species");i.exports=function(h){return u>=51||!l(function(){var p=[];return(p.constructor={})[d]=function(){return{foo:1}},p[h](Boolean).foo!==1})}},9341:(i,a,o)=>{var l=o(7293);i.exports=function(c,u){var d=[][c];return!!d&&l(function(){d.call(null,u||function(){throw 1},1)})}},3671:(i,a,o)=>{var l=o(3099),c=o(7908),u=o(8361),d=o(7466),h=function(p){return function(m,f,b,w){l(f);var g=c(m),C=u(g),k=d(g.length),N=p?k-1:0,A=p?-1:1;if(b<2)for(;;){if(N in C){w=C[N],N+=A;break}if(N+=A,p?N<0:k<=N)throw TypeError("Reduce of empty array with no initial value")}for(;p?N>=0:k>N;N+=A)N in C&&(w=f(w,C[N],N,g));return w}};i.exports={left:h(!1),right:h(!0)}},4362:i=>{var a=Math.floor,o=function(u,d){var h=u.length,p=a(h/2);return h<8?l(u,d):c(o(u.slice(0,p),d),o(u.slice(p),d),d)},l=function(u,d){for(var h,p,m=u.length,f=1;f<m;){for(p=f,h=u[f];p&&d(u[p-1],h)>0;)u[p]=u[--p];p!==f++&&(u[p]=h)}return u},c=function(u,d,h){for(var p=u.length,m=d.length,f=0,b=0,w=[];f<p||b<m;)f<p&&b<m?w.push(h(u[f],d[b])<=0?u[f++]:d[b++]):w.push(f<p?u[f++]:d[b++]);return w};i.exports=o},7475:(i,a,o)=>{var l=o(111),c=o(3157),u=o(5112)("species");i.exports=function(d){var h;return c(d)&&(typeof(h=d.constructor)!="function"||h!==Array&&!c(h.prototype)?l(h)&&(h=h[u])===null&&(h=void 0):h=void 0),h===void 0?Array:h}},5417:(i,a,o)=>{var l=o(7475);i.exports=function(c,u){return new(l(c))(u===0?0:u)}},3411:(i,a,o)=>{var l=o(9670),c=o(9212);i.exports=function(u,d,h,p){try{return p?d(l(h)[0],h[1]):d(h)}catch(m){c(u,"throw",m)}}},7072:(i,a,o)=>{var l=o(5112)("iterator"),c=!1;try{var u=0,d={next:function(){return{done:!!u++}},return:function(){c=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,p){if(!p&&!c)return!1;var m=!1;try{var f={};f[l]=function(){return{next:function(){return{done:m=!0}}}},h(f)}catch{}return m}},4326:i=>{var a={}.toString;i.exports=function(o){return a.call(o).slice(8,-1)}},648:(i,a,o)=>{var l=o(1694),c=o(4326),u=o(5112)("toStringTag"),d=c(function(){return arguments}())=="Arguments";i.exports=l?c:function(h){var p,m,f;return h===void 0?"Undefined":h===null?"Null":typeof(m=function(b,w){try{return b[w]}catch{}}(p=Object(h),u))=="string"?m:d?c(p):(f=c(p))=="Object"&&typeof p.callee=="function"?"Arguments":f}},9320:(i,a,o)=>{var l=o(2248),c=o(2423).getWeakData,u=o(9670),d=o(111),h=o(5787),p=o(408),m=o(2092),f=o(6656),b=o(9909),w=b.set,g=b.getterFor,C=m.find,k=m.findIndex,N=0,A=function($){return $.frozen||($.frozen=new O)},O=function(){this.entries=[]},R=function($,D){return C($.entries,function(B){return B[0]===D})};O.prototype={get:function($){var D=R(this,$);if(D)return D[1]},has:function($){return!!R(this,$)},set:function($,D){var B=R(this,$);B?B[1]=D:this.entries.push([$,D])},delete:function($){var D=k(this.entries,function(B){return B[0]===$});return~D&&this.entries.splice(D,1),!!~D}},i.exports={getConstructor:function($,D,B,M){var z=$(function(q,H){h(q,z,D),w(q,{type:D,id:N++,frozen:void 0}),H!=null&&p(H,q[M],{that:q,AS_ENTRIES:B})}),W=g(D),V=function(q,H,K){var F=W(q),ie=c(u(H),!0);return ie===!0?A(F).set(H,K):ie[F.id]=K,q};return l(z.prototype,{delete:function(q){var H=W(this);if(!d(q))return!1;var K=c(q);return K===!0?A(H).delete(q):K&&f(K,H.id)&&delete K[H.id]},has:function(H){var K=W(this);if(!d(H))return!1;var F=c(H);return F===!0?A(K).has(H):F&&f(F,K.id)}}),l(z.prototype,B?{get:function(H){var K=W(this);if(d(H)){var F=c(H);return F===!0?A(K).get(H):F?F[K.id]:void 0}},set:function(H,K){return V(this,H,K)}}:{add:function(H){return V(this,H,!0)}}),z}}},7710:(i,a,o)=>{var l=o(2109),c=o(7854),u=o(4705),d=o(1320),h=o(2423),p=o(408),m=o(5787),f=o(111),b=o(7293),w=o(7072),g=o(8003),C=o(9587);i.exports=function(k,N,A){var O=k.indexOf("Map")!==-1,R=k.indexOf("Weak")!==-1,$=O?"set":"add",D=c[k],B=D&&D.prototype,M=D,z={},W=function(ie){var de=B[ie];d(B,ie,ie=="add"?function(J){return de.call(this,J===0?0:J),this}:ie=="delete"?function(ee){return!(R&&!f(ee))&&de.call(this,ee===0?0:ee)}:ie=="get"?function(J){return R&&!f(J)?void 0:de.call(this,J===0?0:J)}:ie=="has"?function(J){return!(R&&!f(J))&&de.call(this,J===0?0:J)}:function(J,ae){return de.call(this,J===0?0:J,ae),this})};if(u(k,typeof D!="function"||!(R||B.forEach&&!b(function(){new D().entries().next()}))))M=A.getConstructor(N,k,O,$),h.enable();else if(u(k,!0)){var V=new M,q=V[$](R?{}:-0,1)!=V,H=b(function(){V.has(1)}),K=w(function(ie){new D(ie)}),F=!R&&b(function(){for(var ie=new D,de=5;de--;)ie[$](de,de);return!ie.has(-0)});K||((M=N(function(ie,de){m(ie,M,k);var ee=C(new D,ie,M);return de!=null&&p(de,ee[$],{that:ee,AS_ENTRIES:O}),ee})).prototype=B,B.constructor=M),(H||F)&&(W("delete"),W("has"),O&&W("get")),(F||q)&&W($),R&&B.clear&&delete B.clear}return z[k]=M,l({global:!0,forced:M!=D},z),g(M,k),R||A.setStrong(M,k,O),M}},9920:(i,a,o)=>{var l=o(6656),c=o(3887),u=o(1236),d=o(3070);i.exports=function(h,p){for(var m=c(p),f=d.f,b=u.f,w=0;w<m.length;w++){var g=m[w];l(h,g)||f(h,g,b(p,g))}}},4964:(i,a,o)=>{var l=o(5112)("match");i.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[l]=!1,"/./"[c](u)}catch{}}return!1}},8544:(i,a,o)=>{var l=o(7293);i.exports=!l(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},4994:(i,a,o)=>{var l=o(3383).IteratorPrototype,c=o(30),u=o(9114),d=o(8003),h=o(7497),p=function(){return this};i.exports=function(m,f,b){var w=f+" Iterator";return m.prototype=c(l,{next:u(1,b)}),d(m,w,!1,!0),h[w]=p,m}},8880:(i,a,o)=>{var l=o(9781),c=o(3070),u=o(9114);i.exports=l?function(d,h,p){return c.f(d,h,u(1,p))}:function(d,h,p){return d[h]=p,d}},9114:i=>{i.exports=function(a,o){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:o}}},6135:(i,a,o)=>{var l=o(4948),c=o(3070),u=o(9114);i.exports=function(d,h,p){var m=l(h);m in d?c.f(d,m,u(0,p)):d[m]=p}},654:(i,a,o)=>{var l=o(2109),c=o(4994),u=o(9518),d=o(7674),h=o(8003),p=o(8880),m=o(1320),f=o(5112),b=o(1913),w=o(7497),g=o(3383),C=g.IteratorPrototype,k=g.BUGGY_SAFARI_ITERATORS,N=f("iterator"),A="keys",O="values",R="entries",$=function(){return this};i.exports=function(D,B,M,z,W,V,q){c(M,B,z);var H,K,F,ie=function(Ee){if(Ee===W&&ue)return ue;if(!k&&Ee in J)return J[Ee];switch(Ee){case A:return function(){return new M(this,Ee)};case O:return function(){return new M(this,Ee)};case R:return function(){return new M(this,Ee)}}return function(){return new M(this)}},de=B+" Iterator",ee=!1,J=D.prototype,ae=J[N]||J["@@iterator"]||W&&J[W],ue=!k&&ae||ie(W),le=B=="Array"&&J.entries||ae;if(le&&(H=u(le.call(new D)),C!==Object.prototype&&H.next&&(b||u(H)===C||(d?d(H,C):typeof H[N]!="function"&&p(H,N,$)),h(H,de,!0,!0),b&&(w[de]=$))),W==O&&ae&&ae.name!==O&&(ee=!0,ue=function(){return ae.call(this)}),b&&!q||J[N]===ue||p(J,N,ue),w[B]=ue,W)if(K={values:ie(O),keys:V?ue:ie(A),entries:ie(R)},q)for(F in K)(k||ee||!(F in J))&&m(J,F,K[F]);else l({target:B,proto:!0,forced:k||ee},K);return K}},7235:(i,a,o)=>{var l=o(857),c=o(6656),u=o(6061),d=o(3070).f;i.exports=function(h){var p=l.Symbol||(l.Symbol={});c(p,h)||d(p,h,{value:u.f(h)})}},9781:(i,a,o)=>{var l=o(7293);i.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},317:(i,a,o)=>{var l=o(7854),c=o(111),u=l.document,d=c(u)&&c(u.createElement);i.exports=function(h){return d?u.createElement(h):{}}},8324:i=>{i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8886:(i,a,o)=>{var l=o(8113).match(/firefox\/(\d+)/i);i.exports=!!l&&+l[1]},7871:i=>{i.exports=typeof window=="object"},256:(i,a,o)=>{var l=o(8113);i.exports=/MSIE|Trident/.test(l)},1528:(i,a,o)=>{var l=o(8113),c=o(7854);i.exports=/ipad|iphone|ipod/i.test(l)&&c.Pebble!==void 0},6833:(i,a,o)=>{var l=o(8113);i.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},5268:(i,a,o)=>{var l=o(4326),c=o(7854);i.exports=l(c.process)=="process"},1036:(i,a,o)=>{var l=o(8113);i.exports=/web0s(?!.*chrome)/i.test(l)},8113:(i,a,o)=>{var l=o(5005);i.exports=l("navigator","userAgent")||""},7392:(i,a,o)=>{var l,c,u=o(7854),d=o(8113),h=u.process,p=u.Deno,m=h&&h.versions||p&&p.version,f=m&&m.v8;f?c=(l=f.split("."))[0]<4?1:l[0]+l[1]:d&&(!(l=d.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=d.match(/Chrome\/(\d+)/))&&(c=l[1]),i.exports=c&&+c},8008:(i,a,o)=>{var l=o(8113).match(/AppleWebKit\/(\d+)\./);i.exports=!!l&&+l[1]},748:i=>{i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(i,a,o)=>{var l=o(7854),c=o(1236).f,u=o(8880),d=o(1320),h=o(3505),p=o(9920),m=o(4705);i.exports=function(f,b){var w,g,C,k,N,A=f.target,O=f.global,R=f.stat;if(w=O?l:R?l[A]||h(A,{}):(l[A]||{}).prototype)for(g in b){if(k=b[g],C=f.noTargetGet?(N=c(w,g))&&N.value:w[g],!m(O?g:A+(R?".":"#")+g,f.forced)&&C!==void 0){if(typeof k==typeof C)continue;p(k,C)}(f.sham||C&&C.sham)&&u(k,"sham",!0),d(w,g,k,f)}}},7293:i=>{i.exports=function(a){try{return!!a()}catch{return!0}}},7007:(i,a,o)=>{o(4916);var l=o(1320),c=o(2261),u=o(7293),d=o(5112),h=o(8880),p=d("species"),m=RegExp.prototype;i.exports=function(f,b,w,g){var C=d(f),k=!u(function(){var R={};return R[C]=function(){return 7},""[f](R)!=7}),N=k&&!u(function(){var R=!1,$=/a/;return f==="split"&&(($={}).constructor={},$.constructor[p]=function(){return $},$.flags="",$[C]=/./[C]),$.exec=function(){return R=!0,null},$[C](""),!R});if(!k||!N||w){var A=/./[C],O=b(C,""[f],function(R,$,D,B,M){var z=$.exec;return z===c||z===m.exec?k&&!M?{done:!0,value:A.call($,D,B)}:{done:!0,value:R.call(D,$,B)}:{done:!1}});l(String.prototype,f,O[0]),l(m,C,O[1])}g&&h(m[C],"sham",!0)}},6677:(i,a,o)=>{var l=o(7293);i.exports=!l(function(){return Object.isExtensible(Object.preventExtensions({}))})},9974:(i,a,o)=>{var l=o(3099);i.exports=function(c,u,d){if(l(c),u===void 0)return c;switch(d){case 0:return function(){return c.call(u)};case 1:return function(h){return c.call(u,h)};case 2:return function(h,p){return c.call(u,h,p)};case 3:return function(h,p,m){return c.call(u,h,p,m)}}return function(){return c.apply(u,arguments)}}},7065:(i,a,o)=>{var l=o(3099),c=o(111),u=[].slice,d={},h=function(p,m,f){if(!(m in d)){for(var b=[],w=0;w<m;w++)b[w]="a["+w+"]";d[m]=Function("C,a","return new C("+b.join(",")+")")}return d[m](p,f)};i.exports=Function.bind||function(m){var f=l(this),b=u.call(arguments,1),w=function(){var C=b.concat(u.call(arguments));return this instanceof w?h(f,C.length,C):f.apply(m,C)};return c(f.prototype)&&(w.prototype=f.prototype),w}},5005:(i,a,o)=>{var l=o(7854),c=function(u){return typeof u=="function"?u:void 0};i.exports=function(u,d){return arguments.length<2?c(l[u]):l[u]&&l[u][d]}},1246:(i,a,o)=>{var l=o(648),c=o(7497),u=o(5112)("iterator");i.exports=function(d){if(d!=null)return d[u]||d["@@iterator"]||c[l(d)]}},8554:(i,a,o)=>{var l=o(9670),c=o(1246);i.exports=function(u,d){var h=arguments.length<2?c(u):d;if(typeof h!="function")throw TypeError(String(u)+" is not iterable");return l(h.call(u))}},647:(i,a,o)=>{var l=o(7908),c=Math.floor,u="".replace,d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,h=/\$([$&'`]|\d{1,2})/g;i.exports=function(p,m,f,b,w,g){var C=f+p.length,k=b.length,N=h;return w!==void 0&&(w=l(w),N=d),u.call(g,N,function(A,O){var R;switch(O.charAt(0)){case"$":return"$";case"&":return p;case"`":return m.slice(0,f);case"'":return m.slice(C);case"<":R=w[O.slice(1,-1)];break;default:var $=+O;if($===0)return A;if($>k){var D=c($/10);return D===0?A:D<=k?b[D-1]===void 0?O.charAt(1):b[D-1]+O.charAt(1):A}R=b[$-1]}return R===void 0?"":R})}},7854:(i,a,o)=>{var l=function(c){return c&&c.Math==Math&&c};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof o.g=="object"&&o.g)||function(){return this}()||Function("return this")()},6656:(i,a,o)=>{var l=o(7908),c={}.hasOwnProperty;i.exports=Object.hasOwn||function(d,h){return c.call(l(d),h)}},3501:i=>{i.exports={}},842:(i,a,o)=>{var l=o(7854);i.exports=function(c,u){var d=l.console;d&&d.error&&(arguments.length===1?d.error(c):d.error(c,u))}},490:(i,a,o)=>{var l=o(5005);i.exports=l("document","documentElement")},4664:(i,a,o)=>{var l=o(9781),c=o(7293),u=o(317);i.exports=!l&&!c(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},8361:(i,a,o)=>{var l=o(7293),c=o(4326),u="".split;i.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return c(d)=="String"?u.call(d,""):Object(d)}:Object},9587:(i,a,o)=>{var l=o(111),c=o(7674);i.exports=function(u,d,h){var p,m;return c&&typeof(p=d.constructor)=="function"&&p!==h&&l(m=p.prototype)&&m!==h.prototype&&c(u,m),u}},2788:(i,a,o)=>{var l=o(5465),c=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(u){return c.call(u)}),i.exports=l.inspectSource},2423:(i,a,o)=>{var l=o(2109),c=o(3501),u=o(111),d=o(6656),h=o(3070).f,p=o(8006),m=o(1156),f=o(9711),b=o(6677),w=!1,g=f("meta"),C=0,k=Object.isExtensible||function(){return!0},N=function(O){h(O,g,{value:{objectID:"O"+C++,weakData:{}}})},A=i.exports={enable:function(){A.enable=function(){},w=!0;var O=p.f,R=[].splice,$={};$[g]=1,O($).length&&(p.f=function(D){for(var B=O(D),M=0,z=B.length;M<z;M++)if(B[M]===g){R.call(B,M,1);break}return B},l({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:m.f}))},fastKey:function(O,R){if(!u(O))return typeof O=="symbol"?O:(typeof O=="string"?"S":"P")+O;if(!d(O,g)){if(!k(O))return"F";if(!R)return"E";N(O)}return O[g].objectID},getWeakData:function(O,R){if(!d(O,g)){if(!k(O))return!0;if(!R)return!1;N(O)}return O[g].weakData},onFreeze:function(O){return b&&w&&k(O)&&!d(O,g)&&N(O),O}};c[g]=!0},9909:(i,a,o)=>{var l,c,u,d=o(8536),h=o(7854),p=o(111),m=o(8880),f=o(6656),b=o(5465),w=o(6200),g=o(3501),C="Object already initialized",k=h.WeakMap;if(d||b.state){var N=b.state||(b.state=new k),A=N.get,O=N.has,R=N.set;l=function(D,B){if(O.call(N,D))throw new TypeError(C);return B.facade=D,R.call(N,D,B),B},c=function(D){return A.call(N,D)||{}},u=function(D){return O.call(N,D)}}else{var $=w("state");g[$]=!0,l=function(D,B){if(f(D,$))throw new TypeError(C);return B.facade=D,m(D,$,B),B},c=function(D){return f(D,$)?D[$]:{}},u=function(D){return f(D,$)}}i.exports={set:l,get:c,has:u,enforce:function(D){return u(D)?c(D):l(D,{})},getterFor:function(D){return function(B){var M;if(!p(B)||(M=c(B)).type!==D)throw TypeError("Incompatible receiver, "+D+" required");return M}}}},7659:(i,a,o)=>{var l=o(5112),c=o(7497),u=l("iterator"),d=Array.prototype;i.exports=function(h){return h!==void 0&&(c.Array===h||d[u]===h)}},3157:(i,a,o)=>{var l=o(4326);i.exports=Array.isArray||function(u){return l(u)=="Array"}},4705:(i,a,o)=>{var l=o(7293),c=/#|\.prototype\./,u=function(f,b){var w=h[d(f)];return w==m||w!=p&&(typeof b=="function"?l(b):!!b)},d=u.normalize=function(f){return String(f).replace(c,".").toLowerCase()},h=u.data={},p=u.NATIVE="N",m=u.POLYFILL="P";i.exports=u},111:i=>{i.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},1913:i=>{i.exports=!1},7850:(i,a,o)=>{var l=o(111),c=o(4326),u=o(5112)("match");i.exports=function(d){var h;return l(d)&&((h=d[u])!==void 0?!!h:c(d)=="RegExp")}},2190:(i,a,o)=>{var l=o(5005),c=o(3307);i.exports=c?function(u){return typeof u=="symbol"}:function(u){var d=l("Symbol");return typeof d=="function"&&Object(u)instanceof d}},408:(i,a,o)=>{var l=o(9670),c=o(7659),u=o(7466),d=o(9974),h=o(8554),p=o(1246),m=o(9212),f=function(b,w){this.stopped=b,this.result=w};i.exports=function(b,w,g){var C,k,N,A,O,R,$,D=g&&g.that,B=!(!g||!g.AS_ENTRIES),M=!(!g||!g.IS_ITERATOR),z=!(!g||!g.INTERRUPTED),W=d(w,D,1+B+z),V=function(H){return C&&m(C,"normal",H),new f(!0,H)},q=function(H){return B?(l(H),z?W(H[0],H[1],V):W(H[0],H[1])):z?W(H,V):W(H)};if(M)C=b;else{if(typeof(k=p(b))!="function")throw TypeError("Target is not iterable");if(c(k)){for(N=0,A=u(b.length);A>N;N++)if((O=q(b[N]))&&O instanceof f)return O;return new f(!1)}C=h(b,k)}for(R=C.next;!($=R.call(C)).done;){try{O=q($.value)}catch(H){m(C,"throw",H)}if(typeof O=="object"&&O&&O instanceof f)return O}return new f(!1)}},9212:(i,a,o)=>{var l=o(9670);i.exports=function(c,u,d){var h,p;l(c);try{if((h=c.return)===void 0){if(u==="throw")throw d;return d}h=h.call(c)}catch(m){p=!0,h=m}if(u==="throw")throw d;if(p)throw h;return l(h),d}},3383:(i,a,o)=>{var l,c,u,d=o(7293),h=o(9518),p=o(8880),m=o(6656),f=o(5112),b=o(1913),w=f("iterator"),g=!1;[].keys&&("next"in(u=[].keys())?(c=h(h(u)))!==Object.prototype&&(l=c):g=!0);var C=l==null||d(function(){var k={};return l[w].call(k)!==k});C&&(l={}),b&&!C||m(l,w)||p(l,w,function(){return this}),i.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:g}},7497:i=>{i.exports={}},5948:(i,a,o)=>{var l,c,u,d,h,p,m,f,b=o(7854),w=o(1236).f,g=o(261).set,C=o(6833),k=o(1528),N=o(1036),A=o(5268),O=b.MutationObserver||b.WebKitMutationObserver,R=b.document,$=b.process,D=b.Promise,B=w(b,"queueMicrotask"),M=B&&B.value;M||(l=function(){var z,W;for(A&&(z=$.domain)&&z.exit();c;){W=c.fn,c=c.next;try{W()}catch(V){throw c?d():u=void 0,V}}u=void 0,z&&z.enter()},C||A||N||!O||!R?!k&&D&&D.resolve?((m=D.resolve(void 0)).constructor=D,f=m.then,d=function(){f.call(m,l)}):d=A?function(){$.nextTick(l)}:function(){g.call(b,l)}:(h=!0,p=R.createTextNode(""),new O(l).observe(p,{characterData:!0}),d=function(){p.data=h=!h})),i.exports=M||function(z){var W={fn:z,next:void 0};u&&(u.next=W),c||(c=W,d()),u=W}},3366:(i,a,o)=>{var l=o(7854);i.exports=l.Promise},133:(i,a,o)=>{var l=o(7392),c=o(7293);i.exports=!!Object.getOwnPropertySymbols&&!c(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&l&&l<41})},8536:(i,a,o)=>{var l=o(7854),c=o(2788),u=l.WeakMap;i.exports=typeof u=="function"&&/native code/.test(c(u))},8523:(i,a,o)=>{var l=o(3099),c=function(u){var d,h;this.promise=new u(function(p,m){if(d!==void 0||h!==void 0)throw TypeError("Bad Promise constructor");d=p,h=m}),this.resolve=l(d),this.reject=l(h)};i.exports.f=function(u){return new c(u)}},3929:(i,a,o)=>{var l=o(7850);i.exports=function(c){if(l(c))throw TypeError("The method doesn't accept regular expressions");return c}},3009:(i,a,o)=>{var l=o(7854),c=o(1340),u=o(3111).trim,d=o(1361),h=l.parseInt,p=/^[+-]?0[Xx]/,m=h(d+"08")!==8||h(d+"0x16")!==22;i.exports=m?function(b,w){var g=u(c(b));return h(g,w>>>0||(p.test(g)?16:10))}:h},1574:(i,a,o)=>{var l=o(9781),c=o(7293),u=o(1956),d=o(5181),h=o(5296),p=o(7908),m=o(8361),f=Object.assign,b=Object.defineProperty;i.exports=!f||c(function(){if(l&&f({b:1},f(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var w={},g={},C=Symbol(),k="abcdefghijklmnopqrst";return w[C]=7,k.split("").forEach(function(N){g[N]=N}),f({},w)[C]!=7||u(f({},g)).join("")!=k})?function(g,C){for(var k=p(g),N=arguments.length,A=1,O=d.f,R=h.f;N>A;)for(var $,D=m(arguments[A++]),B=O?u(D).concat(O(D)):u(D),M=B.length,z=0;M>z;)$=B[z++],l&&!R.call(D,$)||(k[$]=D[$]);return k}:f},30:(i,a,o)=>{var l,c=o(9670),u=o(6048),d=o(748),h=o(3501),p=o(490),m=o(317),f=o(6200),b=f("IE_PROTO"),w=function(){},g=function(N){return"<script>"+N+"<\/script>"},C=function(N){N.write(g("")),N.close();var A=N.parentWindow.Object;return N=null,A},k=function(){try{l=new ActiveXObject("htmlfile")}catch{}var N,A;k=typeof document<"u"?document.domain&&l?C(l):((A=m("iframe")).style.display="none",p.appendChild(A),A.src="javascript:",(N=A.contentWindow.document).open(),N.write(g("document.F=Object")),N.close(),N.F):C(l);for(var O=d.length;O--;)delete k.prototype[d[O]];return k()};h[b]=!0,i.exports=Object.create||function(A,O){var R;return A!==null?(w.prototype=c(A),R=new w,w.prototype=null,R[b]=A):R=k(),O===void 0?R:u(R,O)}},6048:(i,a,o)=>{var l=o(9781),c=o(3070),u=o(9670),d=o(1956);i.exports=l?Object.defineProperties:function(p,m){u(p);for(var f,b=d(m),w=b.length,g=0;w>g;)c.f(p,f=b[g++],m[f]);return p}},3070:(i,a,o)=>{var l=o(9781),c=o(4664),u=o(9670),d=o(4948),h=Object.defineProperty;a.f=l?h:function(m,f,b){if(u(m),f=d(f),u(b),c)try{return h(m,f,b)}catch{}if("get"in b||"set"in b)throw TypeError("Accessors not supported");return"value"in b&&(m[f]=b.value),m}},1236:(i,a,o)=>{var l=o(9781),c=o(5296),u=o(9114),d=o(5656),h=o(4948),p=o(6656),m=o(4664),f=Object.getOwnPropertyDescriptor;a.f=l?f:function(w,g){if(w=d(w),g=h(g),m)try{return f(w,g)}catch{}if(p(w,g))return u(!c.f.call(w,g),w[g])}},1156:(i,a,o)=>{var l=o(5656),c=o(8006).f,u={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(p){return d&&u.call(p)=="[object Window]"?function(m){try{return c(m)}catch{return d.slice()}}(p):c(l(p))}},8006:(i,a,o)=>{var l=o(6324),c=o(748).concat("length","prototype");a.f=Object.getOwnPropertyNames||function(d){return l(d,c)}},5181:(i,a)=>{a.f=Object.getOwnPropertySymbols},9518:(i,a,o)=>{var l=o(6656),c=o(7908),u=o(6200),d=o(8544),h=u("IE_PROTO"),p=Object.prototype;i.exports=d?Object.getPrototypeOf:function(m){return m=c(m),l(m,h)?m[h]:typeof m.constructor=="function"&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?p:null}},6324:(i,a,o)=>{var l=o(6656),c=o(5656),u=o(1318).indexOf,d=o(3501);i.exports=function(h,p){var m,f=c(h),b=0,w=[];for(m in f)!l(d,m)&&l(f,m)&&w.push(m);for(;p.length>b;)l(f,m=p[b++])&&(~u(w,m)||w.push(m));return w}},1956:(i,a,o)=>{var l=o(6324),c=o(748);i.exports=Object.keys||function(d){return l(d,c)}},5296:(i,a)=>{var o={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!o.call({1:2},1);a.f=c?function(d){var h=l(this,d);return!!h&&h.enumerable}:o},7674:(i,a,o)=>{var l=o(9670),c=o(6077);i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,d=!1,h={};try{(u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(h,[]),d=h instanceof Array}catch{}return function(m,f){return l(m),c(f),d?u.call(m,f):m.__proto__=f,m}}():void 0)},4699:(i,a,o)=>{var l=o(9781),c=o(1956),u=o(5656),d=o(5296).f,h=function(p){return function(m){for(var f,b=u(m),w=c(b),g=w.length,C=0,k=[];g>C;)f=w[C++],l&&!d.call(b,f)||k.push(p?[f,b[f]]:b[f]);return k}};i.exports={entries:h(!0),values:h(!1)}},288:(i,a,o)=>{var l=o(1694),c=o(648);i.exports=l?{}.toString:function(){return"[object "+c(this)+"]"}},2140:(i,a,o)=>{var l=o(111);i.exports=function(c,u){var d,h;if(u==="string"&&typeof(d=c.toString)=="function"&&!l(h=d.call(c))||typeof(d=c.valueOf)=="function"&&!l(h=d.call(c))||u!=="string"&&typeof(d=c.toString)=="function"&&!l(h=d.call(c)))return h;throw TypeError("Can't convert object to primitive value")}},3887:(i,a,o)=>{var l=o(5005),c=o(8006),u=o(5181),d=o(9670);i.exports=l("Reflect","ownKeys")||function(p){var m=c.f(d(p)),f=u.f;return f?m.concat(f(p)):m}},857:(i,a,o)=>{var l=o(7854);i.exports=l},2534:i=>{i.exports=function(a){try{return{error:!1,value:a()}}catch(o){return{error:!0,value:o}}}},9478:(i,a,o)=>{var l=o(9670),c=o(111),u=o(8523);i.exports=function(d,h){if(l(d),c(h)&&h.constructor===d)return h;var p=u.f(d);return(0,p.resolve)(h),p.promise}},2248:(i,a,o)=>{var l=o(1320);i.exports=function(c,u,d){for(var h in u)l(c,h,u[h],d);return c}},1320:(i,a,o)=>{var l=o(7854),c=o(8880),u=o(6656),d=o(3505),h=o(2788),p=o(9909),m=p.get,f=p.enforce,b=String(String).split("String");(i.exports=function(w,g,C,k){var N,A=!!k&&!!k.unsafe,O=!!k&&!!k.enumerable,R=!!k&&!!k.noTargetGet;typeof C=="function"&&(typeof g!="string"||u(C,"name")||c(C,"name",g),(N=f(C)).source||(N.source=b.join(typeof g=="string"?g:""))),w!==l?(A?!R&&w[g]&&(O=!0):delete w[g],O?w[g]=C:c(w,g,C)):O?w[g]=C:d(g,C)})(Function.prototype,"toString",function(){return typeof this=="function"&&m(this).source||h(this)})},7651:(i,a,o)=>{var l=o(4326),c=o(2261);i.exports=function(u,d){var h=u.exec;if(typeof h=="function"){var p=h.call(u,d);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(l(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return c.call(u,d)}},2261:(i,a,o)=>{var l,c,u=o(1340),d=o(7066),h=o(2999),p=o(2309),m=o(30),f=o(9909).get,b=o(9441),w=o(8173),g=RegExp.prototype.exec,C=p("native-string-replace",String.prototype.replace),k=g,N=(l=/a/,c=/b*/g,g.call(l,"a"),g.call(c,"a"),l.lastIndex!==0||c.lastIndex!==0),A=h.UNSUPPORTED_Y||h.BROKEN_CARET,O=/()??/.exec("")[1]!==void 0;(N||O||A||b||w)&&(k=function($){var D,B,M,z,W,V,q,H=this,K=f(H),F=u($),ie=K.raw;if(ie)return ie.lastIndex=H.lastIndex,D=k.call(ie,F),H.lastIndex=ie.lastIndex,D;var de=K.groups,ee=A&&H.sticky,J=d.call(H),ae=H.source,ue=0,le=F;if(ee&&((J=J.replace("y","")).indexOf("g")===-1&&(J+="g"),le=F.slice(H.lastIndex),H.lastIndex>0&&(!H.multiline||H.multiline&&F.charAt(H.lastIndex-1)!==`
`)&&(ae="(?: "+ae+")",le=" "+le,ue++),B=new RegExp("^(?:"+ae+")",J)),O&&(B=new RegExp("^"+ae+"$(?!\\s)",J)),N&&(M=H.lastIndex),z=g.call(ee?B:H,le),ee?z?(z.input=z.input.slice(ue),z[0]=z[0].slice(ue),z.index=H.lastIndex,H.lastIndex+=z[0].length):H.lastIndex=0:N&&z&&(H.lastIndex=H.global?z.index+z[0].length:M),O&&z&&z.length>1&&C.call(z[0],B,function(){for(W=1;W<arguments.length-2;W++)arguments[W]===void 0&&(z[W]=void 0)}),z&&de)for(z.groups=V=m(null),W=0;W<de.length;W++)V[(q=de[W])[0]]=z[q[1]];return z}),i.exports=k},7066:(i,a,o)=>{var l=o(9670);i.exports=function(){var c=l(this),u="";return c.global&&(u+="g"),c.ignoreCase&&(u+="i"),c.multiline&&(u+="m"),c.dotAll&&(u+="s"),c.unicode&&(u+="u"),c.sticky&&(u+="y"),u}},2999:(i,a,o)=>{var l=o(7293),c=o(7854).RegExp;a.UNSUPPORTED_Y=l(function(){var u=c("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),a.BROKEN_CARET=l(function(){var u=c("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},9441:(i,a,o)=>{var l=o(7293),c=o(7854).RegExp;i.exports=l(function(){var u=c(".","s");return!(u.dotAll&&u.exec(`
`)&&u.flags==="s")})},8173:(i,a,o)=>{var l=o(7293),c=o(7854).RegExp;i.exports=l(function(){var u=c("(?<a>b)","g");return u.exec("b").groups.a!=="b"||"b".replace(u,"$<a>c")!=="bc"})},4488:i=>{i.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},1150:i=>{i.exports=Object.is||function(o,l){return o===l?o!==0||1/o==1/l:o!=o&&l!=l}},3505:(i,a,o)=>{var l=o(7854);i.exports=function(c,u){try{Object.defineProperty(l,c,{value:u,configurable:!0,writable:!0})}catch{l[c]=u}return u}},6340:(i,a,o)=>{var l=o(5005),c=o(3070),u=o(5112),d=o(9781),h=u("species");i.exports=function(p){var m=l(p),f=c.f;d&&m&&!m[h]&&f(m,h,{configurable:!0,get:function(){return this}})}},8003:(i,a,o)=>{var l=o(3070).f,c=o(6656),u=o(5112)("toStringTag");i.exports=function(d,h,p){d&&!c(d=p?d:d.prototype,u)&&l(d,u,{configurable:!0,value:h})}},6200:(i,a,o)=>{var l=o(2309),c=o(9711),u=l("keys");i.exports=function(d){return u[d]||(u[d]=c(d))}},5465:(i,a,o)=>{var l=o(7854),c=o(3505),u="__core-js_shared__",d=l[u]||c(u,{});i.exports=d},2309:(i,a,o)=>{var l=o(1913),c=o(5465);(i.exports=function(u,d){return c[u]||(c[u]=d!==void 0?d:{})})("versions",[]).push({version:"3.17.2",mode:l?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:(i,a,o)=>{var l=o(9670),c=o(3099),u=o(5112)("species");i.exports=function(d,h){var p,m=l(d).constructor;return m===void 0||(p=l(m)[u])==null?h:c(p)}},8710:(i,a,o)=>{var l=o(9958),c=o(1340),u=o(4488),d=function(h){return function(p,m){var f,b,w=c(u(p)),g=l(m),C=w.length;return g<0||g>=C?h?"":void 0:(f=w.charCodeAt(g))<55296||f>56319||g+1===C||(b=w.charCodeAt(g+1))<56320||b>57343?h?w.charAt(g):f:h?w.slice(g,g+2):b-56320+(f-55296<<10)+65536}};i.exports={codeAt:d(!1),charAt:d(!0)}},8415:(i,a,o)=>{var l=o(9958),c=o(1340),u=o(4488);i.exports=function(h){var p=c(u(this)),m="",f=l(h);if(f<0||f==1/0)throw RangeError("Wrong number of repetitions");for(;f>0;(f>>>=1)&&(p+=p))1&f&&(m+=p);return m}},6091:(i,a,o)=>{var l=o(7293),c=o(1361);i.exports=function(u){return l(function(){return!!c[u]()||""[u]()!=""||c[u].name!==u})}},3111:(i,a,o)=>{var l=o(4488),c=o(1340),u="["+o(1361)+"]",d=RegExp("^"+u+u+"*"),h=RegExp(u+u+"*$"),p=function(m){return function(f){var b=c(l(f));return 1&m&&(b=b.replace(d,"")),2&m&&(b=b.replace(h,"")),b}};i.exports={start:p(1),end:p(2),trim:p(3)}},261:(i,a,o)=>{var l,c,u,d,h=o(7854),p=o(7293),m=o(9974),f=o(490),b=o(317),w=o(6833),g=o(5268),C=h.setImmediate,k=h.clearImmediate,N=h.process,A=h.MessageChannel,O=h.Dispatch,R=0,$={},D="onreadystatechange";try{l=h.location}catch{}var B=function(V){if($.hasOwnProperty(V)){var q=$[V];delete $[V],q()}},M=function(V){return function(){B(V)}},z=function(V){B(V.data)},W=function(V){h.postMessage(String(V),l.protocol+"//"+l.host)};C&&k||(C=function(q){for(var H=[],K=arguments.length,F=1;K>F;)H.push(arguments[F++]);return $[++R]=function(){(typeof q=="function"?q:Function(q)).apply(void 0,H)},c(R),R},k=function(q){delete $[q]},g?c=function(V){N.nextTick(M(V))}:O&&O.now?c=function(V){O.now(M(V))}:A&&!w?(d=(u=new A).port2,u.port1.onmessage=z,c=m(d.postMessage,d,1)):h.addEventListener&&typeof postMessage=="function"&&!h.importScripts&&l&&l.protocol!=="file:"&&!p(W)?(c=W,h.addEventListener("message",z,!1)):c=D in b("script")?function(V){f.appendChild(b("script")).onreadystatechange=function(){f.removeChild(this),B(V)}}:function(V){setTimeout(M(V),0)}),i.exports={set:C,clear:k}},1400:(i,a,o)=>{var l=o(9958),c=Math.max,u=Math.min;i.exports=function(d,h){var p=l(d);return p<0?c(p+h,0):u(p,h)}},5656:(i,a,o)=>{var l=o(8361),c=o(4488);i.exports=function(u){return l(c(u))}},9958:i=>{var a=Math.ceil,o=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?o:a)(l)}},7466:(i,a,o)=>{var l=o(9958),c=Math.min;i.exports=function(u){return u>0?c(l(u),9007199254740991):0}},7908:(i,a,o)=>{var l=o(4488);i.exports=function(c){return Object(l(c))}},7593:(i,a,o)=>{var l=o(111),c=o(2190),u=o(2140),d=o(5112)("toPrimitive");i.exports=function(h,p){if(!l(h)||c(h))return h;var m,f=h[d];if(f!==void 0){if(p===void 0&&(p="default"),m=f.call(h,p),!l(m)||c(m))return m;throw TypeError("Can't convert object to primitive value")}return p===void 0&&(p="number"),u(h,p)}},4948:(i,a,o)=>{var l=o(7593),c=o(2190);i.exports=function(u){var d=l(u,"string");return c(d)?d:String(d)}},1694:(i,a,o)=>{var l={};l[o(5112)("toStringTag")]="z",i.exports=String(l)==="[object z]"},1340:(i,a,o)=>{var l=o(2190);i.exports=function(c){if(l(c))throw TypeError("Cannot convert a Symbol value to a string");return String(c)}},9711:i=>{var a=0,o=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++a+o).toString(36)}},3307:(i,a,o)=>{var l=o(133);i.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},6061:(i,a,o)=>{var l=o(5112);a.f=l},5112:(i,a,o)=>{var l=o(7854),c=o(2309),u=o(6656),d=o(9711),h=o(133),p=o(3307),m=c("wks"),f=l.Symbol,b=p?f:f&&f.withoutSetter||d;i.exports=function(w){return u(m,w)&&(h||typeof m[w]=="string")||(h&&u(f,w)?m[w]=f[w]:m[w]=b("Symbol."+w)),m[w]}},1361:i=>{i.exports=`	
\v\f\r \u2028\u2029\uFEFF`},2222:(i,a,o)=>{var l=o(2109),c=o(7293),u=o(3157),d=o(111),h=o(7908),p=o(7466),m=o(6135),f=o(5417),b=o(1194),w=o(5112),g=o(7392),C=w("isConcatSpreadable"),k=9007199254740991,N="Maximum allowed index exceeded",A=g>=51||!c(function(){var $=[];return $[C]=!1,$.concat()[0]!==$}),O=b("concat"),R=function($){if(!d($))return!1;var D=$[C];return D!==void 0?!!D:u($)};l({target:"Array",proto:!0,forced:!A||!O},{concat:function(D){var B,M,z,W,V,q=h(this),H=f(q,0),K=0;for(B=-1,z=arguments.length;B<z;B++)if(R(V=B===-1?q:arguments[B])){if(K+(W=p(V.length))>k)throw TypeError(N);for(M=0;M<W;M++,K++)M in V&&m(H,K,V[M])}else{if(K>=k)throw TypeError(N);m(H,K++,V)}return H.length=K,H}})},7327:(i,a,o)=>{var l=o(2109),c=o(2092).filter;l({target:"Array",proto:!0,forced:!o(1194)("filter")},{filter:function(d){return c(this,d,arguments.length>1?arguments[1]:void 0)}})},9554:(i,a,o)=>{var l=o(2109),c=o(8533);l({target:"Array",proto:!0,forced:[].forEach!=c},{forEach:c})},1038:(i,a,o)=>{var l=o(2109),c=o(8457);l({target:"Array",stat:!0,forced:!o(7072)(function(u){Array.from(u)})},{from:c})},6699:(i,a,o)=>{var l=o(2109),c=o(1318).includes,u=o(1223);l({target:"Array",proto:!0},{includes:function(h){return c(this,h,arguments.length>1?arguments[1]:void 0)}}),u("includes")},2772:(i,a,o)=>{var l=o(2109),c=o(1318).indexOf,u=o(9341),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,p=u("indexOf");l({target:"Array",proto:!0,forced:h||!p},{indexOf:function(f){return h?d.apply(this,arguments)||0:c(this,f,arguments.length>1?arguments[1]:void 0)}})},9753:(i,a,o)=>{o(2109)({target:"Array",stat:!0},{isArray:o(3157)})},6992:(i,a,o)=>{var l=o(5656),c=o(1223),u=o(7497),d=o(9909),h=o(654),p="Array Iterator",m=d.set,f=d.getterFor(p);i.exports=h(Array,"Array",function(b,w){m(this,{type:p,target:l(b),index:0,kind:w})},function(){var b=f(this),w=b.target,g=b.kind,C=b.index++;return!w||C>=w.length?(b.target=void 0,{value:void 0,done:!0}):g=="keys"?{value:C,done:!1}:g=="values"?{value:w[C],done:!1}:{value:[C,w[C]],done:!1}},"values"),u.Arguments=u.Array,c("keys"),c("values"),c("entries")},5827:(i,a,o)=>{var l=o(2109),c=o(3671).left,u=o(9341),d=o(7392),h=o(5268);l({target:"Array",proto:!0,forced:!u("reduce")||!h&&d>79&&d<83},{reduce:function(m){return c(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})},7042:(i,a,o)=>{var l=o(2109),c=o(111),u=o(3157),d=o(1400),h=o(7466),p=o(5656),m=o(6135),f=o(5112),b=o(1194)("slice"),w=f("species"),g=[].slice,C=Math.max;l({target:"Array",proto:!0,forced:!b},{slice:function(N,A){var O,R,$,D=p(this),B=h(D.length),M=d(N,B),z=d(A===void 0?B:A,B);if(u(D)&&(typeof(O=D.constructor)!="function"||O!==Array&&!u(O.prototype)?c(O)&&(O=O[w])===null&&(O=void 0):O=void 0,O===Array||O===void 0))return g.call(D,M,z);for(R=new(O===void 0?Array:O)(C(z-M,0)),$=0;M<z;M++,$++)M in D&&m(R,$,D[M]);return R.length=$,R}})},5212:(i,a,o)=>{var l=o(2109),c=o(2092).some;l({target:"Array",proto:!0,forced:!o(9341)("some")},{some:function(d){return c(this,d,arguments.length>1?arguments[1]:void 0)}})},2707:(i,a,o)=>{var l=o(2109),c=o(3099),u=o(7908),d=o(7466),h=o(1340),p=o(7293),m=o(4362),f=o(9341),b=o(8886),w=o(256),g=o(7392),C=o(8008),k=[],N=k.sort,A=p(function(){k.sort(void 0)}),O=p(function(){k.sort(null)}),R=f("sort"),$=!p(function(){if(g)return g<70;if(!(b&&b>3)){if(w)return!0;if(C)return C<603;var D,B,M,z,W="";for(D=65;D<76;D++){switch(B=String.fromCharCode(D),D){case 66:case 69:case 70:case 72:M=3;break;case 68:case 71:M=4;break;default:M=2}for(z=0;z<47;z++)k.push({k:B+z,v:M})}for(k.sort(function(V,q){return q.v-V.v}),z=0;z<k.length;z++)B=k[z].k.charAt(0),W.charAt(W.length-1)!==B&&(W+=B);return W!=="DGBEFHACIJK"}});l({target:"Array",proto:!0,forced:A||!O||!R||!$},{sort:function(B){B!==void 0&&c(B);var M=u(this);if($)return B===void 0?N.call(M):N.call(M,B);var z,W,V=[],q=d(M.length);for(W=0;W<q;W++)W in M&&V.push(M[W]);for(z=(V=m(V,function(H){return function(K,F){return F===void 0?-1:K===void 0?1:H!==void 0?+H(K,F)||0:h(K)>h(F)?1:-1}}(B))).length,W=0;W<z;)M[W]=V[W++];for(;W<q;)delete M[W++];return M}})},561:(i,a,o)=>{var l=o(2109),c=o(1400),u=o(9958),d=o(7466),h=o(7908),p=o(5417),m=o(6135),f=o(1194)("splice"),b=Math.max,w=Math.min,g=9007199254740991,C="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!f},{splice:function(N,A){var O,R,$,D,B,M,z=h(this),W=d(z.length),V=c(N,W),q=arguments.length;if(q===0?O=R=0:q===1?(O=0,R=W-V):(O=q-2,R=w(b(u(A),0),W-V)),W+O-R>g)throw TypeError(C);for($=p(z,R),D=0;D<R;D++)(B=V+D)in z&&m($,D,z[B]);if($.length=R,O<R){for(D=V;D<W-R;D++)M=D+O,(B=D+R)in z?z[M]=z[B]:delete z[M];for(D=W;D>W-R+O;D--)delete z[D-1]}else if(O>R)for(D=W-R;D>V;D--)M=D+O-1,(B=D+R-1)in z?z[M]=z[B]:delete z[M];for(D=0;D<O;D++)z[D+V]=arguments[D+2];return z.length=W-R+O,$}})},3710:(i,a,o)=>{var l=o(1320),c=Date.prototype,u="Invalid Date",d="toString",h=c.toString,p=c.getTime;String(new Date(NaN))!=u&&l(c,d,function(){var f=p.call(this);return f==f?h.call(this):u})},4812:(i,a,o)=>{o(2109)({target:"Function",proto:!0},{bind:o(7065)})},8309:(i,a,o)=>{var l=o(9781),c=o(3070).f,u=Function.prototype,d=u.toString,h=/^\s*function ([^ (]*)/,p="name";l&&!(p in u)&&c(u,p,{configurable:!0,get:function(){try{return d.call(this).match(h)[1]}catch{return""}}})},9653:(i,a,o)=>{var l=o(9781),c=o(7854),u=o(4705),d=o(1320),h=o(6656),p=o(4326),m=o(9587),f=o(2190),b=o(7593),w=o(7293),g=o(30),C=o(8006).f,k=o(1236).f,N=o(3070).f,A=o(3111).trim,O="Number",R=c.Number,$=R.prototype,D=p(g($))==O,B=function(q){if(f(q))throw TypeError("Cannot convert a Symbol value to a number");var H,K,F,ie,de,ee,J,ae,ue=b(q,"number");if(typeof ue=="string"&&ue.length>2){if((H=(ue=A(ue)).charCodeAt(0))===43||H===45){if((K=ue.charCodeAt(2))===88||K===120)return NaN}else if(H===48){switch(ue.charCodeAt(1)){case 66:case 98:F=2,ie=49;break;case 79:case 111:F=8,ie=55;break;default:return+ue}for(ee=(de=ue.slice(2)).length,J=0;J<ee;J++)if((ae=de.charCodeAt(J))<48||ae>ie)return NaN;return parseInt(de,F)}}return+ue};if(u(O,!R(" 0o1")||!R("0b1")||R("+0x1"))){for(var M,z=function(H){var K=arguments.length<1?0:H,F=this;return F instanceof z&&(D?w(function(){$.valueOf.call(F)}):p(F)!=O)?m(new R(B(K)),F,z):B(K)},W=l?C(R):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),V=0;W.length>V;V++)h(R,M=W[V])&&!h(z,M)&&N(z,M,k(R,M));z.prototype=$,$.constructor=z,d(c,O,z)}},9601:(i,a,o)=>{var l=o(2109),c=o(1574);l({target:"Object",stat:!0,forced:Object.assign!==c},{assign:c})},3321:(i,a,o)=>{var l=o(2109),c=o(9781);l({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperties:o(6048)})},9070:(i,a,o)=>{var l=o(2109),c=o(9781);l({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperty:o(3070).f})},9720:(i,a,o)=>{var l=o(2109),c=o(4699).entries;l({target:"Object",stat:!0},{entries:function(d){return c(d)}})},5003:(i,a,o)=>{var l=o(2109),c=o(7293),u=o(5656),d=o(1236).f,h=o(9781),p=c(function(){d(1)});l({target:"Object",stat:!0,forced:!h||p,sham:!h},{getOwnPropertyDescriptor:function(f,b){return d(u(f),b)}})},9337:(i,a,o)=>{var l=o(2109),c=o(9781),u=o(3887),d=o(5656),h=o(1236),p=o(6135);l({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(f){for(var b,w,g=d(f),C=h.f,k=u(g),N={},A=0;k.length>A;)(w=C(g,b=k[A++]))!==void 0&&p(N,b,w);return N}})},7941:(i,a,o)=>{var l=o(2109),c=o(7908),u=o(1956);l({target:"Object",stat:!0,forced:o(7293)(function(){u(1)})},{keys:function(h){return u(c(h))}})},1539:(i,a,o)=>{var l=o(1694),c=o(1320),u=o(288);l||c(Object.prototype,"toString",u,{unsafe:!0})},1058:(i,a,o)=>{var l=o(2109),c=o(3009);l({global:!0,forced:parseInt!=c},{parseInt:c})},8674:(i,a,o)=>{var l,c,u,d,h=o(2109),p=o(1913),m=o(7854),f=o(5005),b=o(3366),w=o(1320),g=o(2248),C=o(7674),k=o(8003),N=o(6340),A=o(111),O=o(3099),R=o(5787),$=o(2788),D=o(408),B=o(7072),M=o(6707),z=o(261).set,W=o(5948),V=o(9478),q=o(842),H=o(8523),K=o(2534),F=o(9909),ie=o(4705),de=o(5112),ee=o(7871),J=o(5268),ae=o(7392),ue=de("species"),le="Promise",Ee=F.get,ze=F.set,Pe=F.getterFor(le),Ke=b&&b.prototype,Ye=b,We=Ke,ot=m.TypeError,Je=m.document,Le=m.process,dt=H.f,Ct=dt,Ae=!!(Je&&Je.createEvent&&m.dispatchEvent),rt=typeof PromiseRejectionEvent=="function",fe="unhandledrejection",Fe=!1,nt=ie(le,function(){var Ne=$(Ye),Me=Ne!==String(Ye);if(!Me&&ae===66||p&&!We.finally)return!0;if(ae>=51&&/native code/.test(Ne))return!1;var ct=new Ye(function(Ie){Ie(1)}),Be=function(Ie){Ie(function(){},function(){})};return(ct.constructor={})[ue]=Be,!(Fe=ct.then(function(){})instanceof Be)||!Me&&ee&&!rt}),Ce=nt||!B(function(Ne){Ye.all(Ne).catch(function(){})}),_e=function(Ne){var Me;return!(!A(Ne)||typeof(Me=Ne.then)!="function")&&Me},Y=function(Ne,Me){if(!Ne.notified){Ne.notified=!0;var ct=Ne.reactions;W(function(){for(var Be=Ne.value,Ie=Ne.state==1,Ze=0;ct.length>Ze;){var pt,kt,Kt,Hn=ct[Ze++],ur=Ie?Hn.ok:Hn.fail,Zn=Hn.resolve,Dr=Hn.reject,Wn=Hn.domain;try{ur?(Ie||(Ne.rejection===2&&Nt(Ne),Ne.rejection=1),ur===!0?pt=Be:(Wn&&Wn.enter(),pt=ur(Be),Wn&&(Wn.exit(),Kt=!0)),pt===Hn.promise?Dr(ot("Promise-chain cycle")):(kt=_e(pt))?kt.call(pt,Zn,Dr):Zn(pt)):Dr(Be)}catch(Er){Wn&&!Kt&&Wn.exit(),Dr(Er)}}Ne.reactions=[],Ne.notified=!1,Me&&!Ne.rejection&&ge(Ne)})}},me=function(Ne,Me,ct){var Be,Ie;Ae?((Be=Je.createEvent("Event")).promise=Me,Be.reason=ct,Be.initEvent(Ne,!1,!0),m.dispatchEvent(Be)):Be={promise:Me,reason:ct},!rt&&(Ie=m["on"+Ne])?Ie(Be):Ne===fe&&q("Unhandled promise rejection",ct)},ge=function(Ne){z.call(m,function(){var Me,ct=Ne.facade,Be=Ne.value;if(Ve(Ne)&&(Me=K(function(){J?Le.emit("unhandledRejection",Be,ct):me(fe,ct,Be)}),Ne.rejection=J||Ve(Ne)?2:1,Me.error))throw Me.value})},Ve=function(Ne){return Ne.rejection!==1&&!Ne.parent},Nt=function(Ne){z.call(m,function(){var Me=Ne.facade;J?Le.emit("rejectionHandled",Me):me("rejectionhandled",Me,Ne.value)})},hn=function(Ne,Me,ct){return function(Be){Ne(Me,Be,ct)}},Lt=function(Ne,Me,ct){Ne.done||(Ne.done=!0,ct&&(Ne=ct),Ne.value=Me,Ne.state=2,Y(Ne,!0))},Sn=function(Ne,Me,ct){if(!Ne.done){Ne.done=!0,ct&&(Ne=ct);try{if(Ne.facade===Me)throw ot("Promise can't be resolved itself");var Be=_e(Me);Be?W(function(){var Ie={done:!1};try{Be.call(Me,hn(Sn,Ie,Ne),hn(Lt,Ie,Ne))}catch(Ze){Lt(Ie,Ze,Ne)}}):(Ne.value=Me,Ne.state=1,Y(Ne,!1))}catch(Ie){Lt({done:!1},Ie,Ne)}}};if(nt&&(We=(Ye=function(Me){R(this,Ye,le),O(Me),l.call(this);var ct=Ee(this);try{Me(hn(Sn,ct),hn(Lt,ct))}catch(Be){Lt(ct,Be)}}).prototype,(l=function(Me){ze(this,{type:le,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=g(We,{then:function(Me,ct){var Be=Pe(this),Ie=dt(M(this,Ye));return Ie.ok=typeof Me!="function"||Me,Ie.fail=typeof ct=="function"&&ct,Ie.domain=J?Le.domain:void 0,Be.parent=!0,Be.reactions.push(Ie),Be.state!=0&&Y(Be,!1),Ie.promise},catch:function(Ne){return this.then(void 0,Ne)}}),c=function(){var Ne=new l,Me=Ee(Ne);this.promise=Ne,this.resolve=hn(Sn,Me),this.reject=hn(Lt,Me)},H.f=dt=function(Ne){return Ne===Ye||Ne===u?new c(Ne):Ct(Ne)},!p&&typeof b=="function"&&Ke!==Object.prototype)){d=Ke.then,Fe||(w(Ke,"then",function(Me,ct){var Be=this;return new Ye(function(Ie,Ze){d.call(Be,Ie,Ze)}).then(Me,ct)},{unsafe:!0}),w(Ke,"catch",We.catch,{unsafe:!0}));try{delete Ke.constructor}catch{}C&&C(Ke,We)}h({global:!0,wrap:!0,forced:nt},{Promise:Ye}),k(Ye,le,!1,!0),N(le),u=f(le),h({target:le,stat:!0,forced:nt},{reject:function(Me){var ct=dt(this);return ct.reject.call(void 0,Me),ct.promise}}),h({target:le,stat:!0,forced:p||nt},{resolve:function(Me){return V(p&&this===u?Ye:this,Me)}}),h({target:le,stat:!0,forced:Ce},{all:function(Me){var ct=this,Be=dt(ct),Ie=Be.resolve,Ze=Be.reject,pt=K(function(){var kt=O(ct.resolve),Kt=[],Hn=0,ur=1;D(Me,function(Zn){var Dr=Hn++,Wn=!1;Kt.push(void 0),ur++,kt.call(ct,Zn).then(function(Er){Wn||(Wn=!0,Kt[Dr]=Er,--ur||Ie(Kt))},Ze)}),--ur||Ie(Kt)});return pt.error&&Ze(pt.value),Be.promise},race:function(Me){var ct=this,Be=dt(ct),Ie=Be.reject,Ze=K(function(){var pt=O(ct.resolve);D(Me,function(kt){pt.call(ct,kt).then(Be.resolve,Ie)})});return Ze.error&&Ie(Ze.value),Be.promise}})},2419:(i,a,o)=>{var l=o(2109),c=o(5005),u=o(3099),d=o(9670),h=o(111),p=o(30),m=o(7065),f=o(7293),b=c("Reflect","construct"),w=f(function(){function k(){}return!(b(function(){},[],k)instanceof k)}),g=!f(function(){b(function(){})}),C=w||g;l({target:"Reflect",stat:!0,forced:C,sham:C},{construct:function(N,A){u(N),d(A);var O=arguments.length<3?N:u(arguments[2]);if(g&&!w)return b(N,A,O);if(N==O){switch(A.length){case 0:return new N;case 1:return new N(A[0]);case 2:return new N(A[0],A[1]);case 3:return new N(A[0],A[1],A[2]);case 4:return new N(A[0],A[1],A[2],A[3])}var R=[null];return R.push.apply(R,A),new(m.apply(N,R))}var $=O.prototype,D=p(h($)?$:Object.prototype),B=Function.apply.call(N,D,A);return h(B)?B:D}})},4916:(i,a,o)=>{var l=o(2109),c=o(2261);l({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},9714:(i,a,o)=>{var l=o(1320),c=o(9670),u=o(1340),d=o(7293),h=o(7066),p="toString",m=RegExp.prototype,f=m.toString,b=d(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),w=f.name!=p;(b||w)&&l(RegExp.prototype,p,function(){var C=c(this),k=u(C.source),N=C.flags;return"/"+k+"/"+u(N===void 0&&C instanceof RegExp&&!("flags"in m)?h.call(C):N)},{unsafe:!0})},2023:(i,a,o)=>{var l=o(2109),c=o(3929),u=o(4488),d=o(1340);l({target:"String",proto:!0,forced:!o(4964)("includes")},{includes:function(p){return!!~d(u(this)).indexOf(d(c(p)),arguments.length>1?arguments[1]:void 0)}})},8783:(i,a,o)=>{var l=o(8710).charAt,c=o(1340),u=o(9909),d=o(654),h="String Iterator",p=u.set,m=u.getterFor(h);d(String,"String",function(f){p(this,{type:h,string:c(f),index:0})},function(){var b,w=m(this),g=w.string,C=w.index;return C>=g.length?{value:void 0,done:!0}:(b=l(g,C),w.index+=b.length,{value:b,done:!1})})},2481:(i,a,o)=>{o(2109)({target:"String",proto:!0},{repeat:o(8415)})},5306:(i,a,o)=>{var l=o(7007),c=o(7293),u=o(9670),d=o(9958),h=o(7466),p=o(1340),m=o(4488),f=o(1530),b=o(647),w=o(7651),g=o(5112)("replace"),C=Math.max,k=Math.min,N="a".replace(/./,"$0")==="$0",A=!!/./[g]&&/./[g]("a","$0")==="";l("replace",function(O,R,$){var D=A?"$":"$0";return[function(M,z){var W=m(this),V=M==null?void 0:M[g];return V!==void 0?V.call(M,W,z):R.call(p(W),M,z)},function(B,M){var z=u(this),W=p(B);if(typeof M=="string"&&M.indexOf(D)===-1&&M.indexOf("$<")===-1){var V=$(R,z,W,M);if(V.done)return V.value}var q=typeof M=="function";q||(M=p(M));var H=z.global;if(H){var K=z.unicode;z.lastIndex=0}for(var F=[];;){var ie=w(z,W);if(ie===null||(F.push(ie),!H))break;p(ie[0])===""&&(z.lastIndex=f(W,h(z.lastIndex),K))}for(var de,ee="",J=0,ae=0;ae<F.length;ae++){ie=F[ae];for(var ue=p(ie[0]),le=C(k(d(ie.index),W.length),0),Ee=[],ze=1;ze<ie.length;ze++)Ee.push((de=ie[ze])===void 0?de:String(de));var Pe=ie.groups;if(q){var Ke=[ue].concat(Ee,le,W);Pe!==void 0&&Ke.push(Pe);var Ye=p(M.apply(void 0,Ke))}else Ye=b(ue,W,le,Ee,Pe,M);le>=J&&(ee+=W.slice(J,le)+Ye,J=le+ue.length)}return ee+W.slice(J)}]},!!c(function(){var O=/./;return O.exec=function(){var R=[];return R.groups={a:"7"},R},"".replace(O,"$<a>")!=="7"})||!N||A)},4765:(i,a,o)=>{var l=o(7007),c=o(9670),u=o(4488),d=o(1150),h=o(1340),p=o(7651);l("search",function(m,f,b){return[function(g){var C=u(this),k=g==null?void 0:g[m];return k!==void 0?k.call(g,C):new RegExp(g)[m](h(C))},function(w){var g=c(this),C=h(w),k=b(f,g,C);if(k.done)return k.value;var N=g.lastIndex;d(N,0)||(g.lastIndex=0);var A=p(g,C);return d(g.lastIndex,N)||(g.lastIndex=N),A===null?-1:A.index}]})},3123:(i,a,o)=>{var l=o(7007),c=o(7850),u=o(9670),d=o(4488),h=o(6707),p=o(1530),m=o(7466),f=o(1340),b=o(7651),w=o(2261),g=o(2999),C=o(7293),k=g.UNSUPPORTED_Y,N=[].push,A=Math.min,O=4294967295;l("split",function(R,$,D){var B;return B="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(M,z){var W=f(d(this)),V=z===void 0?O:z>>>0;if(V===0)return[];if(M===void 0)return[W];if(!c(M))return $.call(W,M,V);for(var q,H,K,F=[],ie=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),de=0,ee=new RegExp(M.source,ie+"g");(q=w.call(ee,W))&&!((H=ee.lastIndex)>de&&(F.push(W.slice(de,q.index)),q.length>1&&q.index<W.length&&N.apply(F,q.slice(1)),K=q[0].length,de=H,F.length>=V));)ee.lastIndex===q.index&&ee.lastIndex++;return de===W.length?!K&&ee.test("")||F.push(""):F.push(W.slice(de)),F.length>V?F.slice(0,V):F}:"0".split(void 0,0).length?function(M,z){return M===void 0&&z===0?[]:$.call(this,M,z)}:$,[function(z,W){var V=d(this),q=z==null?void 0:z[R];return q!==void 0?q.call(z,V,W):B.call(f(V),z,W)},function(M,z){var W=u(this),V=f(M),q=D(B,W,V,z,B!==$);if(q.done)return q.value;var H=h(W,RegExp),K=W.unicode,F=(W.ignoreCase?"i":"")+(W.multiline?"m":"")+(W.unicode?"u":"")+(k?"g":"y"),ie=new H(k?"^(?:"+W.source+")":W,F),de=z===void 0?O:z>>>0;if(de===0)return[];if(V.length===0)return b(ie,V)===null?[V]:[];for(var ee=0,J=0,ae=[];J<V.length;){ie.lastIndex=k?0:J;var ue,le=b(ie,k?V.slice(J):V);if(le===null||(ue=A(m(ie.lastIndex+(k?J:0)),V.length))===ee)J=p(V,J,K);else{if(ae.push(V.slice(ee,J)),ae.length===de)return ae;for(var Ee=1;Ee<=le.length-1;Ee++)if(ae.push(le[Ee]),ae.length===de)return ae;J=ee=ue}}return ae.push(V.slice(ee)),ae}]},!!C(function(){var R=/(?:)/,$=R.exec;R.exec=function(){return $.apply(this,arguments)};var D="ab".split(R);return D.length!==2||D[0]!=="a"||D[1]!=="b"}),k)},3210:(i,a,o)=>{var l=o(2109),c=o(3111).trim;l({target:"String",proto:!0,forced:o(6091)("trim")},{trim:function(){return c(this)}})},1817:(i,a,o)=>{var l=o(2109),c=o(9781),u=o(7854),d=o(6656),h=o(111),p=o(3070).f,m=o(9920),f=u.Symbol;if(c&&typeof f=="function"&&(!("description"in f.prototype)||f().description!==void 0)){var b={},w=function(){var O=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),R=this instanceof w?new f(O):O===void 0?f():f(O);return O===""&&(b[R]=!0),R};m(w,f);var g=w.prototype=f.prototype;g.constructor=w;var C=g.toString,k=String(f("test"))=="Symbol(test)",N=/^Symbol\((.*)\)[^)]+$/;p(g,"description",{configurable:!0,get:function(){var O=h(this)?this.valueOf():this,R=C.call(O);if(d(b,O))return"";var $=k?R.slice(7,-1):R.replace(N,"$1");return $===""?void 0:$}}),l({global:!0,forced:!0},{Symbol:w})}},2165:(i,a,o)=>{o(7235)("iterator")},2526:(i,a,o)=>{var l=o(2109),c=o(7854),u=o(5005),d=o(1913),h=o(9781),p=o(133),m=o(7293),f=o(6656),b=o(3157),w=o(111),g=o(2190),C=o(9670),k=o(7908),N=o(5656),A=o(4948),O=o(1340),R=o(9114),$=o(30),D=o(1956),B=o(8006),M=o(1156),z=o(5181),W=o(1236),V=o(3070),q=o(5296),H=o(8880),K=o(1320),F=o(2309),ie=o(6200),de=o(3501),ee=o(9711),J=o(5112),ae=o(6061),ue=o(7235),le=o(8003),Ee=o(9909),ze=o(2092).forEach,Pe=ie("hidden"),Ke="Symbol",Ye=J("toPrimitive"),We=Ee.set,ot=Ee.getterFor(Ke),Je=Object.prototype,Le=c.Symbol,dt=u("JSON","stringify"),Ct=W.f,Ae=V.f,rt=M.f,fe=q.f,Fe=F("symbols"),nt=F("op-symbols"),Ce=F("string-to-symbol-registry"),_e=F("symbol-to-string-registry"),Y=F("wks"),me=c.QObject,ge=!me||!me.prototype||!me.prototype.findChild,Ve=h&&m(function(){return $(Ae({},"a",{get:function(){return Ae(this,"a",{value:7}).a}})).a!=7})?function(Be,Ie,Ze){var pt=Ct(Je,Ie);pt&&delete Je[Ie],Ae(Be,Ie,Ze),pt&&Be!==Je&&Ae(Je,Ie,pt)}:Ae,Nt=function(Be,Ie){var Ze=Fe[Be]=$(Le.prototype);return We(Ze,{type:Ke,tag:Be,description:Ie}),h||(Ze.description=Ie),Ze},hn=function(Ie,Ze,pt){Ie===Je&&hn(nt,Ze,pt),C(Ie);var kt=A(Ze);return C(pt),f(Fe,kt)?(pt.enumerable?(f(Ie,Pe)&&Ie[Pe][kt]&&(Ie[Pe][kt]=!1),pt=$(pt,{enumerable:R(0,!1)})):(f(Ie,Pe)||Ae(Ie,Pe,R(1,{})),Ie[Pe][kt]=!0),Ve(Ie,kt,pt)):Ae(Ie,kt,pt)},Lt=function(Ie,Ze){C(Ie);var pt=N(Ze),kt=D(pt).concat(ct(pt));return ze(kt,function(Kt){h&&!Sn.call(pt,Kt)||hn(Ie,Kt,pt[Kt])}),Ie},Sn=function(Ie){var Ze=A(Ie),pt=fe.call(this,Ze);return!(this===Je&&f(Fe,Ze)&&!f(nt,Ze))&&(!(pt||!f(this,Ze)||!f(Fe,Ze)||f(this,Pe)&&this[Pe][Ze])||pt)},Ne=function(Ie,Ze){var pt=N(Ie),kt=A(Ze);if(pt!==Je||!f(Fe,kt)||f(nt,kt)){var Kt=Ct(pt,kt);return!Kt||!f(Fe,kt)||f(pt,Pe)&&pt[Pe][kt]||(Kt.enumerable=!0),Kt}},Me=function(Ie){var Ze=rt(N(Ie)),pt=[];return ze(Ze,function(kt){f(Fe,kt)||f(de,kt)||pt.push(kt)}),pt},ct=function(Ie){var Ze=Ie===Je,pt=rt(Ze?nt:N(Ie)),kt=[];return ze(pt,function(Kt){!f(Fe,Kt)||Ze&&!f(Je,Kt)||kt.push(Fe[Kt])}),kt};p||(K((Le=function(){if(this instanceof Le)throw TypeError("Symbol is not a constructor");var Ie=arguments.length&&arguments[0]!==void 0?O(arguments[0]):void 0,Ze=ee(Ie),pt=function(kt){this===Je&&pt.call(nt,kt),f(this,Pe)&&f(this[Pe],Ze)&&(this[Pe][Ze]=!1),Ve(this,Ze,R(1,kt))};return h&&ge&&Ve(Je,Ze,{configurable:!0,set:pt}),Nt(Ze,Ie)}).prototype,"toString",function(){return ot(this).tag}),K(Le,"withoutSetter",function(Be){return Nt(ee(Be),Be)}),q.f=Sn,V.f=hn,W.f=Ne,B.f=M.f=Me,z.f=ct,ae.f=function(Be){return Nt(J(Be),Be)},h&&(Ae(Le.prototype,"description",{configurable:!0,get:function(){return ot(this).description}}),d||K(Je,"propertyIsEnumerable",Sn,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Le}),ze(D(Y),function(Be){ue(Be)}),l({target:Ke,stat:!0,forced:!p},{for:function(Be){var Ie=O(Be);if(f(Ce,Ie))return Ce[Ie];var Ze=Le(Ie);return Ce[Ie]=Ze,_e[Ze]=Ie,Ze},keyFor:function(Ie){if(!g(Ie))throw TypeError(Ie+" is not a symbol");if(f(_e,Ie))return _e[Ie]},useSetter:function(){ge=!0},useSimple:function(){ge=!1}}),l({target:"Object",stat:!0,forced:!p,sham:!h},{create:function(Ie,Ze){return Ze===void 0?$(Ie):Lt($(Ie),Ze)},defineProperty:hn,defineProperties:Lt,getOwnPropertyDescriptor:Ne}),l({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:Me,getOwnPropertySymbols:ct}),l({target:"Object",stat:!0,forced:m(function(){z.f(1)})},{getOwnPropertySymbols:function(Ie){return z.f(k(Ie))}}),dt&&l({target:"JSON",stat:!0,forced:!p||m(function(){var Be=Le();return dt([Be])!="[null]"||dt({a:Be})!="{}"||dt(Object(Be))!="{}"})},{stringify:function(Ie,Ze,pt){for(var kt,Kt=[Ie],Hn=1;arguments.length>Hn;)Kt.push(arguments[Hn++]);if(kt=Ze,(w(Ze)||Ie!==void 0)&&!g(Ie))return b(Ze)||(Ze=function(ur,Zn){if(typeof kt=="function"&&(Zn=kt.call(this,ur,Zn)),!g(Zn))return Zn}),Kt[1]=Ze,dt.apply(null,Kt)}}),Le.prototype[Ye]||H(Le.prototype,Ye,Le.prototype.valueOf),le(Le,Ke),de[Pe]=!0},4129:(i,a,o)=>{var l,c=o(7854),u=o(2248),d=o(2423),h=o(7710),p=o(9320),m=o(111),f=o(9909).enforce,b=o(8536),w=!c.ActiveXObject&&"ActiveXObject"in c,g=Object.isExtensible,C=function(D){return function(){return D(this,arguments.length?arguments[0]:void 0)}},k=i.exports=h("WeakMap",C,p);if(b&&w){l=p.getConstructor(C,"WeakMap",!0),d.enable();var N=k.prototype,A=N.delete,O=N.has,R=N.get,$=N.set;u(N,{delete:function(D){if(m(D)&&!g(D)){var B=f(this);return B.frozen||(B.frozen=new l),A.call(this,D)||B.frozen.delete(D)}return A.call(this,D)},has:function(B){if(m(B)&&!g(B)){var M=f(this);return M.frozen||(M.frozen=new l),O.call(this,B)||M.frozen.has(B)}return O.call(this,B)},get:function(B){if(m(B)&&!g(B)){var M=f(this);return M.frozen||(M.frozen=new l),O.call(this,B)?R.call(this,B):M.frozen.get(B)}return R.call(this,B)},set:function(B,M){if(m(B)&&!g(B)){var z=f(this);z.frozen||(z.frozen=new l),O.call(this,B)?$.call(this,B,M):z.frozen.set(B,M)}else $.call(this,B,M);return this}})}},4747:(i,a,o)=>{var l=o(7854),c=o(8324),u=o(8533),d=o(8880);for(var h in c){var p=l[h],m=p&&p.prototype;if(m&&m.forEach!==u)try{d(m,"forEach",u)}catch{m.forEach=u}}},3948:(i,a,o)=>{var l=o(7854),c=o(8324),u=o(6992),d=o(8880),h=o(5112),p=h("iterator"),m=h("toStringTag"),f=u.values;for(var b in c){var w=l[b],g=w&&w.prototype;if(g){if(g[p]!==f)try{d(g,p,f)}catch{g[p]=f}if(g[m]||d(g,m,b),c[b]){for(var C in u)if(g[C]!==u[C])try{d(g,C,u[C])}catch{g[C]=u[C]}}}}},7950:(i,a,o)=>{o.d(a,{Z:()=>h});var l=o(7537),c=o.n(l),u=o(3645),d=o.n(u)()(c());d.push([i.id,`
.headless-modal {
    height: 100%;
    width: 100%;
    background: none;
    position: fixed;
    top:0;
    left: 0;
}
.headless-container {
    position: fixed;
    bottom:0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #FAFAFA;
    z-index: 1000000;
    text-align: center;
    box-shadow: 0px 0px 0 1400px rgb(0 0 0 / 20%);
    color: #2B2D42;
    display: block;
    max-height: 330px;
}
.headless-container .d-flex-cross {
    display: flex;
    justify-content: space-between;
    margin-bottom: 2rem;
    position: absolute;
    right: 20px;
    top: 20px;
}
.headless-container .gap {
    width: 100vw;
    position: relative;
    border-bottom: 1px solid #E6E9EE;
    left: calc(-50vw + 50%);
}
.headless-container .otp-data {
    background: #FFFFFF;
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.06);
    border-radius: 4px;
    text-align: center;
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 1rem 1.5rem;
}
.headless-container .otp-text {
    color: #2B2D42;
    padding-top: 32px;
    padding-bottom: 24px;
    font-weight: 600;
    font-size: 1.25rem;
}
.headless-container .otp-subtext {
    color: #6B6C7B;
    margin-bottom: 1rem;
    font-weight: 400;
    font-size: 0.75rem;
}

.headless-container .otp-input-div {
    width: 70%;
    margin: auto;
}

.headless-container .otp-input {
    height: 2.8rem;
    width: 100%;
    margin-bottom: 1rem;
    font-size: 1rem;
    padding: 0 0.5rem;
    border-radius: 0.533rem;
    border: 1px solid gray;
}
.headless-container .otp-input-resend {
    cursor: pointer;
    color: #6930CA;
    text-align: right;
    font-weight: 600;
    font-size: 0.75rem;
}
.headless-container .btn {
    padding: 11px 16px;
    align-items: center;
    text-align: center;
    background: none;
    height: 40px;
    border-radius: 6px;
    cursor: pointer;
}
.headless-container .cancel-btn {
    border: 1px solid #6930CA;
    margin-right: 1rem;
    color: #6930CA;
    width: 30%;
    padding: 0px;
}
.headless-container .submit-btn {
    background: #6930CA;
    border-radius: 6px;    
    color: #FFFFFF;
    border: none;
    position: relative;
    width: 50%;
    padding: 0px;
}
.headless-container .btn-div {
    padding-bottom: 2rem;
    margin-top: 2rem;
}
.headless-container svg {
    cursor: pointer;
}
.headless-container .submit-btn:disabled::after {
    content: "";
    position: absolute;
    display: block;
    background-color: white;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0.4;
    cursor: default;
}

.headless-container .headless-loader {
    width: 100%;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
    display: none;
    z-index: 4000;
    background: rgba(0,0,0,0.1);
}

.headless-container .error-msg {    
    margin-top: 0.5rem;
    color: #e7474a !important;
    font-size: 0.75rem;
}

.headless-container .bank-page {
    color: #6930CA;
    font-weight: 600;
    font-size: 0.75rem;
    align-items: center;
    display: flex;
    justify-content: center;
    cursor: pointer;
}

.headless-container .bank-page svg {
    margin-left: 0.5rem;
}

.headless-container .card-details {
    text-align: left;
}

.headless-container .card-details .card-title {
    font-weight: 400;
    font-size: 12px;
    line-height: 16px;
    color: #6B6C7B;
    display: inline-block;
    margin-right: 0.5rem;
}

.headless-container .card-details .card-desc {
    font-weight: 400;
    font-size: 12px;
    line-height: 16px;
    color: #6B6C7B;
}

.headless-container .card-details .card-data {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    color: #6B6C7B;
    justify-content: center;
}

.headless-container .mb-10 {
    margin-bottom: 10px;
}

.headless-container .right-div {
    width: 100%;
    text-align: right; 
}`,"",{version:3,sources:["webpack://./src/core/Headless.css"],names:[],mappings:";AACA;IACI,YAAY;IACZ,WAAW;IACX,gBAAgB;IAChB,eAAe;IACf,KAAK;IACL,OAAO;AACX;AACA;IACI,eAAe;IACf,QAAQ;IACR,OAAO;IACP,WAAW;IACX,YAAY;IACZ,mBAAmB;IACnB,gBAAgB;IAChB,kBAAkB;IAClB,6CAA6C;IAC7C,cAAc;IACd,cAAc;IACd,iBAAiB;AACrB;AACA;IACI,aAAa;IACb,8BAA8B;IAC9B,mBAAmB;IACnB,kBAAkB;IAClB,WAAW;IACX,SAAS;AACb;AACA;IACI,YAAY;IACZ,kBAAkB;IAClB,gCAAgC;IAChC,uBAAuB;AAC3B;AACA;IACI,mBAAmB;IACnB,2CAA2C;IAC3C,kBAAkB;IAClB,kBAAkB;IAClB,YAAY;IACZ,WAAW;IACX,SAAS;IACT,oBAAoB;AACxB;AACA;IACI,cAAc;IACd,iBAAiB;IACjB,oBAAoB;IACpB,gBAAgB;IAChB,kBAAkB;AACtB;AACA;IACI,cAAc;IACd,mBAAmB;IACnB,gBAAgB;IAChB,kBAAkB;AACtB;;AAEA;IACI,UAAU;IACV,YAAY;AAChB;;AAEA;IACI,cAAc;IACd,WAAW;IACX,mBAAmB;IACnB,eAAe;IACf,iBAAiB;IACjB,uBAAuB;IACvB,sBAAsB;AAC1B;AACA;IACI,eAAe;IACf,cAAc;IACd,iBAAiB;IACjB,gBAAgB;IAChB,kBAAkB;AACtB;AACA;IACI,kBAAkB;IAClB,mBAAmB;IACnB,kBAAkB;IAClB,gBAAgB;IAChB,YAAY;IACZ,kBAAkB;IAClB,eAAe;AACnB;AACA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,cAAc;IACd,UAAU;IACV,YAAY;AAChB;AACA;IACI,mBAAmB;IACnB,kBAAkB;IAClB,cAAc;IACd,YAAY;IACZ,kBAAkB;IAClB,UAAU;IACV,YAAY;AAChB;AACA;IACI,oBAAoB;IACpB,gBAAgB;AACpB;AACA;IACI,eAAe;AACnB;AACA;IACI,WAAW;IACX,kBAAkB;IAClB,cAAc;IACd,uBAAuB;IACvB,WAAW;IACX,YAAY;IACZ,MAAM;IACN,OAAO;IACP,YAAY;IACZ,eAAe;AACnB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,OAAO;IACP,MAAM;IACN,aAAa;IACb,aAAa;IACb,2BAA2B;AAC/B;;AAEA;IACI,kBAAkB;IAClB,yBAAyB;IACzB,kBAAkB;AACtB;;AAEA;IACI,cAAc;IACd,gBAAgB;IAChB,kBAAkB;IAClB,mBAAmB;IACnB,aAAa;IACb,uBAAuB;IACvB,eAAe;AACnB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,cAAc;IACd,qBAAqB;IACrB,oBAAoB;AACxB;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,mBAAmB;IACnB,cAAc;IACd,uBAAuB;AAC3B;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,WAAW;IACX,iBAAiB;AACrB",sourcesContent:[`
.headless-modal {
    height: 100%;
    width: 100%;
    background: none;
    position: fixed;
    top:0;
    left: 0;
}
.headless-container {
    position: fixed;
    bottom:0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #FAFAFA;
    z-index: 1000000;
    text-align: center;
    box-shadow: 0px 0px 0 1400px rgb(0 0 0 / 20%);
    color: #2B2D42;
    display: block;
    max-height: 330px;
}
.headless-container .d-flex-cross {
    display: flex;
    justify-content: space-between;
    margin-bottom: 2rem;
    position: absolute;
    right: 20px;
    top: 20px;
}
.headless-container .gap {
    width: 100vw;
    position: relative;
    border-bottom: 1px solid #E6E9EE;
    left: calc(-50vw + 50%);
}
.headless-container .otp-data {
    background: #FFFFFF;
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.06);
    border-radius: 4px;
    text-align: center;
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 1rem 1.5rem;
}
.headless-container .otp-text {
    color: #2B2D42;
    padding-top: 32px;
    padding-bottom: 24px;
    font-weight: 600;
    font-size: 1.25rem;
}
.headless-container .otp-subtext {
    color: #6B6C7B;
    margin-bottom: 1rem;
    font-weight: 400;
    font-size: 0.75rem;
}

.headless-container .otp-input-div {
    width: 70%;
    margin: auto;
}

.headless-container .otp-input {
    height: 2.8rem;
    width: 100%;
    margin-bottom: 1rem;
    font-size: 1rem;
    padding: 0 0.5rem;
    border-radius: 0.533rem;
    border: 1px solid gray;
}
.headless-container .otp-input-resend {
    cursor: pointer;
    color: #6930CA;
    text-align: right;
    font-weight: 600;
    font-size: 0.75rem;
}
.headless-container .btn {
    padding: 11px 16px;
    align-items: center;
    text-align: center;
    background: none;
    height: 40px;
    border-radius: 6px;
    cursor: pointer;
}
.headless-container .cancel-btn {
    border: 1px solid #6930CA;
    margin-right: 1rem;
    color: #6930CA;
    width: 30%;
    padding: 0px;
}
.headless-container .submit-btn {
    background: #6930CA;
    border-radius: 6px;    
    color: #FFFFFF;
    border: none;
    position: relative;
    width: 50%;
    padding: 0px;
}
.headless-container .btn-div {
    padding-bottom: 2rem;
    margin-top: 2rem;
}
.headless-container svg {
    cursor: pointer;
}
.headless-container .submit-btn:disabled::after {
    content: "";
    position: absolute;
    display: block;
    background-color: white;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0.4;
    cursor: default;
}

.headless-container .headless-loader {
    width: 100%;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
    display: none;
    z-index: 4000;
    background: rgba(0,0,0,0.1);
}

.headless-container .error-msg {    
    margin-top: 0.5rem;
    color: #e7474a !important;
    font-size: 0.75rem;
}

.headless-container .bank-page {
    color: #6930CA;
    font-weight: 600;
    font-size: 0.75rem;
    align-items: center;
    display: flex;
    justify-content: center;
    cursor: pointer;
}

.headless-container .bank-page svg {
    margin-left: 0.5rem;
}

.headless-container .card-details {
    text-align: left;
}

.headless-container .card-details .card-title {
    font-weight: 400;
    font-size: 12px;
    line-height: 16px;
    color: #6B6C7B;
    display: inline-block;
    margin-right: 0.5rem;
}

.headless-container .card-details .card-desc {
    font-weight: 400;
    font-size: 12px;
    line-height: 16px;
    color: #6B6C7B;
}

.headless-container .card-details .card-data {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    color: #6B6C7B;
    justify-content: center;
}

.headless-container .mb-10 {
    margin-bottom: 10px;
}

.headless-container .right-div {
    width: 100%;
    text-align: right; 
}`],sourceRoot:""}]);const h=d},7251:(i,a,o)=>{o.d(a,{Z:()=>h});var l=o(7537),c=o.n(l),u=o(3645),d=o.n(u)()(c());d.push([i.id,`.intent-modal {
    height: 100%;
    width: 100%;
    background: none;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 214748364711;
}
.intent-modal-container {
    height: auto;
    background: #fafafa;
    text-align: center;
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.12);
    color: #2b2d42;
    padding: 2.5rem 1.40997983729rem;
    display: block;
    transform: translate(-50%, -50%);
    position: absolute;
    width: auto;
    width: 80%;
    border-radius: 0.53rem;
    max-width: 400px;
    min-width: 280px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.intent-modal-cross {
    position: absolute;
    right: -0.8rem;
    top: -0.8rem;
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 100%;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.intent-modal-app {
    background-color: rgb(58, 44, 218);
    padding: 10px 20px;
    border-radius: 8px;
    font-size: 16px;
    color: #fff;
    text-decoration: none;
}`,"",{version:3,sources:["webpack://./src/core/styles/Intent.css"],names:[],mappings:"AAAA;IACI,YAAY;IACZ,WAAW;IACX,gBAAgB;IAChB,eAAe;IACf,MAAM;IACN,OAAO;IACP,qBAAqB;AACzB;AACA;IACI,YAAY;IACZ,mBAAmB;IACnB,kBAAkB;IAClB,2CAA2C;IAC3C,cAAc;IACd,gCAAgC;IAChC,cAAc;IACd,gCAAgC;IAChC,kBAAkB;IAClB,WAAW;IACX,UAAU;IACV,sBAAsB;IACtB,gBAAgB;IAChB,gBAAgB;IAChB,QAAQ;IACR,SAAS;IACT,gCAAgC;AACpC;;AAEA;IACI,kBAAkB;IAClB,cAAc;IACd,YAAY;IACZ,aAAa;IACb,cAAc;IACd,mBAAmB;IACnB,gBAAgB;IAChB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,eAAe;AACnB;;AAEA;IACI,kCAAkC;IAClC,kBAAkB;IAClB,kBAAkB;IAClB,eAAe;IACf,WAAW;IACX,qBAAqB;AACzB",sourcesContent:[`.intent-modal {
    height: 100%;
    width: 100%;
    background: none;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 214748364711;
}
.intent-modal-container {
    height: auto;
    background: #fafafa;
    text-align: center;
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.12);
    color: #2b2d42;
    padding: 2.5rem 1.40997983729rem;
    display: block;
    transform: translate(-50%, -50%);
    position: absolute;
    width: auto;
    width: 80%;
    border-radius: 0.53rem;
    max-width: 400px;
    min-width: 280px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.intent-modal-cross {
    position: absolute;
    right: -0.8rem;
    top: -0.8rem;
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 100%;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.intent-modal-app {
    background-color: rgb(58, 44, 218);
    padding: 10px 20px;
    border-radius: 8px;
    font-size: 16px;
    color: #fff;
    text-decoration: none;
}`],sourceRoot:""}]);const h=d},3645:i=>{i.exports=function(a){var o=[];return o.toString=function(){return this.map(function(c){var u="",d=c[5]!==void 0;return c[4]&&(u+="@supports (".concat(c[4],") {")),c[2]&&(u+="@media ".concat(c[2]," {")),d&&(u+="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {")),u+=a(c),d&&(u+="}"),c[2]&&(u+="}"),c[4]&&(u+="}"),u}).join("")},o.i=function(c,u,d,h,p){typeof c=="string"&&(c=[[null,c,void 0]]);var m={};if(d)for(var f=0;f<this.length;f++){var b=this[f][0];b!=null&&(m[b]=!0)}for(var w=0;w<c.length;w++){var g=[].concat(c[w]);d&&m[g[0]]||(p!==void 0&&(g[5]===void 0||(g[1]="@layer".concat(g[5].length>0?" ".concat(g[5]):""," {").concat(g[1],"}")),g[5]=p),u&&(g[2]&&(g[1]="@media ".concat(g[2]," {").concat(g[1],"}")),g[2]=u),h&&(g[4]?(g[1]="@supports (".concat(g[4],") {").concat(g[1],"}"),g[4]=h):g[4]="".concat(h)),o.push(g))}},o}},7537:i=>{i.exports=function(a){var o=a[1],l=a[3];if(!l)return o;if(typeof btoa=="function"){var c=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),d="/*# ".concat(u," */"),h=l.sources.map(function(p){return"/*# sourceURL=".concat(l.sourceRoot||"").concat(p," */")});return[o].concat(h).concat([d]).join(`
`)}return[o].join(`
`)}},1795:function(i,a,o){var l;i=o.nmd(i),function(){function c(B){return(B=String(B)).charAt(0).toUpperCase()+B.slice(1)}function u(B){return B=f(B),/^(?:webOS|i(?:OS|P))/.test(B)?B:c(B)}function d(B,M){for(var z in B)R.call(B,z)&&M(B[z],z,B)}function h(B){return B==null?c(B):$.call(B).slice(8,-1)}function p(B){return String(B).replace(/([ -])(?!$)/g,"$1?")}function m(B,M){var z=null;return function(V,q){var H=-1,K=V?V.length:0;if(typeof K=="number"&&K>-1&&K<=N)for(;++H<K;)q(V[H],H,V);else d(V,q)}(B,function(W,V){z=M(z,W,V,B)}),z}function f(B){return String(B).replace(/^ +| +$/g,"")}var b={function:!0,object:!0},w=b[typeof window]&&window||this,g=b[typeof a]&&a,C=i&&!i.nodeType&&i,k=g&&C&&typeof o.g=="object"&&o.g;!k||k.global!==k&&k.window!==k&&k.self!==k||(w=k);var N=Math.pow(2,53)-1,A=/\bOpera/,O=Object.prototype,R=O.hasOwnProperty,$=O.toString,D=function B(M){function z(Y){return m(Y,function(me,ge){var Ve=ge.pattern||p(ge);return!me&&(me=RegExp("\\b"+Ve+" *\\d+[.\\w_]*","i").exec(M)||RegExp("\\b"+Ve+" *\\w+-[\\w]*","i").exec(M)||RegExp("\\b"+Ve+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(M))&&((me=String(ge.label&&!RegExp(Ve,"i").test(ge.label)?ge.label:me).split("/"))[1]&&!/[\d.]+/.test(me[0])&&(me[0]+=" "+me[1]),ge=ge.label||ge,me=u(me[0].replace(RegExp(Ve,"i"),ge).replace(RegExp("; *(?:"+ge+"[_-])?","i")," ").replace(RegExp("("+ge+")[-_.]?(\\w)","i"),"$1 $2"))),me})}function W(Y){return m(Y,function(me,ge){return me||(RegExp(ge+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(M)||0)[1]||null})}var V=w,q=M&&typeof M=="object"&&h(M)!="String";q&&(V=M,M=null);var H=V.navigator||{},K=H.userAgent||"";M||(M=K);var F,ie,de=q?!!H.likeChrome:/\bChrome\b/.test(M)&&!/internal|\n/i.test($.toString()),ee="Object",J=q?ee:"ScriptBridgingProxyObject",ae=q?ee:"Environment",ue=q&&V.java?"JavaPackage":h(V.java),le=q?ee:"RuntimeObject",Ee=/\bJava/.test(ue)&&V.java,ze=Ee&&h(V.environment)==ae,Pe=Ee?"a":"",Ke=Ee?"b":"",Ye=V.document||{},We=V.operamini||V.opera,ot=A.test(ot=q&&We?We["[[Class]]"]:h(We))?ot:We=null,Je=M,Le=[],dt=null,Ct=M==K,Ae=Ct&&We&&typeof We.version=="function"&&We.version(),rt=function(me){return m(me,function(ge,Ve){return ge||RegExp("\\b"+(Ve.pattern||p(Ve))+"\\b","i").exec(M)&&(Ve.label||Ve)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),fe=function(me){return m(me,function(ge,Ve){return ge||RegExp("\\b"+(Ve.pattern||p(Ve))+"\\b","i").exec(M)&&(Ve.label||Ve)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),Fe=z([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),nt=function(me){return m(me,function(ge,Ve,Nt){return ge||(Ve[Fe]||Ve[/^[a-z]+(?: +[a-z]+\b)*/i.exec(Fe)]||RegExp("\\b"+p(Nt)+"(?:\\b|\\w*\\d)","i").exec(M))&&Nt})}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),Ce=function(me){return m(me,function(ge,Ve){var Nt=Ve.pattern||p(Ve);return!ge&&(ge=RegExp("\\b"+Nt+"(?:/[\\d.]+|[ \\w.]*)","i").exec(M))&&(ge=function(Lt,Sn,Ne){var Me={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return Sn&&Ne&&/^Win/i.test(Lt)&&!/^Windows Phone /i.test(Lt)&&(Me=Me[/[\d.]+$/.exec(Lt)])&&(Lt="Windows "+Me),Lt=String(Lt),Sn&&Ne&&(Lt=Lt.replace(RegExp(Sn,"i"),Ne)),u(Lt.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(ge,Nt,Ve.label||Ve)),ge})}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(rt&&(rt=[rt]),/\bAndroid\b/.test(Ce)&&!Fe&&(F=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(M))&&(Fe=f(F[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),nt&&!Fe?Fe=z([nt]):nt&&Fe&&(Fe=Fe.replace(RegExp("^("+p(nt)+")[-_.\\s]","i"),nt+" ").replace(RegExp("^("+p(nt)+")[-_.]?(\\w)","i"),nt+" $2")),(F=/\bGoogle TV\b/.exec(Fe))&&(Fe=F[0]),/\bSimulator\b/i.test(M)&&(Fe=(Fe?Fe+" ":"")+"Simulator"),fe=="Opera Mini"&&/\bOPiOS\b/.test(M)&&Le.push("running in Turbo/Uncompressed mode"),fe=="IE"&&/\blike iPhone OS\b/.test(M)?(nt=(F=B(M.replace(/like iPhone OS/,""))).manufacturer,Fe=F.product):/^iP/.test(Fe)?(fe||(fe="Safari"),Ce="iOS"+((F=/ OS ([\d_]+)/i.exec(M))?" "+F[1].replace(/_/g,"."):"")):fe=="Konqueror"&&/^Linux\b/i.test(Ce)?Ce="Kubuntu":nt&&nt!="Google"&&(/Chrome/.test(fe)&&!/\bMobile Safari\b/i.test(M)||/\bVita\b/.test(Fe))||/\bAndroid\b/.test(Ce)&&/^Chrome/.test(fe)&&/\bVersion\//i.test(M)?(fe="Android Browser",Ce=/\bAndroid\b/.test(Ce)?Ce:"Android"):fe=="Silk"?(/\bMobi/i.test(M)||(Ce="Android",Le.unshift("desktop mode")),/Accelerated *= *true/i.test(M)&&Le.unshift("accelerated")):fe=="UC Browser"&&/\bUCWEB\b/.test(M)?Le.push("speed mode"):fe=="PaleMoon"&&(F=/\bFirefox\/([\d.]+)\b/.exec(M))?Le.push("identifying as Firefox "+F[1]):fe=="Firefox"&&(F=/\b(Mobile|Tablet|TV)\b/i.exec(M))?(Ce||(Ce="Firefox OS"),Fe||(Fe=F[1])):!fe||(F=!/\bMinefield\b/i.test(M)&&/\b(?:Firefox|Safari)\b/.exec(fe))?(fe&&!Fe&&/[\/,]|^[^(]+?\)/.test(M.slice(M.indexOf(F+"/")+8))&&(fe=null),(F=Fe||nt||Ce)&&(Fe||nt||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Ce))&&(fe=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Ce)?Ce:F)+" Browser")):fe=="Electron"&&(F=(/\bChrome\/([\d.]+)\b/.exec(M)||0)[1])&&Le.push("Chromium "+F),Ae||(Ae=W(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",p(fe),"(?:Firefox|Minefield|NetFront)"])),(F=(rt=="iCab"&&parseFloat(Ae)>3?"WebKit":/\bOpera\b/.test(fe)&&(/\bOPR\b/.test(M)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(M)&&!/^(?:Trident|EdgeHTML)$/.test(rt)&&"WebKit"||!rt&&/\bMSIE\b/i.test(M)&&(Ce=="Mac OS"?"Tasman":"Trident")||rt=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(fe)&&"NetFront")&&(rt=[F]),fe=="IE"&&(F=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(M)||0)[1])?(fe+=" Mobile",Ce="Windows Phone "+(/\+$/.test(F)?F:F+".x"),Le.unshift("desktop mode")):/\bWPDesktop\b/i.test(M)?(fe="IE Mobile",Ce="Windows Phone 8.x",Le.unshift("desktop mode"),Ae||(Ae=(/\brv:([\d.]+)/.exec(M)||0)[1])):fe!="IE"&&rt=="Trident"&&(F=/\brv:([\d.]+)/.exec(M))&&(fe&&Le.push("identifying as "+fe+(Ae?" "+Ae:"")),fe="IE",Ae=F[1]),Ct){if(function(me,ge){var Ve=me!=null?typeof me[ge]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(Ve)||Ve=="object"&&!me[ge])}(V,"global"))if(Ee&&(Je=(F=Ee.lang.System).getProperty("os.arch"),Ce=Ce||F.getProperty("os.name")+" "+F.getProperty("os.version")),ze){try{Ae=V.require("ringo/engine").version.join("."),fe="RingoJS"}catch{(F=V.system)&&F.global.system==V.system&&(fe="Narwhal",Ce||(Ce=F[0].os||null))}fe||(fe="Rhino")}else typeof V.process=="object"&&!V.process.browser&&(F=V.process)&&(typeof F.versions=="object"&&(typeof F.versions.electron=="string"?(Le.push("Node "+F.versions.node),fe="Electron",Ae=F.versions.electron):typeof F.versions.nw=="string"&&(Le.push("Chromium "+Ae,"Node "+F.versions.node),fe="NW.js",Ae=F.versions.nw)),fe||(fe="Node.js",Je=F.arch,Ce=F.platform,Ae=(Ae=/[\d.]+/.exec(F.version))?Ae[0]:null));else h(F=V.runtime)==J?(fe="Adobe AIR",Ce=F.flash.system.Capabilities.os):h(F=V.phantom)==le?(fe="PhantomJS",Ae=(F=F.version||null)&&F.major+"."+F.minor+"."+F.patch):typeof Ye.documentMode=="number"&&(F=/\bTrident\/(\d+)/i.exec(M))?(Ae=[Ae,Ye.documentMode],(F=+F[1]+4)!=Ae[1]&&(Le.push("IE "+Ae[1]+" mode"),rt&&(rt[1]=""),Ae[1]=F),Ae=fe=="IE"?String(Ae[1].toFixed(1)):Ae[0]):typeof Ye.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(fe)&&(Le.push("masking as "+fe+" "+Ae),fe="IE",Ae="11.0",rt=["Trident"],Ce="Windows");Ce=Ce&&u(Ce)}if(Ae&&(F=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(Ae)||/(?:alpha|beta)(?: ?\d)?/i.exec(M+";"+(Ct&&H.appMinorVersion))||/\bMinefield\b/i.test(M)&&"a")&&(dt=/b/i.test(F)?"beta":"alpha",Ae=Ae.replace(RegExp(F+"\\+?$"),"")+(dt=="beta"?Ke:Pe)+(/\d+\+?/.exec(F)||"")),fe=="Fennec"||fe=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(Ce))fe="Firefox Mobile";else if(fe=="Maxthon"&&Ae)Ae=Ae.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(Fe))Fe=="Xbox 360"&&(Ce=null),Fe=="Xbox 360"&&/\bIEMobile\b/.test(M)&&Le.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(fe)&&(!fe||Fe||/Browser|Mobi/.test(fe))||Ce!="Windows CE"&&!/Mobi/i.test(M))if(fe=="IE"&&Ct)try{V.external===null&&Le.unshift("platform preview")}catch{Le.unshift("embedded")}else(/\bBlackBerry\b/.test(Fe)||/\bBB10\b/.test(M))&&(F=(RegExp(Fe.replace(/ +/g," *")+"/([.\\d]+)","i").exec(M)||0)[1]||Ae)?(Ce=((F=[F,/BB10/.test(M)])[1]?(Fe=null,nt="BlackBerry"):"Device Software")+" "+F[0],Ae=null):this!=d&&Fe!="Wii"&&(Ct&&We||/Opera/.test(fe)&&/\b(?:MSIE|Firefox)\b/i.test(M)||fe=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(Ce)||fe=="IE"&&(Ce&&!/^Win/.test(Ce)&&Ae>5.5||/\bWindows XP\b/.test(Ce)&&Ae>8||Ae==8&&!/\bTrident\b/.test(M)))&&!A.test(F=B.call(d,M.replace(A,"")+";"))&&F.name&&(F="ing as "+F.name+((F=F.version)?" "+F:""),A.test(fe)?(/\bIE\b/.test(F)&&Ce=="Mac OS"&&(Ce=null),F="identify"+F):(F="mask"+F,fe=ot?u(ot.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(F)&&(Ce=null),Ct||(Ae=null)),rt=["Presto"],Le.push(F));else fe+=" Mobile";(F=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(M)||0)[1])&&(F=[parseFloat(F.replace(/\.(\d)$/,".0$1")),F],fe=="Safari"&&F[1].slice(-1)=="+"?(fe="WebKit Nightly",dt="alpha",Ae=F[1].slice(0,-1)):Ae!=F[1]&&Ae!=(F[2]=(/\bSafari\/([\d.]+\+?)/i.exec(M)||0)[1])||(Ae=null),F[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(M)||0)[1],F[0]==537.36&&F[2]==537.36&&parseFloat(F[1])>=28&&rt=="WebKit"&&(rt=["Blink"]),Ct&&(de||F[1])?(rt&&(rt[1]="like Chrome"),F=F[1]||((F=F[0])<530?1:F<532?2:F<532.05?3:F<533?4:F<534.03?5:F<534.07?6:F<534.1?7:F<534.13?8:F<534.16?9:F<534.24?10:F<534.3?11:F<535.01?12:F<535.02?"13+":F<535.07?15:F<535.11?16:F<535.19?17:F<536.05?18:F<536.1?19:F<537.01?20:F<537.11?"21+":F<537.13?23:F<537.18?24:F<537.24?25:F<537.36?26:rt!="Blink"?"27":"28")):(rt&&(rt[1]="like Safari"),F=(F=F[0])<400?1:F<500?2:F<526?3:F<533?4:F<534?"4+":F<535?5:F<537?6:F<538?7:F<601?8:F<602?9:F<604?10:F<606?11:F<608?12:"12"),rt&&(rt[1]+=" "+(F+=typeof F=="number"?".x":/[.+]/.test(F)?"":"+")),fe=="Safari"&&(!Ae||parseInt(Ae)>45)?Ae=F:fe=="Chrome"&&/\bHeadlessChrome/i.test(M)&&Le.unshift("headless")),fe=="Opera"&&(F=/\bzbov|zvav$/.exec(Ce))?(fe+=" ",Le.unshift("desktop mode"),F=="zvav"?(fe+="Mini",Ae=null):fe+="Mobile",Ce=Ce.replace(RegExp(" *"+F+"$"),"")):fe=="Safari"&&/\bChrome\b/.exec(rt&&rt[1])?(Le.unshift("desktop mode"),fe="Chrome Mobile",Ae=null,/\bOS X\b/.test(Ce)?(nt="Apple",Ce="iOS 4.3+"):Ce=null):/\bSRWare Iron\b/.test(fe)&&!Ae&&(Ae=W("Chrome")),Ae&&Ae.indexOf(F=/[\d.]+$/.exec(Ce))==0&&M.indexOf("/"+F+"-")>-1&&(Ce=f(Ce.replace(F,""))),Ce&&Ce.indexOf(fe)!=-1&&!RegExp(fe+" OS").test(Ce)&&(Ce=Ce.replace(RegExp(" *"+p(fe)+" *"),"")),rt&&!/\b(?:Avant|Nook)\b/.test(fe)&&(/Browser|Lunascape|Maxthon/.test(fe)||fe!="Safari"&&/^iOS/.test(Ce)&&/\bSafari\b/.test(rt[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(fe)&&rt[1])&&(F=rt[rt.length-1])&&Le.push(F),Le.length&&(Le=["("+Le.join("; ")+")"]),nt&&Fe&&Fe.indexOf(nt)<0&&Le.push("on "+nt),Fe&&Le.push((/^on /.test(Le[Le.length-1])?"":"on ")+Fe),Ce&&(F=/ ([\d.+]+)$/.exec(Ce),ie=F&&Ce.charAt(Ce.length-F[0].length-1)=="/",Ce={architecture:32,family:F&&!ie?Ce.replace(F[0],""):Ce,version:F?F[1]:null,toString:function(){var Y=this.version;return this.family+(Y&&!ie?" "+Y:"")+(this.architecture==64?" 64-bit":"")}}),(F=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(Je))&&!/\bi686\b/i.test(Je)?(Ce&&(Ce.architecture=64,Ce.family=Ce.family.replace(RegExp(" *"+F),"")),fe&&(/\bWOW64\b/i.test(M)||Ct&&/\w(?:86|32)$/.test(H.cpuClass||H.platform)&&!/\bWin64; x64\b/i.test(M))&&Le.unshift("32-bit")):Ce&&/^OS X/.test(Ce.family)&&fe=="Chrome"&&parseFloat(Ae)>=39&&(Ce.architecture=64),M||(M=null);var _e={};return _e.description=M,_e.layout=rt&&rt[0],_e.manufacturer=nt,_e.name=fe,_e.prerelease=dt,_e.product=Fe,_e.ua=M,_e.version=fe&&Ae,_e.os=Ce||{architecture:null,family:null,version:null,toString:function(){return"null"}},_e.parse=B,_e.toString=function(){return this.description||""},_e.version&&Le.unshift(Ae),_e.name&&Le.unshift(fe),Ce&&fe&&(Ce!=String(Ce).split(" ")[0]||Ce!=fe.split(" ")[0]&&!Fe)&&Le.push(Fe?"("+Ce+")":"on "+Ce),Le.length&&(_e.description=Le.join(" ")),_e}();w.platform=D,(l=function(){return D}.call(a,o,a,i))===void 0||(i.exports=l)}.call(this)},6265:function(i){(function(o,l){i.exports=l()})(0,function(){return function(a){function o(c){if(l[c])return l[c].exports;var u=l[c]={i:c,l:!1,exports:{}};return a[c].call(u.exports,u,u.exports,o),u.l=!0,u.exports}var l={};return o.m=a,o.c=l,o.d=function(c,u,d){o.o(c,u)||Object.defineProperty(c,u,{enumerable:!0,get:d})},o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,u){if(1&u&&(c=o(c)),8&u||4&u&&typeof c=="object"&&c&&c.__esModule)return c;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:c}),2&u&&typeof c!="string")for(var h in c)o.d(d,h,function(p){return c[p]}.bind(null,h));return d},o.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(u,"a",u),u},o.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)},o.p="",o(o.s=0)}([function(a,o,l){function c(_e,Y,me){return Y in _e?Object.defineProperty(_e,Y,{value:me,enumerable:!0,configurable:!0,writable:!0}):_e[Y]=me,_e}l.r(o);var u=function(Y){return Array.isArray(Y)?Y:[Y]},d=function(Y){return Y instanceof Node},h=function(Y,me){if(Y&&me){Y=function(Nt){return Nt instanceof NodeList}(Y)?Y:[Y];for(var ge=0;ge<Y.length&&me(Y[ge],ge,Y.length)!==!0;ge++);}},p=function(Y){if(Array.isArray(Y))return Y.join(", ")},m=function(Y){var me=[];return h(Y,function(ge){return me.push(ge)}),me},f=function(Y,me){var ge=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],Ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:document;if(ge&&m(Ve.querySelectorAll(me)).indexOf(Y)!==-1)return Y;for(;(Y=Y.parentElement)&&m(Ve.querySelectorAll(me)).indexOf(Y)===-1;);return Y},b=function(Y,me){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,Ve=m(ge.querySelectorAll(me)).indexOf(Y)!==-1;return Ve},w=function(Y){if(Y)return getComputedStyle(Y).overflow==="hidden"},g=function(Y){if(Y)return!!w(Y)||Y.scrollTop<=0},C=function(Y){if(Y){if(w(Y))return!0;var me=Y.scrollTop,ge=Y.scrollHeight;return me+Y.offsetHeight>=ge}},k=function(Y){if(Y)return!!w(Y)||Y.scrollLeft<=0},N=function(Y){if(Y){if(w(Y))return!0;var me=Y.scrollLeft,ge=Y.scrollWidth;return me+Y.offsetWidth>=ge}},A=function(Y){return b(Y,'textarea, [contenteditable="true"]')},O=function(Y){return b(Y,'input[type="range"]')};l.d(o,"disablePageScroll",function(){return D}),l.d(o,"enablePageScroll",function(){return B}),l.d(o,"getScrollState",function(){return M}),l.d(o,"clearQueueScrollLocks",function(){return z}),l.d(o,"getTargetScrollBarWidth",function(){return W}),l.d(o,"getCurrentTargetScrollBarWidth",function(){return V}),l.d(o,"getPageScrollBarWidth",function(){return q}),l.d(o,"getCurrentPageScrollBarWidth",function(){return H}),l.d(o,"addScrollableTarget",function(){return K}),l.d(o,"removeScrollableTarget",function(){return F}),l.d(o,"addScrollableSelector",function(){return ie}),l.d(o,"removeScrollableSelector",function(){return de}),l.d(o,"addLockableTarget",function(){return ee}),l.d(o,"addLockableSelector",function(){return J}),l.d(o,"setFillGapMethod",function(){return ae}),l.d(o,"addFillGapTarget",function(){return ue}),l.d(o,"removeFillGapTarget",function(){return le}),l.d(o,"addFillGapSelector",function(){return Ee}),l.d(o,"removeFillGapSelector",function(){return ze}),l.d(o,"refillGaps",function(){return Pe});var R=["padding","margin","width","max-width","none"],$={scroll:!0,queue:0,scrollableSelectors:["[data-scroll-lock-scrollable]"],lockableSelectors:["body","[data-scroll-lock-lockable]"],fillGapSelectors:["body","[data-scroll-lock-fill-gap]","[data-scroll-lock-lockable]"],fillGapMethod:R[0],startTouchY:0,startTouchX:0},D=function(Y){$.queue<=0&&($.scroll=!1,Ke(),dt()),K(Y),$.queue++},B=function(Y){$.queue>0&&$.queue--,$.queue<=0&&($.scroll=!0,Ye(),Ct()),F(Y)},M=function(){return $.scroll},z=function(){$.queue=0},W=function(Y){var me=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(d(Y)){var ge=Y.style.overflowY;me?M()||(Y.style.overflowY=Y.getAttribute("data-scroll-lock-saved-overflow-y-property")):Y.style.overflowY="scroll";var Ve=V(Y);return Y.style.overflowY=ge,Ve}return 0},V=function(Y){if(d(Y)){if(Y===document.body){var me=document.documentElement.clientWidth;return window.innerWidth-me}var ge=Y.style.borderLeftWidth,Ve=Y.style.borderRightWidth;Y.style.borderLeftWidth="0px",Y.style.borderRightWidth="0px";var Nt=Y.offsetWidth-Y.clientWidth;return Y.style.borderLeftWidth=ge,Y.style.borderRightWidth=Ve,Nt}return 0},q=function(){var Y=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return W(document.body,Y)},H=function(){return V(document.body)},K=function(Y){Y&&u(Y).map(function(me){h(me,function(ge){d(ge)?ge.setAttribute("data-scroll-lock-scrollable",""):'"'.concat(ge,'" is not a Element.')})})},F=function(Y){Y&&u(Y).map(function(me){h(me,function(ge){d(ge)?ge.removeAttribute("data-scroll-lock-scrollable"):'"'.concat(ge,'" is not a Element.')})})},ie=function(Y){Y&&u(Y).map(function(me){$.scrollableSelectors.push(me)})},de=function(Y){Y&&u(Y).map(function(me){$.scrollableSelectors=$.scrollableSelectors.filter(function(ge){return ge!==me})})},ee=function(Y){Y&&(u(Y).map(function(me){h(me,function(ge){d(ge)?ge.setAttribute("data-scroll-lock-lockable",""):'"'.concat(ge,'" is not a Element.')})}),M()||Ke())},J=function(Y){Y&&(u(Y).map(function(me){$.lockableSelectors.push(me)}),M()||Ke(),Ee(Y))},ae=function(Y){Y&&R.indexOf(Y)!==-1&&($.fillGapMethod=Y,Pe())},ue=function(Y){Y&&u(Y).map(function(me){h(me,function(ge){d(ge)?(ge.setAttribute("data-scroll-lock-fill-gap",""),$.scroll||rt(ge)):'"'.concat(ge,'" is not a Element.')})})},le=function(Y){Y&&u(Y).map(function(me){h(me,function(ge){d(ge)?(ge.removeAttribute("data-scroll-lock-fill-gap"),$.scroll||Fe(ge)):'"'.concat(ge,'" is not a Element.')})})},Ee=function(Y){Y&&u(Y).map(function(me){$.fillGapSelectors.indexOf(me)===-1&&($.fillGapSelectors.push(me),$.scroll||Ae(me))})},ze=function(Y){Y&&u(Y).map(function(me){$.fillGapSelectors=$.fillGapSelectors.filter(function(ge){return ge!==me}),$.scroll||fe(me)})},Pe=function(){$.scroll||dt()},Ke=function(){var Y=p($.lockableSelectors);We(Y)},Ye=function(){var Y=p($.lockableSelectors);ot(Y)},We=function(Y){var me=document.querySelectorAll(Y);h(me,function(ge){Je(ge)})},ot=function(Y){var me=document.querySelectorAll(Y);h(me,function(ge){Le(ge)})},Je=function(Y){if(d(Y)&&Y.getAttribute("data-scroll-lock-locked")!=="true"){var me=window.getComputedStyle(Y);Y.setAttribute("data-scroll-lock-saved-overflow-y-property",me.overflowY),Y.setAttribute("data-scroll-lock-saved-inline-overflow-property",Y.style.overflow),Y.setAttribute("data-scroll-lock-saved-inline-overflow-y-property",Y.style.overflowY),Y.style.overflow="hidden",Y.setAttribute("data-scroll-lock-locked","true")}},Le=function(Y){d(Y)&&Y.getAttribute("data-scroll-lock-locked")==="true"&&(Y.style.overflow=Y.getAttribute("data-scroll-lock-saved-inline-overflow-property"),Y.style.overflowY=Y.getAttribute("data-scroll-lock-saved-inline-overflow-y-property"),Y.removeAttribute("data-scroll-lock-saved-overflow-property"),Y.removeAttribute("data-scroll-lock-saved-inline-overflow-property"),Y.removeAttribute("data-scroll-lock-saved-inline-overflow-y-property"),Y.removeAttribute("data-scroll-lock-locked"))},dt=function(){$.fillGapSelectors.map(function(Y){Ae(Y)})},Ct=function(){$.fillGapSelectors.map(function(Y){fe(Y)})},Ae=function(Y){var me=document.querySelectorAll(Y),ge=$.lockableSelectors.indexOf(Y)!==-1;h(me,function(Ve){rt(Ve,ge)})},rt=function(Y){var me=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(d(Y)){var ge;if(Y.getAttribute("data-scroll-lock-lockable")===""||me)ge=W(Y,!0);else{var Ve=f(Y,p($.lockableSelectors));ge=W(Ve,!0)}Y.getAttribute("data-scroll-lock-filled-gap")==="true"&&Fe(Y);var Nt=window.getComputedStyle(Y);if(Y.setAttribute("data-scroll-lock-filled-gap","true"),Y.setAttribute("data-scroll-lock-current-fill-gap-method",$.fillGapMethod),$.fillGapMethod==="margin"){var hn=parseFloat(Nt.marginRight);Y.style.marginRight="".concat(hn+ge,"px")}else if($.fillGapMethod==="width")Y.style.width="calc(100% - ".concat(ge,"px)");else if($.fillGapMethod==="max-width")Y.style.maxWidth="calc(100% - ".concat(ge,"px)");else if($.fillGapMethod==="padding"){var Lt=parseFloat(Nt.paddingRight);Y.style.paddingRight="".concat(Lt+ge,"px")}}},fe=function(Y){var me=document.querySelectorAll(Y);h(me,function(ge){Fe(ge)})},Fe=function(Y){if(d(Y)&&Y.getAttribute("data-scroll-lock-filled-gap")==="true"){var me=Y.getAttribute("data-scroll-lock-current-fill-gap-method");Y.removeAttribute("data-scroll-lock-filled-gap"),Y.removeAttribute("data-scroll-lock-current-fill-gap-method"),me==="margin"?Y.style.marginRight="":me==="width"?Y.style.width="":me==="max-width"?Y.style.maxWidth="":me==="padding"&&(Y.style.paddingRight="")}};typeof window<"u"&&window.addEventListener("resize",function(Y){Pe()}),typeof document<"u"&&(document.addEventListener("touchstart",function(Y){$.scroll||($.startTouchY=Y.touches[0].clientY,$.startTouchX=Y.touches[0].clientX)}),document.addEventListener("touchmove",function(Y){if(!$.scroll){var me=$.startTouchY,ge=$.startTouchX,Ve=Y.touches[0].clientY,Nt=Y.touches[0].clientX;if(Y.touches.length<2){var hn=p($.scrollableSelectors),Lt={up:me<Ve,down:me>Ve,left:ge<Nt,right:ge>Nt},Sn={up:me+3<Ve,down:me-3>Ve,left:ge+3<Nt,right:ge-3>Nt};(function Ne(Me){var ct=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(Me){var Be=f(Me,hn,!1);if(O(Me))return!1;if(ct||A(Me)&&f(Me,hn)||b(Me,hn)){var Ie=!1;k(Me)&&N(Me)?(Lt.up&&g(Me)||Lt.down&&C(Me))&&(Ie=!0):g(Me)&&C(Me)?(Lt.left&&k(Me)||Lt.right&&N(Me))&&(Ie=!0):(Sn.up&&g(Me)||Sn.down&&C(Me)||Sn.left&&k(Me)||Sn.right&&N(Me))&&(Ie=!0),Ie&&(Be?Ne(Be,!0):Y.cancelable&&Y.preventDefault())}else Ne(Be)}else Y.cancelable&&Y.preventDefault()})(Y.target)}}},{passive:!1}),document.addEventListener("touchend",function(Y){$.scroll||($.startTouchY=0,$.startTouchX=0)}));var nt={hide:function(Y){D(Y)},show:function(Y){B(Y)},toggle:function(Y){M()?D():B(Y)},getState:function(){return M()},getWidth:function(){return q()},getCurrentWidth:function(){return H()},setScrollableTargets:function(Y){K(Y)},setFillGapSelectors:function(Y){Ee(Y)},setFillGapTargets:function(Y){ue(Y)},clearQueue:function(){z()}},Ce=function(Y){for(var me=1;me<arguments.length;me++){var ge=arguments[me]!=null?arguments[me]:{},Ve=Object.keys(ge);typeof Object.getOwnPropertySymbols=="function"&&(Ve=Ve.concat(Object.getOwnPropertySymbols(ge).filter(function(Nt){return Object.getOwnPropertyDescriptor(ge,Nt).enumerable}))),Ve.forEach(function(Nt){c(Y,Nt,ge[Nt])})}return Y}({disablePageScroll:D,enablePageScroll:B,getScrollState:M,clearQueueScrollLocks:z,getTargetScrollBarWidth:W,getCurrentTargetScrollBarWidth:V,getPageScrollBarWidth:q,getCurrentPageScrollBarWidth:H,addScrollableSelector:ie,removeScrollableSelector:de,addScrollableTarget:K,removeScrollableTarget:F,addLockableSelector:J,addLockableTarget:ee,addFillGapSelector:Ee,removeFillGapSelector:ze,addFillGapTarget:ue,removeFillGapTarget:le,setFillGapMethod:ae,refillGaps:Pe,_state:$},nt);o.default=Ce}]).default})},3379:i=>{function a(u){for(var d=-1,h=0;h<c.length;h++)if(c[h].identifier===u){d=h;break}return d}function o(u,d){for(var h={},p=[],m=0;m<u.length;m++){var f=u[m],b=d.base?f[0]+d.base:f[0],w=h[b]||0,g="".concat(b," ").concat(w);h[b]=w+1;var C=a(g),k={css:f[1],media:f[2],sourceMap:f[3],supports:f[4],layer:f[5]};if(C!==-1)c[C].references++,c[C].updater(k);else{var N=l(k,d);d.byIndex=m,c.splice(m,0,{identifier:g,updater:N,references:1})}p.push(g)}return p}function l(u,d){var h=d.domAPI(d);return h.update(u),function(m){if(m){if(m.css===u.css&&m.media===u.media&&m.sourceMap===u.sourceMap&&m.supports===u.supports&&m.layer===u.layer)return;h.update(u=m)}else h.remove()}}var c=[];i.exports=function(u,d){var h=o(u=u||[],d=d||{});return function(m){m=m||[];for(var f=0;f<h.length;f++){var b=a(h[f]);c[b].references--}for(var w=o(m,d),g=0;g<h.length;g++){var C=a(h[g]);c[C].references===0&&(c[C].updater(),c.splice(C,1))}h=w}}},569:i=>{var a={};i.exports=function(l,c){var u=function(h){if(a[h]===void 0){var p=document.querySelector(h);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}a[h]=p}return a[h]}(l);if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(c)}},9216:i=>{i.exports=function(o){var l=document.createElement("style");return o.setAttributes(l,o.attributes),o.insert(l,o.options),l}},3565:(i,a,o)=>{i.exports=function(c){var u=o.nc;u&&c.setAttribute("nonce",u)}},7795:i=>{i.exports=function(o){var l=o.insertStyleElement(o);return{update:function(u){(function(h,p,m){var f="";m.supports&&(f+="@supports (".concat(m.supports,") {")),m.media&&(f+="@media ".concat(m.media," {"));var b=m.layer!==void 0;b&&(f+="@layer".concat(m.layer.length>0?" ".concat(m.layer):""," {")),f+=m.css,b&&(f+="}"),m.media&&(f+="}"),m.supports&&(f+="}");var w=m.sourceMap;w&&typeof btoa<"u"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(w))))," */")),p.styleTagTransform(f,h,p.options)})(l,o,u)},remove:function(){(function(d){if(d.parentNode===null)return!1;d.parentNode.removeChild(d)})(l)}}}},4589:i=>{i.exports=function(o,l){if(l.styleSheet)l.styleSheet.cssText=o;else{for(;l.firstChild;)l.removeChild(l.firstChild);l.appendChild(document.createTextNode(o))}}}},s={};return n.n=i=>{var a=i&&i.__esModule?()=>i.default:()=>i;return n.d(a,{a}),a},n.d=(i,a)=>{for(var o in a)n.o(a,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:a[o]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.hmd=i=>((i=Object.create(i)).children||(i.children=[]),Object.defineProperty(i,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+i.id)}}),i),n.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.nmd=i=>(i.paths=[],i.children||(i.children=[]),i),n(1736)})()})})(i6e);var SR={},o6e={get exports(){return SR},set exports(t){SR=t}};(function(t,e){(function(r,s){t.exports=s()})(Sl,function(){return(()=>{function n(i){var a=s[i];if(a!==void 0)return a.exports;var o=s[i]={id:i,loaded:!1,exports:{}};return r[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={1553:i=>{var a=function(o){function l(ee,J,ae){return Object.defineProperty(ee,J,{value:ae,enumerable:!0,configurable:!0,writable:!0}),ee[J]}function c(ee,J,ae,ue){var le=J&&J.prototype instanceof d?J:d,Ee=Object.create(le.prototype),ze=new C(ue||[]);return Ee._invoke=function(Ke,Ye,We){var ot=z;return function(Le,dt){if(ot===V)throw new Error("Generator is already running");if(ot===q){if(Le==="throw")throw dt;return N()}for(We.method=Le,We.arg=dt;;){var Ct=We.delegate;if(Ct){var Ae=b(Ct,We);if(Ae){if(Ae===H)continue;return Ae}}if(We.method==="next")We.sent=We._sent=We.arg;else if(We.method==="throw"){if(ot===z)throw ot=q,We.arg;We.dispatchException(We.arg)}else We.method==="return"&&We.abrupt("return",We.arg);ot=V;var rt=u(Ke,Ye,We);if(rt.type==="normal"){if(ot=We.done?q:W,rt.arg===H)continue;return{value:rt.arg,done:We.done}}rt.type==="throw"&&(ot=q,We.method="throw",We.arg=rt.arg)}}}(ee,ae,ze),Ee}function u(ee,J,ae){try{return{type:"normal",arg:ee.call(J,ae)}}catch(ue){return{type:"throw",arg:ue}}}function d(){}function h(){}function p(){}function m(ee){["next","throw","return"].forEach(function(J){l(ee,J,function(ae){return this._invoke(J,ae)})})}function f(ee,J){function ae(le,Ee,ze,Pe){var Ke=u(ee[le],ee,Ee);if(Ke.type!=="throw"){var Ye=Ke.arg,We=Ye.value;return We&&typeof We=="object"&&R.call(We,"__await")?J.resolve(We.__await).then(function(ot){ae("next",ot,ze,Pe)},function(ot){ae("throw",ot,ze,Pe)}):J.resolve(We).then(function(ot){Ye.value=ot,ze(Ye)},function(ot){return ae("throw",ot,ze,Pe)})}Pe(Ke.arg)}var ue;this._invoke=function(Ee,ze){function Pe(){return new J(function(Ke,Ye){ae(Ee,ze,Ke,Ye)})}return ue=ue?ue.then(Pe,Pe):Pe()}}function b(ee,J){var ae=ee.iterator[J.method];if(ae===A){if(J.delegate=null,J.method==="throw"){if(ee.iterator.return&&(J.method="return",J.arg=A,b(ee,J),J.method==="throw"))return H;J.method="throw",J.arg=new TypeError("The iterator does not provide a 'throw' method")}return H}var ue=u(ae,ee.iterator,J.arg);if(ue.type==="throw")return J.method="throw",J.arg=ue.arg,J.delegate=null,H;var le=ue.arg;return le?le.done?(J[ee.resultName]=le.value,J.next=ee.nextLoc,J.method!=="return"&&(J.method="next",J.arg=A),J.delegate=null,H):le:(J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,H)}function w(ee){var J={tryLoc:ee[0]};1 in ee&&(J.catchLoc=ee[1]),2 in ee&&(J.finallyLoc=ee[2],J.afterLoc=ee[3]),this.tryEntries.push(J)}function g(ee){var J=ee.completion||{};J.type="normal",delete J.arg,ee.completion=J}function C(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(w,this),this.reset(!0)}function k(ee){if(ee){var J=ee[D];if(J)return J.call(ee);if(typeof ee.next=="function")return ee;if(!isNaN(ee.length)){var ae=-1,ue=function le(){for(;++ae<ee.length;)if(R.call(ee,ae))return le.value=ee[ae],le.done=!1,le;return le.value=A,le.done=!0,le};return ue.next=ue}}return{next:N}}function N(){return{value:A,done:!0}}var A,O=Object.prototype,R=O.hasOwnProperty,$=typeof Symbol=="function"?Symbol:{},D=$.iterator||"@@iterator",B=$.asyncIterator||"@@asyncIterator",M=$.toStringTag||"@@toStringTag";try{l({},"")}catch{l=function(J,ae,ue){return J[ae]=ue}}o.wrap=c;var z="suspendedStart",W="suspendedYield",V="executing",q="completed",H={},K={};l(K,D,function(){return this});var F=Object.getPrototypeOf,ie=F&&F(F(k([])));ie&&ie!==O&&R.call(ie,D)&&(K=ie);var de=p.prototype=d.prototype=Object.create(K);return h.prototype=p,l(de,"constructor",p),l(p,"constructor",h),h.displayName=l(p,M,"GeneratorFunction"),o.isGeneratorFunction=function(ee){var J=typeof ee=="function"&&ee.constructor;return!!J&&(J===h||(J.displayName||J.name)==="GeneratorFunction")},o.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,p):(ee.__proto__=p,l(ee,M,"GeneratorFunction")),ee.prototype=Object.create(de),ee},o.awrap=function(ee){return{__await:ee}},m(f.prototype),l(f.prototype,B,function(){return this}),o.AsyncIterator=f,o.async=function(ee,J,ae,ue,le){le===void 0&&(le=Promise);var Ee=new f(c(ee,J,ae,ue),le);return o.isGeneratorFunction(J)?Ee:Ee.next().then(function(ze){return ze.done?ze.value:Ee.next()})},m(de),l(de,M,"Generator"),l(de,D,function(){return this}),l(de,"toString",function(){return"[object Generator]"}),o.keys=function(ee){var J=[];for(var ae in ee)J.push(ae);return J.reverse(),function ue(){for(;J.length;){var le=J.pop();if(le in ee)return ue.value=le,ue.done=!1,ue}return ue.done=!0,ue}},o.values=k,C.prototype={constructor:C,reset:function(ee){if(this.prev=0,this.next=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(g),!ee)for(var J in this)J.charAt(0)==="t"&&R.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=A)},stop:function(){this.done=!0;var ee=this.tryEntries[0].completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(ee){function J(Ke,Ye){return Ee.type="throw",Ee.arg=ee,ae.next=Ke,Ye&&(ae.method="next",ae.arg=A),!!Ye}if(this.done)throw ee;for(var ae=this,ue=this.tryEntries.length-1;ue>=0;--ue){var le=this.tryEntries[ue],Ee=le.completion;if(le.tryLoc==="root")return J("end");if(le.tryLoc<=this.prev){var ze=R.call(le,"catchLoc"),Pe=R.call(le,"finallyLoc");if(ze&&Pe){if(this.prev<le.catchLoc)return J(le.catchLoc,!0);if(this.prev<le.finallyLoc)return J(le.finallyLoc)}else if(ze){if(this.prev<le.catchLoc)return J(le.catchLoc,!0)}else{if(!Pe)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return J(le.finallyLoc)}}}},abrupt:function(ee,J){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var ue=this.tryEntries[ae];if(ue.tryLoc<=this.prev&&R.call(ue,"finallyLoc")&&this.prev<ue.finallyLoc){var le=ue;break}}le&&(ee==="break"||ee==="continue")&&le.tryLoc<=J&&J<=le.finallyLoc&&(le=null);var Ee=le?le.completion:{};return Ee.type=ee,Ee.arg=J,le?(this.method="next",this.next=le.finallyLoc,H):this.complete(Ee)},complete:function(ee,J){if(ee.type==="throw")throw ee.arg;return ee.type==="break"||ee.type==="continue"?this.next=ee.arg:ee.type==="return"?(this.rval=this.arg=ee.arg,this.method="return",this.next="end"):ee.type==="normal"&&J&&(this.next=J),H},finish:function(ee){for(var J=this.tryEntries.length-1;J>=0;--J){var ae=this.tryEntries[J];if(ae.finallyLoc===ee)return this.complete(ae.completion,ae.afterLoc),g(ae),H}},catch:function(ee){for(var J=this.tryEntries.length-1;J>=0;--J){var ae=this.tryEntries[J];if(ae.tryLoc===ee){var ue=ae.completion;if(ue.type==="throw"){var le=ue.arg;g(ae)}return le}}throw new Error("illegal catch attempt")},delegateYield:function(ee,J,ae){return this.delegate={iterator:k(ee),resultName:J,nextLoc:ae},this.method==="next"&&(this.arg=A),H}},o}(i.exports);try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},7757:(i,a,o)=>{i.exports=o(1553)},8641:(i,a,o)=>{function l(){var O=(0,w.R)();return O.__SENTRY__=O.__SENTRY__||{extensions:{},hub:void 0},O}function c(O){var R=l(),$=h(R);return p(R,O),$}function u(){var O=l();return d(O)&&!h(O).isOlderThan(4)||p(O,new A),(0,g.KV)()?function($){try{var D=l().__SENTRY__,B=D&&D.extensions&&D.extensions.domain&&D.extensions.domain.active;if(!B)return h($);if(!d(B)||h(B).isOlderThan(4)){var M=h($).getStackTop();p(B,new A(M.client,C.s.clone(M.scope)))}return h(B)}catch{return h($)}}(O):h(O)}function d(O){return!!(O&&O.__SENTRY__&&O.__SENTRY__.hub)}function h(O){return(0,w.Y)("hub",()=>new A,O)}function p(O,R){return!!O&&((O.__SENTRY__=O.__SENTRY__||{}).hub=R,!0)}o.d(a,{Gd:()=>u,cu:()=>l});var m=o(2844),f=o(1170),b=o(2343),w=o(2991),g=o(2176),C=o(6769),k=o(5771),N=100;class A{__init(){this._stack=[{}]}constructor(R,$=new C.s,D=4){this._version=D,A.prototype.__init.call(this),this.getStackTop().scope=$,R&&this.bindClient(R)}isOlderThan(R){return this._version<R}bindClient(R){this.getStackTop().client=R,R&&R.setupIntegrations&&R.setupIntegrations()}pushScope(){var R=C.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:R}),R}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(R){var $=this.pushScope();try{R($)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(R,$){var D=this._lastEventId=$&&$.event_id?$.event_id:(0,m.DM)(),B=new Error("Sentry syntheticException");return this._withClient((M,z)=>{M.captureException(R,{originalException:R,syntheticException:B,...$,event_id:D},z)}),D}captureMessage(R,$,D){var B=this._lastEventId=D&&D.event_id?D.event_id:(0,m.DM)(),M=new Error(R);return this._withClient((z,W)=>{z.captureMessage(R,$,{originalException:R,syntheticException:M,...D,event_id:B},W)}),B}captureEvent(R,$){var D=$&&$.event_id?$.event_id:(0,m.DM)();return R.type!=="transaction"&&(this._lastEventId=D),this._withClient((B,M)=>{B.captureEvent(R,{...$,event_id:D},M)}),D}lastEventId(){return this._lastEventId}addBreadcrumb(R,$){const{scope:D,client:B}=this.getStackTop();if(!D||!B)return;const{beforeBreadcrumb:M=null,maxBreadcrumbs:z=N}=B.getOptions&&B.getOptions()||{};if(!(z<=0)){var W={timestamp:(0,f.yW)(),...R},V=M?(0,b.Cf)(()=>M(W,$)):W;V!==null&&D.addBreadcrumb(V,z)}}setUser(R){var $=this.getScope();$&&$.setUser(R)}setTags(R){var $=this.getScope();$&&$.setTags(R)}setExtras(R){var $=this.getScope();$&&$.setExtras(R)}setTag(R,$){var D=this.getScope();D&&D.setTag(R,$)}setExtra(R,$){var D=this.getScope();D&&D.setExtra(R,$)}setContext(R,$){var D=this.getScope();D&&D.setContext(R,$)}configureScope(R){const{scope:$,client:D}=this.getStackTop();$&&D&&R($)}run(R){var $=c(this);try{R(this)}finally{c($)}}getIntegration(R){var $=this.getClient();if(!$)return null;try{return $.getIntegration(R)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&b.kg.warn(`Cannot retrieve integration ${R.id} from the current Hub`),null}}startTransaction(R,$){return this._callExtensionMethod("startTransaction",R,$)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(R=!1){if(R)return this.endSession();this._sendSessionUpdate()}endSession(){var R=this.getStackTop(),$=R&&R.scope,D=$&&$.getSession();D&&(0,k.RJ)(D),this._sendSessionUpdate(),$&&$.setSession()}startSession(R){const{scope:$,client:D}=this.getStackTop(),{release:B,environment:M}=D&&D.getOptions()||{};var z=(0,w.R)();const{userAgent:W}=z.navigator||{};var V=(0,k.Hv)({release:B,environment:M,...$&&{user:$.getUser()},...W&&{userAgent:W},...R});if($){var q=$.getSession&&$.getSession();q&&q.status==="ok"&&(0,k.CT)(q,{status:"exited"}),this.endSession(),$.setSession(V)}return V}shouldSendDefaultPii(){var R=this.getClient(),$=R&&R.getOptions();return!!($&&$.sendDefaultPii)}_sendSessionUpdate(){const{scope:R,client:$}=this.getStackTop();if(R){var D=R.getSession();D&&$&&$.captureSession&&$.captureSession(D)}}_withClient(R){const{scope:$,client:D}=this.getStackTop();D&&R(D,$)}_callExtensionMethod(R,...$){var D=l().__SENTRY__;if(D&&D.extensions&&typeof D.extensions[R]=="function")return D.extensions[R].apply(this,$);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&b.kg.warn(`Extension method ${R} couldn't be found, doing nothing.`)}}},6769:(i,a,o)=>{function l(){return(0,m.Y)("globalEventProcessors",()=>[])}function c(w){l().push(w)}o.d(a,{s:()=>b,c:()=>c});var u=o(7597),d=o(1170),h=o(6893),p=o(2343),m=o(2991),f=o(5771);class b{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(g){var C=new b;return g&&(C._breadcrumbs=[...g._breadcrumbs],C._tags={...g._tags},C._extra={...g._extra},C._contexts={...g._contexts},C._user=g._user,C._level=g._level,C._span=g._span,C._session=g._session,C._transactionName=g._transactionName,C._fingerprint=g._fingerprint,C._eventProcessors=[...g._eventProcessors],C._requestSession=g._requestSession,C._attachments=[...g._attachments]),C}addScopeListener(g){this._scopeListeners.push(g)}addEventProcessor(g){return this._eventProcessors.push(g),this}setUser(g){return this._user=g||{},this._session&&(0,f.CT)(this._session,{user:g}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(g){return this._requestSession=g,this}setTags(g){return this._tags={...this._tags,...g},this._notifyScopeListeners(),this}setTag(g,C){return this._tags={...this._tags,[g]:C},this._notifyScopeListeners(),this}setExtras(g){return this._extra={...this._extra,...g},this._notifyScopeListeners(),this}setExtra(g,C){return this._extra={...this._extra,[g]:C},this._notifyScopeListeners(),this}setFingerprint(g){return this._fingerprint=g,this._notifyScopeListeners(),this}setLevel(g){return this._level=g,this._notifyScopeListeners(),this}setTransactionName(g){return this._transactionName=g,this._notifyScopeListeners(),this}setContext(g,C){return C===null?delete this._contexts[g]:this._contexts={...this._contexts,[g]:C},this._notifyScopeListeners(),this}setSpan(g){return this._span=g,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var g=this.getSpan();return g&&g.transaction}setSession(g){return g?this._session=g:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(g){if(!g)return this;if(typeof g=="function"){var C=g(this);return C instanceof b?C:this}return g instanceof b?(this._tags={...this._tags,...g._tags},this._extra={...this._extra,...g._extra},this._contexts={...this._contexts,...g._contexts},g._user&&Object.keys(g._user).length&&(this._user=g._user),g._level&&(this._level=g._level),g._fingerprint&&(this._fingerprint=g._fingerprint),g._requestSession&&(this._requestSession=g._requestSession)):(0,u.PO)(g)&&(g=g,this._tags={...this._tags,...g.tags},this._extra={...this._extra,...g.extra},this._contexts={...this._contexts,...g.contexts},g.user&&(this._user=g.user),g.level&&(this._level=g.level),g.fingerprint&&(this._fingerprint=g.fingerprint),g.requestSession&&(this._requestSession=g.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(g,C){var k=typeof C=="number"?Math.min(C,100):100;if(k<=0)return this;var N={timestamp:(0,d.yW)(),...g};return this._breadcrumbs=[...this._breadcrumbs,N].slice(-k),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(g){return this._attachments.push(g),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(g,C={}){if(this._extra&&Object.keys(this._extra).length&&(g.extra={...this._extra,...g.extra}),this._tags&&Object.keys(this._tags).length&&(g.tags={...this._tags,...g.tags}),this._user&&Object.keys(this._user).length&&(g.user={...this._user,...g.user}),this._contexts&&Object.keys(this._contexts).length&&(g.contexts={...this._contexts,...g.contexts}),this._level&&(g.level=this._level),this._transactionName&&(g.transaction=this._transactionName),this._span){g.contexts={trace:this._span.getTraceContext(),...g.contexts};var k=this._span.transaction&&this._span.transaction.name;k&&(g.tags={transaction:k,...g.tags})}return this._applyFingerprint(g),g.breadcrumbs=[...g.breadcrumbs||[],...this._breadcrumbs],g.breadcrumbs=g.breadcrumbs.length>0?g.breadcrumbs:void 0,g.sdkProcessingMetadata={...g.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...l(),...this._eventProcessors],g,C)}setSDKProcessingMetadata(g){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...g},this}_notifyEventProcessors(g,C,k,N=0){return new h.cW((A,O)=>{var R=g[N];if(C===null||typeof R!="function")A(C);else{var $=R({...C},k);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&R.id&&$===null&&p.kg.log(`Event processor "${R.id}" dropped event`),(0,u.J8)($)?$.then(D=>this._notifyEventProcessors(g,D,k,N+1).then(A)).then(null,O):this._notifyEventProcessors(g,$,k,N+1).then(A).then(null,O)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(g=>{g(this)}),this._notifyingListeners=!1)}_applyFingerprint(g){g.fingerprint=g.fingerprint?Array.isArray(g.fingerprint)?g.fingerprint:[g.fingerprint]:[],this._fingerprint&&(g.fingerprint=g.fingerprint.concat(this._fingerprint)),g.fingerprint&&!g.fingerprint.length&&delete g.fingerprint}}},5771:(i,a,o)=>{function l(m){var f=(0,d.ph)(),b={sid:(0,h.DM)(),init:!0,timestamp:f,started:f,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(g){return(0,p.Jr)({sid:`${g.sid}`,init:g.init,started:new Date(1e3*g.started).toISOString(),timestamp:new Date(1e3*g.timestamp).toISOString(),status:g.status,errors:g.errors,did:typeof g.did=="number"||typeof g.did=="string"?`${g.did}`:void 0,duration:g.duration,attrs:{release:g.release,environment:g.environment,ip_address:g.ipAddress,user_agent:g.userAgent}})}(b)};return m&&c(b,m),b}function c(m,f={}){if(f.user&&(!m.ipAddress&&f.user.ip_address&&(m.ipAddress=f.user.ip_address),m.did||f.did||(m.did=f.user.id||f.user.email||f.user.username)),m.timestamp=f.timestamp||(0,d.ph)(),f.ignoreDuration&&(m.ignoreDuration=f.ignoreDuration),f.sid&&(m.sid=f.sid.length===32?f.sid:(0,h.DM)()),f.init!==void 0&&(m.init=f.init),!m.did&&f.did&&(m.did=`${f.did}`),typeof f.started=="number"&&(m.started=f.started),m.ignoreDuration)m.duration=void 0;else if(typeof f.duration=="number")m.duration=f.duration;else{var b=m.timestamp-m.started;m.duration=b>=0?b:0}f.release&&(m.release=f.release),f.environment&&(m.environment=f.environment),!m.ipAddress&&f.ipAddress&&(m.ipAddress=f.ipAddress),!m.userAgent&&f.userAgent&&(m.userAgent=f.userAgent),typeof f.errors=="number"&&(m.errors=f.errors),f.status&&(m.status=f.status)}function u(m,f){let b={};f?b={status:f}:m.status==="ok"&&(b={status:"exited"}),c(m,b)}o.d(a,{RJ:()=>u,Hv:()=>l,CT:()=>c});var d=o(1170),h=o(2844),p=o(535)},790:(i,a,o)=>{function l(){var A=(0,C.x1)();if(A){var O="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.log(`[Tracing] Transaction: ${O} -> Global error occured`),A.setStatus(O)}}function c(){var A=this.getScope();if(A){var O=A.getSpan();if(O)return{"sentry-trace":O.toTraceparent()}}return{}}function u(A,O,R){if(!(0,C.zu)(O))return A.sampled=!1,A;if(A.sampled!==void 0)return A.setMetadata({transactionSampling:{method:"explicitly_set"}}),A;let $;return typeof O.tracesSampler=="function"?($=O.tracesSampler(R),A.setMetadata({transactionSampling:{method:"client_sampler",rate:Number($)}})):R.parentSampled!==void 0?($=R.parentSampled,A.setMetadata({transactionSampling:{method:"inheritance"}})):($=O.tracesSampleRate,A.setMetadata({transactionSampling:{method:"client_rate",rate:Number($)}})),function(B){return(0,b.i2)(B)||typeof B!="number"&&typeof B!="boolean"?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(B)} of type ${JSON.stringify(typeof B)}.`),!1):B<0||B>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${B}.`),!1):!0}($)?$?(A.sampled=Math.random()<$,A.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.log(`[Tracing] starting ${A.op} transaction - ${A.name}`),A):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number($)})`),A)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.log("[Tracing] Discarding transaction because "+(typeof O.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),A.sampled=!1,A):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),A.sampled=!1,A)}function d(A,O){var R=this.getClient(),$=R&&R.getOptions()||{};let D=new N.Y(A,this);return D=u(D,$,{parentSampled:A.parentSampled,transactionContext:A,...O}),D.sampled&&D.initSpanRecorder($._experiments&&$._experiments.maxSpans),D}function h(A,O,R,$,D,B){var M=A.getClient(),z=M&&M.getOptions()||{};let W=new k.io(O,A,R,$,D);return W=u(W,z,{parentSampled:O.parentSampled,transactionContext:O,...B}),W.sampled&&W.initSpanRecorder(z._experiments&&z._experiments.maxSpans),W}function p(){(function(){var O=(0,m.cu)();O.__SENTRY__&&(O.__SENTRY__.extensions=O.__SENTRY__.extensions||{},O.__SENTRY__.extensions.startTransaction||(O.__SENTRY__.extensions.startTransaction=d),O.__SENTRY__.extensions.traceHeaders||(O.__SENTRY__.extensions.traceHeaders=c))})(),(0,w.KV)()&&function(){var O=(0,m.cu)();if(O.__SENTRY__){var R={mongodb:()=>new((0,w.l$)(i,"./integrations/node/mongo")).Mongo,mongoose:()=>new((0,w.l$)(i,"./integrations/node/mongo")).Mongo({mongoose:!0}),mysql:()=>new((0,w.l$)(i,"./integrations/node/mysql")).Mysql,pg:()=>new((0,w.l$)(i,"./integrations/node/postgres")).Postgres},$=Object.keys(R).filter(D=>!!(0,w.$y)(D)).map(D=>{try{return R[D]()}catch{return}}).filter(D=>D);$.length>0&&(O.__SENTRY__.integrations=[...O.__SENTRY__.integrations||[],...$])}}(),function(){(0,g.o)("error",l),(0,g.o)("unhandledrejection",l)}()}o.d(a,{ro:()=>p,lb:()=>h});var m=o(8641),f=o(2343),b=o(7597),w=o(2176),g=o(9732),C=o(3233),k=o(6458),N=o(3391);i=o.hmd(i)},6458:(i,a,o)=>{function l(w){var g=w.getScope();g&&g.getTransaction()&&g.setSpan(void 0)}o.d(a,{mg:()=>m,nT:()=>p,io:()=>b});var c=o(1170),u=o(2343),d=o(5334),h=o(3391),p=1e3,m=3e4;class f extends d.gB{constructor(g,C,k,N){super(N),this._pushActivity=g,this._popActivity=C,this.transactionSpanId=k}add(g){g.spanId!==this.transactionSpanId&&(g.finish=C=>{g.endTimestamp=typeof C=="number"?C:(0,c._I)(),this._popActivity(g.spanId)},g.endTimestamp===void 0&&this._pushActivity(g.spanId)),super.add(g)}}class b extends h.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(g,C,k=p,N=m,A=!1){super(g,C),this._idleHub=C,this._idleTimeout=k,this._finalTimeout=N,this._onScope=A,b.prototype.__init.call(this),b.prototype.__init2.call(this),b.prototype.__init3.call(this),b.prototype.__init4.call(this),A&&(l(C),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),C.configureScope(O=>O.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(g=(0,c._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){for(var C of((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*g).toISOString(),this.op),this._beforeFinishCallbacks))C(this,g);this.spanRecorder.spans=this.spanRecorder.spans.filter(k=>{if(k.spanId===this.spanId)return!0;k.endTimestamp||(k.endTimestamp=g,k.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(k,void 0,2)));var N=k.startTimestamp<g;return N||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(k,void 0,2)),N}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&l(this._idleHub),super.finish(g)}registerBeforeFinishCallback(g){this._beforeFinishCallbacks.push(g)}initSpanRecorder(g){this.spanRecorder||(this.spanRecorder=new f(C=>{this._finished||this._pushActivity(C)},C=>{this._finished||this._popActivity(C)},this.spanId,g),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(g){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||Object.keys(this.activities).length!==0||this.finish(g)},this._idleTimeout)}_pushActivity(g){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log(`[Tracing] pushActivity: ${g}`),this.activities[g]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(g){if(this.activities[g]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log(`[Tracing] popActivity ${g}`),delete this.activities[g],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var C=(0,c._I)()+this._idleTimeout/1e3;this._startIdleTimeout(C)}}_beat(){if(!this._finished){var g=Object.keys(this.activities).join("");g===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=g,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},5e3)}}},5334:(i,a,o)=>{o.d(a,{Dr:()=>p,gB:()=>h});var l=o(5375),c=o(2844),u=o(1170),d=o(535);class h{__init(){this.spans=[]}constructor(f=1e3){h.prototype.__init.call(this),this._maxlen=f}add(f){this.spans.length>this._maxlen?f.spanRecorder=void 0:this.spans.push(f)}}class p{__init2(){this.traceId=(0,c.DM)()}__init3(){this.spanId=(0,c.DM)().substring(16)}__init4(){this.startTimestamp=(0,u._I)()}__init5(){this.tags={}}__init6(){this.data={}}constructor(f){if(p.prototype.__init2.call(this),p.prototype.__init3.call(this),p.prototype.__init4.call(this),p.prototype.__init5.call(this),p.prototype.__init6.call(this),!f)return this;f.traceId&&(this.traceId=f.traceId),f.spanId&&(this.spanId=f.spanId),f.parentSpanId&&(this.parentSpanId=f.parentSpanId),"sampled"in f&&(this.sampled=f.sampled),f.op&&(this.op=f.op),f.description&&(this.description=f.description),f.data&&(this.data=f.data),f.tags&&(this.tags=f.tags),f.status&&(this.status=f.status),f.startTimestamp&&(this.startTimestamp=f.startTimestamp),f.endTimestamp&&(this.endTimestamp=f.endTimestamp)}startChild(f){var b=new p({...f,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});return b.spanRecorder=this.spanRecorder,b.spanRecorder&&b.spanRecorder.add(b),b.transaction=this.transaction,b}setTag(f,b){return this.tags={...this.tags,[f]:b},this}setData(f,b){return this.data={...this.data,[f]:b},this}setStatus(f){return this.status=f,this}setHttpStatus(f){this.setTag("http.status_code",String(f));var b=function(g){if(g<400&&g>=100)return"ok";if(g>=400&&g<500)switch(g){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(g>=500&&g<600)switch(g){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(f);return b!=="unknown_error"&&this.setStatus(b),this}isSuccess(){return this.status==="ok"}finish(f){this.endTimestamp=typeof f=="number"?f:(0,u._I)()}toTraceparent(){let f="";return this.sampled!==void 0&&(f=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${f}`}toContext(){return(0,d.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(f){return this.data=(0,l.h)(f.data,()=>({})),this.description=f.description,this.endTimestamp=f.endTimestamp,this.op=f.op,this.parentSpanId=f.parentSpanId,this.sampled=f.sampled,this.spanId=(0,l.h)(f.spanId,()=>this.spanId),this.startTimestamp=(0,l.h)(f.startTimestamp,()=>this.startTimestamp),this.status=f.status,this.tags=(0,l.h)(f.tags,()=>({})),this.traceId=(0,l.h)(f.traceId,()=>this.traceId),this}getTraceContext(){return(0,d.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,d.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}},3391:(i,a,o)=>{o.d(a,{Y:()=>m});var l=o(5375),c=o(8641),u=o(2343),d=o(535),h=o(9181),p=o(5334);class m extends p.Dr{__init(){this._measurements={}}constructor(b,w){super(b),m.prototype.__init.call(this),this._hub=w||(0,c.Gd)(),this._name=b.name||"",this.metadata=b.metadata||{},this._trimEnd=b.trimEnd,this.transaction=this}get name(){return this._name}set name(b){this._name=b,this.metadata.source="custom"}setName(b,w="custom"){this.name=b,this.metadata.source=w}initSpanRecorder(b=1e3){this.spanRecorder||(this.spanRecorder=new p.gB(b)),this.spanRecorder.add(this)}setMeasurement(b,w,g=""){this._measurements[b]={value:w,unit:g}}setMetadata(b){this.metadata={...this.metadata,...b}}finish(b){if(this.endTimestamp===void 0){if(this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(b),this.sampled===!0){var w=this.spanRecorder?this.spanRecorder.spans.filter(N=>N!==this&&N.endTimestamp):[];this._trimEnd&&w.length>0&&(this.endTimestamp=w.reduce((N,A)=>N.endTimestamp&&A.endTimestamp?N.endTimestamp>A.endTimestamp?N:A:N).endTimestamp);var g=this.metadata,C={contexts:{trace:this.getTraceContext()},spans:w,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...g,baggage:this.getBaggage()},...g.source&&{transaction_info:{source:g.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),C.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(C)}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var k=this._hub.getClient();k&&k.recordDroppedEvent("sample_rate","transaction")}}toContext(){var b=super.toContext();return(0,d.Jr)({...b,name:this.name,trimEnd:this._trimEnd})}updateWithContext(b){return super.updateWithContext(b),this.name=(0,l.h)(b.name,()=>""),this._trimEnd=b.trimEnd,this}getBaggage(){var b=this.metadata.baggage,w=!b||(0,h.Gp)(b)?this._populateBaggageWithSentryValues(b):b;return this.metadata.baggage=w,w}_populateBaggageWithSentryValues(b=(0,h.Hn)({})){var w=this._hub||(0,c.Gd)(),g=w&&w.getClient();if(!g)return b;const{environment:C,release:k}=g.getOptions()||{},{publicKey:N}=g.getDsn()||{};var A=this.metadata&&this.metadata.transactionSampling&&this.metadata.transactionSampling.rate,O=A!==void 0?A.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:16}):void 0,R=w.getScope();const{segment:$}=R&&R.getUser()||{};var D=this.metadata.source,B=D&&D!=="url"?this.name:void 0;return(0,h.Hn)((0,d.Jr)({environment:C,release:k,transaction:B,user_segment:$,public_key:N,trace_id:this.traceId,sample_rate:O,...(0,h.Hk)(b)}),"",!1)}}},3233:(i,a,o)=>{function l(h){var p=(0,d.Gd)().getClient(),m=h||p&&p.getOptions();return!!m&&("tracesSampleRate"in m||"tracesSampler"in m)}function c(h){var p=(h||(0,d.Gd)()).getScope();return p&&p.getTransaction()}function u(h){return h/1e3}o.d(a,{x1:()=>c,zu:()=>l,XL:()=>u});var d=o(8641)},9181:(i,a,o)=>{function l(g,C="",k=!0){return[{...g},C,k]}function c(g){return g[0]}function u(g){return g[2]}function d(g,C=!1){return!Array.isArray(g)&&!(0,m.HD)(g)||typeof g=="number"?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.warn("[parseBaggageHeader] Received input value of incompatible type: ",typeof g,g),l({},"")):((0,m.HD)(g)?g:g.join(",")).split(",").map(k=>k.trim()).filter(k=>k!==""&&(C||w.test(k))).reduce(([k,N],A)=>{const[O,R]=A.split("=");if(w.test(O)){var $=decodeURIComponent(O.split("-")[1]);return[{...k,[$]:decodeURIComponent(R)},N,!0]}return[k,N===""?A:`${N},${A}`,!0]},[{},"",!0])}function h(g,C){if(!g&&!C)return"";var k=C&&d(C,!0)||void 0,N=k&&function(O){return O[1]}(k);return function(O){return Object.keys(O[0]).reduce((R,$)=>{var D=O[0][$],B=`sentry-${encodeURIComponent($)}=${encodeURIComponent(D)}`,M=R===""?B:`${R},${B}`;return M.length>8192?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.kg.warn(`Not adding key: ${$} with val: ${D} to baggage due to exceeding baggage size limits.`),R):M},O[1])}(l(g&&g[0]||{},N||""))}function p(g,C){var k=d(g||"");return(C||!function(A){return Object.keys(A[0]).length===0}(k))&&function(A){A[2]=!1}(k),k}o.d(a,{bU:()=>b,Hn:()=>l,Hk:()=>c,Gp:()=>u,J8:()=>h,rg:()=>p});var m=o(7597),f=o(2343),b="baggage",w=/^sentry-/},8464:(i,a,o)=>{function l(p,m){try{let w=p;var f=[];let g=0,C=0;var b=3;let k;for(;w&&g++<5&&(k=c(w,m),!(k==="html"||g>1&&C+f.length*b+k.length>=80));)f.push(k),C+=k.length,w=w.parentNode;return f.reverse().join(" > ")}catch{return"<unknown>"}}function c(p,m){var f=p,b=[];let w,g,C,k,N;if(!f||!f.tagName)return"";b.push(f.tagName.toLowerCase());var A=m&&m.length?m.filter(R=>f.getAttribute(R)).map(R=>[R,f.getAttribute(R)]):null;if(A&&A.length)A.forEach(R=>{b.push(`[${R[0]}="${R[1]}"]`)});else if(f.id&&b.push(`#${f.id}`),w=f.className,w&&(0,h.HD)(w))for(g=w.split(/\s+/),N=0;N<g.length;N++)b.push(`.${g[N]}`);var O=["type","name","title","alt"];for(N=0;N<O.length;N++)C=O[N],k=f.getAttribute(C),k&&b.push(`[${C}="${k}"]`);return b.join("")}function u(){var p=(0,d.R)();try{return p.document.location.href}catch{return""}}o.d(a,{l:()=>u,R:()=>l});var d=o(2991),h=o(7597)},5375:(i,a,o)=>{function l(c,u){return c??u()}o.d(a,{h:()=>l})},2991:(i,a,o)=>{function l(){return(0,u.KV)()?o.g:typeof window<"u"?window:typeof self<"u"?self:d}function c(h,p,m){var f=m||l(),b=f.__SENTRY__=f.__SENTRY__||{};return b[h]||(b[h]=p())}o.d(a,{R:()=>l,Y:()=>c});var u=o(2176),d={}},9732:(i,a,o)=>{function l(M){if(!A[M])switch(A[M]=!0,M){case"console":(function(){"console"in k&&b.RU.forEach(function(W){W in k.console&&(0,w.hl)(k.console,W,function(V){return function(...q){u("console",{args:q,level:W}),V&&V.apply(k.console,q)}})})})();break;case"dom":(function(){if("document"in k){var W=u.bind(null,"dom"),V=p(W,!0);k.document.addEventListener("click",V,!1),k.document.addEventListener("keypress",V,!1),["EventTarget","Node"].forEach(q=>{var H=k[q]&&k[q].prototype;H&&H.hasOwnProperty&&H.hasOwnProperty("addEventListener")&&((0,w.hl)(H,"addEventListener",function(K){return function(F,ie,de){if(F==="click"||F=="keypress")try{var ee=this,J=ee.__sentry_instrumentation_handlers__=ee.__sentry_instrumentation_handlers__||{},ae=J[F]=J[F]||{refCount:0};if(!ae.handler){var ue=p(W);ae.handler=ue,K.call(this,F,ue,de)}ae.refCount+=1}catch{}return K.call(this,F,ie,de)}}),(0,w.hl)(H,"removeEventListener",function(K){return function(F,ie,de){if(F==="click"||F=="keypress")try{var ee=this,J=ee.__sentry_instrumentation_handlers__||{},ae=J[F];ae&&(ae.refCount-=1,ae.refCount<=0&&(K.call(this,F,ae.handler,de),ae.handler=void 0,delete J[F]),Object.keys(J).length===0&&delete ee.__sentry_instrumentation_handlers__)}catch{}return K.call(this,F,ie,de)}}))})}})();break;case"xhr":(function(){if("XMLHttpRequest"in k){var W=XMLHttpRequest.prototype;(0,w.hl)(W,"open",function(V){return function(...q){var H=this,K=q[1],F=H.__sentry_xhr__={method:(0,f.HD)(q[0])?q[0].toUpperCase():q[0],url:q[1]};(0,f.HD)(K)&&F.method==="POST"&&K.match(/sentry_key/)&&(H.__sentry_own_request__=!0);var ie=function(){if(H.readyState===4){try{F.status_code=H.status}catch{}u("xhr",{args:q,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:H})}};return"onreadystatechange"in H&&typeof H.onreadystatechange=="function"?(0,w.hl)(H,"onreadystatechange",function(de){return function(...ee){return ie(),de.apply(H,ee)}}):H.addEventListener("readystatechange",ie),V.apply(H,q)}}),(0,w.hl)(W,"send",function(V){return function(...q){return this.__sentry_xhr__&&q[0]!==void 0&&(this.__sentry_xhr__.body=q[0]),u("xhr",{args:q,startTimestamp:Date.now(),xhr:this}),V.apply(this,q)}})}})();break;case"fetch":(function(){(0,C.t$)()&&(0,w.hl)(k,"fetch",function(W){return function(...V){var q={args:V,fetchData:{method:d(V),url:h(V)},startTimestamp:Date.now()};return u("fetch",{...q}),W.apply(k,V).then(H=>(u("fetch",{...q,endTimestamp:Date.now(),response:H}),H),H=>{throw u("fetch",{...q,endTimestamp:Date.now(),error:H}),H})}})})();break;case"history":(function(){function W(q){return function(...H){var K=H.length>2?H[2]:void 0;if(K){var F=O,ie=String(K);O=ie,u("history",{from:F,to:ie})}return q.apply(this,H)}}if((0,C.Bf)()){var V=k.onpopstate;k.onpopstate=function(...q){var H=k.location.href,K=O;if(O=H,u("history",{from:K,to:H}),V)try{return V.apply(this,q)}catch{}},(0,w.hl)(k.history,"pushState",W),(0,w.hl)(k.history,"replaceState",W)}})();break;case"error":(function(){D=k.onerror,k.onerror=function(W,V,q,H,K){return u("error",{column:H,error:K,line:q,msg:W,url:V}),!!D&&D.apply(this,arguments)}})();break;case"unhandledrejection":(function(){B=k.onunhandledrejection,k.onunhandledrejection=function(W){return u("unhandledrejection",W),!B||B.apply(this,arguments)}})();break;default:return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&b.kg.warn("unknown instrumentation type:",M))}}function c(M,z){N[M]=N[M]||[],N[M].push(z),l(M)}function u(M,z){if(M&&N[M])for(var W of N[M]||[])try{W(z)}catch(V){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&b.kg.error(`Error while triggering instrumentation handler.
Type: ${M}
Name: ${(0,g.$P)(W)}
Error:`,V)}}function d(M=[]){return"Request"in k&&(0,f.V9)(M[0],Request)&&M[0].method?String(M[0].method).toUpperCase():M[1]&&M[1].method?String(M[1].method).toUpperCase():"GET"}function h(M=[]){return typeof M[0]=="string"?M[0]:"Request"in k&&(0,f.V9)(M[0],Request)?M[0].url:String(M[0])}function p(M,z=!1){return W=>{if(W&&$!==W&&!function(H){if(H.type!=="keypress")return!1;try{var K=H.target;if(!K||!K.tagName)return!0;if(K.tagName==="INPUT"||K.tagName==="TEXTAREA"||K.isContentEditable)return!1}catch{}return!0}(W)){var V=W.type==="keypress"?"input":W.type;(R===void 0||function(H,K){if(!H||H.type!==K.type)return!0;try{if(H.target!==K.target)return!0}catch{}return!1}($,W))&&(M({event:W,name:V,global:z}),$=W),clearTimeout(R),R=k.setTimeout(()=>{R=void 0},1e3)}}}o.d(a,{o:()=>c});var m=o(2991),f=o(7597),b=o(2343),w=o(535),g=o(360),C=o(8823),k=(0,m.R)(),N={},A={};let O,R,$,D=null,B=null},7597:(i,a,o)=>{function l(R){switch(O.call(R)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return A(R,Error)}}function c(R,$){return O.call(R)===`[object ${$}]`}function u(R){return c(R,"ErrorEvent")}function d(R){return c(R,"DOMError")}function h(R){return c(R,"DOMException")}function p(R){return c(R,"String")}function m(R){return R===null||typeof R!="object"&&typeof R!="function"}function f(R){return c(R,"Object")}function b(R){return typeof Event<"u"&&A(R,Event)}function w(R){return typeof Element<"u"&&A(R,Element)}function g(R){return c(R,"RegExp")}function C(R){return!!(R&&R.then&&typeof R.then=="function")}function k(R){return f(R)&&"nativeEvent"in R&&"preventDefault"in R&&"stopPropagation"in R}function N(R){return typeof R=="number"&&R!=R}function A(R,$){try{return R instanceof $}catch{return!1}}o.d(a,{TX:()=>d,fm:()=>h,kK:()=>w,VZ:()=>l,VW:()=>u,cO:()=>b,V9:()=>A,i2:()=>N,PO:()=>f,pt:()=>m,Kj:()=>g,HD:()=>p,Cy:()=>k,J8:()=>C});var O=Object.prototype.toString},2343:(i,a,o)=>{function l(m){var f=(0,u.R)();if(!("console"in f))return m();var b=f.console,w={};h.forEach(g=>{var C=b[g]&&b[g].__sentry_original__;g in f.console&&C&&(w[g]=b[g],b[g]=C)});try{return m()}finally{Object.keys(w).forEach(g=>{b[g]=w[g]})}}function c(){let m=!1;var f={enable:()=>{m=!0},disable:()=>{m=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?h.forEach(b=>{f[b]=(...w)=>{m&&l(()=>{d.console[b](`Sentry Logger [${b}]:`,...w)})}}):h.forEach(b=>{f[b]=()=>{}}),f}o.d(a,{RU:()=>h,Cf:()=>l,kg:()=>p});var u=o(2991),d=(0,u.R)(),h=["debug","info","warn","error","log","assert","trace"];let p;p=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?(0,u.Y)("logger",c):c()},2844:(i,a,o)=>{function l(){var w=(0,f.R)(),g=w.crypto||w.msCrypto;if(g!==void 0&&g.getRandomValues){var C=new Uint16Array(8);g.getRandomValues(C),C[3]=4095&C[3]|16384,C[4]=16383&C[4]|32768;var k=N=>{let A=N.toString(16);for(;A.length<4;)A=`0${A}`;return A};return k(C[0])+k(C[1])+k(C[2])+k(C[3])+k(C[4])+k(C[5])+k(C[6])+k(C[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,N=>{var A=16*Math.random()|0;return(N==="x"?A:3&A|8).toString(16)})}function c(w){if(!w)return{};var g=w.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!g)return{};var C=g[6]||"",k=g[8]||"";return{host:g[4],path:g[5],protocol:g[2],relative:g[5]+C+k}}function u(w){return w.exception&&w.exception.values?w.exception.values[0]:void 0}function d(w){const{message:g,event_id:C}=w;if(g)return g;var k=u(w);return k?k.type&&k.value?`${k.type}: ${k.value}`:k.type||k.value||C||"<unknown>":C||"<unknown>"}function h(w,g,C){var k=w.exception=w.exception||{},N=k.values=k.values||[],A=N[0]=N[0]||{};A.value||(A.value=g||""),A.type||(A.type=C||"Error")}function p(w,g){var C=u(w);if(C){var k=C.mechanism;if(C.mechanism={type:"generic",handled:!0,...k,...g},g&&"data"in g){var N={...k&&k.data,...g.data};C.mechanism.data=N}}}function m(w){if(w&&w.__sentry_captured__)return!0;try{(0,b.xp)(w,"__sentry_captured__",!0)}catch{}return!1}o.d(a,{EG:()=>p,Db:()=>h,YO:()=>m,jH:()=>d,en:()=>c,DM:()=>l});var f=o(2991),b=o(535)},2176:(i,a,o)=>{function l(){return!function(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function c(d,h){return d.require(h)}function u(d){let h;try{h=c(i,d)}catch{}try{const{cwd:p}=c(i,"process");h=c(i,`${p()}/node_modules/${d}`)}catch{}return h}o.d(a,{l$:()=>c,KV:()=>l,$y:()=>u}),i=o.hmd(i)},535:(i,a,o)=>{function l(A,O,R){if(O in A){var $=A[O],D=R($);if(typeof D=="function")try{u(D,$)}catch{}A[O]=D}}function c(A,O,R){Object.defineProperty(A,O,{value:R,writable:!0,configurable:!0})}function u(A,O){var R=O.prototype||{};A.prototype=O.prototype=R,c(A,"__sentry_original__",O)}function d(A){return A.__sentry_original__}function h(A){return Object.keys(A).map(O=>`${encodeURIComponent(O)}=${encodeURIComponent(A[O])}`).join("&")}function p(A){if((0,k.VZ)(A))return{message:A.message,name:A.name,stack:A.stack,...f(A)};if((0,k.cO)(A)){var O={type:A.type,target:m(A.target),currentTarget:m(A.currentTarget),...f(A)};return typeof CustomEvent<"u"&&(0,k.V9)(A,CustomEvent)&&(O.detail=A.detail),O}return A}function m(A){try{return(0,k.kK)(A)?(0,C.R)(A):Object.prototype.toString.call(A)}catch{return"<unknown>"}}function f(A){if(typeof A=="object"&&A!==null){var O={};for(var R in A)Object.prototype.hasOwnProperty.call(A,R)&&(O[R]=A[R]);return O}return{}}function b(A,O=40){var R=Object.keys(p(A));if(R.sort(),!R.length)return"[object has no keys]";if(R[0].length>=O)return(0,N.$G)(R[0],O);for(let D=R.length;D>0;D--){var $=R.slice(0,D).join(", ");if(!($.length>O))return D===R.length?$:(0,N.$G)($,O)}return""}function w(A){return g(A,new Map)}function g(A,O){if((0,k.PO)(A)){if((D=O.get(A))!==void 0)return D;var R={};for(var $ of(O.set(A,R),Object.keys(A)))A[$]!==void 0&&(R[$]=g(A[$],O));return R}if(Array.isArray(A)){var D;return(D=O.get(A))!==void 0?D:(R=[],O.set(A,R),A.forEach(B=>{R.push(g(B,O))}),R)}return A}o.d(a,{xp:()=>c,Sh:()=>p,Jr:()=>w,zf:()=>b,hl:()=>l,HK:()=>d,$Q:()=>u,_j:()=>h});var C=o(8464),k=o(7597),N=o(7321)},360:(i,a,o)=>{function l(...h){var p=h.sort((m,f)=>m[0]-f[0]).map(m=>m[1]);return(m,f=0)=>{var b=[];for(var w of m.split(`
`).slice(f))for(var g of p){var C=g(w);if(C){b.push(C);break}}return function(N){if(!N.length)return[];let A=N;var O=A[0].function||"",R=A[A.length-1].function||"";return O.indexOf("captureMessage")===-1&&O.indexOf("captureException")===-1||(A=A.slice(1)),R.indexOf("sentryWrapped")!==-1&&(A=A.slice(0,-1)),A.slice(0,50).map($=>({...$,filename:$.filename||A[0].filename,function:$.function||"?"})).reverse()}(b)}}function c(h){return Array.isArray(h)?l(...h):h}function u(h){try{return h&&typeof h=="function"&&h.name||d}catch{return d}}o.d(a,{pE:()=>l,$P:()=>u,Sq:()=>c});var d="<anonymous>"},7321:(i,a,o)=>{function l(h,p=0){return typeof h!="string"||p===0||h.length<=p?h:`${h.substr(0,p)}...`}function c(h,p){if(!Array.isArray(h))return"";var m=[];for(let b=0;b<h.length;b++){var f=h[b];try{m.push(String(f))}catch{m.push("[value cannot be serialized]")}}return m.join(p)}function u(h,p){return!!(0,d.HD)(h)&&((0,d.Kj)(p)?p.test(h):typeof p=="string"&&h.indexOf(p)!==-1)}o.d(a,{zC:()=>u,nK:()=>c,$G:()=>l});var d=o(7597)},8823:(i,a,o)=>{function l(){if(!("fetch"in(0,h.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function c(m){return m&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(m.toString())}function u(){if(!l())return!1;var m=(0,h.R)();if(c(m.fetch))return!0;let f=!1;var b=m.document;if(b&&typeof b.createElement=="function")try{var w=b.createElement("iframe");w.hidden=!0,b.head.appendChild(w),w.contentWindow&&w.contentWindow.fetch&&(f=c(w.contentWindow.fetch)),b.head.removeChild(w)}catch(g){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",g)}return f}function d(){var m=(0,h.R)(),f=m.chrome,b=f&&f.app&&f.app.runtime,w="history"in m&&!!m.history.pushState&&!!m.history.replaceState;return!b&&w}o.d(a,{Du:()=>c,Ak:()=>l,Bf:()=>d,t$:()=>u});var h=o(2991),p=o(2343)},6893:(i,a,o)=>{function l(p){return new h(m=>{m(p)})}function c(p){return new h((m,f)=>{f(p)})}o.d(a,{cW:()=>h,$2:()=>c,WD:()=>l});var u,d=o(7597);(function(p){p[p.PENDING=0]="PENDING",p[p.RESOLVED=1]="RESOLVED",p[p.REJECTED=2]="REJECTED"})(u||(u={}));class h{__init(){this._state=u.PENDING}__init2(){this._handlers=[]}constructor(m){h.prototype.__init.call(this),h.prototype.__init2.call(this),h.prototype.__init3.call(this),h.prototype.__init4.call(this),h.prototype.__init5.call(this),h.prototype.__init6.call(this);try{m(this._resolve,this._reject)}catch(f){this._reject(f)}}then(m,f){return new h((b,w)=>{this._handlers.push([!1,g=>{if(m)try{b(m(g))}catch(C){w(C)}else b(g)},g=>{if(f)try{b(f(g))}catch(C){w(C)}else w(g)}]),this._executeHandlers()})}catch(m){return this.then(f=>f,m)}finally(m){return new h((f,b)=>{let w,g;return this.then(C=>{g=!1,w=C,m&&m()},C=>{g=!0,w=C,m&&m()}).then(()=>{g?b(w):f(w)})})}__init3(){this._resolve=m=>{this._setResult(u.RESOLVED,m)}}__init4(){this._reject=m=>{this._setResult(u.REJECTED,m)}}__init5(){this._setResult=(m,f)=>{this._state===u.PENDING&&((0,d.J8)(f)?f.then(this._resolve,this._reject):(this._state=m,this._value=f,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state!==u.PENDING){var m=this._handlers.slice();this._handlers=[],m.forEach(f=>{f[0]||(this._state===u.RESOLVED&&f[1](this._value),this._state===u.REJECTED&&f[2](this._value),f[0]=!0)})}}}}},1170:(i,a,o)=>{o.d(a,{Z1:()=>b,yW:()=>p,ph:()=>m,_I:()=>f});var l=o(2991),c=o(2176);i=o.hmd(i);var u={nowSeconds:()=>Date.now()/1e3},d=(0,c.KV)()?function(){try{return(0,c.l$)(i,"perf_hooks").performance}catch{return}}():function(){const{performance:g}=(0,l.R)();if(g&&g.now)return{now:()=>g.now(),timeOrigin:Date.now()-g.now()}}(),h=d===void 0?u:{nowSeconds:()=>(d.timeOrigin+d.now())/1e3},p=u.nowSeconds.bind(u),m=h.nowSeconds.bind(h),f=m,b=(()=>{const{performance:w}=(0,l.R)();if(w&&w.now){var g=36e5,C=w.now(),k=Date.now(),N=w.timeOrigin?Math.abs(w.timeOrigin+C-k):g,A=N<g,O=w.timing&&w.timing.navigationStart,R=typeof O=="number"?Math.abs(O+C-k):g;return A||R<g?N<=R?w.timeOrigin:O:k}})()},1736:(i,a,o)=>{function l(_,v){(v==null||v>_.length)&&(v=_.length);for(var y=0,x=new Array(v);y<v;y++)x[y]=_[y];return x}function c(_,v){if(_){if(typeof _=="string")return l(_,v);var y=Object.prototype.toString.call(_).slice(8,-1);return y==="Object"&&_.constructor&&(y=_.constructor.name),y==="Map"||y==="Set"?Array.from(_):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?l(_,v):void 0}}function u(_,v){return function(x){if(Array.isArray(x))return x}(_)||function(x,E){var T=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(T!=null){var I,P,L=[],U=!0,X=!1;try{for(T=T.call(x);!(U=(I=T.next()).done)&&(L.push(I.value),!E||L.length!==E);U=!0);}catch(G){X=!0,P=G}finally{try{U||T.return==null||T.return()}finally{if(X)throw P}}return L}}(_,v)||c(_,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(_){return function(y){if(Array.isArray(y))return l(y)}(_)||function(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}(_)||c(_)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(_,v,y,x,E,T,I){try{var P=_[T](I),L=P.value}catch(U){return void y(U)}P.done?v(L):Promise.resolve(L).then(x,E)}function p(_){return function(){var v=this,y=arguments;return new Promise(function(x,E){function T(L){h(P,x,E,T,I,"next",L)}function I(L){h(P,x,E,T,I,"throw",L)}var P=_.apply(v,y);T(void 0)})}}function m(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function f(_,v,y){return v in _?Object.defineProperty(_,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):_[v]=y,_}function b(_){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(_)}function w(_,v,y){if(!v.has(_))throw new TypeError("attempted to "+y+" private field on non-instance");return v.get(_)}function g(_,v){return function(x,E){return E.get?E.get.call(x):E.value}(_,w(_,v,"get"))}function C(_,v,y){return function(E,T,I){if(T.set)T.set.call(E,I);else{if(!T.writable)throw new TypeError("attempted to set read only private field");T.value=I}}(_,w(_,v,"set"),y),y}function k(_){return _.reduce((v,y)=>(v.every(x=>y.name!==x.name)&&v.push(y),v),[])}function N(_){var v=_.defaultIntegrations&&[..._.defaultIntegrations]||[],y=_.integrations;let x=[...k(v)];Array.isArray(y)?x=[...x.filter(I=>y.every(P=>P.name!==I.name)),...k(y)]:typeof y=="function"&&(x=y(x),x=Array.isArray(x)?x:[x]);var E=x.map(I=>I.name),T="Debug";return E.indexOf(T)!==-1&&x.push(...x.splice(E.indexOf(T),1)),x}function A(_,v){return v.ignoreInternal&&function(x){try{return x.exception.values[0].type==="SentryError"}catch{}return!1}(_)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,mt.jH)(_)}`),!0):function(x,E){return!E||!E.length?!1:function(I){if(I.message)return[I.message];if(I.exception)try{const{type:P="",value:L=""}=I.exception.values&&I.exception.values[0]||{};return[`${L}`,`${P}: ${L}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error(`Cannot extract message for event ${(0,mt.jH)(I)}`),[]}return[]}(x).some(T=>E.some(I=>(0,Pt.zC)(T,I)))}(_,v.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,mt.jH)(_)}`),!0):function(x,E){if(!E||!E.length)return!1;var T=O(x);return!!T&&E.some(I=>(0,Pt.zC)(T,I))}(_,v.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,mt.jH)(_)}.
Url: ${O(_)}`),!0):!function(x,E){if(!E||!E.length)return!0;var T=O(x);return!T||E.some(I=>(0,Pt.zC)(T,I))}(_,v.allowUrls)&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,mt.jH)(_)}.
Url: ${O(_)}`),!0)}function O(_){try{let v;try{v=_.exception.values[0].stacktrace.frames}catch{}return v?function(x=[]){for(let T=x.length-1;T>=0;T--){var E=x[T];if(E&&E.filename!=="<anonymous>"&&E.filename!=="[native code]")return E.filename||null}return null}(v):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error(`Cannot extract url for event ${(0,mt.jH)(_)}`),null}}function R(_,v=!1){const{host:y,path:x,pass:E,port:T,projectId:I,protocol:P,publicKey:L}=_;return`${P}://${L}${v&&E?`:${E}`:""}@${y}${T?`:${T}`:""}/${x&&`${x}/`}${I}`}function $(_){return{protocol:_.protocol,publicKey:_.publicKey||"",pass:_.pass||"",host:_.host,port:_.port||"",path:_.path||"",projectId:_.projectId}}function D(_){var v=typeof _=="string"?function(x){var E=Hr.exec(x);if(!E)throw new en(`Invalid Sentry Dsn: ${x}`);const[T,I,P="",L,U="",X]=E.slice(1);let G="",te=X;var ce=te.split("/");if(ce.length>1&&(G=ce.slice(0,-1).join("/"),te=ce.pop()),te){var pe=te.match(/^\d+/);pe&&(te=pe[0])}return $({host:L,pass:P,path:G,projectId:te,port:U,protocol:T,publicKey:I})}(_):$(_);return function(x){if(typeof __SENTRY_DEBUG__<"u"&&!__SENTRY_DEBUG__)return;const{port:E,projectId:T,protocol:I}=x;if(["protocol","publicKey","host","projectId"].forEach(P=>{if(!x[P])throw new en(`Invalid Sentry Dsn: ${P} missing`)}),!T.match(/^\d+$/))throw new en(`Invalid Sentry Dsn: Invalid projectId ${T}`);if(!function(L){return L==="http"||L==="https"}(I))throw new en(`Invalid Sentry Dsn: Invalid protocol ${I}`);if(E&&isNaN(parseInt(E,10)))throw new en(`Invalid Sentry Dsn: Invalid port ${E}`);return!0}(v),v}function B(_,v=[]){return[_,v]}function M(_,v){const[y,x]=_;return[y,[...x,v]]}function z(_,v){_[1].forEach(y=>{var x=y[0].type;v(y,x)})}function W(_,v){return(v||new TextEncoder).encode(_)}function V(_,v){function y(P){typeof T=="string"?T=typeof P=="string"?T+P:[W(T,v),P]:T.push(typeof P=="string"?W(P,v):P)}const[x,E]=_;let T=JSON.stringify(x);for(var I of E){const[P,L]=I;y(`
${JSON.stringify(P)}
`),y(typeof L=="string"||L instanceof Uint8Array?L:JSON.stringify(L))}return typeof T=="string"?T:function(L){var U=L.reduce((ce,pe)=>ce+pe.length,0),X=new Uint8Array(U);let G=0;for(var te of L)X.set(te,G),G+=te.length;return X}(T)}function q(_,v){var y=typeof _.data=="string"?W(_.data,v):_.data;return[(0,Bt.Jr)({type:"attachment",length:y.length,filename:_.filename,content_type:_.contentType,attachment_type:_.attachmentType}),y]}function H(_){return la[_]}function K(_,v=1/0,y=1/0){try{return ie("",_,v,y)}catch(x){return{ERROR:`**non-serializable** (${x})`}}}function F(_,v=3,y=102400){var x=K(_,v);return function(T){return function(P){return~-encodeURI(P).split(/%..|./).length}(JSON.stringify(T))}(x)>y?F(_,v-1,y):x}function ie(_,v,y=1/0,x=1/0,E=function(){var I=typeof WeakSet=="function",P=I?new WeakSet:[];return[function(U){if(I)return!!P.has(U)||(P.add(U),!1);for(let X=0;X<P.length;X++)if(P[X]===U)return!0;return P.push(U),!1},function(U){if(I)P.delete(U);else for(let X=0;X<P.length;X++)if(P[X]===U){P.splice(X,1);break}}]}()){const[T,I]=E;if(v===null||["number","boolean","string"].includes(typeof v)&&!(0,Qt.i2)(v))return v;var P=function(re,be){try{return re==="domain"&&be&&typeof be=="object"&&be._events?"[Domain]":re==="domainEmitter"?"[DomainEmitter]":o.g!==void 0&&be===o.g?"[Global]":typeof window<"u"&&be===window?"[Window]":typeof document<"u"&&be===document?"[Document]":(0,Qt.Cy)(be)?"[SyntheticEvent]":typeof be=="number"&&be!=be?"[NaN]":be===void 0?"[undefined]":typeof be=="function"?`[Function: ${(0,rn.$P)(be)}]`:typeof be=="symbol"?`[${String(be)}]`:typeof be=="bigint"?`[BigInt: ${String(be)}]`:`[object ${Object.getPrototypeOf(be).constructor.name}]`}catch(Re){return`**non-serializable** (${Re})`}}(_,v);if(!P.startsWith("[object "))return P;if(v.__sentry_skip_normalization__)return v;if(y===0)return P.replace("object ","");if(T(v))return"[Circular ~]";var L=v;if(L&&typeof L.toJSON=="function")try{return ie("",L.toJSON(),y-1,x,E)}catch{}var U=Array.isArray(v)?[]:{};let X=0;var G=(0,Bt.Sh)(v);for(var te in G)if(Object.prototype.hasOwnProperty.call(G,te)){if(X>=x){U[te]="[MaxProperties ~]";break}var ce=G[te];U[te]=ie(te,ce,y-1,x,E),X+=1}return I(v),U}function de(_){var v=_.protocol?`${_.protocol}:`:"",y=_.port?`:${_.port}`:"";return`${v}//${_.host}${y}${_.path?`/${_.path}`:""}/api/`}function ee(_,v={}){var y=typeof v=="string"?v:v.tunnel,x=typeof v!="string"&&v._metadata?v._metadata.sdk:void 0;return y||`${function(T){return`${de(T)}${T.projectId}/envelope/`}(_)}?${function(T,I){return(0,Bt._j)({sentry_key:T.publicKey,sentry_version:"7",...I&&{sentry_client:`${I.name}/${I.version}`}})}(_,x)}`}function J(_){if(!_||!_.sdk)return;const{name:v,version:y}=_.sdk;return{name:v,version:y}}function ae(_,v,y,x){var E=J(y),T=_.type||"event";const{transactionSampling:I}=_.sdkProcessingMetadata||{},{method:P,rate:L}=I||{};(function(G,te){return te&&(G.sdk=G.sdk||{},G.sdk.name=G.sdk.name||te.name,G.sdk.version=G.sdk.version||te.version,G.sdk.integrations=[...G.sdk.integrations||[],...te.integrations||[]],G.sdk.packages=[...G.sdk.packages||[],...te.packages||[]]),G})(_,y&&y.sdk);var U=function(G,te,ce,pe){var re=G.sdkProcessingMetadata&&G.sdkProcessingMetadata.baggage,be=re&&(0,ar.Hk)(re);return{event_id:G.event_id,sent_at:new Date().toISOString(),...te&&{sdk:te},...!!ce&&{dsn:R(pe)},...G.type==="transaction"&&be&&{trace:(0,Bt.Jr)({...be})}}}(_,E,x,v);return delete _.sdkProcessingMetadata,B(U,[[{type:T,sample_rates:[{id:P,rate:L}]},_]])}function ue(_,v){var y=Ee(_,v),x={type:v&&v.name,value:ze(v)};return y.length&&(x.stacktrace={frames:y}),x.type===void 0&&x.value===""&&(x.value="Unrecoverable error caught"),x}function le(_,v){return{exception:{values:[ue(_,v)]}}}function Ee(_,v){var y=v.stacktrace||v.stack||"",x=function(T){if(T){if(typeof T.framesToPop=="number")return T.framesToPop;if(Qg.test(T.message))return 1}return 0}(v);try{return _(y,x)}catch{}return[]}function ze(_){var v=_&&_.message;return v?v.error&&typeof v.error.message=="string"?v.error.message:v:"No error message"}function Pe(_,v,y,x,E){let T;if((0,Qt.VW)(v)&&v.error)return le(_,v.error);if((0,Qt.TX)(v)||(0,Qt.fm)(v)){var I=v;if("stack"in v)T=le(_,v);else{var P=I.name||((0,Qt.TX)(I)?"DOMError":"DOMException"),L=I.message?`${P}: ${I.message}`:P;T=Ke(_,L,y,x),(0,mt.Db)(T,L)}return"code"in I&&(T.tags={...T.tags,"DOMException.code":`${I.code}`}),T}return(0,Qt.VZ)(v)?le(_,v):(0,Qt.PO)(v)||(0,Qt.cO)(v)?(T=function(X,G,te,ce){var pe={exception:{values:[{type:(0,Qt.cO)(G)?G.constructor.name:ce?"UnhandledRejection":"Error",value:`Non-Error ${ce?"promise rejection":"exception"} captured with keys: ${(0,Bt.zf)(G)}`}]},extra:{__serialized__:F(G)}};if(te){var re=Ee(X,te);re.length&&(pe.exception.values[0].stacktrace={frames:re})}return pe}(_,v,y,E),(0,mt.EG)(T,{synthetic:!0}),T):(T=Ke(_,v,y,x),(0,mt.Db)(T,`${v}`,void 0),(0,mt.EG)(T,{synthetic:!0}),T)}function Ke(_,v,y,x){var E={message:v};if(x&&y){var T=Ee(_,y);T.length&&(E.exception={values:[{value:v,stacktrace:{frames:T}}]})}return E}function Ye(_){return _==="warn"?"warning":$u.includes(_)?_:"log"}function We(_){var v={category:"console",data:{arguments:_.args,logger:"console"},level:Ye(_.level),message:(0,Pt.nK)(_.args," ")};if(_.level==="assert"){if(_.args[0]!==!1)return;v.message=`Assertion failed: ${(0,Pt.nK)(_.args.slice(1)," ")||"console.assert"}`,v.data.arguments=_.args.slice(1)}(0,ft.Gd)().addBreadcrumb(v,{input:_.args,level:_.level})}function ot(_){if(_.endTimestamp){if(_.xhr.__sentry_own_request__)return;const{method:v,url:y,status_code:x,body:E}=_.xhr.__sentry_xhr__||{};(0,ft.Gd)().addBreadcrumb({category:"xhr",data:{method:v,url:y,status_code:x},type:"http"},{xhr:_.xhr,input:E})}}function Je(_){_.endTimestamp&&(_.fetchData.url.match(/sentry_key/)&&_.fetchData.method==="POST"||(_.error?(0,ft.Gd)().addBreadcrumb({category:"fetch",data:_.fetchData,level:"error",type:"http"},{data:_.error,input:_.args}):(0,ft.Gd)().addBreadcrumb({category:"fetch",data:{..._.fetchData,status_code:_.response.status},type:"http"},{input:_.args,response:_.response})))}function Le(_){var v=(0,_t.R)();let y=_.from,x=_.to;var E=(0,mt.en)(v.location.href);let T=(0,mt.en)(y);var I=(0,mt.en)(x);T.path||(T=E),E.protocol===I.protocol&&E.host===I.host&&(x=I.relative),E.protocol===T.protocol&&E.host===T.host&&(y=T.relative),(0,ft.Gd)().addBreadcrumb({category:"navigation",data:{from:y,to:x}})}function dt(){if(za)return za;if((0,or.Du)(Tr.fetch))return za=Tr.fetch.bind(Tr);var _=Tr.document;let v=Tr.fetch;if(_&&typeof _.createElement=="function")try{var y=_.createElement("iframe");y.hidden=!0,_.head.appendChild(y);var x=y.contentWindow;x&&x.fetch&&(v=x.fetch),_.head.removeChild(y)}catch(E){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",E)}return za=v.bind(Tr)}function Ct(_,v,y,x){var E={filename:_,function:v,in_app:!0};return y!==void 0&&(E.lineno=y),x!==void 0&&(E.colno=x),E}function Ae(_,v){return(0,ft.Gd)().captureException(_,{captureContext:v})}function rt(_){(0,ft.Gd)().withScope(_)}function fe(){return $l>0}function Fe(){$l+=1,setTimeout(()=>{$l-=1})}function nt(_,v={},y){if(typeof _!="function")return _;try{var x=_.__sentry_wrapped__;if(x)return x;if((0,Bt.HK)(_))return _}catch{return _}var E=function(){var I=Array.prototype.slice.call(arguments);try{y&&typeof y=="function"&&y.apply(this,arguments);var P=I.map(L=>nt(L,v));return _.apply(this,P)}catch(L){throw Fe(),rt(U=>{U.addEventProcessor(X=>(v.mechanism&&((0,mt.Db)(X,void 0,void 0),(0,mt.EG)(X,v.mechanism)),X.extra={...X.extra,arguments:I},X)),Ae(L)}),L}};try{for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(E[T]=_[T])}catch{}(0,Bt.$Q)(E,_),(0,Bt.xp)(_,"__sentry_wrapped__",E);try{Object.getOwnPropertyDescriptor(E,"name").configurable&&Object.defineProperty(E,"name",{get:()=>_.name})}catch{}return E}function Ce(_){return function(...v){var y=v[0];return v[0]=nt(y,{mechanism:{data:{function:(0,rn.$P)(_)},handled:!0,type:"instrument"}}),_.apply(this,v)}}function _e(_){return function(v){return _.apply(this,[nt(v,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,rn.$P)(_)},handled:!0,type:"instrument"}})])}}function Y(_){return function(...v){var y=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(x=>{x in y&&typeof y[x]=="function"&&(0,Bt.hl)(y,x,function(E){var T={mechanism:{data:{function:x,handler:(0,rn.$P)(E)},handled:!0,type:"instrument"}},I=(0,Bt.HK)(E);return I&&(T.mechanism.data.handler=(0,rn.$P)(I)),nt(E,T)})}),_.apply(this,v)}}function me(_){var v=(0,_t.R)(),y=v[_]&&v[_].prototype;y&&y.hasOwnProperty&&y.hasOwnProperty("addEventListener")&&((0,Bt.hl)(y,"addEventListener",function(x){return function(E,T,I){try{typeof T.handleEvent=="function"&&(T.handleEvent=nt(T.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,rn.$P)(T),target:_},handled:!0,type:"instrument"}}))}catch{}return x.apply(this,[E,nt(T,{mechanism:{data:{function:"addEventListener",handler:(0,rn.$P)(T),target:_},handled:!0,type:"instrument"}}),I])}}),(0,Bt.hl)(y,"removeEventListener",function(x){return function(E,T,I){var P=T;try{var L=P&&P.__sentry_wrapped__;L&&x.call(this,E,L,I)}catch{}return x.call(this,E,P,I)}}))}function ge(){(0,Rn.o)("error",_=>{const[v,y,x]=Lt();if(!v.getIntegration(ri))return;const{msg:E,url:T,line:I,column:P,error:L}=_;if(!(fe()||L&&L.__sentry_own_request__)){var U=L===void 0&&(0,Qt.HD)(E)?function(G,te,ce,pe){var re=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let be=(0,Qt.VW)(G)?G.message:G,Re="Error";var lt=be.match(re);return lt&&(Re=lt[1],be=lt[2]),Nt({exception:{values:[{type:Re,value:be}]}},te,ce,pe)}(E,T,I,P):Nt(Pe(y,L||E,void 0,x,!1),T,I,P);U.level="error",hn(v,L,U,"onerror")}})}function Ve(){(0,Rn.o)("unhandledrejection",_=>{const[v,y,x]=Lt();if(!v.getIntegration(ri))return;let E=_;try{"reason"in _?E=_.reason:"detail"in _&&"reason"in _.detail&&(E=_.detail.reason)}catch{}if(fe()||E&&E.__sentry_own_request__)return!0;var T=(0,Qt.pt)(E)?function(P){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(P)}`}]}}}(E):Pe(y,E,void 0,x,!0);T.level="error",hn(v,E,T,"onunhandledrejection")})}function Nt(_,v,y,x){var E=_.exception=_.exception||{},T=E.values=E.values||[],I=T[0]=T[0]||{},P=I.stacktrace=I.stacktrace||{},L=P.frames=P.frames||[],U=isNaN(parseInt(x,10))?void 0:x,X=isNaN(parseInt(y,10))?void 0:y,G=(0,Qt.HD)(v)&&v.length>0?v:(0,io.l)();return L.length===0&&L.push({colno:U,filename:G,function:"?",in_app:!0,lineno:X}),_}function hn(_,v,y,x){(0,mt.EG)(y,{handled:!1,type:x}),_.captureEvent(y,{originalException:v})}function Lt(){var _=(0,ft.Gd)(),v=_.getClient(),y=v&&v.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[_,y.stackParser,y.attachStacktrace]}function Sn(_,v,y,x,E){if(!(x.exception&&x.exception.values&&E&&(0,Qt.V9)(E.originalException,Error)))return x;var T=Ne(_,y,E.originalException,v);return x.exception.values=[...T,...x.exception.values],x}function Ne(_,v,y,x,E=[]){if(!(0,Qt.V9)(y[x],Error)||E.length+1>=v)return E;var T=ue(_,y[x]);return Ne(_,v,y[x],x,[T,...E])}function Me(_,v){return!!v&&(!!function(x,E){var T=x.message,I=E.message;return!(!T&&!I||T&&!I||!T&&I||T!==I||!Be(x,E)||!ct(x,E))}(_,v)||!!function(x,E){var T=Ie(E),I=Ie(x);return!(!T||!I||T.type!==I.type||T.value!==I.value||!Be(x,E)||!ct(x,E))}(_,v))}function ct(_,v){let y=Ze(_),x=Ze(v);if(!y&&!x)return!0;if(y&&!x||!y&&x||(y=y,x=x,x.length!==y.length))return!1;for(let I=0;I<x.length;I++){var E=x[I],T=y[I];if(E.filename!==T.filename||E.lineno!==T.lineno||E.colno!==T.colno||E.function!==T.function)return!1}return!0}function Be(_,v){let y=_.fingerprint,x=v.fingerprint;if(!y&&!x)return!0;if(y&&!x||!y&&x)return!1;y=y,x=x;try{return y.join("")===x.join("")}catch{return!1}}function Ie(_){return _.exception&&_.exception.values&&_.exception.values[0]}function Ze(_){var v=_.exception;if(v)try{return v.values[0].stacktrace.frames}catch{return}}function pt(_){function v(x){return y.splice(y.indexOf(x),1)[0]}var y=[];return{$:y,add:function(E){if(!function(){return _===void 0||y.length<_}())return(0,vn.$2)(new en("Not adding Promise due to buffer limit reached."));var T=E();return y.indexOf(T)===-1&&y.push(T),T.then(()=>v(T)).then(null,()=>v(T).then(null,()=>{})),T},drain:function(E){return new vn.cW((T,I)=>{let P=y.length;if(!P)return T(!0);var L=setTimeout(()=>{E&&E>0&&T(!1)},E);y.forEach(U=>{(0,vn.WD)(U).then(()=>{--P||(clearTimeout(L),T(!0))},I)})})}}}function kt(_,{statusCode:v,headers:y},x=Date.now()){var E={..._},T=y&&y["x-sentry-rate-limits"],I=y&&y["retry-after"];if(T)for(var P of T.trim().split(",")){const[G,te]=P.split(":",2);var L=parseInt(G,10),U=1e3*(isNaN(L)?60:L);if(te)for(var X of te.split(";"))E[X]=x+U;else E.all=x+U}else I?E.all=x+function(te,ce=Date.now()){var pe=parseInt(`${te}`,10);if(!isNaN(pe))return 1e3*pe;var re=Date.parse(`${te}`);return isNaN(re)?6e4:re-ce}(I,x):v===429&&(E.all=x+6e4);return E}function Kt(_,v,y=pt(_.bufferSize||30)){let x={};return{send:function(T){var I=[];if(z(T,(U,X)=>{var G=H(X);(function(ce,pe,re=Date.now()){return function(Re,lt){return Re[lt]||Re.all||0}(ce,pe)>re})(x,G)?_.recordDroppedEvent("ratelimit_backoff",G):I.push(U)}),I.length===0)return(0,vn.WD)();var P=B(T[0],I),L=U=>{z(P,(X,G)=>{_.recordDroppedEvent(U,H(G))})};return y.add(()=>v({body:V(P,_.textEncoder)}).then(U=>{U.statusCode!==void 0&&(U.statusCode<200||U.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Sentry responded with status code ${U.statusCode} to sent event.`),x=kt(x,U)},U=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error("Failed while sending event:",U),L("network_error")})).then(U=>U,U=>{if(U instanceof en)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error("Skipped sending event due to full buffer"),L("queue_overflow"),(0,vn.WD)();throw U})},flush:E=>y.drain(E)}}function Hn(_,v=dt()){return Kt(_,function(x){var E={body:x.body,method:"POST",referrerPolicy:"origin",headers:_.headers,..._.fetchOptions};return v(_.url,E).then(T=>({statusCode:T.status,headers:{"x-sentry-rate-limits":T.headers.get("X-Sentry-Rate-Limits"),"retry-after":T.headers.get("Retry-After")}}))})}function ur(_){return Kt(_,function(y){return new vn.cW((x,E)=>{var T=new XMLHttpRequest;for(var I in T.onerror=E,T.onreadystatechange=()=>{T.readyState===4&&x({statusCode:T.status,headers:{"x-sentry-rate-limits":T.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":T.getResponseHeader("Retry-After")}})},T.open("POST",_.url),_.headers)Object.prototype.hasOwnProperty.call(_.headers,I)&&T.setRequestHeader(I,_.headers[I]);T.send(y.body)})})}function Zn(_={}){if(_.defaultIntegrations===void 0&&(_.defaultIntegrations=pE),_.release===void 0){var v=(0,_t.R)();v.SENTRY_RELEASE&&v.SENTRY_RELEASE.id&&(_.release=v.SENTRY_RELEASE.id)}_.autoSessionTracking===void 0&&(_.autoSessionTracking=!0),_.sendClientReports===void 0&&(_.sendClientReports=!0);var y={..._,stackParser:(0,rn.Sq)(_.stackParser||Pu),integrations:N(_),transport:_.transport||((0,or.Ak)()?Hn:ur)};(function(E,T){T.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.enable();var I=(0,ft.Gd)(),P=I.getScope();P&&P.update(T.initialScope);var L=new E(T);I.bindClient(L)})(mi,y),_.autoSessionTracking&&function(){if((0,_t.R)().document===void 0)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var E=(0,ft.Gd)();E.captureSession&&(Dr(E),(0,Rn.o)("history",({from:T,to:I})=>{T!==void 0&&T!==I&&Dr((0,ft.Gd)())}))}()}function Dr(_){_.startSession({ignoreDuration:!0}),_.captureSession()}function Wn(_){return typeof _=="number"&&isFinite(_)}function Er(_,{startTimestamp:v,...y}){return v&&_.startTimestamp>v&&(_.startTimestamp=v),_.startChild({startTimestamp:v,...y})}function La(){return ji&&ji.addEventListener&&ji.performance}function Su(_=!1){var v=La();v&&Br.Z1&&(v.mark&&ji.performance.mark("sentry-tracing-init"),function(){((x,E)=>{var T=Ah("CLS",0);let I,P=0,L=[];var U=G=>{if(G&&!G.hadRecentInput){var te=L[0],ce=L[L.length-1];P&&L.length!==0&&G.startTime-ce.startTime<1e3&&G.startTime-te.startTime<5e3?(P+=G.value,L.push(G)):(P=G.value,L=[G]),P>T.value&&(T.value=P,T.entries=L,I&&I())}},X=Nh("layout-shift",U);X&&(I=Ih(x,T,E),Ic(()=>{X.takeRecords().map(U),I(!0)}))})(x=>{var E=x.entries.pop();E&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding CLS"),an.cls={value:x.value,unit:""},Wa=E)})}(),function(x){((E,T)=>{var I=Rh(),P=Ah("LCP");let L;var U=te=>{var ce=te.startTime;ce<I.firstHiddenTime&&(P.value=ce,P.entries.push(te)),L&&L()},X=Nh("largest-contentful-paint",U);if(X){L=Ih(E,P,T);var G=()=>{i0[P.id]||(X.takeRecords().map(U),X.disconnect(),i0[P.id]=!0,L(!0))};["keydown","click"].forEach(te=>{addEventListener(te,G,{once:!0,capture:!0})}),Ic(G,!0)}})(E=>{var T=E.entries.pop();if(T){var I=(0,yn.XL)(Br.Z1),P=(0,yn.XL)(T.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding LCP"),an.lcp={value:E.value,unit:"millisecond"},an["mark.lcp"]={value:I+P,unit:"second"},gs=T}},x)}(_),function(){((x,E)=>{var T=Rh(),I=Ah("FID");let P;var L=X=>{P&&X.startTime<T.firstHiddenTime&&(I.value=X.processingStart-X.startTime,I.entries.push(X),P(!0))},U=Nh("first-input",L);U&&(P=Ih(x,I,E),Ic(()=>{U.takeRecords().map(L),U.disconnect()},!0))})(x=>{var E=x.entries.pop();if(E){var T=(0,yn.XL)(Br.Z1),I=(0,yn.XL)(E.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding FID"),an.fid={value:x.value,unit:"millisecond"},an["mark.fid"]={value:T+I,unit:"second"}}})}())}function Cu(_){var v=La();if(!v||!ji.performance.getEntries||!Br.Z1)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Tracing] Adding & adjusting spans using Performance API");var y=(0,yn.XL)(Br.Z1),x=v.getEntries();let E,T;x.slice(o0).forEach(I=>{var P=(0,yn.XL)(I.startTime),L=(0,yn.XL)(I.duration);if(!(_.op==="navigation"&&y+P<_.startTimestamp))switch(I.entryType){case"navigation":(function(pe,re,be){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(Re=>{Di(pe,re,Re,be)}),Di(pe,re,"secureConnection",be,"TLS/SSL","connectEnd"),Di(pe,re,"fetch",be,"cache","domainLookupStart"),Di(pe,re,"domainLookup",be,"DNS"),function(lt,Et,et){Er(lt,{op:"browser",description:"request",startTimestamp:et+(0,yn.XL)(Et.requestStart),endTimestamp:et+(0,yn.XL)(Et.responseEnd)}),Er(lt,{op:"browser",description:"response",startTimestamp:et+(0,yn.XL)(Et.responseStart),endTimestamp:et+(0,yn.XL)(Et.responseEnd)})}(pe,re,be)})(_,I,y),E=y+(0,yn.XL)(I.responseStart),T=y+(0,yn.XL)(I.requestStart);break;case"mark":case"paint":case"measure":var U=function(pe,re,be,Re,lt){var Et=lt+be,et=Et+Re;return Er(pe,{description:re.name,endTimestamp:et,op:re.entryType,startTimestamp:Et}),Et}(_,I,P,L,y),X=Rh(),G=I.startTime<X.firstHiddenTime;I.name==="first-paint"&&G&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding FP"),an.fp={value:I.startTime,unit:"millisecond"},an["mark.fp"]={value:U,unit:"second"}),I.name==="first-contentful-paint"&&G&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding FCP"),an.fcp={value:I.startTime,unit:"millisecond"},an["mark.fcp"]={value:U,unit:"second"});break;case"resource":var te=I.name.replace(ji.location.origin,"");(function(pe,re,be,Re,lt,Et){if(!(re.initiatorType==="xmlhttprequest"||re.initiatorType==="fetch")){var et={};"transferSize"in re&&(et["Transfer Size"]=re.transferSize),"encodedBodySize"in re&&(et["Encoded Body Size"]=re.encodedBodySize),"decodedBodySize"in re&&(et["Decoded Body Size"]=re.decodedBodySize);var Rt=Et+Re;Er(pe,{description:be,endTimestamp:Rt+lt,op:re.initiatorType?`resource.${re.initiatorType}`:"resource",startTimestamp:Rt,data:et})}})(_,I,te,P,L,y)}}),o0=Math.max(x.length-1,0),function(P){var L=ji.navigator;if(L){var U=L.connection;U&&(U.effectiveType&&P.setTag("effectiveConnectionType",U.effectiveType),U.type&&P.setTag("connectionType",U.type),Wn(U.rtt)&&(an["connection.rtt"]={value:U.rtt,unit:"millisecond"}),Wn(U.downlink)&&(an["connection.downlink"]={value:U.downlink,unit:""})),Wn(L.deviceMemory)&&P.setTag("deviceMemory",`${L.deviceMemory} GB`),Wn(L.hardwareConcurrency)&&P.setTag("hardwareConcurrency",String(L.hardwareConcurrency))}}(_),_.op==="pageload"&&(typeof E=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding TTFB"),an.ttfb={value:1e3*(E-_.startTimestamp),unit:"millisecond"},typeof T=="number"&&T<=E&&(an["ttfb.requestTime"]={value:1e3*(E-T),unit:"millisecond"})),["fcp","fp","lcp"].forEach(I=>{if(an[I]&&!(y>=_.startTimestamp)){var P=an[I].value,L=y+(0,yn.XL)(P),U=Math.abs(1e3*(L-_.startTimestamp)),X=U-P;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`[Measurements] Normalized ${I} from ${P} to ${U} (${X})`),an[I].value=U}}),an["mark.fid"]&&an.fid&&Er(_,{description:"first input delay",endTimestamp:an["mark.fid"].value+(0,yn.XL)(an.fid.value),op:"web.vitals",startTimestamp:an["mark.fid"].value}),"fcp"in an||delete an.cls,Object.keys(an).forEach(I=>{_.setMeasurement(I,an[I].value,an[I].unit)}),function(P){gs&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding LCP Data"),gs.element&&P.setTag("lcp.element",(0,io.R)(gs.element)),gs.id&&P.setTag("lcp.id",gs.id),gs.url&&P.setTag("lcp.url",gs.url.trim().slice(0,200)),P.setTag("lcp.size",gs.size)),Wa&&Wa.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("[Measurements] Adding CLS Data"),Wa.sources.forEach((L,U)=>P.setTag(`cls.source.${U+1}`,(0,io.R)(L.node))))}(_)),gs=void 0,Wa=void 0,an={}}function Di(_,v,y,x,E,T){var I=T?v[T]:v[`${y}End`],P=v[`${y}Start`];P&&I&&Er(_,{op:"browser",description:(0,s0.h)(E,()=>y),startTimestamp:x+(0,yn.XL)(P),endTimestamp:x+(0,yn.XL)(I)})}function mc(_){const{traceFetch:v,traceXHR:y,tracingOrigins:x,shouldCreateSpanForRequest:E}={...Nc,..._};var T={},I=U=>{if(T[U])return T[U];var X=x;return T[U]=X.some(G=>(0,Pt.zC)(U,G))&&!(0,Pt.zC)(U,"sentry_key"),T[U]};let P=I;typeof E=="function"&&(P=U=>I(U)&&E(U));var L={};v&&(0,Rn.o)("fetch",U=>{(function(G,te,ce){if(!(!(0,yn.zu)()||!G.fetchData||!te(G.fetchData.url))){if(G.endTimestamp){var pe=G.fetchData.__span;return pe?void((be=ce[pe])&&(G.response?be.setHttpStatus(G.response.status):G.error&&be.setStatus("internal_error"),be.finish(),delete ce[pe])):void 0}var re=(0,yn.x1)();if(re){var be=re.startChild({data:{...G.fetchData,type:"fetch"},description:`${G.fetchData.method} ${G.fetchData.url}`,op:"http.client"});G.fetchData.__span=be.spanId,ce[be.spanId]=be;var Re=G.args[0]=G.args[0],lt=G.args[1]=G.args[1]||{};lt.headers=function(et,Rt,Ft,Xn){let On=Xn.headers;if((0,Qt.V9)(et,Request)&&(On=et.headers),On)if(typeof On.append=="function")On.append("sentry-trace",Ft.toTraceparent()),On.append(ar.bU,(0,ar.J8)(Rt,On.get(ar.bU)));else if(Array.isArray(On)){const[,C2]=On.find(([k2,yK])=>k2===ar.bU);On=[...On,["sentry-trace",Ft.toTraceparent()],[ar.bU,(0,ar.J8)(Rt,C2)]]}else On={...On,"sentry-trace":Ft.toTraceparent(),baggage:(0,ar.J8)(Rt,On.baggage)};else On={"sentry-trace":Ft.toTraceparent(),baggage:(0,ar.J8)(Rt)};return On}(Re,re.getBaggage(),be,lt)}}})(U,P,L)}),y&&(0,Rn.o)("xhr",U=>{(function(G,te,ce){if(!(!(0,yn.zu)()||G.xhr&&G.xhr.__sentry_own_request__||!(G.xhr&&G.xhr.__sentry_xhr__&&te(G.xhr.__sentry_xhr__.url)))){var pe=G.xhr.__sentry_xhr__;if(G.endTimestamp){var re=G.xhr.__sentry_xhr_span_id__;return re?void((Re=ce[re])&&(Re.setHttpStatus(pe.status_code),Re.finish(),delete ce[re])):void 0}var be=(0,yn.x1)();if(be){var Re=be.startChild({data:{...pe.data,type:"xhr",method:pe.method,url:pe.url},description:`${pe.method} ${pe.url}`,op:"http.client"});if(G.xhr.__sentry_xhr_span_id__=Re.spanId,ce[G.xhr.__sentry_xhr_span_id__]=Re,G.xhr.setRequestHeader)try{G.xhr.setRequestHeader("sentry-trace",Re.toTraceparent());var lt=G.xhr.getRequestHeader&&G.xhr.getRequestHeader(ar.bU);G.xhr.setRequestHeader(ar.bU,(0,ar.J8)(be.getBaggage(),lt))}catch{}}}})(U,P,L)})}function ku(){var _=Tl("sentry-trace"),v=Tl("baggage"),y=_?function(T){var I=T.match(mE);if(I){let P;return I[3]==="1"?P=!0:I[3]==="0"&&(P=!1),{traceId:I[1],parentSampled:P,parentSpanId:I[2]}}}(_):void 0,x=(0,ar.rg)(v,_);if(y||x)return{...y&&y,...x&&{metadata:{baggage:x}}}}function Tl(_){var v=(0,_t.R)();if(v.document&&v.document.querySelector){var y=v.document.querySelector(`meta[name=${_}]`);return y?y.getAttribute("content"):null}return null}function Fn(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function to(_,v){return(to=Object.setPrototypeOf||function(x,E){return x.__proto__=E,x})(_,v)}function no(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),v&&to(_,v)}function ro(_,v){return!v||b(v)!=="object"&&typeof v!="function"?Fn(_):v}function xn(_){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(_)}function Il(_,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}function Ws(_,v,y){return v&&Il(_.prototype,v),y&&Il(_,y),_}function Fa(_,v){for(;!Object.prototype.hasOwnProperty.call(_,v)&&(_=xn(_))!==null;);return _}function ja(_,v,y,x){return(ja=typeof Reflect<"u"&&Reflect.set?Reflect.set:function(T,I,P,L){var U,X=Fa(T,I);if(X){if((U=Object.getOwnPropertyDescriptor(X,I)).set)return U.set.call(L,P),!0;if(!U.writable)return!1}if(U=Object.getOwnPropertyDescriptor(L,I)){if(!U.writable)return!1;U.value=P,Object.defineProperty(L,I,U)}else f(L,I,P);return!0})(_,v,y,x)}function so(_,v,y,x,E){if(!ja(_,v,y,x||_)&&E)throw new Error("failed to set property");return y}function aa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tt(_,v,y){return(tt=aa()?Reflect.construct:function(E,T,I){var P=[null];P.push.apply(P,T);var L=new(Function.bind.apply(E,P));return I&&to(L,I.prototype),L}).apply(null,arguments)}function Jt(_){var v=typeof Map=="function"?new Map:void 0;return(Jt=function(x){function E(){return tt(x,arguments,xn(this).constructor)}if(x===null||!function(I){return Function.toString.call(I).indexOf("[native code]")!==-1}(x))return x;if(typeof x!="function")throw new TypeError("Super expression must either be null or a function");if(v!==void 0){if(v.has(x))return v.get(x);v.set(x,E)}return E.prototype=Object.create(x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),to(E,x)})(_)}function cn(_){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,E=xn(_);if(v){var T=xn(this).constructor;x=Reflect.construct(E,arguments,T)}else x=E.apply(this,arguments);return ro(this,x)}}function Ut(_,v,y){return(Ut=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(E,T,I){var P=Fa(E,T);if(P){var L=Object.getOwnPropertyDescriptor(P,T);return L.get?L.get.call(I):L.value}})(_,v,y||_)}function Pi(_){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,E=xn(_);if(v){var T=xn(this).constructor;x=Reflect.construct(E,arguments,T)}else x=E.apply(this,arguments);return ro(this,x)}}function Gr(_,v,y,x){return new(y||(y=Promise))(function(E,T){function I(U){try{L(x.next(U))}catch(X){T(X)}}function P(U){try{L(x.throw(U))}catch(X){T(X)}}function L(U){U.done?E(U.value):function(G){return G instanceof y?G:new y(function(te){te(G)})}(U.value).then(I,P)}L((x=x.apply(_,v||[])).next())})}function xr(_,v){function y(L){return function(U){return function(G){if(x)throw new TypeError("Generator is already executing.");for(;P;)try{if(x=1,E&&(T=2&G[0]?E.return:G[0]?E.throw||((T=E.return)&&T.call(E),0):E.next)&&!(T=T.call(E,G[1])).done)return T;switch(E=0,T&&(G=[2&G[0],T.value]),G[0]){case 0:case 1:T=G;break;case 4:return P.label++,{value:G[1],done:!1};case 5:P.label++,E=G[1],G=[0];continue;case 7:G=P.ops.pop(),P.trys.pop();continue;default:if(T=P.trys,!((T=T.length>0&&T[T.length-1])||G[0]!==6&&G[0]!==2)){P=0;continue}if(G[0]===3&&(!T||G[1]>T[0]&&G[1]<T[3])){P.label=G[1];break}if(G[0]===6&&P.label<T[1]){P.label=T[1],T=G;break}if(T&&P.label<T[2]){P.label=T[2],P.ops.push(G);break}T[2]&&P.ops.pop(),P.trys.pop();continue}G=v.call(_,P)}catch(te){G=[6,te],E=0}finally{x=T=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([L,U])}}var x,E,T,I,P={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return I={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I}function Eu(){for(var _=0,v=0,y=arguments.length;v<y;v++)_+=arguments[v].length;var x=Array(_),E=0;for(v=0;v<y;v++)for(var T=arguments[v],I=0,P=T.length;I<P;I++,E++)x[E]=T[I];return x}function Mi(_,v){return new Promise(function(y){return setTimeout(y,_,v)})}function hh(_,v){try{var y=_();(function(E){return E&&typeof E.then=="function"})(y)?y.then(function(x){return v(!0,x)},function(x){return v(!1,x)}):v(!0,y)}catch(x){v(!1,x)}}function Tu(_,v,y){return y===void 0&&(y=16),Gr(this,void 0,void 0,function(){var x,E,T;return xr(this,function(I){switch(I.label){case 0:x=Date.now(),E=0,I.label=1;case 1:return E<_.length?(v(_[E],E),(T=Date.now())>=x+y?(x=T,[4,Mi(0)]):[3,3]):[3,4];case 2:I.sent(),I.label=3;case 3:return++E,[3,1];case 4:return[2]}})})}function Ss(_,v){_=[_[0]>>>16,65535&_[0],_[1]>>>16,65535&_[1]],v=[v[0]>>>16,65535&v[0],v[1]>>>16,65535&v[1]];var y=[0,0,0,0];return y[3]+=_[3]+v[3],y[2]+=y[3]>>>16,y[3]&=65535,y[2]+=_[2]+v[2],y[1]+=y[2]>>>16,y[2]&=65535,y[1]+=_[1]+v[1],y[0]+=y[1]>>>16,y[1]&=65535,y[0]+=_[0]+v[0],y[0]&=65535,[y[0]<<16|y[1],y[2]<<16|y[3]]}function wr(_,v){_=[_[0]>>>16,65535&_[0],_[1]>>>16,65535&_[1]],v=[v[0]>>>16,65535&v[0],v[1]>>>16,65535&v[1]];var y=[0,0,0,0];return y[3]+=_[3]*v[3],y[2]+=y[3]>>>16,y[3]&=65535,y[2]+=_[2]*v[3],y[1]+=y[2]>>>16,y[2]&=65535,y[2]+=_[3]*v[2],y[1]+=y[2]>>>16,y[2]&=65535,y[1]+=_[1]*v[3],y[0]+=y[1]>>>16,y[1]&=65535,y[1]+=_[2]*v[2],y[0]+=y[1]>>>16,y[1]&=65535,y[1]+=_[3]*v[1],y[0]+=y[1]>>>16,y[1]&=65535,y[0]+=_[0]*v[3]+_[1]*v[2]+_[2]*v[1]+_[3]*v[0],y[0]&=65535,[y[0]<<16|y[1],y[2]<<16|y[3]]}function Bi(_,v){return(v%=64)===32?[_[1],_[0]]:v<32?[_[0]<<v|_[1]>>>32-v,_[1]<<v|_[0]>>>32-v]:(v-=32,[_[1]<<v|_[0]>>>32-v,_[0]<<v|_[1]>>>32-v])}function dr(_,v){return(v%=64)===0?_:v<32?[_[0]<<v|_[1]>>>32-v,_[1]<<v]:[_[1]<<v-32,0]}function fn(_,v){return[_[0]^v[0],_[1]^v[1]]}function fh(_){return _=fn(_,[0,_[0]>>>1]),_=fn(_=wr(_,[4283543511,3981806797]),[0,_[0]>>>1]),_=fn(_=wr(_,[3301882366,444984403]),[0,_[0]>>>1])}function Vg(_,v){v=v||0;var y,x=(_=_||"").length%16,E=_.length-x,T=[0,v],I=[0,v],P=[0,0],L=[0,0],U=[2277735313,289559509],X=[1291169091,658871167];for(y=0;y<E;y+=16)P=[255&_.charCodeAt(y+4)|(255&_.charCodeAt(y+5))<<8|(255&_.charCodeAt(y+6))<<16|(255&_.charCodeAt(y+7))<<24,255&_.charCodeAt(y)|(255&_.charCodeAt(y+1))<<8|(255&_.charCodeAt(y+2))<<16|(255&_.charCodeAt(y+3))<<24],L=[255&_.charCodeAt(y+12)|(255&_.charCodeAt(y+13))<<8|(255&_.charCodeAt(y+14))<<16|(255&_.charCodeAt(y+15))<<24,255&_.charCodeAt(y+8)|(255&_.charCodeAt(y+9))<<8|(255&_.charCodeAt(y+10))<<16|(255&_.charCodeAt(y+11))<<24],P=Bi(P=wr(P,U),31),T=Ss(T=Bi(T=fn(T,P=wr(P,X)),27),I),T=Ss(wr(T,[0,5]),[0,1390208809]),L=Bi(L=wr(L,X),33),I=Ss(I=Bi(I=fn(I,L=wr(L,U)),31),T),I=Ss(wr(I,[0,5]),[0,944331445]);switch(P=[0,0],L=[0,0],x){case 15:L=fn(L,dr([0,_.charCodeAt(y+14)],48));case 14:L=fn(L,dr([0,_.charCodeAt(y+13)],40));case 13:L=fn(L,dr([0,_.charCodeAt(y+12)],32));case 12:L=fn(L,dr([0,_.charCodeAt(y+11)],24));case 11:L=fn(L,dr([0,_.charCodeAt(y+10)],16));case 10:L=fn(L,dr([0,_.charCodeAt(y+9)],8));case 9:L=wr(L=fn(L,[0,_.charCodeAt(y+8)]),X),I=fn(I,L=wr(L=Bi(L,33),U));case 8:P=fn(P,dr([0,_.charCodeAt(y+7)],56));case 7:P=fn(P,dr([0,_.charCodeAt(y+6)],48));case 6:P=fn(P,dr([0,_.charCodeAt(y+5)],40));case 5:P=fn(P,dr([0,_.charCodeAt(y+4)],32));case 4:P=fn(P,dr([0,_.charCodeAt(y+3)],24));case 3:P=fn(P,dr([0,_.charCodeAt(y+2)],16));case 2:P=fn(P,dr([0,_.charCodeAt(y+1)],8));case 1:P=wr(P=fn(P,[0,_.charCodeAt(y)]),U),T=fn(T,P=wr(P=Bi(P,31),X))}return T=Ss(T=fn(T,[0,_.length]),I=fn(I,[0,_.length])),I=Ss(I,T),T=Ss(T=fh(T),I=fh(I)),I=Ss(I,T),("00000000"+(T[0]>>>0).toString(16)).slice(-8)+("00000000"+(T[1]>>>0).toString(16)).slice(-8)+("00000000"+(I[0]>>>0).toString(16)).slice(-8)+("00000000"+(I[1]>>>0).toString(16)).slice(-8)}function gc(_){return parseInt(_)}function Pr(_){return parseFloat(_)}function ms(_,v){return typeof _=="number"&&isNaN(_)?v:_}function Mr(_){return _.reduce(function(v,y){return v+(y?1:0)},0)}function ph(_,v){if(v===void 0&&(v=1),Math.abs(v)>=1)return Math.round(_/v)*v;var y=1/v;return Math.round(_*y)/y}function Iu(_){return _&&typeof _=="object"&&"message"in _?_:{message:_}}function Gg(_,v,y){var x=Object.keys(_).filter(function(T){return function(P,L){return!function(X,G){for(var te=0,ce=X.length;te<ce;++te)if(X[te]===G)return!0;return!1}(P,L)}(y,T)}),E=Array(x.length);return Tu(x,function(T,I){E[I]=function(L,U){var X=function(te){return typeof te!="function"},G=new Promise(function(te){var ce=Date.now();hh(L.bind(null,U),function(){for(var pe=[],re=0;re<arguments.length;re++)pe[re]=arguments[re];var be=Date.now()-ce;if(!pe[0])return te(function(){return{error:Iu(pe[1]),duration:be}});var Re=pe[1];if(X(Re))return te(function(){return{value:Re,duration:be}});te(function(){return new Promise(function(lt){var Et=Date.now();hh(Re,function(){for(var et=[],Rt=0;Rt<arguments.length;Rt++)et[Rt]=arguments[Rt];var Ft=be+Date.now()-Et;if(!et[0])return lt({error:Iu(et[1]),duration:Ft});lt({value:et[1],duration:Ft})})})})})});return function(){return G.then(function(ce){return ce()})}}(_[T],v)}),function(){return Gr(this,void 0,void 0,function(){var I,P,L,U,X,G;return xr(this,function(te){switch(te.label){case 0:for(I={},P=0,L=x;P<L.length;P++)U=L[P],I[U]=void 0;X=Array(x.length),G=function(){var ce;return xr(this,function(pe){switch(pe.label){case 0:return ce=!0,[4,Tu(x,function(re,be){X[be]||(E[be]?X[be]=E[be]().then(function(Re){return I[re]=Re}):ce=!1)})];case 1:return pe.sent(),ce?[2,"break"]:[4,Mi(1)];case 2:return pe.sent(),[2]}})},te.label=1;case 1:return[5,G()];case 2:if(te.sent()==="break")return[3,4];te.label=3;case 3:return[3,1];case 4:return[4,Promise.all(X)];case 5:return te.sent(),[2,I]}})})}}function mh(){var _=window,v=navigator;return Mr(["MSCSSMatrix"in _,"msSetImmediate"in _,"msIndexedDB"in _,"msMaxTouchPoints"in v,"msPointerEnabled"in v])>=4}function vc(){var _=window,v=navigator;return Mr(["webkitPersistentStorage"in v,"webkitTemporaryStorage"in v,v.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in _,"BatteryManager"in _,"webkitMediaStream"in _,"webkitSpeechGrammar"in _])>=5}function Ao(){var _=window,v=navigator;return Mr(["ApplePayError"in _,"CSSPrimitiveValue"in _,"Counter"in _,v.vendor.indexOf("Apple")===0,"getStorageUpdates"in v,"WebKitMediaKeys"in _])>=4}function yc(){var _=window;return Mr(["safari"in _,!("DeviceMotionEvent"in _),!("ongestureend"in _),!("standalone"in navigator)])>=3}function gh(){var _=vc(),v=function(){var E,T,I=window;return Mr(["buildID"in navigator,"MozAppearance"in((T=(E=document.documentElement)===null||E===void 0?void 0:E.style)!==null&&T!==void 0?T:{}),"onmozfullscreenchange"in I,"mozInnerScreenX"in I,"CSSMozDocumentRule"in I,"CanvasCaptureMediaStream"in I])>=4}();if(!_&&!v)return!1;var y=window;return Mr(["onorientationchange"in y,"orientation"in y,_&&!("SharedWorker"in y),v&&/android/i.test(navigator.appVersion)])>=2}function Au(_){var v=new Error(_);return v.name=_,v}function Nu(_,v,y){var x,E,T;return y===void 0&&(y=50),Gr(this,void 0,void 0,function(){var I,P;return xr(this,function(L){switch(L.label){case 0:I=document,L.label=1;case 1:return I.body?[3,3]:[4,Mi(y)];case 2:return L.sent(),[3,1];case 3:P=I.createElement("iframe"),L.label=4;case 4:return L.trys.push([4,,10,11]),[4,new Promise(function(U,X){var G=!1,te=function(){G=!0,U()};P.onload=te,P.onerror=function(re){G=!0,X(re)};var ce=P.style;ce.setProperty("display","block","important"),ce.position="absolute",ce.top="0",ce.left="0",ce.visibility="hidden",v&&"srcdoc"in P?P.srcdoc=v:P.src="about:blank",I.body.appendChild(P);var pe=function(){var re,be;G||(((be=(re=P.contentWindow)===null||re===void 0?void 0:re.document)===null||be===void 0?void 0:be.readyState)==="complete"?te():setTimeout(pe,10))};pe()})];case 5:L.sent(),L.label=6;case 6:return!((E=(x=P.contentWindow)===null||x===void 0?void 0:x.document)===null||E===void 0)&&E.body?[3,8]:[4,Mi(y)];case 7:return L.sent(),[3,6];case 8:return[4,_(P,P.contentWindow)];case 9:return[2,L.sent()];case 10:return(T=P.parentNode)===null||T===void 0||T.removeChild(P),[7];case 11:return[2]}})})}function Dp(_){for(var v=function(X){for(var G,te,ce="Unexpected syntax '"+X+"'",pe=/^\s*([a-z-]*)(.*)$/i.exec(X),re=pe[1]||void 0,be={},Re=/([.:#][\w-]+|\[.+?\])/gi,lt=function(Ft,Xn){be[Ft]=be[Ft]||[],be[Ft].push(Xn)};;){var Et=Re.exec(pe[2]);if(!Et)break;var et=Et[0];switch(et[0]){case".":lt("class",et.slice(1));break;case"#":lt("id",et.slice(1));break;case"[":var Rt=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(et);if(!Rt)throw new Error(ce);lt(Rt[1],(te=(G=Rt[4])!==null&&G!==void 0?G:Rt[5])!==null&&te!==void 0?te:"");break;default:throw new Error(ce)}}return[re,be]}(_),y=v[0],x=v[1],E=document.createElement(y??"div"),T=0,I=Object.keys(x);T<I.length;T++){var P=I[T],L=x[P].join(" ");P==="style"?Hg(E.style,L):E.setAttribute(P,L)}return E}function Hg(_,v){for(var y=0,x=v.split(";");y<x.length;y++){var E=x[y],T=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(E);if(T){var I=T[1],P=T[2],L=T[4];_.setProperty(I,P,L||"")}}}function Yg(_){return _.rect(0,0,10,10),_.rect(2,2,6,6),!_.isPointInPath(5,5,"evenodd")}function qg(_,v){_.width=240,_.height=60,v.textBaseline="alphabetic",v.fillStyle="#f60",v.fillRect(100,1,62,20),v.fillStyle="#069",v.font='11pt "Times New Roman"';var y="Cwm fjordbank gly "+String.fromCharCode(55357,56835);return v.fillText(y,2,15),v.fillStyle="rgba(102, 204, 0, 0.2)",v.font="18pt Arial",v.fillText(y,4,45),vh(_)}function Pp(_,v){_.width=122,_.height=110,v.globalCompositeOperation="multiply";for(var y=0,x=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];y<x.length;y++){var E=x[y],T=E[0],I=E[1],P=E[2];v.fillStyle=T,v.beginPath(),v.arc(I,P,40,0,2*Math.PI,!0),v.closePath(),v.fill()}return v.fillStyle="#f9c",v.arc(60,60,60,0,2*Math.PI,!0),v.arc(60,60,20,0,2*Math.PI,!0),v.fill("evenodd"),vh(_)}function vh(_){return _.toDataURL()}function Xg(){var _=this;return function(){if(Hh===void 0){var y=function(){var x=bc();Al(x)?Hh=setTimeout(y,2500):(Mc=x,Hh=void 0)};y()}}(),function(){return Gr(_,void 0,void 0,function(){var v;return xr(this,function(y){switch(y.label){case 0:return Al(v=bc())?Mc?[2,Eu(Mc)]:function(){var T=document;return T.fullscreenElement||T.msFullscreenElement||T.mozFullScreenElement||T.webkitFullscreenElement||null}()?[4,(x=document,(x.exitFullscreen||x.msExitFullscreen||x.mozCancelFullScreen||x.webkitExitFullscreen).call(x))]:[3,2]:[3,2];case 1:y.sent(),v=bc(),y.label=2;case 2:return Al(v)||(Mc=v),[2,v]}var x})})}}function bc(){var _=screen;return[ms(Pr(_.availTop),null),ms(Pr(_.width)-Pr(_.availWidth)-ms(Pr(_.availLeft),0),null),ms(Pr(_.height)-Pr(_.availHeight)-ms(Pr(_.availTop),0),null),ms(Pr(_.availLeft),null)]}function Al(_){for(var v=0;v<4;++v)if(_[v])return!1;return!0}function Kg(_){var v;return Gr(this,void 0,void 0,function(){var y,x,E,T,I,P,L;return xr(this,function(U){switch(U.label){case 0:for(y=document,x=y.createElement("div"),E=new Array(_.length),T={},yh(x),L=0;L<_.length;++L)I=Dp(_[L]),yh(P=y.createElement("div")),P.appendChild(I),x.appendChild(P),E[L]=I;U.label=1;case 1:return y.body?[3,3]:[4,Mi(50)];case 2:return U.sent(),[3,1];case 3:y.body.appendChild(x);try{for(L=0;L<_.length;++L)E[L].offsetParent||(T[_[L]]=!0)}finally{(v=x.parentNode)===null||v===void 0||v.removeChild(x)}return[2,T]}})})}function yh(_){_.style.setProperty("display","block","important")}function bh(_){return matchMedia("(inverted-colors: "+_+")").matches}function xh(_){return matchMedia("(forced-colors: "+_+")").matches}function ni(_){return matchMedia("(prefers-contrast: "+_+")").matches}function Ru(_){return matchMedia("(prefers-reduced-motion: "+_+")").matches}function Nl(_){return matchMedia("(dynamic-range: "+_+")").matches}function wh(_){var v=function(E){if(gh())return .4;if(Ao())return yc()?.5:.3;var T=E.platform.value||"";return/^Win/.test(T)?.6:/^Mac/.test(T)?.5:.7}(_),y=function(E){return ph(.99+.01*E,1e-4)}(v);return{score:v,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,""+y)}}function xc(_){return Vg(function(y){for(var x="",E=0,T=Object.keys(y).sort();E<T.length;E++){var I=T[E],P=y[I],L=P.error?"error":JSON.stringify(P.value);x+=(x?"|":"")+I.replace(/([:|\\])/g,"\\$1")+":"+L}return x}(_))}function Mp(_){return _===void 0&&(_=50),function(y,x){x===void 0&&(x=1/0);var E=window.requestIdleCallback;return E?new Promise(function(T){return E.call(window,function(){return T()},{timeout:x})}):Mi(Math.min(y,x))}(_,2*_)}function Bp(_,v){return{get:function(y){return Gr(this,void 0,void 0,function(){var x,E;return xr(this,function(T){switch(T.label){case 0:return[4,_()];case 1:return x=T.sent(),E=function(P){var L;return{get visitorId(){return L===void 0&&(L=xc(this.components)),L},set visitorId(U){L=U},confidence:wh(P),components:P,version:ME}}(x),v||y==null||y.debug,[2,E]}})})}}}function _h(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function wc(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?_h(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):_h(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function Sh(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function _c(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?Sh(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):Sh(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function Jg(_){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,E=xn(_);if(v){var T=xn(this).constructor;x=Reflect.construct(E,arguments,T)}else x=E.apply(this,arguments);return ro(this,x)}}function Ou(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function Ch(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?Ou(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):Ou(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function kh(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function Eh(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?kh(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):kh(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function Th(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function Sc(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?Th(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):Th(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function j(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function Z(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?j(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):j(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function ne(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function se(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?ne(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):ne(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function ye(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function he(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?ye(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):ye(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}function we(_){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,E=xn(_);if(v){var T=xn(this).constructor;x=Reflect.construct(E,arguments,T)}else x=E.apply(this,arguments);return ro(this,x)}}function qe(_,v){var y=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!y){if(Array.isArray(_)||(y=function(U,X){if(U){if(typeof U=="string")return Xe(U,X);var G=Object.prototype.toString.call(U).slice(8,-1);if(G==="Object"&&U.constructor&&(G=U.constructor.name),G==="Map"||G==="Set")return Array.from(U);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return Xe(U,X)}}(_))||v&&_&&typeof _.length=="number"){y&&(_=y);var x=0,E=function(){};return{s:E,n:function(){return x>=_.length?{done:!0}:{done:!1,value:_[x++]}},e:function(U){throw U},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,I=!0,P=!1;return{s:function(){y=y.call(_)},n:function(){var U=y.next();return I=U.done,U},e:function(U){P=!0,T=U},f:function(){try{I||y.return==null||y.return()}finally{if(P)throw T}}}}function Xe(_,v){(v==null||v>_.length)&&(v=_.length);for(var y=0,x=new Array(v);y<v;y++)x[y]=_[y];return x}function Qe(_,v){var y=Object.keys(_);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(_);v&&(x=x.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),y.push.apply(y,x)}return y}function xt(_){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?Qe(Object(y),!0).forEach(function(x){f(_,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):Qe(Object(y)).forEach(function(x){Object.defineProperty(_,x,Object.getOwnPropertyDescriptor(y,x))})}return _}o.r(a),o.d(a,{Cashfree:()=>S2});var gt=o(7757),xe=o.n(gt),it=(o(2772),o(561),o(6699),o(2023),o(4916),o(4765),o(2222),o(5827),o(2707),o(9720),"onPaymentSuccess callback is required!"),vt="onPaymentFailure callback is required!",It="onError callback is required",Ot="invalid card number",Vt="invalid card expiry date",gn="invalid card cvv",St={Card:{CARD_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-card-number",CARD_CVV_ELEMENT_NOT_FOUND:"no element found with attribute data-card-cvv",CARD_HOLDER_ELEMENT_NOT_FOUND:"no element found with attribute data-card-holder",CARD_EXPIRY_MONTH_ELEMENT_NOT_FOUND:"no element found with attribute data-card-expiry-mm",CARD_EXPIRY_YEAR_ELEMENT_NOT_FOUND:"no element found with attribute data-card-expiry-yy"},Emi:{CARD_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-number",CARD_CVV_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-cvv",CARD_HOLDER_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-holder",CARD_EXPIRY_MONTH_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-expiry-month",CARD_EXPIRY_YEAR_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-expiry-year",CARD_BANK_NAME_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-bank",CARD_EMI_TENURE_ELEMENT_NOT_FOUND:"no element found with attribute data-emi-tenure"},APP_PHONE_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-app-phone",APP_NAME_ELEMENT_NOT_FOUND:"no element found with attribute data-app-name",NETBANKING_BANK_CODE_ELEMENT_NOT_FOUND:"no element found with attribute data-netbanking-code",NETBANKING_IFSC_CODE_ELEMENT_NOT_FOUND:"no element found with attribute data-netbanking-ifsc",NETBANKING_ACCOUNT_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-netbanking-account",UPI_COLLECT_VPA_ELEMENT_NOT_FOUND:"no element found with attribute data-upi-id",UPI_INTENT_PROVIDER_ELEMENT_NOT_FOUND:"no element found with attribute data-upi-provider",PAYLATER_PHONE_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-paylater-phone",PAYLATER_ELEMENT_NOT_FOUND:"no element found with attribute data-provider",CARDLESS_PHONE_NUMBER_ELEMENT_NOT_FOUND:"no element found with attribute data-cardless-phone",CARDLESS_PROVIDER_ELEMENT_NOT_FOUND:"no element found with attribute data-cardless-provider"};const wt="2.0.0";o(9753),o(9554),o(4747),o(9601),o(6992),o(1539),o(8783),o(4129),o(3948);var nn=o(6769),ft=o(8641),Ue=o(2343),wn=[],mt=o(2844),Pt=o(7321),Mn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Gt{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Gt.id}constructor(v={}){this._options=v,Gt.prototype.__init.call(this)}setupOnce(v,y){var x=E=>{var T=y();if(T){var I=T.getIntegration(Gt);if(I){var P=T.getClient(),L=P?P.getOptions():{};return A(E,function(X={},G={}){return{allowUrls:[...X.allowUrls||[],...G.allowUrls||[]],denyUrls:[...X.denyUrls||[],...G.denyUrls||[]],ignoreErrors:[...X.ignoreErrors||[],...G.ignoreErrors||[],...Mn],ignoreInternal:X.ignoreInternal===void 0||X.ignoreInternal}}(I._options,L))?null:E}}return E};x.id=this.name,v(x)}}Gt.__initStatic();var Bt=o(535);let En;class Tn{constructor(){Tn.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Tn.id}setupOnce(){En=Function.prototype.toString,Function.prototype.toString=function(...v){var y=(0,Bt.HK)(this)||this;return En.apply(y,v)}}}Tn.__initStatic();var _t=o(2991),rn=o(360),or=o(8823),Rn=o(9732),Zt=o(5771);class en extends Error{constructor(v){super(v),this.message=v,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var Hr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Qt=o(7597),vn=o(6893),la={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"},Br=o(1170),ar=o(9181),Cc="Not capturing exception because it's already been captured.";class Li{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(v){if(Li.prototype.__init.call(this),Li.prototype.__init2.call(this),Li.prototype.__init3.call(this),Li.prototype.__init4.call(this),this._options=v,v.dsn){this._dsn=D(v.dsn);var y=ee(this._dsn,v);this._transport=v.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...v.transportOptions,url:y})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("No DSN provided, client will not do anything.")}captureException(v,y,x){if((0,mt.YO)(v))return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(Cc));let E=y&&y.event_id;return this._process(this.eventFromException(v,y).then(T=>this._captureEvent(T,y,x)).then(T=>{E=T})),E}captureMessage(v,y,x,E){let T=x&&x.event_id;var I=(0,Qt.pt)(v)?this.eventFromMessage(String(v),y,x):this.eventFromException(v,x);return this._process(I.then(P=>this._captureEvent(P,x,E)).then(P=>{T=P})),T}captureEvent(v,y,x){if(y&&y.originalException&&(0,mt.YO)(y.originalException))return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(Cc));let E=y&&y.event_id;return this._process(this._captureEvent(v,y,x).then(T=>{E=T})),E}captureSession(v){this._isEnabled()?typeof v.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(v),(0,Zt.CT)(v,{init:!1})):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(v){var y=this._transport;return y?this._isClientDoneProcessing(v).then(x=>y.flush(v).then(E=>x&&E)):(0,vn.WD)(!0)}close(v){return this.flush(v).then(y=>(this.getOptions().enabled=!1,y))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(y){var x={};return y.forEach(E=>{x[E.name]=E,wn.indexOf(E.name)===-1&&(E.setupOnce(nn.c,ft.Gd),wn.push(E.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`Integration installed: ${E.name}`))}),x}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(v){return this._integrations[v]}getIntegration(v){try{return this._integrations[v.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`Cannot retrieve integration ${v.id} from the current Client`),null}}sendEvent(v,y={}){if(this._dsn){let E=ae(v,this._dsn,this._options._metadata,this._options.tunnel);for(var x of y.attachments||[])E=M(E,q(x,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(E)}}sendSession(v){if(this._dsn){var y=function(E,T,I,P){var L=J(I);return B({sent_at:new Date().toISOString(),...L&&{sdk:L},...!!P&&{dsn:R(T)}},["aggregates"in E?[{type:"sessions"},E]:[{type:"session"},E]])}(v,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(y)}}recordDroppedEvent(v,y){if(this._options.sendClientReports){var x=`${v}:${y}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`Adding outcome: "${x}"`),this._outcomes[x]=this._outcomes[x]+1||1}}_updateSessionFromEvent(v,y){let x=!1,E=!1;var T=y.exception&&y.exception.values;if(T)for(var I of(E=!0,T)){var P=I.mechanism;if(P&&P.handled===!1){x=!0;break}}var L=v.status==="ok";(L&&v.errors===0||L&&x)&&((0,Zt.CT)(v,{...x&&{status:"crashed"},errors:v.errors||Number(E||x)}),this.captureSession(v))}_isClientDoneProcessing(v){return new vn.cW(y=>{let x=0;var E=setInterval(()=>{this._numProcessing==0?(clearInterval(E),y(!0)):(x+=1,v&&x>=v&&(clearInterval(E),y(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(v,y,x){const{normalizeDepth:E=3,normalizeMaxBreadth:T=1e3}=this.getOptions();var I={...v,event_id:v.event_id||y.event_id||(0,mt.DM)(),timestamp:v.timestamp||(0,Br.yW)()};this._applyClientOptions(I),this._applyIntegrationsMetadata(I);let P=x;y.captureContext&&(P=nn.s.clone(P).update(y.captureContext));let L=(0,vn.WD)(I);if(P){var U=[...y.attachments||[],...P.getAttachments()];U.length&&(y.attachments=U),L=P.applyToEvent(I,y)}return L.then(X=>typeof E=="number"&&E>0?this._normalizeEvent(X,E,T):X)}_normalizeEvent(v,y,x){if(!v)return null;var E={...v,...v.breadcrumbs&&{breadcrumbs:v.breadcrumbs.map(T=>({...T,...T.data&&{data:K(T.data,y,x)}}))},...v.user&&{user:K(v.user,y,x)},...v.contexts&&{contexts:K(v.contexts,y,x)},...v.extra&&{extra:K(v.extra,y,x)}};return v.contexts&&v.contexts.trace&&E.contexts&&(E.contexts.trace=v.contexts.trace,v.contexts.trace.data&&(E.contexts.trace.data=K(v.contexts.trace.data,y,x))),v.spans&&(E.spans=v.spans.map(T=>(T.data&&(T.data=K(T.data,y,x)),T))),E}_applyClientOptions(v){var y=this.getOptions();const{environment:x,release:E,dist:T,maxValueLength:I=250}=y;"environment"in v||(v.environment="environment"in y?x:"production"),v.release===void 0&&E!==void 0&&(v.release=E),v.dist===void 0&&T!==void 0&&(v.dist=T),v.message&&(v.message=(0,Pt.$G)(v.message,I));var P=v.exception&&v.exception.values&&v.exception.values[0];P&&P.value&&(P.value=(0,Pt.$G)(P.value,I));var L=v.request;L&&L.url&&(L.url=(0,Pt.$G)(L.url,I))}_applyIntegrationsMetadata(v){var y=Object.keys(this._integrations);y.length>0&&(v.sdk=v.sdk||{},v.sdk.integrations=[...v.sdk.integrations||[],...y])}_captureEvent(v,y={},x){return this._processEvent(v,y,x).then(E=>E.event_id,E=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(E)})}_processEvent(v,y,x){const{beforeSend:E,sampleRate:T}=this.getOptions();if(!this._isEnabled())return(0,vn.$2)(new en("SDK not enabled, will not capture event."));var I=v.type==="transaction";return!I&&typeof T=="number"&&Math.random()>T?(this.recordDroppedEvent("sample_rate","error"),(0,vn.$2)(new en(`Discarding event because it's not included in the random sample (sampling rate = ${T})`))):this._prepareEvent(v,y,x).then(P=>{if(P===null)throw this.recordDroppedEvent("event_processor",v.type||"error"),new en("An event processor returned null, will not send event.");return y.data&&y.data.__sentry__===!0||I||!E?P:function(U){var X="`beforeSend` method has to return `null` or a valid event.";if((0,Qt.J8)(U))return U.then(G=>{if(!(0,Qt.PO)(G)&&G!==null)throw new en(X);return G},G=>{throw new en(`beforeSend rejected with ${G}`)});if(!(0,Qt.PO)(U)&&U!==null)throw new en(X);return U}(E(P,y))}).then(P=>{if(P===null)throw this.recordDroppedEvent("before_send",v.type||"error"),new en("`beforeSend` returned `null`, will not send event.");var L=x&&x.getSession();return!I&&L&&this._updateSessionFromEvent(L,P),this.sendEvent(P,y),P}).then(null,P=>{throw P instanceof en?P:(this.captureException(P,{data:{__sentry__:!0},originalException:P}),new en(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${P}`))})}_process(v){this._numProcessing+=1,v.then(y=>(this._numProcessing-=1,y),y=>(this._numProcessing-=1,y))}_sendEnvelope(v){this._transport&&this._dsn?this._transport.send(v).then(null,y=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error("Error while sending event:",y)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error("Transport disabled")}_clearOutcomes(){var v=this._outcomes;return this._outcomes={},Object.keys(v).map(y=>{const[x,E]=y.split(":");return{reason:x,category:E,quantity:v[y]}})}}var Rl="7.7.0",Qg=/Minified React error #\d+;/i,io=o(8464),$u=["fatal","error","warning","log","info","debug"],Ol="Breadcrumbs";class oo{static __initStatic(){this.id=Ol}__init(){this.name=oo.id}constructor(v){oo.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...v}}setupOnce(){this.options.console&&(0,Rn.o)("console",We),this.options.dom&&(0,Rn.o)("dom",function(y){return function(E){let T,I=typeof y=="object"?y.serializeAttribute:void 0;typeof I=="string"&&(I=[I]);try{T=E.event.target?(0,io.R)(E.event.target,I):(0,io.R)(E.event,I)}catch{T="<unknown>"}T.length!==0&&(0,ft.Gd)().addBreadcrumb({category:`ui.${E.name}`,message:T},{event:E.event,name:E.name,global:E.global})}}(this.options.dom)),this.options.xhr&&(0,Rn.o)("xhr",ot),this.options.fetch&&(0,Rn.o)("fetch",Je),this.options.history&&(0,Rn.o)("history",Le)}}oo.__initStatic();var Tr=(0,_t.R)();let za;var kc=(0,_t.R)();class mi extends Li{constructor(v){v._metadata=v._metadata||{},v._metadata.sdk=v._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Rl}],version:Rl},super(v),v.sendClientReports&&kc.document&&kc.document.addEventListener("visibilitychange",()=>{kc.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(v,y){return function(E,T,I,P){var L=Pe(E,T,I&&I.syntheticException||void 0,P);return(0,mt.EG)(L),L.level="error",I&&I.event_id&&(L.event_id=I.event_id),(0,vn.WD)(L)}(this._options.stackParser,v,y,this._options.attachStacktrace)}eventFromMessage(v,y="info",x){return function(T,I,P="info",L,U){var X=Ke(T,I,L&&L.syntheticException||void 0,U);return X.level=P,L&&L.event_id&&(X.event_id=L.event_id),(0,vn.WD)(X)}(this._options.stackParser,v,y,x,this._options.attachStacktrace)}sendEvent(v,y){var x=this.getIntegrationById(Ol);x&&x.options&&x.options.sentry&&(0,ft.Gd)().addBreadcrumb({category:"sentry."+(v.type==="transaction"?"transaction":"event"),event_id:v.event_id,level:v.level,message:(0,mt.jH)(v)},{event:v}),super.sendEvent(v,y)}_prepareEvent(v,y,x){return v.platform=v.platform||"javascript",super._prepareEvent(v,y,x)}_flushOutcomes(){var v=this._clearOutcomes();if(v.length!==0)if(this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("Sending outcomes:",v);var y=ee(this._dsn,this._options),x=function(T,I,P){return B(I?{dsn:I}:{},[[{type:"client_report"},{timestamp:P||(0,Br.yW)(),discarded_events:T}]])}(v,this._options.tunnel&&R(this._dsn));try{(function(T,I){Object.prototype.toString.call(Tr&&Tr.navigator)==="[object Navigator]"&&typeof Tr.navigator.sendBeacon=="function"?Tr.navigator.sendBeacon.bind(Tr.navigator)(T,I):(0,or.Ak)()&&dt()(T,{body:I,method:"POST",credentials:"omit",keepalive:!0}).then(null,P=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error(P)})})(y,V(x))}catch(E){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.error(E)}}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("No dsn provided, will not send outcomes");else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log("No outcomes to send")}}var No="?",Zg=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Du=/\((\S*)(?::(\d+))(?::(\d+))\)/,Yr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Lp=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,e0=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,t0=[[30,_=>{var v=Zg.exec(_);if(v){if(v[2]&&v[2].indexOf("eval")===0){var y=Du.exec(v[2]);y&&(v[2]=y[1],v[3]=y[2],v[4]=y[3])}const[x,E]=Ec(v[1]||No,v[2]);return Ct(E,x,v[3]?+v[3]:void 0,v[4]?+v[4]:void 0)}}],[50,_=>{var v=Yr.exec(_);if(v){if(v[3]&&v[3].indexOf(" > eval")>-1){var y=Lp.exec(v[3]);y&&(v[1]=v[1]||"eval",v[3]=y[1],v[4]=y[2],v[5]="")}let x=v[3],E=v[1]||No;return[E,x]=Ec(E,x),Ct(x,E,v[4]?+v[4]:void 0,v[5]?+v[5]:void 0)}}],[40,_=>{var v=e0.exec(_);return v?Ct(v[2],v[1]||No,+v[3],v[4]?+v[4]:void 0):void 0}]],Pu=(0,rn.pE)(...t0),Ec=(_,v)=>{var y=_.indexOf("safari-extension")!==-1,x=_.indexOf("safari-web-extension")!==-1;return y||x?[_.indexOf("@")!==-1?_.split("@")[0]:No,y?`safari-extension:${v}`:`safari-web-extension:${v}`]:[_,v]};let $l=0;var fE=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Ua{static __initStatic(){this.id="TryCatch"}__init(){this.name=Ua.id}constructor(v){Ua.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...v}}setupOnce(){var v=(0,_t.R)();this._options.setTimeout&&(0,Bt.hl)(v,"setTimeout",Ce),this._options.setInterval&&(0,Bt.hl)(v,"setInterval",Ce),this._options.requestAnimationFrame&&(0,Bt.hl)(v,"requestAnimationFrame",_e),this._options.XMLHttpRequest&&"XMLHttpRequest"in v&&(0,Bt.hl)(XMLHttpRequest.prototype,"send",Y);var y=this._options.eventTarget;y&&(Array.isArray(y)?y:fE).forEach(me)}}Ua.__initStatic();class ri{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=ri.id}__init2(){this._installFunc={onerror:ge,onunhandledrejection:Ve}}constructor(v){ri.prototype.__init.call(this),ri.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...v}}setupOnce(){Error.stackTraceLimit=50;var v,y=this._options;for(var x in y){var E=this._installFunc[x];E&&y[x]&&(v=x,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`Global Handler attached: ${v}`),E(),this._installFunc[x]=void 0)}}}ri.__initStatic();class Ro{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Ro.id}constructor(v={}){Ro.prototype.__init.call(this),this._key=v.key||"cause",this._limit=v.limit||5}setupOnce(){var v=(0,ft.Gd)().getClient();v&&(0,nn.c)((y,x)=>{var E=(0,ft.Gd)().getIntegration(Ro);return E?Sn(v.getOptions().stackParser,E._key,E._limit,y,x):y})}}Ro.__initStatic();class Oo{constructor(){Oo.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Oo.id}setupOnce(v,y){var x=E=>{var T=y().getIntegration(Oo);if(T){try{if(Me(E,T._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return T._previousEvent=E}return T._previousEvent=E}return E};x.id=this.name,v(x)}}Oo.__initStatic();var Fi=(0,_t.R)();class $o{constructor(){$o.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=$o.id}setupOnce(){(0,nn.c)(v=>{if((0,ft.Gd)().getIntegration($o)){if(!Fi.navigator&&!Fi.location&&!Fi.document)return v;var y=v.request&&v.request.url||Fi.location&&Fi.location.href;const{referrer:E}=Fi.document||{},{userAgent:T}=Fi.navigator||{};var x={...y&&{url:y},headers:{...v.request&&v.request.headers,...E&&{Referer:E},...T&&{"User-Agent":T}}};return{...v,request:x}}return v})}}$o.__initStatic();var pE=[new Gt,new Tn,new Ua,new oo,new ri,new Ro,new Oo,new $o],n0=o(790),mE=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),r0=o(6458),yn=o(3233),Tc=(0,_t.R)(),s0=o(5375),Ih=(_,v,y)=>{let x;return E=>{v.value>=0&&(E||y)&&(v.delta=v.value-(x||0),(v.delta||x===void 0)&&(x=v.value,_(v)))}},Ah=(_,v)=>({name:_,value:(0,s0.h)(v,()=>-1),delta:0,entries:[],id:`v2-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`}),Nh=(_,v)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(_)){if(_==="first-input"&&!("PerformanceEventTiming"in self))return;var y=new PerformanceObserver(x=>x.getEntries().map(v));return y.observe({type:_,buffered:!0}),y}}catch{}},Ic=(_,v)=>{var y=x=>{x.type!=="pagehide"&&(0,_t.R)().document.visibilityState!=="hidden"||(_(x),v&&(removeEventListener("visibilitychange",y,!0),removeEventListener("pagehide",y,!0)))};addEventListener("visibilitychange",y,!0),addEventListener("pagehide",y,!0)};let Ac=-1;var Rh=()=>(Ac<0&&(Ac=(0,_t.R)().document.visibilityState==="hidden"?0:1/0,Ic(({timeStamp:_})=>{Ac=_},!0)),{get firstHiddenTime(){return Ac}}),i0={},ji=(0,_t.R)();let gs,Wa,o0=0,an={};var Nc={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]},Va=(0,_t.R)(),gE={idleTimeout:r0.nT,finalTimeout:r0.mg,markBackgroundTransactions:!0,routingInstrumentation:function(v,y=!0,x=!0){if(!Va||!Va.location)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("Could not initialize routing instrumentation due to invalid location"));let E,T=Va.location.href;y&&(E=v({name:Va.location.pathname,op:"pageload",metadata:{source:"url"}})),x&&(0,Rn.o)("history",({to:I,from:P})=>{P===void 0&&T&&T.indexOf(I)!==-1?T=void 0:P!==I&&(T=void 0,E&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`[Tracing] Finishing current transaction with op: ${E.op}`),E.finish()),E=v({name:Va.location.pathname,op:"navigation",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,...Nc};class Oh{__init(){this.name="BrowserTracing"}constructor(v){Oh.prototype.__init.call(this);let y=Nc.tracingOrigins;v&&(v.tracingOrigins&&Array.isArray(v.tracingOrigins)&&v.tracingOrigins.length!==0?y=v.tracingOrigins:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options={...gE,...v,tracingOrigins:y};const{_metricOptions:x}=this.options;Su(x&&x._reportAllChanges)}setupOnce(v,y){this._getCurrentHub=y,this._emitOptionsWarning&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`[Tracing] We added a reasonable default for you: ${Nc.tracingOrigins}`));const{routingInstrumentation:x,startTransactionOnLocationChange:E,startTransactionOnPageLoad:T,markBackgroundTransactions:I,traceFetch:P,traceXHR:L,tracingOrigins:U,shouldCreateSpanForRequest:X}=this.options;x(G=>this._createRouteTransaction(G),T,E),I&&function(){Tc&&Tc.document?Tc.document.addEventListener("visibilitychange",()=>{var te=(0,yn.x1)();if(Tc.document.hidden&&te){var ce="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`[Tracing] Transaction: cancelled -> since tab moved to the background, op: ${te.op}`),te.status||te.setStatus(ce),te.setTag("visibilitychange","document.hidden"),te.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),mc({traceFetch:P,traceXHR:L,tracingOrigins:U,shouldCreateSpanForRequest:X})}_createRouteTransaction(v){if(!this._getCurrentHub)return void((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.warn(`[Tracing] Did not create ${v.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:y,idleTimeout:x,finalTimeout:E}=this.options;var T=v.op==="pageload"?ku():void 0,I={...v,...T,...T&&{metadata:{...v.metadata,...T.metadata}},trimEnd:!0},P=typeof y=="function"?y(I):I,L=P===void 0?{...I,sampled:!1}:P;L.metadata=L.name!==I.name?{...L.metadata,source:"custom"}:L.metadata,L.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`[Tracing] Will not send ${L.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.kg.log(`[Tracing] Starting ${L.op} transaction on scope`);var U=this._getCurrentHub();const{location:X}=(0,_t.R)();var G=(0,n0.lb)(U,L,x,E,!0,{location:X});return G.registerBeforeFinishCallback(te=>{Cu(te),te.setTag("sentry_reportAllChanges",!!(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),G}}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&(0,n0.ro)(),o(2419),o(7941),o(2526),o(7327),o(5003),o(9337),o(3321),o(9070),o(5306),o(1058),o(9653),o(3710);var Rc="api_error",si="dom_error",Yn="input_validation_error",a0="redundant_method_call_error",qn="general_error",$h="[data-app-phone]",Dh="[data-app-name]",Ph="[data-upi-id]",Mh="[data-upi-provider]",Do={CARD_NUMBER:"[data-card-number]",CARD_CVV:"[data-card-cvv]",CARD_EXPIRY_MONTH:"[data-card-expiry-mm]",CARD_EXPIRY_YEAR:"[data-card-expiry-yy]",CARD_HOLDER:"[data-card-holder]"},Bh="[data-netbanking-code]",Ga="[data-netbanking-ifsc]",Ha="[data-netbanking-account]",Lr={CARD_NUMBER:"[data-emi-number]",CARD_CVV:"[data-emi-cvv]",CARD_EXPIRY_MONTH:"[data-emi-expiry-mm]",CARD_EXPIRY_YEAR:"[data-emi-expiry-yy]",BANK_NAME:"[data-emi-bank]",EMI_TENURE:"[data-emi-tenure]",CARD_HOLDER:"[data-emi-cardholder]"},Lh="[data-paylater-phone]",Fh="[data-provider]",jh="[data-cardless-phone]",zh="[data-cardless-provider]",Ya=(o(9714),o(7042),function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){var y=16*Math.random()|0;return(v==="x"?y:3&y|8).toString(16)})}),at=function(_){function v(x,E,T,I){var P,L,U,X;return m(this,v),so((P=Fn(X=y.call(this,function(te){return te.charAt(0).toUpperCase()+te.slice(1)}(x))),xn(v.prototype)),"type",E,P,!0),so((L=Fn(X),xn(v.prototype)),"paymentMode",T||"",L,!0),so((U=Fn(X),xn(v.prototype)),"apiCode",I||"",U,!0),X}no(v,_);var y=cn(v);return v}(Jt(Error)),vE=/^(5[1-5][0-9]{0,14}|2[2-7][0-9]{0,14})$/,yE=/^4[0-9]{0,18}$/,bE=/^3[47][0-9]{0,13}$/,xE=/^(36)[0-9]{0,12}$/,wE=/^(6011[0-9]{0,12}|(644|645|646|647|648|649)[0-9]{0,13}|65[0-9]{0,14})$/,_E=/^(352[8,9]{1}[0-9]{0,15}|35[4-8]{1}[0-9]{0,16})$/,SE=/^(5[0|6-8][0-9]{0,17}|6[0-9]{0,18})$/,CE=/^[0-9]{3,4}$/,Uh=/^[6-9][0-9]{9}$/,kE=/^[A-Z]{4}0[A-Z0-9]{6}$/,EE=/^[a-z0-9]{9,25}$/i,Wh=/^[a-zA-Z0-9_\-.]+@[a-zA-Z]{3,}$/,zi=function(v){var y={isReadyToPay:!1,errors:[]};return v.forEach(function(x){return y.errors.push({element:x,error:!1,message:""})}),y},Ui=function(v){var y=!0;return v.forEach(function(x){x.error===!0&&(y=!1)}),y},l0=function(v){if(/[^0-9-\s]+/.test(v))return!1;for(var y=0,x=!1,E=(v=v.replace(/\D/g,"")).length-1;E>=0;E--){var T=v.charAt(E),I=parseInt(T,10);x&&(I*=2)>9&&(I-=9),y+=I,x=!x}return y%10==0||["4434260000000000","4434260000000001"].indexOf(v)>-1},c0=function(v){var y="",x=v.replace(/ +/g,"");return vE.test(x)&&(y="mastercard"),yE.test(x)&&(y="visa"),bE.test(x)&&(y="americanexpress"),xE.test(x)&&(y="diners"),wE.test(x)&&(y="discover"),_E.test(x)&&(y="jcb"),SE.test(x)&&(y="maestro"),y},u0=function(v){return CE.test(v)},d0=function(v){return Number(v)>=new Date().getFullYear()%100},Vh=function(v,y){return!(!v||!y)&&(Number(v)>=new Date().getMonth()+1?d0(y):d0(y-1))},h0=function(){function _(v){m(this,_),this._selectorBase=v==="card"?Do:Lr,this._domErrorBase=v==="card"?St.Card:St.Emi,this._paymentMode=v}return Ws(_,[{key:"checkElementsValidity",value:function(y){if(!function(E){return E!=null}(y.querySelector(this._selectorBase.CARD_NUMBER)))throw new at(this._domErrorBase.CARD_NUMBER_ELEMENT_NOT_FOUND,si);if(!function(E){return E!=null}(y.querySelector(this._selectorBase.CARD_EXPIRY_MONTH)))throw new at(this._domErrorBase.CARD_EXPIRY_MONTH_ELEMENT_NOT_FOUND,si);if(!function(E){return E!=null}(y.querySelector(this._selectorBase.CARD_EXPIRY_YEAR)))throw new at(this._domErrorBase.CARD_EXPIRY_YEAR_ELEMENT_NOT_FOUND,si)}},{key:"checkInputValidity",value:function(y){var x=[this._selectorBase.CARD_NUMBER,this._selectorBase.CARD_EXPIRY_YEAR,this._selectorBase.CARD_CVV,this._selectorBase.CARD_EXPIRY_MONTH,this._selectorBase.CARD_HOLDER],E=zi(x);return E.brand=c0(y.cardNumber),l0(y.cardNumber)||(E.errors[0].error=!0,E.errors[0].message="card : Invalid Card Number entered"),u0(y.cvv)||(E.errors[2].error=!0,E.errors[2].message="card_cvv : Card Cvv must be 3 digits"),y.cardExpiryMonth.length===1?(E.errors[3].error=!0,E.errors[3].message="card_expiry_mm : Expiry month should be double digit"):Vh(y.cardExpiryMonth,y.cardExpiryYear)||(E.errors[3].error=!0,E.errors[3].message="Invalid card expiry date"),Vh(y.cardExpiryMonth,y.cardExpiryYear)||(E.errors[1].error=!0,E.errors[1].message="Invalid card expiry date"),E.isReadyToPay=Ui(E.errors),E}},{key:"checkPaymentRequestValidity",value:function(y){if(!l0(y.cardNumber))throw new at(Ot,Yn,this._paymentMode);if(!u0(y.cvv))throw new at(gn,Yn,this._paymentMode);if(!Vh(y.cardExpiryMonth,y.cardExpiryYear))throw new at(Vt,Yn,this._paymentMode)}}]),_}(),TE=function(_){function v(){return m(this,v),y.apply(this,arguments)}no(v,_);var y=Pi(v);return Ws(v,[{key:"checkElementsValidity",value:function(E,T){if(T&&Ut(xn(v.prototype),"checkElementsValidity",this).call(this,E),!function(P){return P!=null}(E.querySelector(Lr.BANK_NAME)))throw new at(St.Emi.CARD_BANK_NAME_ELEMENT_NOT_FOUND,si);if(!function(P){return P!=null}(E.querySelector(Lr.EMI_TENURE)))throw new at(St.Emi.CARD_EMI_TENURE_ELEMENT_NOT_FOUND,si)}},{key:"checkInputValidity",value:function(E){var T=Ut(xn(v.prototype),"checkInputValidity",this).call(this,E),I=[].concat(d(T.errors),[{element:Lr.BANK_NAME,error:!1,message:""},{element:Lr.EMI_TENURE,error:!1,message:""}]);return T.errors=I,!E.cardBankName&&T.errors[5]&&(T.errors[5].error=!0,T.errors[5].message="invalid bank name",T.isReadyToPay=!1),!E.emiTenure&&T.errors[6]&&(T.errors[6].error=!0,T.errors[6].message="invalid bank name",T.isReadyToPay=!1),T}},{key:"checkPaymentRequestValidity",value:function(E){if(Ut(xn(v.prototype),"checkPaymentRequestValidity",this).call(this,E),!E.cardBankName)throw new at("invalid bank name",Yn);if(!E.emiTenure)throw new at("invalid emi tenure",Yn)}}]),v}(h0),Gh=(o(8674),"cashfree-pay-frame"),Po=function(v,y){(function(E){var T=document.createElement("div");T.innerHTML=function(P,L){return`
    <div 
        id="cashfree-iframe-container" 
        style="position:fixed; overflow:hidden; width:100%; border-radius:5px;"
    >
        <iframe 
            id="`.concat(P,`" loading="eager"
            style="position: absolute; top:50%; left:50%; transform:translate(-50%, -50%); height:`).concat(L,`; width: 420px; padding:56px; padding-left:0; padding-right:0; border:transparent;"
        >
        </iframe>
    </div>`)}(Gh,E||"100%"),document.body.appendChild(T),document.getElementById(Gh)})(v),document.getElementById(Gh).src=y},qa=function(){document.getElementById("cashfree-iframe-container").remove()},f0=o(6265),IE=(o(2481),o(1795)),p0=o.n(IE),Oc=function(){var v,y=!1;return v=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(v)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(v.substr(0,4)))&&(y=!0),y},m0=function(){var v=function(x){return x.test(window.navigator.userAgent)};switch(!0){case v(/edg/i):return"MicrosoftEdge";case v(/trident/i):return"MicrosoftInternetExplorer";case v(/firefox|fxios/i):return"MozillaFirefox";case v(/opr\//i):return"Opera";case v(/ucbrowser/i):return"UCBrowser";case v(/samsungbrowser/i):return"SamsungBrowser";case v(/chrome|crios/i):return"GoogleChrome";case v(/safari/i):return"AppleSafari";default:return"Other"}},g0=function(v,y){return v?v.length<y?v+"x".repeat(y-v.length):v.substr(0,y):"x".repeat(y)},v0=function(){var v=Oc()?"m":"d",y={AppleSafari:"s",GoogleChrome:"c",MozillaFirefox:"m",Opera:"o"}[m0()]||"x",x=p0().parse(window.navigator.userAgent),E=g0(x.version,5),T="x",I="x";return x.os.family&&(T=x.os.family==="OS X"?"m":{a:"a",i:"i",w:"w",m:"m",l:"l"}[x.os.family.charAt(0).toLowerCase()]||"x",I=g0(x.os.version,5)),{deviceType:v,browserType:y,browserVersion:E,osType:T,osVersion:I}},$c=function(v,y){var x=`
        `.concat(`
        <style>
          .boxes {
            --size: 32px;
            --duration: 800ms;
            height: calc(var(--size) * 2);
            width: calc(var(--size) * 3);
            position: relative;
            transform-style: preserve-3d;
            transform-origin: 50% 50%;
            margin-top: calc(var(--size) * 1.5 * -1);
            transform: rotateX(60deg) rotateZ(45deg) rotateY(0deg) translateZ(0px);
          }
          .boxes .box {
            width: var(--size);
            height: var(--size);
            top: 0;
            left: 0;
            position: absolute;
            transform-style: preserve-3d;
          }
          .boxes .box:nth-child(1) {
            transform: translate(100%, 0);
            -webkit-animation: box1 var(--duration) linear infinite;
                    animation: box1 var(--duration) linear infinite;
          }
          .boxes .box:nth-child(2) {
            transform: translate(0, 100%);
            -webkit-animation: box2 var(--duration) linear infinite;
                    animation: box2 var(--duration) linear infinite;
          }
          .boxes .box:nth-child(3) {
            transform: translate(100%, 100%);
            -webkit-animation: box3 var(--duration) linear infinite;
                    animation: box3 var(--duration) linear infinite;
          }
          .boxes .box:nth-child(4) {
            transform: translate(200%, 0);
            -webkit-animation: box4 var(--duration) linear infinite;
                    animation: box4 var(--duration) linear infinite;
          }
          .boxes .box > div {
            --background: #5C8DF6;
            --top: auto;
            --right: auto;
            --bottom: auto;
            --left: auto;
            --translateZ: calc(var(--size) / 2);
            --rotateY: 0deg;
            --rotateX: 0deg;
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--background);
            top: var(--top);
            right: var(--right);
            bottom: var(--bottom);
            left: var(--left);
            transform: rotateY(var(--rotateY)) rotateX(var(--rotateX)) translateZ(var(--translateZ));
          }
          .boxes .box > div:nth-child(1) {
            --top: 0;
            --left: 0;
          }
          .boxes .box > div:nth-child(2) {
            --background: #145af2;
            --right: 0;
            --rotateY: 90deg;
          }
          .boxes .box > div:nth-child(3) {
            --background: #447cf5;
            --rotateX: -90deg;
          }
          .boxes .box > div:nth-child(4) {
            --background: #DBE3F4;
            --top: 0;
            --left: 0;
            --translateZ: calc(var(--size) * 3 * -1);
          }
          
          @-webkit-keyframes box1 {
            0%, 50% {
              transform: translate(100%, 0);
            }
            100% {
              transform: translate(200%, 0);
            }
          }
          
          @keyframes box1 {
            0%, 50% {
              transform: translate(100%, 0);
            }
            100% {
              transform: translate(200%, 0);
            }
          }
          @-webkit-keyframes box2 {
            0% {
              transform: translate(0, 100%);
            }
            50% {
              transform: translate(0, 0);
            }
            100% {
              transform: translate(100%, 0);
            }
          }
          @keyframes box2 {
            0% {
              transform: translate(0, 100%);
            }
            50% {
              transform: translate(0, 0);
            }
            100% {
              transform: translate(100%, 0);
            }
          }
          @-webkit-keyframes box3 {
            0%, 50% {
              transform: translate(100%, 100%);
            }
            100% {
              transform: translate(0, 100%);
            }
          }
          @keyframes box3 {
            0%, 50% {
              transform: translate(100%, 100%);
            }
            100% {
              transform: translate(0, 100%);
            }
          }
          @-webkit-keyframes box4 {
            0% {
              transform: translate(200%, 0);
            }
            50% {
              transform: translate(200%, 100%);
            }
            100% {
              transform: translate(100%, 100%);
            }
          }
          @keyframes box4 {
            0% {
              transform: translate(200%, 0);
            }
            50% {
              transform: translate(200%, 100%);
            }
            100% {
              transform: translate(100%, 100%);
            }
          }
          html {
            -webkit-font-smoothing: antialiased;
          }
        </style>
    `,`
        <div 
            id="cf-loader"
            style="position:fixed;top:0;left:0;height:100vh;width:100vw;background-color:rgba(0,0,0,0.5);z-index:2147483647;"
        >
            <div 
                style="`).concat(Oc()?`
    position:fixed; 
    bottom: 0;
    width:100vw;
    height:40vh;
    max-height: 200px;
    background-color:#fff;
    border-radius:25px;
    border-bottom-right-radius:0;
    border-bottom-left-radius:0;
    color:rgba(0,0,0,0.8);
    box-sizing:border-box;
    z-index:2147483647;`:`
    position:fixed;
    height:520px;
    width:320px;
    top:50%;
    left:50%;
    transform: translate(-50%, -50%);
    background-color:white; 
    border-radius:10px;
    z-index:2147483647;
    padding-top:150px;
    max-width: 100vw;
    `,`"
            >
                <p style="text-align:center;padding-top:1rem;font-size:16px;color:#113A5B">Your payment is being processed.</p>
                <div style="position:relative;text-align: center;">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; display: block; shape-rendering: auto;" width="81px" height="81px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                  <circle cx="84" cy="50" r="10" fill="#ffb6bb">
                      <animate attributeName="r" repeatCount="indefinite" dur="0.6756756756756757s" calcMode="spline" keyTimes="0;1" values="8;0" keySplines="0 0.5 0.5 1" begin="0s"/>
                      <animate attributeName="fill" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="discrete" keyTimes="0;0.25;0.5;0.75;1" values="#ffb6bb;#585872;#95d5ee;#ffe691;#ffb6bb" begin="0s"/>
                  </circle><circle cx="16" cy="50" r="10" fill="#ffb6bb">
                    <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="0s"/>
                    <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="0s"/>
                  </circle><circle cx="50" cy="50" r="10" fill="#ffe691">
                    <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.6756756756756757s"/>
                    <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.6756756756756757s"/>
                  </circle><circle cx="84" cy="50" r="10" fill="#95d5ee">
                    <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-1.3513513513513513s"/>
                    <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-1.3513513513513513s"/>
                  </circle><circle cx="16" cy="50" r="10" fill="#585872">
                    <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-2.027027027027027s"/>
                    <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-2.027027027027027s"/>
                  </circle>
                </svg>
                <p style="text-align:center;font-size:16px;border-bottom:1px solid #113A5B; display: inline-block">
                    <button 
                        id="`).concat(v?"cf-btn-loader-goto":"cf-btn-loader-cancel",`"
                        style="background:none;font-family:inherit;border:none;font-size:16px;cursor:pointer;"    
                    >
                        `).concat(v?"Go to Payment.":"Cancel Payment",`
                    </button>
                </p>
                </div>
            </div>
        </div>
    `),E=document.createElement("div");E.innerHTML=x,document.body.appendChild(E),(0,f0.disablePageScroll)(document.getElementById("cf-loader")),document.getElementById("cf-btn-loader-goto")!==null&&document.getElementById("cf-btn-loader-goto").addEventListener("click",function(){return v.focus()}),document.getElementById("cf-btn-loader-cancel")!==null&&document.getElementById("cf-btn-loader-cancel").addEventListener("click",function(){return y()})},Xa=function(){(0,f0.enablePageScroll)(document.getElementById("cf-loader")),document.getElementById("cf-loader")&&document.getElementById("cf-loader").remove()},AE=o(3379),y0=o.n(AE),NE=o(7795),b0=o.n(NE),RE=o(569),x0=o.n(RE),OE=o(3565),w0=o.n(OE),$E=o(9216),_0=o.n($E),DE=o(4589),S0=o.n(DE),Dc=o(7950),Mo={};Mo.styleTagTransform=S0(),Mo.setAttributes=w0(),Mo.insert=x0().bind(null,"head"),Mo.domAPI=b0(),Mo.insertStyleElement=_0(),y0()(Dc.Z,Mo),Dc.Z&&Dc.Z.locals&&Dc.Z.locals;var C0={},k0=function(){var _=p(xe().mark(function v(y){var x,E,T,I,P=arguments;return xe().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return x=P.length>1&&P[1]!==void 0?P[1]:{},U.next=3,fetch(y,x);case 3:if((E=U.sent).status===200){U.next=9;break}return U.next=7,E.json();case 7:throw T=U.sent,new at(T.message,Rc,null,T.code);case 9:return U.next=11,E.json();case 11:return I=U.sent,U.abrupt("return",I);case 13:case"end":return U.stop()}},v)}));return function(y){return _.apply(this,arguments)}}(),Pc=function(){var _=p(xe().mark(function v(y,x){var E,T,I,P,L,U;return xe().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!(E=C0[y])){G.next=3;break}return G.abrupt("return",E);case 3:return T=x,I=Ya(),T||(T={method:"GET",headers:{"Content-Type":"application/json","x-request-id":I}}),G.next=8,fetch(y,T);case 8:if((P=G.sent).status===200){G.next=14;break}return G.next=12,P.json();case 12:throw L=G.sent,new at(L.message,Rc);case 14:return G.next=16,P.json();case 16:return U=G.sent,C0[y]=U,G.abrupt("return",U);case 19:case"end":return G.stop()}},v)}));return function(y,x){return _.apply(this,arguments)}}(),PE=function _(){var v=this;m(this,_),f(this,"getBrandIcon",function(y){switch(y){case"visa":return"https://js.stripe.com/v3/fingerprinted/img/visa-365725566f9578a9589553aa9296d178.svg";case"americanexpress":return"https://js.stripe.com/v3/fingerprinted/img/amex-a49b82f46c5cd6a96a6e418a6ca1717c.svg";case"mastercard":return"https://js.stripe.com/v3/fingerprinted/img/mastercard-4d8844094130711885b5e41b28c9848f.svg";default:return React.createElement(React.Fragment,null," ")}}),f(this,"renderCrossIcon",function(){return'<svg class="headless-close-modal" width="14px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><g id="Cross" transform="translate(-5.000000, -5.000000)" stroke="#434343" stroke-width="3"><g id="back-arrow"><g id="Cross" transform="translate(6.000000, 6.000000)"><polyline id="Path-6" points="24 -7.07767178e-15 12 12 24 24"></polyline><polyline id="Path-6" transform="translate(6.000000, 12.000000) scale(-1, 1) translate(-6.000000, -12.000000) " points="12 -7.07767178e-15 0 12 12 24"></polyline></g></g></g></g></svg>'}),f(this,"renderBankIcon",function(){return`<svg xmlns="http://www.w3.org/2000/svg" width="10" height="15" viewBox="0 0 10 15" fill="none">
            <path d="M1.25066 13.75C1.33775 13.8373 1.4412 13.9066 1.5551 13.9538C1.669 14.0011 1.7911 14.0254 1.91441 14.0254C2.03773 14.0254 2.15983 14.0011 2.27373 13.9538C2.38762 13.9066 2.49108 13.8373 2.57816 13.75L8.81066 7.51751C8.95035 7.37699 9.02876 7.1869 9.02876 6.98876C9.02876 6.79062 8.95035 6.60053 8.81066 6.46001L2.57816 0.250011C2.40001 0.0898272 2.1673 0.00392426 1.9278 0.0099394C1.6883 0.0159545 1.46019 0.113431 1.29031 0.282356C1.12042 0.451281 1.02165 0.678834 1.01428 0.918296C1.00691 1.15776 1.09149 1.39096 1.25066 1.57001L6.68066 7.00001L1.25066 12.445C1.08113 12.6199 0.986328 12.8539 0.986328 13.0975C0.986328 13.3411 1.08113 13.5751 1.25066 13.75Z" fill="#6930CA"/>
        </svg>`}),f(this,"renderHeadless",function(y,x,E){var T=y.bankData,I=y.payment_amount,P="",L=document.createElement("div");document.body.style.overflow="hidden",L.innerHTML=`
            <div class="headless-modal">
                <div id="headless" class="headless-container">
                    <div id="headless-loader"class="headless-loader">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; display: block; shape-rendering: auto;" width="81px" height="81px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                            <circle cx="84" cy="50" r="10" fill="#ffb6bb">
                                <animate attributeName="r" repeatCount="indefinite" dur="0.6756756756756757s" calcMode="spline" keyTimes="0;1" values="8;0" keySplines="0 0.5 0.5 1" begin="0s"/>
                                <animate attributeName="fill" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="discrete" keyTimes="0;0.25;0.5;0.75;1" values="#ffb6bb;#585872;#95d5ee;#ffe691;#ffb6bb" begin="0s"/>
                            </circle><circle cx="16" cy="50" r="10" fill="#ffb6bb">
                            <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="0s"/>
                            <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="0s"/>
                            </circle><circle cx="50" cy="50" r="10" fill="#ffe691">
                            <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.6756756756756757s"/>
                            <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-0.6756756756756757s"/>
                            </circle><circle cx="84" cy="50" r="10" fill="#95d5ee">
                            <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-1.3513513513513513s"/>
                            <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-1.3513513513513513s"/>
                            </circle><circle cx="16" cy="50" r="10" fill="#585872">
                            <animate attributeName="r" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="0;0;8;8;8" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-2.027027027027027s"/>
                            <animate attributeName="cx" repeatCount="indefinite" dur="2.7027027027027026s" calcMode="spline" keyTimes="0;0.25;0.5;0.75;1" values="16;16;16;50;84" keySplines="0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1" begin="-2.027027027027027s"/>
                            </circle>
                        </svg>
                    </div>
                    <div class="d-flex-cross">
                        <div class="right-div">`.concat(v.renderCrossIcon(),`</div>
                    </div>
                    <div class="otp-data">
                        <div class="otp-text">Enter One Time Password</div>
                        `).concat(T&&Object.keys(T).length?`<div class="card-details">
                            <div class="card-data mb-10">
                                <img src=`.concat(v.getBrandIcon(T.brand),` style="padding-right: 0.5rem;width: 36px; margin-bottom: 2px;"/>
                                <span class="card-title">Card Number:</span> 
                                `).concat(T.cardNumber.slice(0,4)," XXXX XXXX ").concat(T.cardNumber.slice(-4),`
                            </div>
                        </div>`):"",`
                        <div class="otp-subtext">Please enter OTP sent to your registered mobile number</div>
                        <div class="otp-input-div">
                            <input autocomplete="one-time-code" class="otp-input" id="headless-otp-input" placeholder="Enter OTP"/>
                            `).concat(T&&Object.keys(T).length?'<div id="headless-otp-resend" class="otp-input-resend">Resend OTP </div>':'<div id="headless-otp-resend" class="otp-input-resend"></div>',`
                        </div>
                        <div id="error-msg" class="error-msg"></div> 
                        <div class="btn-div">
                            <button id="headless-cancel" class="btn cancel-btn">Cancel</button>
                            <button id="headless-submit" class="btn submit-btn" disabled>Submit</button>
                        </div>
                    </div>x
                </div>
            </div>
        `),document.body.appendChild(L);var U=function(ce){document.body.style.removeProperty?document.body.style.removeProperty("overflow"):document.body.style.removeAttribute("overflow"),document.body.removeChild(L),x(ce)},X=document.getElementsByClassName("headless-close-modal")[0],G=document.getElementById("headless-submit");X&&X.addEventListener("click",function(){U()}),document.getElementById("headless-cancel").addEventListener("click",function(){U()}),document.getElementById("headless-otp-input").addEventListener("input",function(te){var ce=te.target.value;P=ce,ce.length<4?G.disabled=!0:G.disabled=!1}),document.getElementById("headless-otp-resend").addEventListener("click",p(xe().mark(function te(){var ce,pe,re,be,Re,lt;return xe().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return ce=document.getElementById("headless-loader"),pe=Ya(),re="",et.prev=3,G.disabled=!0,ce.style.display="flex",be=y.data.url,Re={action:"RESEND_OTP"},et.next=10,k0(be,{method:"POST",body:JSON.stringify(Re),headers:{"Content-Type":"application/json","x-request-id":pe}});case 10:et.sent.authenticate_status!=="SUCCESS"&&(re="Failed to send OTP"),et.next=18;break;case 14:et.prev=14,et.t0=et.catch(3),re=et.t0.message||"Something went wrong",et.t0.apiCode==="request_invalid"&&(document.getElementById("headless-otp-resend").style.display="none");case 18:return et.prev=18,G.disabled=!1,ce.style.display="none",(lt=document.getElementById("error-msg"))&&(lt.innerHTML=re||""),et.finish(18);case 24:case"end":return et.stop()}},te,null,[[3,14,18,24]])}))),G.addEventListener("click",p(xe().mark(function te(){var ce,pe,re,be,Re,lt,Et,et;return xe().wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:return ce=document.getElementById("headless-loader"),pe="",re=Ya(),Ft.prev=3,G.disabled=!0,ce.style.display="flex",be=y.data.url,Re={otp:P,action:"SUBMIT_OTP"},Ft.next=10,k0(be,{method:"POST",body:JSON.stringify(Re),headers:{"Content-Type":"application/json","x-request-id":re}});case 10:if((lt=Ft.sent).authenticate_status!=="SUCCESS"){Ft.next=18;break}return Et={transaction:{txStatus:"SUCCESS",txMsg:"",transactionId:lt.cf_payment_id,transactionAmount:I}},U(!0),Ft.next=16,E(Et);case 16:Ft.next=19;break;case 18:pe=lt.payment_message||"Something went wrong";case 19:Ft.next=25;break;case 21:Ft.prev=21,Ft.t0=Ft.catch(3),pe=Ft.t0.message||"Something went wrong",Ft.t0.apiCode!=="request_invalid"&&pe.toUpperCase()!=="MAX OTP ATTEMPT REACHED"||setTimeout(function(){U(!0)},2e3);case 25:return Ft.prev=25,G.disabled=!1,ce.style.display="none",(et=document.getElementById("error-msg"))&&(et.innerHTML=pe||""),Ft.finish(25);case 31:case"end":return Ft.stop()}},te,null,[[3,21,25,31]])})))})},bn=function _(){m(this,_),f(this,"timer","")};f(bn,"pay",function(){var _=p(xe().mark(function v(y,x,E,T,I){var P,L,U,X,G,te,ce,pe,re,be,Re,lt,Et,et,Rt;return xe().wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:return P=Ya(),L="".concat(y).concat(P),U=v0(),X=U.deviceType,G=U.browserType,te=U.browserVersion,ce=U.osType,pe=U.osVersion,re="".concat(T,"-").concat(X,"-").concat(G,"-").concat(te,"-").concat(ce,"-").concat(pe),be={payment_session_id:y,payment_method:x,platform:re},Re={width:800,height:600},lt={left:window.screen.availLeft+window.screen.availWidth/2-Re.width/2,top:window.screen.availTop+window.screen.availHeight/2-Re.height/2},Et=window.open("","_blank","toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=".concat(Re.width,",height=").concat(Re.height,",top=").concat(lt.top,",left=").concat(lt.left)),window.paymentWindow=Et,Xn.next=11,fetch("".concat("https://sandbox.cashfree.com/pg","/orders/sessions/js"),{method:"POST",headers:{"Content-Type":"application/json","x-request-id":P,"x-document-referrer":I||document.referrer},body:JSON.stringify(be)});case 11:if((et=Xn.sent).status===200){Xn.next=17;break}return Xn.next=15,et.json();case 15:throw Rt=Xn.sent,new at(Rt.message,Rc,E,Rt.code);case 17:return Xn.abrupt("return",{response:et.json(),statusToken:L});case 18:case"end":return Xn.stop()}},v)}));return function(v,y,x,E,T){return _.apply(this,arguments)}}()),f(bn,"intentPay",function(){var _=p(xe().mark(function v(y,x,E,T,I){var P,L,U,X,G,te,ce,pe,re,be,Re,lt;return xe().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return P=Ya(),L="".concat(y).concat(P),U=v0(),X=U.deviceType,G=U.browserType,te=U.browserVersion,ce=U.osType,pe=U.osVersion,re="".concat(T,"-").concat(X,"-").concat(G,"-").concat(te,"-").concat(ce,"-").concat(pe),be={payment_session_id:y,payment_method:x,platform:re},et.next=7,fetch("".concat("https://sandbox.cashfree.com/pg","/orders/sessions/js"),{method:"POST",headers:{"Content-Type":"application/json","x-request-id":P,"x-document-referrer":I||document.referrer},body:JSON.stringify(be)});case 7:if((Re=et.sent).status===200){et.next=13;break}return et.next=11,Re.json();case 11:throw lt=et.sent,new at(lt.message,Rc,E);case 13:return et.abrupt("return",{response:Re.json(),statusToken:L});case 14:case"end":return et.stop()}},v)}));return function(v,y,x,E,T){return _.apply(this,arguments)}}()),f(bn,"handlePaymentResponse",function(_,v,y,x,E){var T=window.paymentWindow;return _.action==="link"?(T&&(T.location=_.data.url),$c(T,x),bn.endAndStartTimer(x),T&&T.focus(),T):(T&&T.close(),_.action==="post"?(new PE().renderHeadless(_,x,E),null):(_.action!=="custom"||document.getElementById("cashfree-iframe-container")||($c(null,x),Po("0","".concat("https://sandbox.cashfree.com/pg/view","/status/").concat(v,"/").concat(y))),null))}),f(bn,"endAndStartTimer",function(_){var v=window.paymentWindow;window.clearTimeout(bn.timer),bn.timer=window.setTimeout(function(){Xa(),_&&_(),v&&v.close()},6e5)});var Mc,Hh,E0=function(){function _(v,y,x){var E=this;m(this,_),f(this,"_handleCardNumberChange",function(){E._state.cardNumber=E._cardNumberElement.value.replace(/ +/g,""),E._onChange&&E._onChange(E._validator.checkInputValidity(E._state))}),f(this,"_handleCardCvvChange",function(){E._state.cvv=E._cardCvvElement.value,E._onChange&&E._onChange(E._validator.checkInputValidity(E._state))}),f(this,"_handleCardExpiryMonthChange",function(){E._state.cardExpiryMonth=E._cardExpiryMonthElement.value.replace(/\//g,"").replace(/ +/g,""),E._onChange&&E._onChange(E._validator.checkInputValidity(E._state))}),f(this,"_handleCardExpiryYearChange",function(){E._state.cardExpiryYear=E._cardExpiryYearElement.value,E._onChange&&E._onChange(E._validator.checkInputValidity(E._state))}),f(this,"_handleCardHolderChange",function(){E._state.cardHolder=E._cardHolderElement.value,E._onChange&&E._onChange(E._validator.checkInputValidity(E._state))}),f(this,"handlePaymentResponse",function(T,I,P){return T.bankData=E.bankData,T.payData=E.payData,bn.handlePaymentResponse(T,"card",null,I,P)}),this._cardElement=v,this._onChange=y,this._state={cardNumber:"",cvv:"",cardHolder:"",cardExpiryMonth:"",cardExpiryYear:""},this.bankData={},this.payData={},this._validator=x==="card"?new h0("card"):new TE("emi")}return Ws(_,[{key:"_syncState",value:function(){this._state.cardNumber=this._cardNumberElement.value,this._state.cvv=this._cardCvvElement.value,this._state.cardHolder=this._cardHolderElement.value,this._state.cardExpiryMonth=this._cardExpiryMonthElement.value,this._state.cardExpiryYear=this._cardExpiryYearElement.value}},{key:"_registerListeners",value:function(){this._cardNumberElement.addEventListener("keyup",this._handleCardNumberChange),this._cardCvvElement.addEventListener("keyup",this._handleCardCvvChange),this._cardExpiryMonthElement.addEventListener("keyup",this._handleCardExpiryMonthChange),this._cardExpiryYearElement.addEventListener("keyup",this._handleCardExpiryYearChange),this._cardHolderElement.addEventListener("keyup",this._handleCardHolderChange),this._cardNumberElement.addEventListener("change",this._handleCardNumberChange),this._cardCvvElement.addEventListener("change",this._handleCardCvvChange),this._cardExpiryMonthElement.addEventListener("change",this._handleCardExpiryMonthChange),this._cardExpiryYearElement.addEventListener("change",this._handleCardExpiryYearChange),this._cardHolderElement.addEventListener("change",this._handleCardHolderChange)}}]),_}(),Yh="link",T0=(o(8309),o(3123),function(){return(T0=Object.assign||function(v){for(var y,x=1,E=arguments.length;x<E;x++)for(var T in y=arguments[x])Object.prototype.hasOwnProperty.call(y,T)&&(v[T]=y[T]);return v}).apply(this,arguments)}),ME="3.3.3",Bo=["monospace","sans-serif","serif"],I0=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"],Ka={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".iosAdsiosAds-layout",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-after","#ad-p3",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b",".cc5278_banner_ad"],adGuardFrench:[".zonepub",'[class*="_adLeaderboard"]','[id^="block-xiti_oas-"]','a[href^="http://ptapjmp.com/"]','a[href^="https://go.alvexo.com/"]'],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1","#ad-giftext","#adsSPRBlock",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad",'amp-embed[type="24smi"]',"#mgid_iframe1"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#adbody","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#AD_banner_bottom","#Ads_google_02","#N-ad-article-rightRail-1","#ad-fullbanner2","#ad-zone-2"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#adtoniq-msg-bar","#CoockiesPage","#CookieModal_cookiemodal","#DO_CC_PANEL","#ShowCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="https://xltube.nl/click/"]',"#semilo-lrectangle"],easyListGermany:['a[href^="http://www.hw-area.com/?dp="]','a[href^="https://ads.sunmaker.com/tracking.php?"]',".werbung-skyscraper2",".bannergroup_werbung",".ads_rechts"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]},Yt=Math,sr=function(){return 0},qh={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},BE={fonts:function(){return Nu(function(v,y){var x=y.document,E=x.body;E.style.fontSize="48px";var T=x.createElement("div"),I={},P={},L=function(te){var ce=x.createElement("span"),pe=ce.style;return pe.position="absolute",pe.top="0",pe.left="0",pe.fontFamily=te,ce.textContent="mmMwWLliI0O&1",T.appendChild(ce),ce},U=Bo.map(L),X=function(){for(var te={},ce=function(be){te[be]=Bo.map(function(Re){return function(lt,Et){return L("'"+lt+"',"+Et)}(be,Re)})},pe=0,re=I0;pe<re.length;pe++)ce(re[pe]);return te}();E.appendChild(T);for(var G=0;G<Bo.length;G++)I[Bo[G]]=U[G].offsetWidth,P[Bo[G]]=U[G].offsetHeight;return I0.filter(function(te){return ce=X[te],Bo.some(function(pe,re){return ce[re].offsetWidth!==I[pe]||ce[re].offsetHeight!==P[pe]});var ce})})},domBlockers:function(v){var y=(v===void 0?{}:v).debug;return Gr(this,void 0,void 0,function(){var x,E,T,I;return xr(this,function(P){switch(P.label){case 0:return function(){return Ao()||gh()}()?(x=Object.keys(Ka),[4,Kg((I=[]).concat.apply(I,x.map(function(L){return Ka[L]})))]):[2,void 0];case 1:return E=P.sent(),y&&function(U){for(var X=0,G=Object.keys(Ka);X<G.length;X++)for(var te=G[X],ce=0,pe=Ka[te];ce<pe.length;ce++){var re=pe[ce];""+re+(U[re]?"":"")}}(E),(T=x.filter(function(L){var U=Ka[L];return Mr(U.map(function(X){return E[X]}))>.6*U.length})).sort(),[2,T]}})})},fontPreferences:function(){return function(y,x){return x===void 0&&(x=4e3),Nu(function(E,T){var I=T.document,P=I.body,L=P.style;L.width=x+"px",L.webkitTextSizeAdjust=L.textSizeAdjust="none",vc()?P.style.zoom=""+1/T.devicePixelRatio:Ao()&&(P.style.zoom="reset");var U=I.createElement("div");return U.textContent=Eu(Array(x/20<<0)).map(function(){return"word"}).join(" "),P.appendChild(U),y(I,P)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}(function(v,y){for(var x={},E={},T=0,I=Object.keys(qh);T<I.length;T++){var P=I[T],L=qh[P],U=L[0],X=U===void 0?{}:U,G=L[1],te=G===void 0?"mmMwWLliI0fiflO&1":G,ce=v.createElement("span");ce.textContent=te,ce.style.whiteSpace="nowrap";for(var pe=0,re=Object.keys(X);pe<re.length;pe++){var be=re[pe],Re=X[be];Re!==void 0&&(ce.style[be]=Re)}x[P]=ce,y.appendChild(v.createElement("br")),y.appendChild(ce)}for(var lt=0,Et=Object.keys(qh);lt<Et.length;lt++)E[P=Et[lt]]=x[P].getBoundingClientRect().width;return E})},audio:function(){var v=window,y=v.OfflineAudioContext||v.webkitOfflineAudioContext;if(!y)return-2;if(function(){return Ao()&&!yc()&&!function(){var te=window;return Mr(["DOMRectList"in te,"RTCPeerConnectionIceEvent"in te,"SVGGeometryElement"in te,"ontransitioncancel"in te])>=3}()}())return-1;var x=new y(1,5e3,44100),E=x.createOscillator();E.type="triangle",E.frequency.value=1e4;var T=x.createDynamicsCompressor();T.threshold.value=-50,T.knee.value=40,T.ratio.value=12,T.attack.value=0,T.release.value=.25,E.connect(T),T.connect(x.destination),E.start(0);var I=function(G){var te=3,ce=500,pe=500,re=5e3,be=function(){};return[new Promise(function(Re,lt){var Et=!1,et=0,Rt=0;G.oncomplete=function(On){return Re(On.renderedBuffer)};var Ft=function(){setTimeout(function(){return lt(Au("timeout"))},Math.min(pe,Rt+re-Date.now()))},Xn=function(){try{switch(G.startRendering(),G.state){case"running":Rt=Date.now(),Et&&Ft();break;case"suspended":document.hidden||et++,Et&&et>=te?lt(Au("suspended")):setTimeout(Xn,ce)}}catch(On){lt(On)}};Xn(),be=function(){Et||(Et=!0,Rt>0&&Ft())}}),be]}(x),P=I[0],L=I[1],U=P.then(function(X){return function(te){for(var ce=0,pe=0;pe<te.length;++pe)ce+=Math.abs(te[pe]);return ce}(X.getChannelData(0).subarray(4500))},function(X){if(X.name==="timeout"||X.name==="suspended")return-3;throw X});return U.catch(function(){}),function(){return L(),U}},screenFrame:function(){var v=this,y=Xg();return function(){return Gr(v,void 0,void 0,function(){var x,E;return xr(this,function(T){switch(T.label){case 0:return[4,y()];case 1:return x=T.sent(),[2,[(E=function(I){return I===null?null:ph(I,10)})(x[0]),E(x[1]),E(x[2]),E(x[3])]]}})})}},osCpu:function(){return navigator.oscpu},languages:function(){var v=navigator,y=[],x=v.language||v.userLanguage||v.browserLanguage||v.systemLanguage;if(x!==void 0&&y.push([x]),Array.isArray(v.languages))vc()&&function(){var I=window;return Mr([!("MediaSettingsRange"in I),"RTCEncodedAudioFrame"in I,""+I.Intl=="[object Intl]",""+I.Reflect=="[object Reflect]"])>=3}()||y.push(v.languages);else if(typeof v.languages=="string"){var E=v.languages;E&&y.push(E.split(","))}return y},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return ms(Pr(navigator.deviceMemory),void 0)},screenResolution:function(){var v=screen,y=function(E){return ms(gc(E),null)},x=[y(v.width),y(v.height)];return x.sort().reverse(),x},hardwareConcurrency:function(){return ms(gc(navigator.hardwareConcurrency),void 0)},timezone:function(){var v,y=(v=window.Intl)===null||v===void 0?void 0:v.DateTimeFormat;if(y){var x=new y().resolvedOptions().timeZone;if(x)return x}var E=-function(){var I=new Date().getFullYear();return Math.max(Pr(new Date(I,0,1).getTimezoneOffset()),Pr(new Date(I,6,1).getTimezoneOffset()))}();return"UTC"+(E>=0?"+":"")+Math.abs(E)},sessionStorage:function(){try{return!!window.sessionStorage}catch{return!0}},localStorage:function(){try{return!!window.localStorage}catch{return!0}},indexedDB:function(){if(!mh()&&!function(){var y=window,x=navigator;return Mr(["msWriteProfilerMark"in y,"MSStream"in y,"msLaunchUri"in x,"msSaveBlob"in x])>=3&&!mh()}())try{return!!window.indexedDB}catch{return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var v=navigator.platform;return v==="MacIntel"&&Ao()&&!yc()?function(){if(navigator.platform==="iPad")return!0;var x=screen,E=x.width/x.height;return Mr(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,E>.65&&E<1.53])>=2}()?"iPad":"iPhone":v},plugins:function(){var v=navigator.plugins;if(v){for(var y=[],x=0;x<v.length;++x){var E=v[x];if(E){for(var T=[],I=0;I<E.length;++I){var P=E[I];T.push({type:P.type,suffixes:P.suffixes})}y.push({name:E.name,description:E.description,mimeTypes:T})}}return y}},canvas:function(){var v=function(){var T=document.createElement("canvas");return T.width=1,T.height=1,[T,T.getContext("2d")]}(),y=v[0],x=v[1];return function(T,I){return!(!I||!T.toDataURL)}(y,x)?{winding:Yg(x),geometry:Pp(y,x),text:qg(y,x)}:{winding:!1,geometry:"",text:""}},touchSupport:function(){var v,y=navigator,x=0;y.maxTouchPoints!==void 0?x=gc(y.maxTouchPoints):y.msMaxTouchPoints!==void 0&&(x=y.msMaxTouchPoints);try{document.createEvent("TouchEvent"),v=!0}catch{v=!1}return{maxTouchPoints:x,touchEvent:v,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var v=[],y=0,x=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];y<x.length;y++){var E=x[y],T=window[E];T&&typeof T=="object"&&v.push(E)}return v.sort()},cookiesEnabled:function(){var v=document;try{v.cookie="cookietest=1; SameSite=Strict;";var y=v.cookie.indexOf("cookietest=")!==-1;return v.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",y}catch{return!1}},colorGamut:function(){for(var v=0,y=["rec2020","p3","srgb"];v<y.length;v++){var x=y[v];if(matchMedia("(color-gamut: "+x+")").matches)return x}},invertedColors:function(){return!!bh("inverted")||!bh("none")&&void 0},forcedColors:function(){return!!xh("active")||!xh("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var v=0;v<=100;++v)if(matchMedia("(max-monochrome: "+v+")").matches)return v;throw new Error("Too high value")}},contrast:function(){return ni("no-preference")?0:ni("high")||ni("more")?1:ni("low")||ni("less")?-1:ni("forced")?10:void 0},reducedMotion:function(){return!!Ru("reduce")||!Ru("no-preference")&&void 0},hdr:function(){return!!Nl("high")||!Nl("standard")&&void 0},math:function(){var v,y=Yt.acos||sr,x=Yt.acosh||sr,E=Yt.asin||sr,T=Yt.asinh||sr,I=Yt.atanh||sr,P=Yt.atan||sr,L=Yt.sin||sr,U=Yt.sinh||sr,X=Yt.cos||sr,G=Yt.cosh||sr,te=Yt.tan||sr,ce=Yt.tanh||sr,pe=Yt.exp||sr,re=Yt.expm1||sr,be=Yt.log1p||sr;return{acos:y(.12312423423423424),acosh:x(1e308),acoshPf:(v=1e154,Yt.log(v+Yt.sqrt(v*v-1))),asin:E(.12312423423423424),asinh:T(1),asinhPf:function(Re){return Yt.log(Re+Yt.sqrt(Re*Re+1))}(1),atanh:I(.5),atanhPf:function(Re){return Yt.log((1+Re)/(1-Re))/2}(.5),atan:P(.5),sin:L(-1e300),sinh:U(1),sinhPf:function(Re){return Yt.exp(Re)-1/Yt.exp(Re)/2}(1),cos:X(10.000000000123),cosh:G(1),coshPf:function(Re){return(Yt.exp(Re)+1/Yt.exp(Re))/2}(1),tan:te(-1e300),tanh:ce(1),tanhPf:function(Re){return(Yt.exp(2*Re)-1)/(Yt.exp(2*Re)+1)}(1),exp:pe(1),expm1:re(1),expm1Pf:function(Re){return Yt.exp(Re)-1}(1),log1p:be(10),log1pPf:function(Re){return Yt.log(1+Re)}(10),powPI:function(Re){return Yt.pow(Yt.PI,Re)}(-100)}}};const A0={load:function(v){var y=v===void 0?{}:v,x=y.delayFallback,E=y.debug,T=y.monitoring,I=T===void 0||T;return Gr(this,void 0,void 0,function(){return xr(this,function(P){switch(P.label){case 0:return I&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var U=new XMLHttpRequest;U.open("get","https://m1.openfpcdn.io/fingerprintjs/v3.3.3/npm-monitoring",!0),U.send()}catch{}}(),[4,Mp(x)];case 1:return P.sent(),[2,Bp(function(U){return Gg(BE,U,[])}({debug:E}),E)]}})})},hashComponents:xc,componentsToDebugString:function(v){return JSON.stringify(v,function(y,x){return x instanceof Error?function(T){var I;return T0({name:T.name,message:T.message,stack:(I=T.stack)===null||I===void 0?void 0:I.split(`
`)},T)}(x):x},2)}},Lo=function(v,y){var x=arguments;return p(xe().mark(function E(){var T,I,P,L,U,X,G,te,ce,pe,re,be,Re,lt,Et;return xe().wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(T=x.length>2&&x[2]!==void 0?x[2]:"",v!==""&&T!==""){Rt.next=3;break}return Rt.abrupt("return");case 3:return Rt.next=5,A0.load();case 5:return I=Rt.sent,Rt.next=8,I.get();case 8:P=Rt.sent,L=wc(wc({},P.components),{},{userString:{value:""}}),U=A0.hashComponents(L),X=p0().parse(window.navigator.userAgent),G=document.getElementsByTagName("body")[0].getAttribute("view")||"mobile",te=X.name?X.name:"NoBrowser",ce=X.os.family?X.os.family:"NoOS",pe=te+"-"+ce,re=X.version?X.version:"0.0.1",be=re.split("."),Re=u(be,1),re=Re[0],lt={user_id:U,device_id:U,os_name:pe,os_version:re,platform:G||"NoPlatform",device_brand:X.manufacturer?X.manufacturer:"NA",device_model:X.product?X.product:"NA",language:navigator.language||navigator.userLanguage,event_type:"PGA "+v.toLowerCase(),app_version:"CoreJs"},y&&(lt.event_properties=y),Et=btoa(JSON.stringify(lt)),fetch("".concat("https://payments-test.cashfree.com/pgbillpayuiapi","/analytics/").concat(T,"/track"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({data:Et})});case 24:case"end":return Rt.stop()}},E)}))()};var LE=function(_){function v(x,E){var T;return m(this,v),f(Fn(T=y.call(this,x,E,"card")),"_setSelectors",function(){T._cardNumberElement=T._cardElement.querySelector(Do.CARD_NUMBER),T._cardCvvElement=T._cardElement.querySelector(Do.CARD_CVV),T._cardExpiryMonthElement=T._cardElement.querySelector(Do.CARD_EXPIRY_MONTH),T._cardExpiryYearElement=T._cardElement.querySelector(Do.CARD_EXPIRY_YEAR),T._cardHolderElement=T._cardElement.querySelector(Do.CARD_HOLDER)}),f(Fn(T),"isValid",function(){var I=T._state,P=I.cardNumber,L=I.cvv,U=I.cardExpiryMonth,X=I.cardExpiryYear,G=I.cardHolder;return!!(P&&L&&U&&X&&G)}),f(Fn(T),"pay",function(){var I=p(xe().mark(function P(L,U,X,G){var te,ce,pe,re;return xe().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return T._validator.checkPaymentRequestValidity(T._state),te=_c({},T._state),ce=c0(te.cardNumber),pe={card:{channel:X?Yh:"post",card_number:T._state.cardNumber,card_holder_name:T._state.cardHolder,card_expiry_mm:T._state.cardExpiryMonth,card_expiry_yy:T._state.cardExpiryYear,card_cvv:T._state.cvv}},Re.next=6,bn.pay(L,pe,"card",U,G);case 6:return re=Re.sent,T.bankData=_c(_c({},te),{},{brand:ce}),T.payData={pluginName:U},Re.abrupt("return",re.response);case 10:case"end":return Re.stop()}},P)}));return function(P,L,U,X){return I.apply(this,arguments)}}()),T._setSelectors(),T._validator.checkElementsValidity(x),T._syncState(),T._registerListeners(),Lo("open_card"),T}no(v,_);var y=Jg(v);return v}(E0),N0=(o(4812),function(v){return Uh.test(v)}),R0=function(v){var y=zi([$h,Dh]);return N0(v.phoneNumber)||(y.errors[0].error=!0,y.errors[0].message="invalid phone number"),v.appName||(y.errors[1].error=!0,y.errors[1].message="invalid app name"),y.isReadyToPay=Ui(y.errors),y},FE=function(v){if(!N0(v.phoneNumber))throw new at("invalid phone number",Yn,"app");if(!v.appName)throw new at("invalid app name",Yn,"app")},jE=function _(v,y){var x=this;m(this,_),f(this,"_syncState",function(){x._state.phoneNumber=x._phoneNumberElement.value,x._state.appName=x._appNameElement.value}),f(this,"_setSelector",function(){x._phoneNumberElement=x._appElement.querySelector($h),x._appNameElement=x._appElement.querySelector(Dh)}),f(this,"_registerListener",function(){x._phoneNumberElement.addEventListener("keyup",x._handlePhoneNumberChange),x._phoneNumberElement.addEventListener("change",x._handlePhoneNumberChange),x._appNameElement.addEventListener("change",x._handleAppNameChange.bind(x))}),f(this,"_handlePhoneNumberChange",function(){x._state.phoneNumber=x._phoneNumberElement.value,x._onChange&&x._onChange(R0(x._state))}),f(this,"_handleAppNameChange",function(){x._state.appName=x._appNameElement.value,x._onChange&&x._onChange(R0(x._state))}),f(this,"isValid",function(){return!!x._state.appName}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X;return xe().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return x._syncState(),FE(x._state),U={app:{channel:x._state.appName,phone:x._state.phoneNumber}},te.next=5,bn.pay(I,U,"app",P,L);case 5:return X=te.sent,x._statusToken=X.statusToken,te.abrupt("return",X.response);case 8:case"end":return te.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"handlePaymentResponse",function(E,T,I){return I(Ch(Ch({},x._state),{},{paymentMode:"app"})),E.action==="link"&&Po("0","".concat("https://sandbox.cashfree.com/pg/view","/status/gpay/").concat(x._statusToken)),bn.handlePaymentResponse(E,x._state.channel,x._statusToken,T)}),this._appElement=v,this._onChange=y,this._state={phoneNumber:"",appName:""},this._setSelector(),function(T){if(T.querySelector($h)===null)throw new at(St.APP_PHONE_NUMBER_ELEMENT_NOT_FOUND);if(T.querySelector(Dh)===null)throw new at(St.APP_NAME_ELEMENT_NOT_FOUND)}(v),this._syncState(),this._registerListener(),Lo("open_app")},zE=function _(){var v=this;m(this,_),f(this,"pay",function(){var y=p(xe().mark(function x(E,T,I){var P,L;return xe().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return P={upi:{channel:"qrcode"}},X.next=3,bn.intentPay(E,P,"upi-qrcode",T,I);case 3:return L=X.sent,v._statusToken=L.statusToken,X.abrupt("return",L.response);case 6:case"end":return X.stop()}},x)}));return function(x,E,T){return y.apply(this,arguments)}}()),f(this,"_getQrCodeWrapperTemplate",function(y){return`
            <div 
                style="position: fixed; top:50%; left:50%; transform:translate(-50%, -50%); height:100%; max-height: 420px; width: 100%;max-width: 420px; padding-left:0; padding-right:0; border:transparent; background-color:white; border-radius:10px;z-index:2147483647;"
            >
                <p 
                    style="font-size: 1rem; padding:15px; text-align:center; font-family:inherit;color: #11385B"
                >
                    Scan the QR Code using your UPI apps
                </p>
                <div style="text-align:center; margin-bottom: 1rem;">
                    <img src="https://payments.cashfree.com/order/icons/gpay.png" alt="gpay" style="height:20px;width:49px;" />
                    <img src="https://payments.cashfree.com/order/icons/wallets/paytm.png" alt="paytm" style="height:20px;" />
                    <img src="https://payments.cashfree.com/order/icons/wallets/phonepe.png" alt="phonepe" style="height:20px;" />
                    <img src="https://payments.cashfree.com/order/icons/upi/bhim_logo.png" alt="bhim" style="height:20px;" />
                    <img
                    src="https://payments.cashfree.com/order/icons/wallets/amazonpay.png"
                    alt="amazonpay"
                    height="20px" />
                </div>
                <div style="position:relative;">
                `.concat(y,`
                </div>
                    <button
                        id="cancel-qrcode" 
                        style="background:none;font-family:inherit;border:none;font-size:16px;cursor:pointer;font-size: 16px;margin-top:36px; border-bottom: 1px solid #113A5B; font-family:inherit; color: #11385B;"
                    >
                        Cancel Payment
                    </button>
            </div>`)}),f(this,"_renderQrCode",function(y){var x=new Image;x.src=y,x.style.display="block",x.style.margin="auto",x.style.height="50%",x.style.width="50%",x.style.maxHeight="320px",x.style.maxWidth="320px";var E=document.createElement("div");E.id="cashfree-qrcode-container",E.style.position="fixed",E.style.top="0",E.style.left="0",E.style.width="100%",E.style.height="100%",E.style.backgroundColor="rgba(0, 0, 0, 0.5)",E.style.zIndex="2147483647",E.style.textAlign="center",E.innerHTML=v._getQrCodeWrapperTemplate(x.outerHTML),document.body.appendChild(E)}),f(this,"handlePaymentResponse",function(y,x){var E=window.paymentWindow;E&&!E.closed&&E.close(),v._renderQrCode(y.data.payload.qrcode),document.getElementById("cancel-qrcode").addEventListener("click",function(){x(),document.getElementById("cashfree-qrcode-container").remove()}),Po("0","".concat("https://sandbox.cashfree.com/pg/view","/status/qrcode/").concat(v._statusToken))})},Bc=o(7251),Fo={};Fo.styleTagTransform=S0(),Fo.setAttributes=w0(),Fo.insert=x0().bind(null,"head"),Fo.domAPI=b0(),Fo.insertStyleElement=_0(),y0()(Bc.Z,Fo),Bc.Z&&Bc.Z.locals&&Bc.Z.locals;var UE=function(){function _(){m(this,_),f(this,"renderCrossIcon",function(){return'<svg class="intent-close-modal" width="14px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><g id="Cross" transform="translate(-5.000000, -5.000000)" stroke="#434343" stroke-width="3"><g id="back-arrow"><g id="Cross" transform="translate(6.000000, 6.000000)"><polyline id="Path-6" points="24 -7.07767178e-15 12 12 24 24"></polyline><polyline id="Path-6" transform="translate(6.000000, 12.000000) scale(-1, 1) translate(-6.000000, -12.000000) " points="12 -7.07767178e-15 0 12 12 24"></polyline></g></g></g></g></svg>'})}return Ws(_,[{key:"renderModal",value:function(y,x,E,T){this.url=y;var I=document.createElement("div");I.innerHTML=`
            <div class="intent-modal">
                <div class="intent-modal-container"> 
                    <div id="intent-cross-modal"class="intent-modal-cross">`.concat(this.renderCrossIcon(),`</div>
                    <div>
                    <a class="intent-modal-app" target="_blank" href=`).concat(y,` id="ios-app-click">
                        Open `).concat(x,` app
                    </a>
                    </div>
                </div>
            </div>
        `),document.body.appendChild(I),document.getElementById("ios-app-click").addEventListener("click",function(){document.body.removeChild(I),E()}),document.getElementById("intent-cross-modal").addEventListener("click",function(){document.body.removeChild(I),T()})}}]),_}(),O0="INR",$0=function(){return!!window.PaymentRequest},D0=function(v,y){return{total:{label:"Total",amount:{currency:v,value:y}},displayItems:[{label:"Original Amount",amount:{currency:v,value:y}}]}},P0=function(v){var y=Promise.resolve(!0);return v.canMakePayment&&(y=v.canMakePayment()),y.then(function(x){return x}).catch(function(x){})},WE=function(){var _=p(xe().mark(function v(){var y,x;return xe().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return y=[{supportedMethods:["https://mercury.phonepe.com/transact/pay"],data:{url:"upi://pay?pa=mynykaa.collect@yesbank&pn=Cashfree&tr=89407775&am=1.00&cu=INR&mode=00&purpose=00&mc=5399&tn=Cashfree%20Payment"}}],x=D0(O0,"1"),T.abrupt("return",new Promise(function(I,P){var L=null;$0()||P(!1);try{L=new PaymentRequest(y,x)}catch(U){return P("Payment Request Error: "+U.message)}return L?(P0(L).then(function(U){return I(U)}).catch(function(U){return P("Error calling checkCanMakePayment: "+U)}),""):P("Web payments are not supported in this browser.")}));case 3:case"end":return T.stop()}},v)}));return function(){return _.apply(this,arguments)}}(),VE=function(){var _=p(xe().mark(function v(y){var x,E;return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return x=[{supportedMethods:y,data:{pa:"cashfree@hdfcbank",pn:"Merchant Name",tr:"11223344",url:"https://www.cashfree.com",mc:"6011",tn:"Payment"}}],E=D0(O0,"1"),I.abrupt("return",new Promise(function(P,L){var U=null;$0()||L(!1);try{U=new PaymentRequest(x,E)}catch(X){return L("Payment Request Error: "+X.message)}return U?(P0(U).then(function(X){return P(X)}).catch(function(X){return L("Error calling checkCanMakePayment: "+X)}),""):L("Web payments are not supported in this browser.")}));case 3:case"end":return I.stop()}},v)}));return function(y){return _.apply(this,arguments)}}(),Xh=function(v){return["gpay","phonepe","paytm","bhim","others"].indexOf(v)!==-1},GE=function(v){var y=zi([Ph]);return function(E){return Wh.test(E)}(v.upiId)||(y.errors[0].error=!0,y.errors[0].message="invalid upi id"),y.isReadyToPay=Ui(y.errors),y},HE=function(v){if(!Xh(v.upiProvider))throw new at("no UPI provider provided.",Yn)},YE=function _(v,y){var x=this;m(this,_),f(this,"_syncState",function(){x._state.upiProvider=x._upiProviderElement.value}),f(this,"_checkIntentSupport",p(xe().mark(function E(){return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,VE("https://tez.google.com/pay");case 3:x._state.isGpayIntentSupported=I.sent,I.next=10;break;case 7:I.prev=7,I.t0=I.catch(0);case 10:return I.prev=10,I.next=13,WE();case 13:x._state.isPhonepeIntentSupported=I.sent,I.next=20;break;case 17:I.prev=17,I.t1=I.catch(10);case 20:case"end":return I.stop()}},E,null,[[0,7],[10,17]])}))),f(this,"_setSelectors",function(){x._upiProviderElement=x._intentElement.querySelector(Mh)}),f(this,"_registerListeners",function(){x._upiProviderElement.addEventListener("change",x._handleUpiProviderChange)}),f(this,"_handleUpiProviderChange",function(){x._state.upiProvider=x._upiProviderElement.value,x._onChange&&x._onChange(function(T){var I=zi([Mh]);return Xh(T.upiProvider)||(I.errors[0].error=!0,I.errors[0].message="invalid upi provider"),I.isReadyToPay=Ui(I.errors),I}(x._state))}),f(this,"isValid",function(){return!!x._state.upiProvider}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X;return xe().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return x._syncState(),HE(x._state),U={upi:{channel:"link",phone:x._state.phoneNumber}},te.next=5,bn.intentPay(I,U,"upi-intent",P,L);case 5:return X=te.sent,x._statusToken=X.statusToken,te.abrupt("return",X.response);case 8:case"end":return te.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"iosAppOpened",function(){$c(null,x.abortCallback),Po("0","".concat("https://sandbox.cashfree.com/pg/view","/status/intent/").concat(x._statusToken))}),f(this,"openLink",function(E){var T=E,I=navigator.userAgent.toLowerCase().indexOf("android")>-1,P=navigator.userAgent.indexOf("Mac")>-1||/iPad|iPhone|iPod/.test(navigator.userAgent),L=T.split("/pay")[1];if(I?(T=(T=x._state.upiProvider==="phonepe"?"phonepe://pay"+L:"intent://pay"+L)+"#Intent;scheme=upi;package="+{gpay:{id:"com.google.android.apps.nbu.paisa.user"},phonepe:{id:"com.phonepe.app"},paytm:{id:"net.one97.paytm"},bhim:{id:"in.org.npci.upiapp"},others:{id:"in.org.npci.upiapp"}}[x._state.upiProvider].id+";end",x._state.upiProvider==="others"&&(T="upi://pay"+L)):P&&(x._state.upiProvider==="phonepe"?T="phonepe://pay"+L:x._state.upiProvider==="gpay"&&(T="tez://upi/pay"+L)),E.includes("payments-test.cashfree.com")&&(T=E),P){if(m0()==="AppleSafari")new UE().renderModal(E,x._state.upiProvider,x.iosAppOpened,x.abortCallback);else{var U=document.getElementById("iosupi");U==null&&((U=document.createElement("a")).id="iosupi"),U.href=E,U.onclick=x.iosAppOpened,document.body.appendChild(U),document.getElementById("iosupi").click()}return"modal"}if(I){var X=document.createElement("a"),G=document.createTextNode("");return X.appendChild(G),X.title="",X.href=T,X.target="_blank",X.click(),"href"}return"none"}),f(this,"handlePaymentResponse",function(){var E=p(xe().mark(function T(I,P,L,U){var X,G,te;return xe().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return U(Eh(Eh({},x._state),{},{paymentMode:"upi-intent"})),x.abortCallback=P,X=window,G=X.paymentWindow,pe.prev=3,Xh(x._state.upiProvider)?(te="",te=I.data.payload[x._state.upiProvider]?I.data.payload[x._state.upiProvider]:I.data.payload.default,x.openLink(te,P)==="href"&&($c(null,P),Po("0","".concat("https://sandbox.cashfree.com/pg/view","/status/intent/").concat(x._statusToken)))):window.open(I.data.payload.default).focus(),pe.abrupt("return",null);case 8:throw pe.prev=8,pe.t0=pe.catch(3),G&&!G.closed&&G.close(),qa(),new at(pe.t0.message,qn);case 13:case"end":return pe.stop()}},T,null,[[3,8]])}));return function(T,I,P,L){return E.apply(this,arguments)}}()),this._intentElement=v,this._onChange=y,this._state={upiProvider:"",isPhonepeIntentSupported:!1,isGpayIntentSupported:!1},this._setSelectors(),function(T){if(!T.querySelector(Mh))throw new at(St.UPI_INTENT_PROVIDER_ELEMENT_NOT_FOUND,si)}(v),this._syncState(),this._registerListeners(),Lo("open_intent")},qE=function _(v,y){var x=this;m(this,_),f(this,"_syncState",function(){x._state.upiId=x._vpaElement.value}),f(this,"_setSelector",function(){x._vpaElement=x._collectElement.querySelector(Ph)}),f(this,"_registerListeners",function(){x._vpaElement.addEventListener("change",x._handleVpaChange),x._vpaElement.addEventListener("keyup",x._handleVpaChange),x._vpaElement.addEventListener("click",x._handleVpaChange)}),f(this,"_handleVpaChange",function(){x._state.upiId=x._vpaElement.value,x._onChange&&x._onChange(GE(x._state))}),f(this,"isValid",function(){return!(!x._state.upiId||!Wh.test(x._state.upiId))}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X;return xe().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(Wh.test(x._state.upiId)){te.next=2;break}throw new at("invalid vpa",Yn,"upi-collect");case 2:return U={upi:{channel:"collect",upi_id:x._state.upiId}},te.next=5,bn.intentPay(I,U,"upi-collect",P,L);case 5:return X=te.sent,x._statusToken=X.statusToken,te.abrupt("return",X.response);case 8:case"end":return te.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"handlePaymentResponse",function(E,T,I){return I(Sc(Sc({},x._state),{},{paymentMode:"upi-collect"})),bn.handlePaymentResponse(E,"collect",x._statusToken,T)}),this._collectElement=v,this._onChange=y,this._state={upiId:""},function(T){if(!T.querySelector(Ph))throw new at(St.UPI_COLLECT_VPA_ELEMENT_NOT_FOUND,si)}(v),this._setSelector(),this._syncState(),this._registerListeners(),Lo("open_collect")},M0=function(v){return!!v},B0=function(v){return kE.test(v)},L0=function(v){return EE.test(v)},Kh=function(v,y){var x=zi([Bh]);return M0(v.bankCode)||(x.errors[0].error=!0,x.errors[0].message="invalid bank code"),(x=function(T,I,P){var L=Z({},P);if(I.querySelector(Ga)!=null)if(B0(T.ifscCode)){var U={element:Ga,error:!1,message:""};L.errors[1]=Z(Z({},L.errors[1]),U)}else{var X={element:Ga,error:!0,message:"invalid ifsc code"};L.errors[1]=Z(Z({},L.errors[1]),X)}if(I.querySelector(Ha)!=null)if(L0(T.accountNumber)){var G={element:Ha,error:!1,message:""};L.errors[2]=Z(Z({},L.errors[1]),G)}else{var te={element:Ha,error:!0,message:"invalid account number"};L.errors[2]=Z(Z({},L.errors[1]),te)}return L}(v,y,x)).isReadyToPay=Ui(x.errors),x},XE=function(v,y){if(!M0(v.bankCode))throw new at("invalid bank code",Yn);if(y.querySelector(Ga)!=null&&!B0(v.ifscCode))throw new at("invalid ifsc code",Yn);if(y.querySelector(Ha)!=null&&!L0(v.accountNumber))throw new at("invalid account number",Yn)},KE=function _(v,y){var x=this;m(this,_),f(this,"_syncState",function(){x._state.bankCode=x._bankCodeElement.value,x._ifscCodeElement&&(x._state.ifscCode=x._ifscCodeElement.value),x._accountNumberElement&&(x._state.accountNumber=x._accountNumberElement.value)}),f(this,"_setSelectors",function(){x._bankCodeElement=x._netBankingElement.querySelector(Bh),x._ifscCodeElement=x._netBankingElement.querySelector(Ga),x._accountNumberElement=x._netBankingElement.querySelector(Ha)}),f(this,"_registerListeners",function(){x._bankCodeElement.addEventListener("change",x._handleBankCodeChange.bind(x)),x._bankCodeElement.addEventListener("keyup",x._handleBankCodeChange.bind(x)),x._ifscCodeElement&&(x._ifscCodeElement.addEventListener("change",x._handleIfscCodeChange),x._ifscCodeElement.addEventListener("keyup",x._handleIfscCodeChange)),x._accountNumberElement&&(x._accountNumberElement.addEventListener("change",x._handleAccountNumberChange),x._accountNumberElement.addEventListener("keyup",x._handleAccountNumberChange))}),f(this,"_handleBankCodeChange",function(){x._state.bankCode=x._bankCodeElement.value,x._onChange&&x._onChange(Kh(x._state,x._netBankingElement))}),f(this,"_handleIfscCodeChange",function(){x._state.ifscCode=x._ifscCodeElement.value,x._onChange&&x._onChange(Kh(x._state,x._netBankingElement))}),f(this,"_handleAccountNumberChange",function(){x._state.accountNumber=x._accountNumberElement.value,x._onChange&&x._onChange(Kh(x._state,x._netBankingElement))}),f(this,"isValid",function(){return!!x._state.bankCode}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X;return xe().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return x._syncState(),XE(x._state,x._netBankingElement),U={netbanking:{channel:"link",netbanking_bank_code:parseInt(x._state.bankCode,10),netbanking_ifsc:x._state.ifscCode,netbanking_account_number:x._state.accountNumber}},te.next=5,bn.pay(I,U,"netbanking",P,L);case 5:return X=te.sent,x._statusToken=X.statusToken,te.abrupt("return",X.response);case 8:case"end":return te.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"handlePaymentResponse",function(E,T,I){return I(se(se({},x._state),{},{paymentMode:"netbanking"})),bn.handlePaymentResponse(E,"netbanking",null,T)}),this._netBankingElement=v,this._onChange=y,this._state={bankCode:"",ifscCode:"",accountNumber:""},function(T){if(!T.querySelector(Bh))throw new at(St.NETBANKING_BANK_CODE_ELEMENT_NOT_FOUND,si)}(v),this._setSelectors(),this._syncState(),this._registerListeners()},JE=function(_){function v(x,E){var T,I;return m(this,v),f(Fn(I=y.call(this,x,E,"emi")),"_registerListeners",function(){Ut((T=Fn(I),xn(v.prototype)),"_registerListeners",T).call(T),I._cardBankNameElement.addEventListener("change",I._handleCardBankNameChange),I._cardEmiTenureElement.addEventListener("change",I._handleCardEmiTenureChange),I._cardBankNameElement.addEventListener("keyup",I._handleCardBankNameChange),I._cardEmiTenureElement.addEventListener("keyup",I._handleCardEmiTenureChange)}),f(Fn(I),"_handleCardBankNameChange",function(){I._state.cardBankName=I._cardBankNameElement.value,I._onChange&&I._onChange(I._validator.checkInputValidity(I._state))}),f(Fn(I),"_handleCardEmiTenureChange",function(){I._state.emiTenure=I._cardEmiTenureElement.value,I._onChange&&I._onChange(I._validator.checkInputValidity(I._state))}),f(Fn(I),"_setSelectors",function(){I._cardNumberElement=I._cardElement.querySelector(Lr.CARD_NUMBER),I._cardCvvElement=I._cardElement.querySelector(Lr.CARD_CVV),I._cardExpiryMonthElement=I._cardElement.querySelector(Lr.CARD_EXPIRY_MONTH),I._cardExpiryYearElement=I._cardElement.querySelector(Lr.CARD_EXPIRY_YEAR),I._cardBankNameElement=I._cardElement.querySelector(Lr.BANK_NAME),I._cardEmiTenureElement=I._cardElement.querySelector(Lr.EMI_TENURE),I._cardHolderElement=I._cardElement.querySelector(Lr.CARD_HOLDER)}),f(Fn(I),"isValid",function(){var P=I._state,L=P.cardNumber,U=P.cvv,X=P.cardExpiryMonth,G=P.cardExpiryYear,te=P.cardBankName,ce=P.emiTenure,pe=P.cardHolder;return!!(L&&U&&X&&G&&te&&pe&&Number(ce)!==0)}),f(Fn(I),"pay",function(){var P=p(xe().mark(function L(U,X,G){var te,ce;return xe().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return I._validator.checkPaymentRequestValidity(I._state),te={emi:{channel:Yh,card_number:I._state.cardNumber,card_expiry_mm:I._state.cardExpiryMonth,card_expiry_yy:I._state.cardExpiryYear,card_cvv:I._state.cvv,card_bank_name:I._state.cardBankName,emi_tenure:parseInt(I._state.emiTenure,10)}},re.next=4,bn.pay(U,te,"emi",X,G);case 4:return ce=re.sent,re.abrupt("return",ce.response);case 6:case"end":return re.stop()}},L)}));return function(L,U,X){return P.apply(this,arguments)}}()),I._state=he(he({},I._state),{},{cardBankName:"",emiTenure:0}),I._setSelectors(),I._validator.checkElementsValidity(x),I._syncState(),I._registerListeners(),I}no(v,_);var y=we(v);return Ws(v,[{key:"_syncState",value:function(){Ut(xn(v.prototype),"_syncState",this).call(this),this._state.cardBankName=this._cardBankNameElement.value,this._state.emiTenure=this._cardEmiTenureElement.value}}]),v}(E0),ii=function _(v){var y=this;m(this,_),f(this,"on",function(x,E){switch(x){case"change":y._payObj._onChange=E}}),this._payObj=v};o(1038),o(1817),o(2165),o(5212),o(3210);const QE={PAY_LATER:{4503:{MAX_AMOUNT:1e4},4506:{MIN_AMOUNT:100}},CARDLESS_EMI:{6061:{MIN_AMOUNT:1e3}}};var ZE=function(v){return v.CREDIT_CARD||v.DEBIT_CARD||v.CORPORATE_CREDIT_CARD||v.PREPAID_CARD},e2=function(v){return!(!v.Wallet&&!v.App)},t2=function(v){return!!v.NET_BANKING},n2=function(v){return!!v.UPI},r2=function(v){return!!v.PAY_LATER},s2=function(v,y){var x=0;return v&&y&&v.forEach(function(E){y.some(function(T){return T.code===E.paymentCode})&&(x+=1)}),x>0},i2=function(v,y){var x=0;return v&&y&&v.forEach(function(E){y.some(function(T){return T.code===E.paymentCode})&&(x+=1)}),x>0},o2=function(v){if(v.CARDLESS_EMI){var y,x=qe(v.CARDLESS_EMI);try{for(x.s();!(y=x.n()).done;){var E=y.value;if(["flexmoney","zestmoney"].includes(E.nick))return!0}}catch(T){x.e(T)}finally{x.f()}}return!1},a2=function(v){var y=[];return v.forEach(function(x){x.isActive&&y.push({dataOption:x.nick,display:x.display})}),y},l2=function(v){var y=[];return v.forEach(function(x){x.isActive&&y.push({dataOption:x.code,display:x.display,isActive:x.isActive,nick:x.nick})}),y},c2=function(v,y){var x=[];return v.forEach(function(E){E.isActive&&x.push({dataOption:E.code,display:E.display})}),y.forEach(function(E){E.isActive&&x.push({dataOption:E.code,display:E.display})}),x},u2=function(){var _=p(xe().mark(function v(){var y,x;return xe().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return y=[],Oc()&&(y.push({dataOption:"phonepe",display:"PhonePe"}),y.push({dataOption:"gpay",display:"GPay"}),y.push({dataOption:"paytm",display:"Paytm"}),y.push({dataOption:"bhim",display:"Bhim"}),x=navigator.userAgent.toLowerCase(),x.indexOf("android")>-1&&y.push({dataOption:"others",display:"Others"})),T.abrupt("return",y);case 3:case"end":return T.stop()}},v)}));return function(){return _.apply(this,arguments)}}(),d2=function(v,y){var x=[],E=QE.PAY_LATER;return v.forEach(function(T){var I=E[T.code]&&E[T.code].MIN_AMOUNT,P=E[T.code]&&E[T.code].MAX_AMOUNT;y<I||y>P||T.isActive&&T.nick!=="epaylater"&&x.push({dataOption:T.nick,display:T.display})}),x},h2=function(v,y){var x=[];return v&&v.forEach(function(E){y.some(function(T){return T.code===E.paymentCode})&&x.push({dataOption:E.nick,display:E.name,schemes:E.schemes})}),x},f2=function(v,y){var x=[];return v&&v.forEach(function(E){y.some(function(T){return T.code===E.paymentCode})&&x.push({dataOption:E.nick,display:E.name,schemes:E.schemes})}),x},p2=function(v){var y=[];return v.some(function(x){return x.nick==="flexmoney"})&&y.push({dataOption:"flexmoney",display:"FlexMoney"}),v.some(function(x){return x.nick==="zestmoney"})&&y.push({dataOption:"zestmoney",display:"ZestMoney"}),y},m2=function(v,y){var x={upi:"UPI",dc:"DEBIT_CARD",cc:"CREDIT_CARD,PREPAID_CARD,CORPORATE_CREDIT_CARD",ppc:"PREPAID_CARD",ccc:"CORPORATE_CREDIT_CARD",nb:"NET_BANKING",wallet:"Wallet",app:"Wallet",emi:"CREDIT_CARD_EMI,DEBIT_CARD_EMI,CARDLESS_EMI",paypal:"Paypal",paylater:"PAY_LATER"},E=[];try{if(v&&v.length>0){v=v.split(",");for(var T=0;T<v.length;T+=1)for(var I=x[v[T].trim()].split(","),P=0;P<I.length;P+=1)y.indexOf(I[P])>-1&&E.indexOf(I[P])===-1&&E.push(I[P])}else E=y;return E}catch{return y}},g2=function(v,y){return Object.keys(y).forEach(function(x){v.indexOf(x)===-1&&(y[x]=null)}),y},Ja=function _(){m(this,_)};f(Ja,"getSupportedPaymentOptions",function(){var _=p(xe().mark(function v(y,x){var E;return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(y){I.next=2;break}throw new at("paymentSessionId missing",qn);case 2:if(x){I.next=4;break}throw new at("payment mode missing",qn);case 4:return I.next=6,Pc("".concat("https://sandbox.cashfree.com/pg","/orders/").concat(y,"/config"));case 6:E=I.sent,I.t0=x,I.next=I.t0==="card"?10:I.t0==="app"?11:I.t0==="netbanking"?12:I.t0==="upi-intent"?13:I.t0==="paylater"?14:I.t0==="creditcardemi"?15:I.t0==="debitcardemi"?16:I.t0==="cardlessemi"?17:18;break;case 10:return I.abrupt("return",c2(E.paymentSettings.paymentModes.DEBIT_CARD,E.paymentSettings.paymentModes.CREDIT_CARD));case 11:return I.abrupt("return",a2(E.paymentSettings.paymentModes.Wallet));case 12:return I.abrupt("return",l2(E.paymentSettings.paymentModes.NET_BANKING));case 13:return I.abrupt("return",u2());case 14:return I.abrupt("return",d2(E.paymentSettings.paymentModes.PAY_LATER,E.orderDetails.orderAmount));case 15:return I.abrupt("return",h2(E.emiDetails,E.paymentSettings.paymentModes.CREDIT_CARD_EMI));case 16:return I.abrupt("return",f2(E.emiDetails,E.paymentSettings.paymentModes.DEBIT_CARD_EMI));case 17:return I.abrupt("return",p2(E.paymentSettings.paymentModes.CARDLESS_EMI));case 18:return I.abrupt("return",[]);case 19:case"end":return I.stop()}},v)}));return function(v,y){return _.apply(this,arguments)}}()),f(Ja,"getSupportedPaymentModes",function(){var _=p(xe().mark(function v(y){var x,E,T,I,P,L,U,X,G;return xe().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(y){ce.next=2;break}throw new at("paymentSessionId missing",qn);case 2:return x=[],ce.next=5,Pc("".concat("https://sandbox.cashfree.com/pg","/orders/").concat(y,"/config"));case 5:return E=ce.sent,T=E.paymentSettings,I=T.paymentModes,P=T.enabledModes,L=E.emiDetails,U=E.orderDetails,X=m2(U.paymentModes,P),G=g2(X,I),ZE(G)&&x.push("card"),e2(G)&&x.push("app"),t2(G)&&x.push("netbanking"),n2(G)&&(x.push("upi-qrcode"),x.push("upi-collect"),Oc()&&x.push("upi-intent"),x.push("upi")),s2(L,G.CREDIT_CARD_EMI)&&U.orderAmount>=2500&&x.push("creditcardemi"),i2(L,G.DEBIT_CARD_EMI)&&U.orderAmount>=2500&&x.push("debitcardemi"),r2(G)&&x.push("paylater"),o2(G)&&U.orderAmount>=500&&x.push("cardlessemi"),ce.abrupt("return",x);case 18:case"end":return ce.stop()}},v)}));return function(v){return _.apply(this,arguments)}}()),f(Ja,"getOrderDetails",function(){var _=p(xe().mark(function v(y){var x;return xe().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(y){T.next=2;break}throw new at("paymentSessionId missing",qn);case 2:return T.next=4,Pc("".concat("https://sandbox.cashfree.com/pg","/orders/").concat(y,"/config"));case 4:return x=T.sent,T.abrupt("return",x.orderDetails);case 6:case"end":return T.stop()}},v)}));return function(v){return _.apply(this,arguments)}}()),f(Ja,"getTheme",function(){var _=p(xe().mark(function v(y){var x,E,T,I,P,L;return xe().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(y){X.next=2;break}throw new at("paymentSessionId missing",qn);case 2:return X.next=4,Pc("".concat("https://sandbox.cashfree.com/pg","/orders/").concat(y,"/config"));case 4:return x=X.sent,E=x.theme,T=x.merchantInfo,I=x.orderDetails,P=x.clientInfo,L=x.isCollectEnabled,X.abrupt("return",{theme:E,merchantInfo:T,orderDetails:I,clientInfo:P,isCollectEnabled:L});case 7:case"end":return X.stop()}},v)}));return function(v){return _.apply(this,arguments)}}());const Lc=Ja;var F0=function(v){return Uh.test(v)},j0=function(v){var y=zi([Lh,Fh]);return F0(v.phoneNumber)||(y.errors[0].error=!0,y.errors[0].message="invalid phone number"),v.provider||(y.errors[1].error=!0,y.errors[1].message="invalid provider name"),y.isReadyToPay=Ui(y.errors),y},v2=function(v){if(!F0(v.phoneNumber))throw new at("invalid phone number",Yn,"paylater");if(!v.provider)throw new at("invalid provider name",Yn,"paylater")},y2=function _(v,y){var x=this;m(this,_),f(this,"_syncState",function(){x._state.phoneNumber=x._phoneNumberElement.value,x._state.provider=x._paylaterElement.value}),f(this,"_setSelector",function(){x._phoneNumberElement=x._paylaterElement.querySelector(Lh),x._paylaterElement=x._paylaterElement.querySelector(Fh)}),f(this,"_registerListener",function(){x._phoneNumberElement.addEventListener("keyup",x._handlePhoneNumberChange),x._phoneNumberElement.addEventListener("change",x._handlePhoneNumberChange),x._paylaterElement.addEventListener("change",x._handleProviderNameChange)}),f(this,"_handlePhoneNumberChange",function(){x._state.phoneNumber=x._phoneNumberElement.value,x._onChange&&x._onChange(j0(x._state))}),f(this,"_handleProviderNameChange",function(){x._state.provider=x._paylaterElement.value,x._onChange&&x._onChange(j0(x._state))}),f(this,"isValid",function(){return!!x._state.provider}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X,G;return xe().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return x._syncState(),v2(x._state),(U=x._state.provider)==="Kotak Paylater"?U="kotak":U==="zestmoneypaylater"?U="zestmoney":U==="Hdfc Paylater"&&(U="flexipay"),X={paylater:{channel:"link",provider:U,phone:x._state.phoneNumber}},ce.next=7,bn.pay(I,X,"paylater",P,L);case 7:return G=ce.sent,x._statusToken=G.statusToken,x.payData={pluginName:P},ce.abrupt("return",G.response);case 11:case"end":return ce.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"handlePaymentResponse",function(E,T,I,P){return I(xt(xt({},x._state),{},{paymentMode:"paylater"})),E.action==="link"&&Po("0","".concat("https://sandbox.cashfree.com/pg/view","/status/gpay/").concat(x._statusToken)),E.payData=x.payData,bn.handlePaymentResponse(E,x._state.channel,x._statusToken,T,P)}),this._paylaterElement=v,this._onChange=y,this._state={phoneNumber:"",provider:""},this._setSelector(),function(T){if(T.querySelector(Lh)===null)throw new at(St.PAYLATER_PHONE_NUMBER_ELEMENT_NOT_FOUND);if(T.querySelector(Fh)===null)throw new at(St.PAYLATER_ELEMENT_NOT_FOUND)}(v),this._syncState(),this._registerListener(),Lo("open_paylater")},z0=function(v){return Uh.test(v)},U0=function(v){var y=zi([jh,zh]);return z0(v.phoneNumber)||(y.errors[0].error=!0,y.errors[0].message="invalid phone number"),v.provider||(y.errors[1].error=!0,y.errors[1].message="invalid provider name"),y.isReadyToPay=Ui(y.errors),y},b2=function(v){if(!z0(v.phoneNumber))throw new at("invalid phone number",Yn,"cardlessEmi");if(!v.provider)throw new at("invalid provider",Yn,"cardlessEmi")},x2=function(){function _(v,y){var x=this;m(this,_),f(this,"_registerListeners",function(){x._phoneNumberElement.addEventListener("keyup",x._handlePhoneNumberChange),x._phoneNumberElement.addEventListener("change",x._handlePhoneNumberChange),x._providerElement.addEventListener("change",x._handleProviderNameChange)}),f(this,"_handleProviderNameChange",function(){x._state.provider=x._providerElement.value,x._onChange&&x._onChange(U0(x._state))}),f(this,"_handlePhoneNumberChange",function(){x._state.phoneNumber=x._phoneNumberElement.value,x._onChange&&x._onChange(U0(x._state))}),f(this,"_setSelectors",function(){x._phoneNumberElement=x._cardlessElement.querySelector(jh),x._providerElement=x._cardlessElement.querySelector(zh)}),f(this,"isValid",function(){return!!x._state.provider}),f(this,"pay",function(){var E=p(xe().mark(function T(I,P,L){var U,X;return xe().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return x._syncState(),b2(x._state),U={cardless_emi:{channel:Yh,provider:x._state.provider,phone:x._state.phoneNumber}},te.next=5,bn.pay(I,U,"cardlessemi",P,L);case 5:return X=te.sent,te.abrupt("return",X.response);case 7:case"end":return te.stop()}},T)}));return function(T,I,P){return E.apply(this,arguments)}}()),f(this,"handlePaymentResponse",function(E,T){return bn.handlePaymentResponse(E,"cardlessemi",null,T)}),this._cardlessElement=v,this._onChange=y,this._state={provider:"",phoneNumber:""},this._setSelectors(),function(T){if(T.querySelector(jh)===null)throw new at(St.CARDLESS_PHONE_NUMBER_ELEMENT_NOT_FOUND);if(T.querySelector(zh)===null)throw new at(St.CARDLESS_PROVIDER_ELEMENT_NOT_FOUND)}(v),this._syncState(),this._registerListeners(),Lo("open_cardless")}return Ws(_,[{key:"_syncState",value:function(){this._state.provider=this._providerElement.value,this._state.phoneNumber=this._phoneNumberElement.value}}]),_}(),hr=new WeakMap,Rs=new WeakMap,w2=function _(v){var y=this;if(m(this,_),hr.set(this,{writable:!0,value:{onPaymentSuccess:null,onPaymentFailure:null,onError:null}}),Rs.set(this,{writable:!0,value:!1}),f(this,"element",function(x){try{switch(y._validateElementInput(x),x.type.toLowerCase()){case"card":return y._card=new LE(x.pay,x.onChange),new ii(y._card);case"netbanking":return y._netBanking=new KE(x.pay,x.onChange),new ii(y._netBanking);case"app":return y._app=new jE(x.pay,x.onChange),new ii(y._app);case"upi-qrcode":y._qrCode=new zE;break;case"upi-collect":return y._collect=new qE(x.pay,x.onChange),new ii(y._collect);case"upi-intent":return y._intent=new YE(x.pay,x.onChange),y._intent._checkIntentSupport(),new ii(y._intent);case"emi":return y._emi=new JE(x.pay,x.onChange),new ii(y._emi);case"paylater":return y._paylater=new y2(x.pay,x.onChange),new ii(y._paylater);case"cardlessemi":return y._cardlessEmi=new x2(x.pay,x.onChange),new ii(y._cardlessEmi);default:g(y,hr).onError("Element initialization failed for: ".concat(JSON.stringify(x)))}}catch(E){g(y,hr).onError({message:E.message,type:E.type?E.type:qn})}}),f(this,"_validateElementInput",function(x){if(!x)throw new at("required parameters missing. Please check the docs.",qn);if(!x.type)throw new at("type argument missing. Please check the docs.",qn);if(x.type!=="upi-qrcode"&&!x.pay)throw new at("pay argument missing for: ".concat(x.type),qn)}),f(this,"elements",function(x){Array.isArray(x)?x.forEach(function(E){return y.element(E)}):g(y,hr).onError({message:"Expecting a list, got ".concat(b(x)),type:qn})}),f(this,"pay",function(){var x=p(xe().mark(function E(T,I,P){var L,U,X,G,te,ce=arguments;return xe().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(L=ce.length>3&&ce[3]!==void 0&&ce[3],X=" element not initialised. are you missing element method?",I||(I="jsxx-e-".concat(wt,"-x")),re.prev=3,!g(y,Rs)){re.next=6;break}throw new at("payment already in process for payment session id :: ".concat(y.paymentSessionId),a0);case 6:C(y,Rs,!0),re.t0=T,re.next=re.t0==="card"?10:re.t0==="app"?17:re.t0==="upi-intent"?24:re.t0==="netbanking"?33:re.t0==="upi-collect"?40:re.t0==="emi"?47:re.t0==="upi-qrcode"?54:re.t0==="paylater"?61:re.t0==="cardlessemi"?68:75;break;case 10:if(y._card){re.next=12;break}throw new at("card".concat(X),qn);case 12:return re.next=14,y._card.pay(y.paymentSessionId,I,L,P);case 14:return U=re.sent,y._paymentWindow=y._card.handlePaymentResponse(U,y._abortPayment,y.payHeadless),re.abrupt("break",76);case 17:if(y._app){re.next=19;break}throw new at("app".concat(X));case 19:return re.next=21,y._app.pay(y.paymentSessionId,I,P);case 21:return U=re.sent,y._paymentWindow=y._app.handlePaymentResponse(U,y._abortPayment,y.setPaymentData),re.abrupt("break",76);case 24:if(y._intent){re.next=26;break}throw new at("upi-intent".concat(X));case 26:return re.next=28,y._intent.pay(y.paymentSessionId,I,P);case 28:return U=re.sent,re.next=31,y._intent.handlePaymentResponse(U,y._abortPayment,y._abortTimeout,y.setPaymentData);case 31:return y._paymentWindow=re.sent,re.abrupt("break",76);case 33:if(y._netBanking){re.next=35;break}throw new at("netbanking".concat(X));case 35:return re.next=37,y._netBanking.pay(y.paymentSessionId,I,P);case 37:return U=re.sent,y._paymentWindow=y._netBanking.handlePaymentResponse(U,y._abortPayment,y.setPaymentData),re.abrupt("break",76);case 40:if(y._collect){re.next=42;break}throw new at("upi-collect".concat(X));case 42:return re.next=44,y._collect.pay(y.paymentSessionId,I,P);case 44:return U=re.sent,y._paymentWindow=y._collect.handlePaymentResponse(U,y._abortPayment,y.setPaymentData),re.abrupt("break",76);case 47:if(y._emi){re.next=49;break}throw new at("emi".concat(X));case 49:return re.next=51,y._emi.pay(y.paymentSessionId,I,P);case 51:return U=re.sent,y._paymentWindow=y._emi.handlePaymentResponse(U,y._abortPayment),re.abrupt("break",76);case 54:if(y._qrCode){re.next=56;break}throw new at("upi-qrcode".concat(X));case 56:return re.next=58,y._qrCode.pay(y.paymentSessionId,I,P);case 58:return U=re.sent,y._paymentWindow=y._qrCode.handlePaymentResponse(U,y._abortPayment),re.abrupt("break",76);case 61:if(y._paylater){re.next=63;break}throw new at("paylater".concat(X));case 63:return re.next=65,y._paylater.pay(y.paymentSessionId,I,P);case 65:return U=re.sent,y._paymentWindow=y._paylater.handlePaymentResponse(U,y._abortPayment,y.setPaymentData,y.payHeadless),re.abrupt("break",76);case 68:if(y._cardlessEmi){re.next=70;break}throw new at("cardlessEmi".concat(X));case 70:return re.next=72,y._cardlessEmi.pay(y.paymentSessionId,I,P);case 72:return U=re.sent,y._paymentWindow=y._cardlessEmi.handlePaymentResponse(U,y._abortPayment),re.abrupt("break",76);case 75:throw new at("Supported payment Modes are card, netbanking, upi-qrcode, emi, upi-collect, upi-intent and app. You provided:: ".concat(T),qn);case 76:y._handlePaymentWindowClose(),re.next=86;break;case 79:re.prev=79,re.t1=re.catch(3),G=window,(te=G.paymentWindow)&&!te.closed&&te.close(),re.t1.type!==a0&&C(y,Rs,!1),g(y,hr).onError({message:re.t1.message,type:re.t1.type,paymentMode:re.t1.paymentMode});case 86:case"end":return re.stop()}},E,null,[[3,79]])}));return function(E,T,I){return x.apply(this,arguments)}}()),f(this,"checkValidity",function(x){switch(x){case"card":return y._card.isValid();case"netbanking":return y._netBanking.isValid();case"app":return y._app.isValid();case"upi-collect":return y._collect.isValid();case"upi-qrcode":return!0;case"upi-intent":return y._intent.isValid();case"paylater":return y._paylater.isValid();case"creditcardemi":case"debitcardemi":return y._emi.isValid();case"cardlessemi":return y._cardlessEmi.isValid();default:return!1}}),f(this,"getSupportedElements",p(xe().mark(function x(){var E;return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,Lc.getSupportedPaymentModes(y.paymentSessionId);case 3:return E=I.sent,I.abrupt("return",E);case 7:return I.prev=7,I.t0=I.catch(0),g(y,hr).onError({message:I.t0.message,type:I.t0.type,paymentMode:I.t0.paymentMode}),I.abrupt("return",null);case 12:case"end":return I.stop()}},x,null,[[0,7]])}))),f(this,"getSupportedPaymentOptions",function(){var x=p(xe().mark(function E(T){var I;return xe().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,Lc.getSupportedPaymentOptions(y.paymentSessionId,T);case 3:return I=L.sent,L.abrupt("return",I);case 7:return L.prev=7,L.t0=L.catch(0),g(y,hr).onError({message:L.t0.message,type:L.t0.type,paymentMode:L.t0.paymentMode}),L.abrupt("return",null);case 12:case"end":return L.stop()}},E,null,[[0,7]])}));return function(E){return x.apply(this,arguments)}}()),f(this,"getOrderDetails",p(xe().mark(function x(){var E;return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,Lc.getOrderDetails(y.paymentSessionId);case 3:return E=I.sent,I.abrupt("return",E);case 7:return I.prev=7,I.t0=I.catch(0),I.abrupt("return",{});case 11:case"end":return I.stop()}},x,null,[[0,7]])}))),f(this,"getTheme",p(xe().mark(function x(){var E;return xe().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,Lc.getTheme(y.paymentSessionId);case 3:return E=I.sent,I.abrupt("return",E);case 7:return I.prev=7,I.t0=I.catch(0),I.abrupt("return",null);case 11:case"end":return I.stop()}},x,null,[[0,7]])}))),f(this,"_handlePaymentStatusResponse",function(x){x.order&&(y._paymentWindow&&(y._paymentWindow.close&&y._paymentWindow.close(),clearInterval(y._paymentWindowInterval)),document.getElementById("cashfree-iframe-container")&&qa(),Xa(),document.getElementById("cashfree-qrcode-container")&&document.getElementById("cashfree-qrcode-container").remove(),x.transaction&&x.transaction.txStatus&&x.transaction.txStatus.toLowerCase()==="success"?g(y,hr).onPaymentSuccess(x):x.order&&g(y,hr).onPaymentFailure(x),C(y,Rs,!1))}),f(this,"_handlePaymentWindowClose",function(){y._paymentWindowInterval=setInterval(function(){y._paymentWindow&&y._paymentWindow.closed&&(C(y,Rs,!1),Xa(),document.getElementById("cashfree-iframe-container")&&qa(),clearInterval(y._paymentWindowInterval),g(y,hr).onError({message:"User closed the Payment Window.",type:qn}))},500)}),f(this,"_abortPayment",function(x){C(y,Rs,!1),Xa(),x||g(y,hr).onError({message:"Payment aborted by the User.",type:qn}),document.getElementById("cashfree-iframe-container")&&qa(),clearInterval(y._paymentWindowInterval)}),f(this,"payHeadless",function(){var x=p(xe().mark(function E(T){var I,P,L;return xe().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return I=T.transaction,X.next=3,y.getOrderDetails();case 3:P=X.sent,L={transaction:I,order:{status:"PAID",orderId:P.orderId}},y._handlePaymentStatusResponse(L);case 6:case"end":return X.stop()}},E)}));return function(E){return x.apply(this,arguments)}}()),f(this,"_abortTimeout",function(x){C(y,Rs,!1),Xa(),g(y,hr).onError({message:x,type:qn}),document.getElementById("cashfree-iframe-container")&&qa(),clearInterval(y._paymentWindowInterval)}),f(this,"setPaymentData",function(x){y.paymentData=x}),f(this,"getPaymentData",function(){return y.paymentData}),Zn({dsn:"https://cedc1464859a4af7a1d368f8aa398fef@o330525.ingest.sentry.io/6487617",integrations:[new Oh],environment:"Sandbox",allowUrls:["cashfree.com"]}),typeof v.onPaymentSuccess!="function")throw new Error(it);if(typeof v.onPaymentFailure!="function")throw new Error(vt);if(typeof v.onError!="function")throw new Error(It);this.paymentSessionId=v.paymentSessionId,delete v.paymentSessionId,C(this,hr,Object.assign(g(this,hr),v)),C(this,Rs,!1),function(E){window.addEventListener("message",function(T){["http://localhost:3190","https://gamma.cashfree.com","https://sandbox.cashfree.com","https://test.cashfree.com","https://payments-test.cashfree.com","https://payments.cashfree.com","https://api.cashfree.com"].indexOf(T.origin)>-1&&E(T.data)})}(this._handlePaymentStatusResponse)},_2=function(v){return new w2(v)},S2=function _(v){var y=this;m(this,_),f(this,"serverURL","https://sandbox.cashfree.com/pg"),f(this,"drop",function(){var x=p(xe().mark(function E(T,I){var P,L,U,X,G;return xe().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(I){ce.next=2;break}throw new Error("[initialiseDropin] config missing");case 2:if(I.components){ce.next=4;break}throw new Error("[initialiseDropin] components missing in config.");case 4:if(typeof I.onSuccess=="function"){ce.next=6;break}throw new Error(it);case 6:if(typeof I.onFailure=="function"){ce.next=8;break}throw new Error(vt);case 8:if(y.paymentSessionId){ce.next=10;break}throw new Error("PaymentSessionId missing");case 10:I.paymentSessionId=y.paymentSessionId,P=I.onSuccess,L=I.onFailure,U=y,window.addEventListener("message",function(pe){var re=pe.data,be=re.orderData,Re=re.randomId;U.randomId===Re&&(be.order.status==="PAID"?P(be):L(be))}),X=document.getElementById("dropin_frame"+y.randomId),(G=X||document.createElement("iframe")).setAttribute("allowpaymentrequest",!0),G.id="dropin_frame"+y.randomId,G.style=`
            width: 100%;
            height: 100%;
            border: none;
            background-color: rgb(248, 250, 247);
        `,delete I.onSuccess,delete I.onFailure,G.onload=function(){var pe=d(I.components),re=pe.indexOf("order-details"),be=0;if(re>-1&&(pe.length===1?G.style.minHeight="200px":be+=160,pe.splice(re,1)),pe.length===1)switch(pe[0]){case"card":G.style.minHeight=be+200+"px";break;case"upi-qrcode":G.style.minHeight="360px";break;case"upi-collect":G.style.minHeight=be+190+"px";break;case"app":G.style.minHeight=475+(be>0?be-30:0)+"px";break;case"netbanking":G.style.minHeight=be+410+"px";break;case"upi-intent":G.style.minHeight=be+400+"px";break;default:G.style.minHeight="100%"}else pe.length>1&&(pe.includes("app")?G.style.minHeight=575+(be>0?be-30:0)+"px":pe.includes("netbanking")?G.style.minHeight=be+470+"px":pe.includes("upi-intent")?G.style.minHeight=be+400+"px":pe.includes("card")||pe.includes("qr-code")?G.style.minHeight=be+340+"px":pe.includes("upi-collect")&&(G.style.minHeight=be+240+"px"));I.frameHeight=G.clientHeight,I.randomId=U.randomId,I.paymentSessionId=U.paymentSessionId;var Re=window.location,lt=Re.host,Et=Re.pathname,et=Re.search,Rt=Re.href;I.parentUrl=lt+Et+et,I.locationParent=Rt,G.contentWindow.postMessage(I,"*")},G.src="".concat("https://sandbox.cashfree.com/pg/view","/dropin/").concat(wt),T.appendChild(G);case 25:case"end":return ce.stop()}},E)}));return function(E,T){return x.apply(this,arguments)}}()),f(this,"redirect",function(){var x=document.getElementById("invisible-cf-div");x&&x.parentElement.removeChild(x);var E=document.createElement("div");E.setAttribute("id","invisible-cf-div");var T=y.serverURL+"/view/sessions/checkout",I=document.createElement("form");if(I.setAttribute("id","invisible-cf-form"),I.setAttribute("method","post"),I.setAttribute("action",T),I.setAttribute("target","_top"),I.style.width="0px",I.style.height="0px",I.style.display="none",!y.paymentSessionId)throw new Error("Payment Session Id is required");var P=document.createElement("input");P.setAttribute("type","text"),P.setAttribute("name","payment_session_id"),P.setAttribute("value",y.paymentSessionId),I.appendChild(P);var L={userAgent:window.navigator.userAgent},U=Object.entries(L).sort().reduce(function(G,te){var ce=u(te,2),pe=ce[0],re=ce[1];return G[pe]=re,G},{}),X=btoa(JSON.stringify(U));(P=document.createElement("input")).setAttribute("type","text"),P.setAttribute("name","browser_meta"),P.setAttribute("value",X),I.appendChild(P),(P=document.createElement("input")).setAttribute("type","text"),P.setAttribute("name","platform"),P.setAttribute("value","js-ch"),I.appendChild(P),document.body.appendChild(E),E.appendChild(I),I.submit()}),f(this,"elements",function(x){return x.paymentSessionId=y.paymentSessionId,_2(x)}),this.paymentSessionId=v,this.randomId=Math.floor(1e5*Math.random())}},3099:i=>{i.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},6077:(i,a,o)=>{var l=o(111);i.exports=function(c){if(!l(c)&&c!==null)throw TypeError("Can't set "+String(c)+" as a prototype");return c}},1223:(i,a,o)=>{var l=o(5112),c=o(30),u=o(3070),d=l("unscopables"),h=Array.prototype;h[d]==null&&u.f(h,d,{configurable:!0,value:c(null)}),i.exports=function(p){h[d][p]=!0}},1530:(i,a,o)=>{var l=o(8710).charAt;i.exports=function(c,u,d){return u+(d?l(c,u).length:1)}},5787:i=>{i.exports=function(a,o,l){if(!(a instanceof o))throw TypeError("Incorrect "+(l?l+" ":"")+"invocation");return a}},9670:(i,a,o)=>{var l=o(111);i.exports=function(c){if(!l(c))throw TypeError(String(c)+" is not an object");return c}},8533:(i,a,o)=>{var l=o(2092).forEach,c=o(9341)("forEach");i.exports=c?[].forEach:function(d){return l(this,d,arguments.length>1?arguments[1]:void 0)}},8457:(i,a,o)=>{var l=o(9974),c=o(7908),u=o(3411),d=o(7659),h=o(7466),p=o(6135),m=o(8554),f=o(1246);i.exports=function(w){var g,C,k,N,A,O,R=c(w),$=typeof this=="function"?this:Array,D=arguments.length,B=D>1?arguments[1]:void 0,M=B!==void 0,z=f(R),W=0;if(M&&(B=l(B,D>2?arguments[2]:void 0,2)),z==null||$==Array&&d(z))for(C=new $(g=h(R.length));g>W;W++)O=M?B(R[W],W):R[W],p(C,W,O);else for(A=(N=m(R,z)).next,C=new $;!(k=A.call(N)).done;W++)O=M?u(N,B,[k.value,W],!0):k.value,p(C,W,O);return C.length=W,C}},1318:(i,a,o)=>{var l=o(5656),c=o(7466),u=o(1400),d=function(h){return function(p,m,f){var b,w=l(p),g=c(w.length),C=u(f,g);if(h&&m!=m){for(;g>C;)if((b=w[C++])!=b)return!0}else for(;g>C;C++)if((h||C in w)&&w[C]===m)return h||C||0;return!h&&-1}};i.exports={includes:d(!0),indexOf:d(!1)}},2092:(i,a,o)=>{var l=o(9974),c=o(8361),u=o(7908),d=o(7466),h=o(5417),p=[].push,m=function(f){var b=f==1,w=f==2,g=f==3,C=f==4,k=f==6,N=f==7,A=f==5||k;return function(O,R,$,D){for(var B,M,z=u(O),W=c(z),V=l(R,$,3),q=d(W.length),H=0,K=D||h,F=b?K(O,q):w||N?K(O,0):void 0;q>H;H++)if((A||H in W)&&(M=V(B=W[H],H,z),f))if(b)F[H]=M;else if(M)switch(f){case 3:return!0;case 5:return B;case 6:return H;case 2:p.call(F,B)}else switch(f){case 4:return!1;case 7:p.call(F,B)}return k?-1:g||C?C:F}};i.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6),filterReject:m(7)}},1194:(i,a,o)=>{var l=o(7293),c=o(5112),u=o(7392),d=c("species");i.exports=function(h){return u>=51||!l(function(){var p=[];return(p.constructor={})[d]=function(){return{foo:1}},p[h](Boolean).foo!==1})}},9341:(i,a,o)=>{var l=o(7293);i.exports=function(c,u){var d=[][c];return!!d&&l(function(){d.call(null,u||function(){throw 1},1)})}},3671:(i,a,o)=>{var l=o(3099),c=o(7908),u=o(8361),d=o(7466),h=function(p){return function(m,f,b,w){l(f);var g=c(m),C=u(g),k=d(g.length),N=p?k-1:0,A=p?-1:1;if(b<2)for(;;){if(N in C){w=C[N],N+=A;break}if(N+=A,p?N<0:k<=N)throw TypeError("Reduce of empty array with no initial value")}for(;p?N>=0:k>N;N+=A)N in C&&(w=f(w,C[N],N,g));return w}};i.exports={left:h(!1),right:h(!0)}},4362:i=>{var a=Math.floor,o=function(u,d){var h=u.length,p=a(h/2);return h<8?l(u,d):c(o(u.slice(0,p),d),o(u.slice(p),d),d)},l=function(u,d){for(var h,p,m=u.length,f=1;f<m;){for(p=f,h=u[f];p&&d(u[p-1],h)>0;)u[p]=u[--p];p!==f++&&(u[p]=h)}return u},c=function(u,d,h){for(var p=u.length,m=d.length,f=0,b=0,w=[];f<p||b<m;)f<p&&b<m?w.push(h(u[f],d[b])<=0?u[f++]:d[b++]):w.push(f<p?u[f++]:d[b++]);return w};i.exports=o},7475:(i,a,o)=>{var l=o(111),c=o(3157),u=o(5112)("species");i.exports=function(d){var h;return c(d)&&(typeof(h=d.constructor)!="function"||h!==Array&&!c(h.prototype)?l(h)&&(h=h[u])===null&&(h=void 0):h=void 0),h===void 0?Array:h}},5417:(i,a,o)=>{var l=o(7475);i.exports=function(c,u){return new(l(c))(u===0?0:u)}},3411:(i,a,o)=>{var l=o(9670),c=o(9212);i.exports=function(u,d,h,p){try{return p?d(l(h)[0],h[1]):d(h)}catch(m){c(u,"throw",m)}}},7072:(i,a,o)=>{var l=o(5112)("iterator"),c=!1;try{var u=0,d={next:function(){return{done:!!u++}},return:function(){c=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,p){if(!p&&!c)return!1;var m=!1;try{var f={};f[l]=function(){return{next:function(){return{done:m=!0}}}},h(f)}catch{}return m}},4326:i=>{var a={}.toString;i.exports=function(o){return a.call(o).slice(8,-1)}},648:(i,a,o)=>{var l=o(1694),c=o(4326),u=o(5112)("toStringTag"),d=c(function(){return arguments}())=="Arguments";i.exports=l?c:function(h){var p,m,f;return h===void 0?"Undefined":h===null?"Null":typeof(m=function(b,w){try{return b[w]}catch{}}(p=Object(h),u))=="string"?m:d?c(p):(f=c(p))=="Object"&&typeof p.callee=="function"?"Arguments":f}},9320:(i,a,o)=>{var l=o(2248),c=o(2423).getWeakData,u=o(9670),d=o(111),h=o(5787),p=o(408),m=o(2092),f=o(6656),b=o(9909),w=b.set,g=b.getterFor,C=m.find,k=m.findIndex,N=0,A=function($){return $.frozen||($.frozen=new O)},O=function(){this.entries=[]},R=function($,D){return C($.entries,function(B){return B[0]===D})};O.prototype={get:function($){var D=R(this,$);if(D)return D[1]},has:function($){return!!R(this,$)},set:function($,D){var B=R(this,$);B?B[1]=D:this.entries.push([$,D])},delete:function($){var D=k(this.entries,function(B){return B[0]===$});return~D&&this.entries.splice(D,1),!!~D}},i.exports={getConstructor:function($,D,B,M){var z=$(function(q,H){h(q,z,D),w(q,{type:D,id:N++,frozen:void 0}),H!=null&&p(H,q[M],{that:q,AS_ENTRIES:B})}),W=g(D),V=function(q,H,K){var F=W(q),ie=c(u(H),!0);return ie===!0?A(F).set(H,K):ie[F.id]=K,q};return l(z.prototype,{delete:function(q){var H=W(this);if(!d(q))return!1;var K=c(q);return K===!0?A(H).delete(q):K&&f(K,H.id)&&delete K[H.id]},has:function(H){var K=W(this);if(!d(H))return!1;var F=c(H);return F===!0?A(K).has(H):F&&f(F,K.id)}}),l(z.prototype,B?{get:function(H){var K=W(this);if(d(H)){var F=c(H);return F===!0?A(K).get(H):F?F[K.id]:void 0}},set:function(H,K){return V(this,H,K)}}:{add:function(H){return V(this,H,!0)}}),z}}},7710:(i,a,o)=>{var l=o(2109),c=o(7854),u=o(4705),d=o(1320),h=o(2423),p=o(408),m=o(5787),f=o(111),b=o(7293),w=o(7072),g=o(8003),C=o(9587);i.exports=function(k,N,A){var O=k.indexOf("Map")!==-1,R=k.indexOf("Weak")!==-1,$=O?"set":"add",D=c[k],B=D&&D.prototype,M=D,z={},W=function(ie){var de=B[ie];d(B,ie,ie=="add"?function(J){return de.call(this,J===0?0:J),this}:ie=="delete"?function(ee){return!(R&&!f(ee))&&de.call(this,ee===0?0:ee)}:ie=="get"?function(J){return R&&!f(J)?void 0:de.call(this,J===0?0:J)}:ie=="has"?function(J){return!(R&&!f(J))&&de.call(this,J===0?0:J)}:function(J,ae){return de.call(this,J===0?0:J,ae),this})};if(u(k,typeof D!="function"||!(R||B.forEach&&!b(function(){new D().entries().next()}))))M=A.getConstructor(N,k,O,$),h.enable();else if(u(k,!0)){var V=new M,q=V[$](R?{}:-0,1)!=V,H=b(function(){V.has(1)}),K=w(function(ie){new D(ie)}),F=!R&&b(function(){for(var ie=new D,de=5;de--;)ie[$](de,de);return!ie.has(-0)});K||((M=N(function(ie,de){m(ie,M,k);var ee=C(new D,ie,M);return de!=null&&p(de,ee[$],{that:ee,AS_ENTRIES:O}),ee})).prototype=B,B.constructor=M),(H||F)&&(W("delete"),W("has"),O&&W("get")),(F||q)&&W($),R&&B.clear&&delete B.clear}return z[k]=M,l({global:!0,forced:M!=D},z),g(M,k),R||A.setStrong(M,k,O),M}},9920:(i,a,o)=>{var l=o(6656),c=o(3887),u=o(1236),d=o(3070);i.exports=function(h,p){for(var m=c(p),f=d.f,b=u.f,w=0;w<m.length;w++){var g=m[w];l(h,g)||f(h,g,b(p,g))}}},4964:(i,a,o)=>{var l=o(5112)("match");i.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[l]=!1,"/./"[c](u)}catch{}}return!1}},8544:(i,a,o)=>{var l=o(7293);i.exports=!l(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},4994:(i,a,o)=>{var l=o(3383).IteratorPrototype,c=o(30),u=o(9114),d=o(8003),h=o(7497),p=function(){return this};i.exports=function(m,f,b){var w=f+" Iterator";return m.prototype=c(l,{next:u(1,b)}),d(m,w,!1,!0),h[w]=p,m}},8880:(i,a,o)=>{var l=o(9781),c=o(3070),u=o(9114);i.exports=l?function(d,h,p){return c.f(d,h,u(1,p))}:function(d,h,p){return d[h]=p,d}},9114:i=>{i.exports=function(a,o){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:o}}},6135:(i,a,o)=>{var l=o(4948),c=o(3070),u=o(9114);i.exports=function(d,h,p){var m=l(h);m in d?c.f(d,m,u(0,p)):d[m]=p}},654:(i,a,o)=>{var l=o(2109),c=o(4994),u=o(9518),d=o(7674),h=o(8003),p=o(8880),m=o(1320),f=o(5112),b=o(1913),w=o(7497),g=o(3383),C=g.IteratorPrototype,k=g.BUGGY_SAFARI_ITERATORS,N=f("iterator"),A="keys",O="values",R="entries",$=function(){return this};i.exports=function(D,B,M,z,W,V,q){c(M,B,z);var H,K,F,ie=function(Ee){if(Ee===W&&ue)return ue;if(!k&&Ee in J)return J[Ee];switch(Ee){case A:return function(){return new M(this,Ee)};case O:return function(){return new M(this,Ee)};case R:return function(){return new M(this,Ee)}}return function(){return new M(this)}},de=B+" Iterator",ee=!1,J=D.prototype,ae=J[N]||J["@@iterator"]||W&&J[W],ue=!k&&ae||ie(W),le=B=="Array"&&J.entries||ae;if(le&&(H=u(le.call(new D)),C!==Object.prototype&&H.next&&(b||u(H)===C||(d?d(H,C):typeof H[N]!="function"&&p(H,N,$)),h(H,de,!0,!0),b&&(w[de]=$))),W==O&&ae&&ae.name!==O&&(ee=!0,ue=function(){return ae.call(this)}),b&&!q||J[N]===ue||p(J,N,ue),w[B]=ue,W)if(K={values:ie(O),keys:V?ue:ie(A),entries:ie(R)},q)for(F in K)(k||ee||!(F in J))&&m(J,F,K[F]);else l({target:B,proto:!0,forced:k||ee},K);return K}},7235:(i,a,o)=>{var l=o(857),c=o(6656),u=o(6061),d=o(3070).f;i.exports=function(h){var p=l.Symbol||(l.Symbol={});c(p,h)||d(p,h,{value:u.f(h)})}},9781:(i,a,o)=>{var l=o(7293);i.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},317:(i,a,o)=>{var l=o(7854),c=o(111),u=l.document,d=c(u)&&c(u.createElement);i.exports=function(h){return d?u.createElement(h):{}}},8324:i=>{i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8886:(i,a,o)=>{var l=o(8113).match(/firefox\/(\d+)/i);i.exports=!!l&&+l[1]},7871:i=>{i.exports=typeof window=="object"},256:(i,a,o)=>{var l=o(8113);i.exports=/MSIE|Trident/.test(l)},1528:(i,a,o)=>{var l=o(8113),c=o(7854);i.exports=/ipad|iphone|ipod/i.test(l)&&c.Pebble!==void 0},6833:(i,a,o)=>{var l=o(8113);i.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},5268:(i,a,o)=>{var l=o(4326),c=o(7854);i.exports=l(c.process)=="process"},1036:(i,a,o)=>{var l=o(8113);i.exports=/web0s(?!.*chrome)/i.test(l)},8113:(i,a,o)=>{var l=o(5005);i.exports=l("navigator","userAgent")||""},7392:(i,a,o)=>{var l,c,u=o(7854),d=o(8113),h=u.process,p=u.Deno,m=h&&h.versions||p&&p.version,f=m&&m.v8;f?c=(l=f.split("."))[0]<4?1:l[0]+l[1]:d&&(!(l=d.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=d.match(/Chrome\/(\d+)/))&&(c=l[1]),i.exports=c&&+c},8008:(i,a,o)=>{var l=o(8113).match(/AppleWebKit\/(\d+)\./);i.exports=!!l&&+l[1]},748:i=>{i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(i,a,o)=>{var l=o(7854),c=o(1236).f,u=o(8880),d=o(1320),h=o(3505),p=o(9920),m=o(4705);i.exports=function(f,b){var w,g,C,k,N,A=f.target,O=f.global,R=f.stat;if(w=O?l:R?l[A]||h(A,{}):(l[A]||{}).prototype)for(g in b){if(k=b[g],C=f.noTargetGet?(N=c(w,g))&&N.value:w[g],!m(O?g:A+(R?".":"#")+g,f.forced)&&C!==void 0){if(typeof k==typeof C)continue;p(k,C)}(f.sham||C&&C.sham)&&u(k,"sham",!0),d(w,g,k,f)}}},7293:i=>{i.exports=function(a){try{return!!a()}catch{return!0}}},7007:(i,a,o)=>{o(4916);var l=o(1320),c=o(2261),u=o(7293),d=o(5112),h=o(8880),p=d("species"),m=RegExp.prototype;i.exports=function(f,b,w,g){var C=d(f),k=!u(function(){var R={};return R[C]=function(){return 7},""[f](R)!=7}),N=k&&!u(function(){var R=!1,$=/a/;return f==="split"&&(($={}).constructor={},$.constructor[p]=function(){return $},$.flags="",$[C]=/./[C]),$.exec=function(){return R=!0,null},$[C](""),!R});if(!k||!N||w){var A=/./[C],O=b(C,""[f],function(R,$,D,B,M){var z=$.exec;return z===c||z===m.exec?k&&!M?{done:!0,value:A.call($,D,B)}:{done:!0,value:R.call(D,$,B)}:{done:!1}});l(String.prototype,f,O[0]),l(m,C,O[1])}g&&h(m[C],"sham",!0)}},6677:(i,a,o)=>{var l=o(7293);i.exports=!l(function(){return Object.isExtensible(Object.preventExtensions({}))})},9974:(i,a,o)=>{var l=o(3099);i.exports=function(c,u,d){if(l(c),u===void 0)return c;switch(d){case 0:return function(){return c.call(u)};case 1:return function(h){return c.call(u,h)};case 2:return function(h,p){return c.call(u,h,p)};case 3:return function(h,p,m){return c.call(u,h,p,m)}}return function(){return c.apply(u,arguments)}}},7065:(i,a,o)=>{var l=o(3099),c=o(111),u=[].slice,d={},h=function(p,m,f){if(!(m in d)){for(var b=[],w=0;w<m;w++)b[w]="a["+w+"]";d[m]=Function("C,a","return new C("+b.join(",")+")")}return d[m](p,f)};i.exports=Function.bind||function(m){var f=l(this),b=u.call(arguments,1),w=function(){var C=b.concat(u.call(arguments));return this instanceof w?h(f,C.length,C):f.apply(m,C)};return c(f.prototype)&&(w.prototype=f.prototype),w}},5005:(i,a,o)=>{var l=o(7854),c=function(u){return typeof u=="function"?u:void 0};i.exports=function(u,d){return arguments.length<2?c(l[u]):l[u]&&l[u][d]}},1246:(i,a,o)=>{var l=o(648),c=o(7497),u=o(5112)("iterator");i.exports=function(d){if(d!=null)return d[u]||d["@@iterator"]||c[l(d)]}},8554:(i,a,o)=>{var l=o(9670),c=o(1246);i.exports=function(u,d){var h=arguments.length<2?c(u):d;if(typeof h!="function")throw TypeError(String(u)+" is not iterable");return l(h.call(u))}},647:(i,a,o)=>{var l=o(7908),c=Math.floor,u="".replace,d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,h=/\$([$&'`]|\d{1,2})/g;i.exports=function(p,m,f,b,w,g){var C=f+p.length,k=b.length,N=h;return w!==void 0&&(w=l(w),N=d),u.call(g,N,function(A,O){var R;switch(O.charAt(0)){case"$":return"$";case"&":return p;case"`":return m.slice(0,f);case"'":return m.slice(C);case"<":R=w[O.slice(1,-1)];break;default:var $=+O;if($===0)return A;if($>k){var D=c($/10);return D===0?A:D<=k?b[D-1]===void 0?O.charAt(1):b[D-1]+O.charAt(1):A}R=b[$-1]}return R===void 0?"":R})}},7854:(i,a,o)=>{var l=function(c){return c&&c.Math==Math&&c};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof o.g=="object"&&o.g)||function(){return this}()||Function("return this")()},6656:(i,a,o)=>{var l=o(7908),c={}.hasOwnProperty;i.exports=Object.hasOwn||function(d,h){return c.call(l(d),h)}},3501:i=>{i.exports={}},842:(i,a,o)=>{var l=o(7854);i.exports=function(c,u){var d=l.console;d&&d.error&&(arguments.length===1?d.error(c):d.error(c,u))}},490:(i,a,o)=>{var l=o(5005);i.exports=l("document","documentElement")},4664:(i,a,o)=>{var l=o(9781),c=o(7293),u=o(317);i.exports=!l&&!c(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},8361:(i,a,o)=>{var l=o(7293),c=o(4326),u="".split;i.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return c(d)=="String"?u.call(d,""):Object(d)}:Object},9587:(i,a,o)=>{var l=o(111),c=o(7674);i.exports=function(u,d,h){var p,m;return c&&typeof(p=d.constructor)=="function"&&p!==h&&l(m=p.prototype)&&m!==h.prototype&&c(u,m),u}},2788:(i,a,o)=>{var l=o(5465),c=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(u){return c.call(u)}),i.exports=l.inspectSource},2423:(i,a,o)=>{var l=o(2109),c=o(3501),u=o(111),d=o(6656),h=o(3070).f,p=o(8006),m=o(1156),f=o(9711),b=o(6677),w=!1,g=f("meta"),C=0,k=Object.isExtensible||function(){return!0},N=function(O){h(O,g,{value:{objectID:"O"+C++,weakData:{}}})},A=i.exports={enable:function(){A.enable=function(){},w=!0;var O=p.f,R=[].splice,$={};$[g]=1,O($).length&&(p.f=function(D){for(var B=O(D),M=0,z=B.length;M<z;M++)if(B[M]===g){R.call(B,M,1);break}return B},l({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:m.f}))},fastKey:function(O,R){if(!u(O))return typeof O=="symbol"?O:(typeof O=="string"?"S":"P")+O;if(!d(O,g)){if(!k(O))return"F";if(!R)return"E";N(O)}return O[g].objectID},getWeakData:function(O,R){if(!d(O,g)){if(!k(O))return!0;if(!R)return!1;N(O)}return O[g].weakData},onFreeze:function(O){return b&&w&&k(O)&&!d(O,g)&&N(O),O}};c[g]=!0},9909:(i,a,o)=>{var l,c,u,d=o(8536),h=o(7854),p=o(111),m=o(8880),f=o(6656),b=o(5465),w=o(6200),g=o(3501),C="Object already initialized",k=h.WeakMap;if(d||b.state){var N=b.state||(b.state=new k),A=N.get,O=N.has,R=N.set;l=function(D,B){if(O.call(N,D))throw new TypeError(C);return B.facade=D,R.call(N,D,B),B},c=function(D){return A.call(N,D)||{}},u=function(D){return O.call(N,D)}}else{var $=w("state");g[$]=!0,l=function(D,B){if(f(D,$))throw new TypeError(C);return B.facade=D,m(D,$,B),B},c=function(D){return f(D,$)?D[$]:{}},u=function(D){return f(D,$)}}i.exports={set:l,get:c,has:u,enforce:function(D){return u(D)?c(D):l(D,{})},getterFor:function(D){return function(B){var M;if(!p(B)||(M=c(B)).type!==D)throw TypeError("Incompatible receiver, "+D+" required");return M}}}},7659:(i,a,o)=>{var l=o(5112),c=o(7497),u=l("iterator"),d=Array.prototype;i.exports=function(h){return h!==void 0&&(c.Array===h||d[u]===h)}},3157:(i,a,o)=>{var l=o(4326);i.exports=Array.isArray||function(u){return l(u)=="Array"}},4705:(i,a,o)=>{var l=o(7293),c=/#|\.prototype\./,u=function(f,b){var w=h[d(f)];return w==m||w!=p&&(typeof b=="function"?l(b):!!b)},d=u.normalize=function(f){return String(f).replace(c,".").toLowerCase()},h=u.data={},p=u.NATIVE="N",m=u.POLYFILL="P";i.exports=u},111:i=>{i.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},1913:i=>{i.exports=!1},7850:(i,a,o)=>{var l=o(111),c=o(4326),u=o(5112)("match");i.exports=function(d){var h;return l(d)&&((h=d[u])!==void 0?!!h:c(d)=="RegExp")}},2190:(i,a,o)=>{var l=o(5005),c=o(3307);i.exports=c?function(u){return typeof u=="symbol"}:function(u){var d=l("Symbol");return typeof d=="function"&&Object(u)instanceof d}},408:(i,a,o)=>{var l=o(9670),c=o(7659),u=o(7466),d=o(9974),h=o(8554),p=o(1246),m=o(9212),f=function(b,w){this.stopped=b,this.result=w};i.exports=function(b,w,g){var C,k,N,A,O,R,$,D=g&&g.that,B=!(!g||!g.AS_ENTRIES),M=!(!g||!g.IS_ITERATOR),z=!(!g||!g.INTERRUPTED),W=d(w,D,1+B+z),V=function(H){return C&&m(C,"normal",H),new f(!0,H)},q=function(H){return B?(l(H),z?W(H[0],H[1],V):W(H[0],H[1])):z?W(H,V):W(H)};if(M)C=b;else{if(typeof(k=p(b))!="function")throw TypeError("Target is not iterable");if(c(k)){for(N=0,A=u(b.length);A>N;N++)if((O=q(b[N]))&&O instanceof f)return O;return new f(!1)}C=h(b,k)}for(R=C.next;!($=R.call(C)).done;){try{O=q($.value)}catch(H){m(C,"throw",H)}if(typeof O=="object"&&O&&O instanceof f)return O}return new f(!1)}},9212:(i,a,o)=>{var l=o(9670);i.exports=function(c,u,d){var h,p;l(c);try{if((h=c.return)===void 0){if(u==="throw")throw d;return d}h=h.call(c)}catch(m){p=!0,h=m}if(u==="throw")throw d;if(p)throw h;return l(h),d}},3383:(i,a,o)=>{var l,c,u,d=o(7293),h=o(9518),p=o(8880),m=o(6656),f=o(5112),b=o(1913),w=f("iterator"),g=!1;[].keys&&("next"in(u=[].keys())?(c=h(h(u)))!==Object.prototype&&(l=c):g=!0);var C=l==null||d(function(){var k={};return l[w].call(k)!==k});C&&(l={}),b&&!C||m(l,w)||p(l,w,function(){return this}),i.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:g}},7497:i=>{i.exports={}},5948:(i,a,o)=>{var l,c,u,d,h,p,m,f,b=o(7854),w=o(1236).f,g=o(261).set,C=o(6833),k=o(1528),N=o(1036),A=o(5268),O=b.MutationObserver||b.WebKitMutationObserver,R=b.document,$=b.process,D=b.Promise,B=w(b,"queueMicrotask"),M=B&&B.value;M||(l=function(){var z,W;for(A&&(z=$.domain)&&z.exit();c;){W=c.fn,c=c.next;try{W()}catch(V){throw c?d():u=void 0,V}}u=void 0,z&&z.enter()},C||A||N||!O||!R?!k&&D&&D.resolve?((m=D.resolve(void 0)).constructor=D,f=m.then,d=function(){f.call(m,l)}):d=A?function(){$.nextTick(l)}:function(){g.call(b,l)}:(h=!0,p=R.createTextNode(""),new O(l).observe(p,{characterData:!0}),d=function(){p.data=h=!h})),i.exports=M||function(z){var W={fn:z,next:void 0};u&&(u.next=W),c||(c=W,d()),u=W}},3366:(i,a,o)=>{var l=o(7854);i.exports=l.Promise},133:(i,a,o)=>{var l=o(7392),c=o(7293);i.exports=!!Object.getOwnPropertySymbols&&!c(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&l&&l<41})},8536:(i,a,o)=>{var l=o(7854),c=o(2788),u=l.WeakMap;i.exports=typeof u=="function"&&/native code/.test(c(u))},8523:(i,a,o)=>{var l=o(3099),c=function(u){var d,h;this.promise=new u(function(p,m){if(d!==void 0||h!==void 0)throw TypeError("Bad Promise constructor");d=p,h=m}),this.resolve=l(d),this.reject=l(h)};i.exports.f=function(u){return new c(u)}},3929:(i,a,o)=>{var l=o(7850);i.exports=function(c){if(l(c))throw TypeError("The method doesn't accept regular expressions");return c}},3009:(i,a,o)=>{var l=o(7854),c=o(1340),u=o(3111).trim,d=o(1361),h=l.parseInt,p=/^[+-]?0[Xx]/,m=h(d+"08")!==8||h(d+"0x16")!==22;i.exports=m?function(b,w){var g=u(c(b));return h(g,w>>>0||(p.test(g)?16:10))}:h},1574:(i,a,o)=>{var l=o(9781),c=o(7293),u=o(1956),d=o(5181),h=o(5296),p=o(7908),m=o(8361),f=Object.assign,b=Object.defineProperty;i.exports=!f||c(function(){if(l&&f({b:1},f(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var w={},g={},C=Symbol(),k="abcdefghijklmnopqrst";return w[C]=7,k.split("").forEach(function(N){g[N]=N}),f({},w)[C]!=7||u(f({},g)).join("")!=k})?function(g,C){for(var k=p(g),N=arguments.length,A=1,O=d.f,R=h.f;N>A;)for(var $,D=m(arguments[A++]),B=O?u(D).concat(O(D)):u(D),M=B.length,z=0;M>z;)$=B[z++],l&&!R.call(D,$)||(k[$]=D[$]);return k}:f},30:(i,a,o)=>{var l,c=o(9670),u=o(6048),d=o(748),h=o(3501),p=o(490),m=o(317),f=o(6200),b=f("IE_PROTO"),w=function(){},g=function(N){return"<script>"+N+"<\/script>"},C=function(N){N.write(g("")),N.close();var A=N.parentWindow.Object;return N=null,A},k=function(){try{l=new ActiveXObject("htmlfile")}catch{}var N,A;k=typeof document<"u"?document.domain&&l?C(l):((A=m("iframe")).style.display="none",p.appendChild(A),A.src="javascript:",(N=A.contentWindow.document).open(),N.write(g("document.F=Object")),N.close(),N.F):C(l);for(var O=d.length;O--;)delete k.prototype[d[O]];return k()};h[b]=!0,i.exports=Object.create||function(A,O){var R;return A!==null?(w.prototype=c(A),R=new w,w.prototype=null,R[b]=A):R=k(),O===void 0?R:u(R,O)}},6048:(i,a,o)=>{var l=o(9781),c=o(3070),u=o(9670),d=o(1956);i.exports=l?Object.defineProperties:function(p,m){u(p);for(var f,b=d(m),w=b.length,g=0;w>g;)c.f(p,f=b[g++],m[f]);return p}},3070:(i,a,o)=>{var l=o(9781),c=o(4664),u=o(9670),d=o(4948),h=Object.defineProperty;a.f=l?h:function(m,f,b){if(u(m),f=d(f),u(b),c)try{return h(m,f,b)}catch{}if("get"in b||"set"in b)throw TypeError("Accessors not supported");return"value"in b&&(m[f]=b.value),m}},1236:(i,a,o)=>{var l=o(9781),c=o(5296),u=o(9114),d=o(5656),h=o(4948),p=o(6656),m=o(4664),f=Object.getOwnPropertyDescriptor;a.f=l?f:function(w,g){if(w=d(w),g=h(g),m)try{return f(w,g)}catch{}if(p(w,g))return u(!c.f.call(w,g),w[g])}},1156:(i,a,o)=>{var l=o(5656),c=o(8006).f,u={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(p){return d&&u.call(p)=="[object Window]"?function(m){try{return c(m)}catch{return d.slice()}}(p):c(l(p))}},8006:(i,a,o)=>{var l=o(6324),c=o(748).concat("length","prototype");a.f=Object.getOwnPropertyNames||function(d){return l(d,c)}},5181:(i,a)=>{a.f=Object.getOwnPropertySymbols},9518:(i,a,o)=>{var l=o(6656),c=o(7908),u=o(6200),d=o(8544),h=u("IE_PROTO"),p=Object.prototype;i.exports=d?Object.getPrototypeOf:function(m){return m=c(m),l(m,h)?m[h]:typeof m.constructor=="function"&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?p:null}},6324:(i,a,o)=>{var l=o(6656),c=o(5656),u=o(1318).indexOf,d=o(3501);i.exports=function(h,p){var m,f=c(h),b=0,w=[];for(m in f)!l(d,m)&&l(f,m)&&w.push(m);for(;p.length>b;)l(f,m=p[b++])&&(~u(w,m)||w.push(m));return w}},1956:(i,a,o)=>{var l=o(6324),c=o(748);i.exports=Object.keys||function(d){return l(d,c)}},5296:(i,a)=>{var o={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!o.call({1:2},1);a.f=c?function(d){var h=l(this,d);return!!h&&h.enumerable}:o},7674:(i,a,o)=>{var l=o(9670),c=o(6077);i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,d=!1,h={};try{(u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(h,[]),d=h instanceof Array}catch{}return function(m,f){return l(m),c(f),d?u.call(m,f):m.__proto__=f,m}}():void 0)},4699:(i,a,o)=>{var l=o(9781),c=o(1956),u=o(5656),d=o(5296).f,h=function(p){return function(m){for(var f,b=u(m),w=c(b),g=w.length,C=0,k=[];g>C;)f=w[C++],l&&!d.call(b,f)||k.push(p?[f,b[f]]:b[f]);return k}};i.exports={entries:h(!0),values:h(!1)}},288:(i,a,o)=>{var l=o(1694),c=o(648);i.exports=l?{}.toString:function(){return"[object "+c(this)+"]"}},2140:(i,a,o)=>{var l=o(111);i.exports=function(c,u){var d,h;if(u==="string"&&typeof(d=c.toString)=="function"&&!l(h=d.call(c))||typeof(d=c.valueOf)=="function"&&!l(h=d.call(c))||u!=="string"&&typeof(d=c.toString)=="function"&&!l(h=d.call(c)))return h;throw TypeError("Can't convert object to primitive value")}},3887:(i,a,o)=>{var l=o(5005),c=o(8006),u=o(5181),d=o(9670);i.exports=l("Reflect","ownKeys")||function(p){var m=c.f(d(p)),f=u.f;return f?m.concat(f(p)):m}},857:(i,a,o)=>{var l=o(7854);i.exports=l},2534:i=>{i.exports=function(a){try{return{error:!1,value:a()}}catch(o){return{error:!0,value:o}}}},9478:(i,a,o)=>{var l=o(9670),c=o(111),u=o(8523);i.exports=function(d,h){if(l(d),c(h)&&h.constructor===d)return h;var p=u.f(d);return(0,p.resolve)(h),p.promise}},2248:(i,a,o)=>{var l=o(1320);i.exports=function(c,u,d){for(var h in u)l(c,h,u[h],d);return c}},1320:(i,a,o)=>{var l=o(7854),c=o(8880),u=o(6656),d=o(3505),h=o(2788),p=o(9909),m=p.get,f=p.enforce,b=String(String).split("String");(i.exports=function(w,g,C,k){var N,A=!!k&&!!k.unsafe,O=!!k&&!!k.enumerable,R=!!k&&!!k.noTargetGet;typeof C=="function"&&(typeof g!="string"||u(C,"name")||c(C,"name",g),(N=f(C)).source||(N.source=b.join(typeof g=="string"?g:""))),w!==l?(A?!R&&w[g]&&(O=!0):delete w[g],O?w[g]=C:c(w,g,C)):O?w[g]=C:d(g,C)})(Function.prototype,"toString",function(){return typeof this=="function"&&m(this).source||h(this)})},7651:(i,a,o)=>{var l=o(4326),c=o(2261);i.exports=function(u,d){var h=u.exec;if(typeof h=="function"){var p=h.call(u,d);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(l(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return c.call(u,d)}},2261:(i,a,o)=>{var l,c,u=o(1340),d=o(7066),h=o(2999),p=o(2309),m=o(30),f=o(9909).get,b=o(9441),w=o(8173),g=RegExp.prototype.exec,C=p("native-string-replace",String.prototype.replace),k=g,N=(l=/a/,c=/b*/g,g.call(l,"a"),g.call(c,"a"),l.lastIndex!==0||c.lastIndex!==0),A=h.UNSUPPORTED_Y||h.BROKEN_CARET,O=/()??/.exec("")[1]!==void 0;(N||O||A||b||w)&&(k=function($){var D,B,M,z,W,V,q,H=this,K=f(H),F=u($),ie=K.raw;if(ie)return ie.lastIndex=H.lastIndex,D=k.call(ie,F),H.lastIndex=ie.lastIndex,D;var de=K.groups,ee=A&&H.sticky,J=d.call(H),ae=H.source,ue=0,le=F;if(ee&&((J=J.replace("y","")).indexOf("g")===-1&&(J+="g"),le=F.slice(H.lastIndex),H.lastIndex>0&&(!H.multiline||H.multiline&&F.charAt(H.lastIndex-1)!==`
`)&&(ae="(?: "+ae+")",le=" "+le,ue++),B=new RegExp("^(?:"+ae+")",J)),O&&(B=new RegExp("^"+ae+"$(?!\\s)",J)),N&&(M=H.lastIndex),z=g.call(ee?B:H,le),ee?z?(z.input=z.input.slice(ue),z[0]=z[0].slice(ue),z.index=H.lastIndex,H.lastIndex+=z[0].length):H.lastIndex=0:N&&z&&(H.lastIndex=H.global?z.index+z[0].length:M),O&&z&&z.length>1&&C.call(z[0],B,function(){for(W=1;W<arguments.length-2;W++)arguments[W]===void 0&&(z[W]=void 0)}),z&&de)for(z.groups=V=m(null),W=0;W<de.length;W++)V[(q=de[W])[0]]=z[q[1]];return z}),i.exports=k},7066:(i,a,o)=>{var l=o(9670);i.exports=function(){var c=l(this),u="";return c.global&&(u+="g"),c.ignoreCase&&(u+="i"),c.multiline&&(u+="m"),c.dotAll&&(u+="s"),c.unicode&&(u+="u"),c.sticky&&(u+="y"),u}},2999:(i,a,o)=>{var l=o(7293),c=o(7854).RegExp;a.UNSUPPORTED_Y=l(function(){var u=c("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),a.BROKEN_CARET=l(function(){var u=c("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},9441:(i,a,o)=>{var l=o(7293),c=o(7854).RegExp;i.exports=l(function(){var u=c(".","s");return!(u.dotAll&&u.exec(`
`)&&u.flags==="s")})},8173:(i,a,o)=>{var l=o(7293),c=o(7854).RegExp;i.exports=l(function(){var u=c("(?<a>b)","g");return u.exec("b").groups.a!=="b"||"b".replace(u,"$<a>c")!=="bc"})},4488:i=>{i.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},1150:i=>{i.exports=Object.is||function(o,l){return o===l?o!==0||1/o==1/l:o!=o&&l!=l}},3505:(i,a,o)=>{var l=o(7854);i.exports=function(c,u){try{Object.defineProperty(l,c,{value:u,configurable:!0,writable:!0})}catch{l[c]=u}return u}},6340:(i,a,o)=>{var l=o(5005),c=o(3070),u=o(5112),d=o(9781),h=u("species");i.exports=function(p){var m=l(p),f=c.f;d&&m&&!m[h]&&f(m,h,{configurable:!0,get:function(){return this}})}},8003:(i,a,o)=>{var l=o(3070).f,c=o(6656),u=o(5112)("toStringTag");i.exports=function(d,h,p){d&&!c(d=p?d:d.prototype,u)&&l(d,u,{configurable:!0,value:h})}},6200:(i,a,o)=>{var l=o(2309),c=o(9711),u=l("keys");i.exports=function(d){return u[d]||(u[d]=c(d))}},5465:(i,a,o)=>{var l=o(7854),c=o(3505),u="__core-js_shared__",d=l[u]||c(u,{});i.exports=d},2309:(i,a,o)=>{var l=o(1913),c=o(5465);(i.exports=function(u,d){return c[u]||(c[u]=d!==void 0?d:{})})("versions",[]).push({version:"3.17.2",mode:l?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:(i,a,o)=>{var l=o(9670),c=o(3099),u=o(5112)("species");i.exports=function(d,h){var p,m=l(d).constructor;return m===void 0||(p=l(m)[u])==null?h:c(p)}},8710:(i,a,o)=>{var l=o(9958),c=o(1340),u=o(4488),d=function(h){return function(p,m){var f,b,w=c(u(p)),g=l(m),C=w.length;return g<0||g>=C?h?"":void 0:(f=w.charCodeAt(g))<55296||f>56319||g+1===C||(b=w.charCodeAt(g+1))<56320||b>57343?h?w.charAt(g):f:h?w.slice(g,g+2):b-56320+(f-55296<<10)+65536}};i.exports={codeAt:d(!1),charAt:d(!0)}},8415:(i,a,o)=>{var l=o(9958),c=o(1340),u=o(4488);i.exports=function(h){var p=c(u(this)),m="",f=l(h);if(f<0||f==1/0)throw RangeError("Wrong number of repetitions");for(;f>0;(f>>>=1)&&(p+=p))1&f&&(m+=p);return m}},6091:(i,a,o)=>{var l=o(7293),c=o(1361);i.exports=function(u){return l(function(){return!!c[u]()||""[u]()!=""||c[u].name!==u})}},3111:(i,a,o)=>{var l=o(4488),c=o(1340),u="["+o(1361)+"]",d=RegExp("^"+u+u+"*"),h=RegExp(u+u+"*$"),p=function(m){return function(f){var b=c(l(f));return 1&m&&(b=b.replace(d,"")),2&m&&(b=b.replace(h,"")),b}};i.exports={start:p(1),end:p(2),trim:p(3)}},261:(i,a,o)=>{var l,c,u,d,h=o(7854),p=o(7293),m=o(9974),f=o(490),b=o(317),w=o(6833),g=o(5268),C=h.setImmediate,k=h.clearImmediate,N=h.process,A=h.MessageChannel,O=h.Dispatch,R=0,$={},D="onreadystatechange";try{l=h.location}catch{}var B=function(V){if($.hasOwnProperty(V)){var q=$[V];delete $[V],q()}},M=function(V){return function(){B(V)}},z=function(V){B(V.data)},W=function(V){h.postMessage(String(V),l.protocol+"//"+l.host)};C&&k||(C=function(q){for(var H=[],K=arguments.length,F=1;K>F;)H.push(arguments[F++]);return $[++R]=function(){(typeof q=="function"?q:Function(q)).apply(void 0,H)},c(R),R},k=function(q){delete $[q]},g?c=function(V){N.nextTick(M(V))}:O&&O.now?c=function(V){O.now(M(V))}:A&&!w?(d=(u=new A).port2,u.port1.onmessage=z,c=m(d.postMessage,d,1)):h.addEventListener&&typeof postMessage=="function"&&!h.importScripts&&l&&l.protocol!=="file:"&&!p(W)?(c=W,h.addEventListener("message",z,!1)):c=D in b("script")?function(V){f.appendChild(b("script")).onreadystatechange=function(){f.removeChild(this),B(V)}}:function(V){setTimeout(M(V),0)}),i.exports={set:C,clear:k}},1400:(i,a,o)=>{var l=o(9958),c=Math.max,u=Math.min;i.exports=function(d,h){var p=l(d);return p<0?c(p+h,0):u(p,h)}},5656:(i,a,o)=>{var l=o(8361),c=o(4488);i.exports=function(u){return l(c(u))}},9958:i=>{var a=Math.ceil,o=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?o:a)(l)}},7466:(i,a,o)=>{var l=o(9958),c=Math.min;i.exports=function(u){return u>0?c(l(u),9007199254740991):0}},7908:(i,a,o)=>{var l=o(4488);i.exports=function(c){return Object(l(c))}},7593:(i,a,o)=>{var l=o(111),c=o(2190),u=o(2140),d=o(5112)("toPrimitive");i.exports=function(h,p){if(!l(h)||c(h))return h;var m,f=h[d];if(f!==void 0){if(p===void 0&&(p="default"),m=f.call(h,p),!l(m)||c(m))return m;throw TypeError("Can't convert object to primitive value")}return p===void 0&&(p="number"),u(h,p)}},4948:(i,a,o)=>{var l=o(7593),c=o(2190);i.exports=function(u){var d=l(u,"string");return c(d)?d:String(d)}},1694:(i,a,o)=>{var l={};l[o(5112)("toStringTag")]="z",i.exports=String(l)==="[object z]"},1340:(i,a,o)=>{var l=o(2190);i.exports=function(c){if(l(c))throw TypeError("Cannot convert a Symbol value to a string");return String(c)}},9711:i=>{var a=0,o=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++a+o).toString(36)}},3307:(i,a,o)=>{var l=o(133);i.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},6061:(i,a,o)=>{var l=o(5112);a.f=l},5112:(i,a,o)=>{var l=o(7854),c=o(2309),u=o(6656),d=o(9711),h=o(133),p=o(3307),m=c("wks"),f=l.Symbol,b=p?f:f&&f.withoutSetter||d;i.exports=function(w){return u(m,w)&&(h||typeof m[w]=="string")||(h&&u(f,w)?m[w]=f[w]:m[w]=b("Symbol."+w)),m[w]}},1361:i=>{i.exports=`	
\v\f\r \u2028\u2029\uFEFF`},2222:(i,a,o)=>{var l=o(2109),c=o(7293),u=o(3157),d=o(111),h=o(7908),p=o(7466),m=o(6135),f=o(5417),b=o(1194),w=o(5112),g=o(7392),C=w("isConcatSpreadable"),k=9007199254740991,N="Maximum allowed index exceeded",A=g>=51||!c(function(){var $=[];return $[C]=!1,$.concat()[0]!==$}),O=b("concat"),R=function($){if(!d($))return!1;var D=$[C];return D!==void 0?!!D:u($)};l({target:"Array",proto:!0,forced:!A||!O},{concat:function(D){var B,M,z,W,V,q=h(this),H=f(q,0),K=0;for(B=-1,z=arguments.length;B<z;B++)if(R(V=B===-1?q:arguments[B])){if(K+(W=p(V.length))>k)throw TypeError(N);for(M=0;M<W;M++,K++)M in V&&m(H,K,V[M])}else{if(K>=k)throw TypeError(N);m(H,K++,V)}return H.length=K,H}})},7327:(i,a,o)=>{var l=o(2109),c=o(2092).filter;l({target:"Array",proto:!0,forced:!o(1194)("filter")},{filter:function(d){return c(this,d,arguments.length>1?arguments[1]:void 0)}})},9554:(i,a,o)=>{var l=o(2109),c=o(8533);l({target:"Array",proto:!0,forced:[].forEach!=c},{forEach:c})},1038:(i,a,o)=>{var l=o(2109),c=o(8457);l({target:"Array",stat:!0,forced:!o(7072)(function(u){Array.from(u)})},{from:c})},6699:(i,a,o)=>{var l=o(2109),c=o(1318).includes,u=o(1223);l({target:"Array",proto:!0},{includes:function(h){return c(this,h,arguments.length>1?arguments[1]:void 0)}}),u("includes")},2772:(i,a,o)=>{var l=o(2109),c=o(1318).indexOf,u=o(9341),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,p=u("indexOf");l({target:"Array",proto:!0,forced:h||!p},{indexOf:function(f){return h?d.apply(this,arguments)||0:c(this,f,arguments.length>1?arguments[1]:void 0)}})},9753:(i,a,o)=>{o(2109)({target:"Array",stat:!0},{isArray:o(3157)})},6992:(i,a,o)=>{var l=o(5656),c=o(1223),u=o(7497),d=o(9909),h=o(654),p="Array Iterator",m=d.set,f=d.getterFor(p);i.exports=h(Array,"Array",function(b,w){m(this,{type:p,target:l(b),index:0,kind:w})},function(){var b=f(this),w=b.target,g=b.kind,C=b.index++;return!w||C>=w.length?(b.target=void 0,{value:void 0,done:!0}):g=="keys"?{value:C,done:!1}:g=="values"?{value:w[C],done:!1}:{value:[C,w[C]],done:!1}},"values"),u.Arguments=u.Array,c("keys"),c("values"),c("entries")},5827:(i,a,o)=>{var l=o(2109),c=o(3671).left,u=o(9341),d=o(7392),h=o(5268);l({target:"Array",proto:!0,forced:!u("reduce")||!h&&d>79&&d<83},{reduce:function(m){return c(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})},7042:(i,a,o)=>{var l=o(2109),c=o(111),u=o(3157),d=o(1400),h=o(7466),p=o(5656),m=o(6135),f=o(5112),b=o(1194)("slice"),w=f("species"),g=[].slice,C=Math.max;l({target:"Array",proto:!0,forced:!b},{slice:function(N,A){var O,R,$,D=p(this),B=h(D.length),M=d(N,B),z=d(A===void 0?B:A,B);if(u(D)&&(typeof(O=D.constructor)!="function"||O!==Array&&!u(O.prototype)?c(O)&&(O=O[w])===null&&(O=void 0):O=void 0,O===Array||O===void 0))return g.call(D,M,z);for(R=new(O===void 0?Array:O)(C(z-M,0)),$=0;M<z;M++,$++)M in D&&m(R,$,D[M]);return R.length=$,R}})},5212:(i,a,o)=>{var l=o(2109),c=o(2092).some;l({target:"Array",proto:!0,forced:!o(9341)("some")},{some:function(d){return c(this,d,arguments.length>1?arguments[1]:void 0)}})},2707:(i,a,o)=>{var l=o(2109),c=o(3099),u=o(7908),d=o(7466),h=o(1340),p=o(7293),m=o(4362),f=o(9341),b=o(8886),w=o(256),g=o(7392),C=o(8008),k=[],N=k.sort,A=p(function(){k.sort(void 0)}),O=p(function(){k.sort(null)}),R=f("sort"),$=!p(function(){if(g)return g<70;if(!(b&&b>3)){if(w)return!0;if(C)return C<603;var D,B,M,z,W="";for(D=65;D<76;D++){switch(B=String.fromCharCode(D),D){case 66:case 69:case 70:case 72:M=3;break;case 68:case 71:M=4;break;default:M=2}for(z=0;z<47;z++)k.push({k:B+z,v:M})}for(k.sort(function(V,q){return q.v-V.v}),z=0;z<k.length;z++)B=k[z].k.charAt(0),W.charAt(W.length-1)!==B&&(W+=B);return W!=="DGBEFHACIJK"}});l({target:"Array",proto:!0,forced:A||!O||!R||!$},{sort:function(B){B!==void 0&&c(B);var M=u(this);if($)return B===void 0?N.call(M):N.call(M,B);var z,W,V=[],q=d(M.length);for(W=0;W<q;W++)W in M&&V.push(M[W]);for(z=(V=m(V,function(H){return function(K,F){return F===void 0?-1:K===void 0?1:H!==void 0?+H(K,F)||0:h(K)>h(F)?1:-1}}(B))).length,W=0;W<z;)M[W]=V[W++];for(;W<q;)delete M[W++];return M}})},561:(i,a,o)=>{var l=o(2109),c=o(1400),u=o(9958),d=o(7466),h=o(7908),p=o(5417),m=o(6135),f=o(1194)("splice"),b=Math.max,w=Math.min,g=9007199254740991,C="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!f},{splice:function(N,A){var O,R,$,D,B,M,z=h(this),W=d(z.length),V=c(N,W),q=arguments.length;if(q===0?O=R=0:q===1?(O=0,R=W-V):(O=q-2,R=w(b(u(A),0),W-V)),W+O-R>g)throw TypeError(C);for($=p(z,R),D=0;D<R;D++)(B=V+D)in z&&m($,D,z[B]);if($.length=R,O<R){for(D=V;D<W-R;D++)M=D+O,(B=D+R)in z?z[M]=z[B]:delete z[M];for(D=W;D>W-R+O;D--)delete z[D-1]}else if(O>R)for(D=W-R;D>V;D--)M=D+O-1,(B=D+R-1)in z?z[M]=z[B]:delete z[M];for(D=0;D<O;D++)z[D+V]=arguments[D+2];return z.length=W-R+O,$}})},3710:(i,a,o)=>{var l=o(1320),c=Date.prototype,u="Invalid Date",d="toString",h=c.toString,p=c.getTime;String(new Date(NaN))!=u&&l(c,d,function(){var f=p.call(this);return f==f?h.call(this):u})},4812:(i,a,o)=>{o(2109)({target:"Function",proto:!0},{bind:o(7065)})},8309:(i,a,o)=>{var l=o(9781),c=o(3070).f,u=Function.prototype,d=u.toString,h=/^\s*function ([^ (]*)/,p="name";l&&!(p in u)&&c(u,p,{configurable:!0,get:function(){try{return d.call(this).match(h)[1]}catch{return""}}})},9653:(i,a,o)=>{var l=o(9781),c=o(7854),u=o(4705),d=o(1320),h=o(6656),p=o(4326),m=o(9587),f=o(2190),b=o(7593),w=o(7293),g=o(30),C=o(8006).f,k=o(1236).f,N=o(3070).f,A=o(3111).trim,O="Number",R=c.Number,$=R.prototype,D=p(g($))==O,B=function(q){if(f(q))throw TypeError("Cannot convert a Symbol value to a number");var H,K,F,ie,de,ee,J,ae,ue=b(q,"number");if(typeof ue=="string"&&ue.length>2){if((H=(ue=A(ue)).charCodeAt(0))===43||H===45){if((K=ue.charCodeAt(2))===88||K===120)return NaN}else if(H===48){switch(ue.charCodeAt(1)){case 66:case 98:F=2,ie=49;break;case 79:case 111:F=8,ie=55;break;default:return+ue}for(ee=(de=ue.slice(2)).length,J=0;J<ee;J++)if((ae=de.charCodeAt(J))<48||ae>ie)return NaN;return parseInt(de,F)}}return+ue};if(u(O,!R(" 0o1")||!R("0b1")||R("+0x1"))){for(var M,z=function(H){var K=arguments.length<1?0:H,F=this;return F instanceof z&&(D?w(function(){$.valueOf.call(F)}):p(F)!=O)?m(new R(B(K)),F,z):B(K)},W=l?C(R):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),V=0;W.length>V;V++)h(R,M=W[V])&&!h(z,M)&&N(z,M,k(R,M));z.prototype=$,$.constructor=z,d(c,O,z)}},9601:(i,a,o)=>{var l=o(2109),c=o(1574);l({target:"Object",stat:!0,forced:Object.assign!==c},{assign:c})},3321:(i,a,o)=>{var l=o(2109),c=o(9781);l({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperties:o(6048)})},9070:(i,a,o)=>{var l=o(2109),c=o(9781);l({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperty:o(3070).f})},9720:(i,a,o)=>{var l=o(2109),c=o(4699).entries;l({target:"Object",stat:!0},{entries:function(d){return c(d)}})},5003:(i,a,o)=>{var l=o(2109),c=o(7293),u=o(5656),d=o(1236).f,h=o(9781),p=c(function(){d(1)});l({target:"Object",stat:!0,forced:!h||p,sham:!h},{getOwnPropertyDescriptor:function(f,b){return d(u(f),b)}})},9337:(i,a,o)=>{var l=o(2109),c=o(9781),u=o(3887),d=o(5656),h=o(1236),p=o(6135);l({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(f){for(var b,w,g=d(f),C=h.f,k=u(g),N={},A=0;k.length>A;)(w=C(g,b=k[A++]))!==void 0&&p(N,b,w);return N}})},7941:(i,a,o)=>{var l=o(2109),c=o(7908),u=o(1956);l({target:"Object",stat:!0,forced:o(7293)(function(){u(1)})},{keys:function(h){return u(c(h))}})},1539:(i,a,o)=>{var l=o(1694),c=o(1320),u=o(288);l||c(Object.prototype,"toString",u,{unsafe:!0})},1058:(i,a,o)=>{var l=o(2109),c=o(3009);l({global:!0,forced:parseInt!=c},{parseInt:c})},8674:(i,a,o)=>{var l,c,u,d,h=o(2109),p=o(1913),m=o(7854),f=o(5005),b=o(3366),w=o(1320),g=o(2248),C=o(7674),k=o(8003),N=o(6340),A=o(111),O=o(3099),R=o(5787),$=o(2788),D=o(408),B=o(7072),M=o(6707),z=o(261).set,W=o(5948),V=o(9478),q=o(842),H=o(8523),K=o(2534),F=o(9909),ie=o(4705),de=o(5112),ee=o(7871),J=o(5268),ae=o(7392),ue=de("species"),le="Promise",Ee=F.get,ze=F.set,Pe=F.getterFor(le),Ke=b&&b.prototype,Ye=b,We=Ke,ot=m.TypeError,Je=m.document,Le=m.process,dt=H.f,Ct=dt,Ae=!!(Je&&Je.createEvent&&m.dispatchEvent),rt=typeof PromiseRejectionEvent=="function",fe="unhandledrejection",Fe=!1,nt=ie(le,function(){var Ne=$(Ye),Me=Ne!==String(Ye);if(!Me&&ae===66||p&&!We.finally)return!0;if(ae>=51&&/native code/.test(Ne))return!1;var ct=new Ye(function(Ie){Ie(1)}),Be=function(Ie){Ie(function(){},function(){})};return(ct.constructor={})[ue]=Be,!(Fe=ct.then(function(){})instanceof Be)||!Me&&ee&&!rt}),Ce=nt||!B(function(Ne){Ye.all(Ne).catch(function(){})}),_e=function(Ne){var Me;return!(!A(Ne)||typeof(Me=Ne.then)!="function")&&Me},Y=function(Ne,Me){if(!Ne.notified){Ne.notified=!0;var ct=Ne.reactions;W(function(){for(var Be=Ne.value,Ie=Ne.state==1,Ze=0;ct.length>Ze;){var pt,kt,Kt,Hn=ct[Ze++],ur=Ie?Hn.ok:Hn.fail,Zn=Hn.resolve,Dr=Hn.reject,Wn=Hn.domain;try{ur?(Ie||(Ne.rejection===2&&Nt(Ne),Ne.rejection=1),ur===!0?pt=Be:(Wn&&Wn.enter(),pt=ur(Be),Wn&&(Wn.exit(),Kt=!0)),pt===Hn.promise?Dr(ot("Promise-chain cycle")):(kt=_e(pt))?kt.call(pt,Zn,Dr):Zn(pt)):Dr(Be)}catch(Er){Wn&&!Kt&&Wn.exit(),Dr(Er)}}Ne.reactions=[],Ne.notified=!1,Me&&!Ne.rejection&&ge(Ne)})}},me=function(Ne,Me,ct){var Be,Ie;Ae?((Be=Je.createEvent("Event")).promise=Me,Be.reason=ct,Be.initEvent(Ne,!1,!0),m.dispatchEvent(Be)):Be={promise:Me,reason:ct},!rt&&(Ie=m["on"+Ne])?Ie(Be):Ne===fe&&q("Unhandled promise rejection",ct)},ge=function(Ne){z.call(m,function(){var Me,ct=Ne.facade,Be=Ne.value;if(Ve(Ne)&&(Me=K(function(){J?Le.emit("unhandledRejection",Be,ct):me(fe,ct,Be)}),Ne.rejection=J||Ve(Ne)?2:1,Me.error))throw Me.value})},Ve=function(Ne){return Ne.rejection!==1&&!Ne.parent},Nt=function(Ne){z.call(m,function(){var Me=Ne.facade;J?Le.emit("rejectionHandled",Me):me("rejectionhandled",Me,Ne.value)})},hn=function(Ne,Me,ct){return function(Be){Ne(Me,Be,ct)}},Lt=function(Ne,Me,ct){Ne.done||(Ne.done=!0,ct&&(Ne=ct),Ne.value=Me,Ne.state=2,Y(Ne,!0))},Sn=function(Ne,Me,ct){if(!Ne.done){Ne.done=!0,ct&&(Ne=ct);try{if(Ne.facade===Me)throw ot("Promise can't be resolved itself");var Be=_e(Me);Be?W(function(){var Ie={done:!1};try{Be.call(Me,hn(Sn,Ie,Ne),hn(Lt,Ie,Ne))}catch(Ze){Lt(Ie,Ze,Ne)}}):(Ne.value=Me,Ne.state=1,Y(Ne,!1))}catch(Ie){Lt({done:!1},Ie,Ne)}}};if(nt&&(We=(Ye=function(Me){R(this,Ye,le),O(Me),l.call(this);var ct=Ee(this);try{Me(hn(Sn,ct),hn(Lt,ct))}catch(Be){Lt(ct,Be)}}).prototype,(l=function(Me){ze(this,{type:le,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=g(We,{then:function(Me,ct){var Be=Pe(this),Ie=dt(M(this,Ye));return Ie.ok=typeof Me!="function"||Me,Ie.fail=typeof ct=="function"&&ct,Ie.domain=J?Le.domain:void 0,Be.parent=!0,Be.reactions.push(Ie),Be.state!=0&&Y(Be,!1),Ie.promise},catch:function(Ne){return this.then(void 0,Ne)}}),c=function(){var Ne=new l,Me=Ee(Ne);this.promise=Ne,this.resolve=hn(Sn,Me),this.reject=hn(Lt,Me)},H.f=dt=function(Ne){return Ne===Ye||Ne===u?new c(Ne):Ct(Ne)},!p&&typeof b=="function"&&Ke!==Object.prototype)){d=Ke.then,Fe||(w(Ke,"then",function(Me,ct){var Be=this;return new Ye(function(Ie,Ze){d.call(Be,Ie,Ze)}).then(Me,ct)},{unsafe:!0}),w(Ke,"catch",We.catch,{unsafe:!0}));try{delete Ke.constructor}catch{}C&&C(Ke,We)}h({global:!0,wrap:!0,forced:nt},{Promise:Ye}),k(Ye,le,!1,!0),N(le),u=f(le),h({target:le,stat:!0,forced:nt},{reject:function(Me){var ct=dt(this);return ct.reject.call(void 0,Me),ct.promise}}),h({target:le,stat:!0,forced:p||nt},{resolve:function(Me){return V(p&&this===u?Ye:this,Me)}}),h({target:le,stat:!0,forced:Ce},{all:function(Me){var ct=this,Be=dt(ct),Ie=Be.resolve,Ze=Be.reject,pt=K(function(){var kt=O(ct.resolve),Kt=[],Hn=0,ur=1;D(Me,function(Zn){var Dr=Hn++,Wn=!1;Kt.push(void 0),ur++,kt.call(ct,Zn).then(function(Er){Wn||(Wn=!0,Kt[Dr]=Er,--ur||Ie(Kt))},Ze)}),--ur||Ie(Kt)});return pt.error&&Ze(pt.value),Be.promise},race:function(Me){var ct=this,Be=dt(ct),Ie=Be.reject,Ze=K(function(){var pt=O(ct.resolve);D(Me,function(kt){pt.call(ct,kt).then(Be.resolve,Ie)})});return Ze.error&&Ie(Ze.value),Be.promise}})},2419:(i,a,o)=>{var l=o(2109),c=o(5005),u=o(3099),d=o(9670),h=o(111),p=o(30),m=o(7065),f=o(7293),b=c("Reflect","construct"),w=f(function(){function k(){}return!(b(function(){},[],k)instanceof k)}),g=!f(function(){b(function(){})}),C=w||g;l({target:"Reflect",stat:!0,forced:C,sham:C},{construct:function(N,A){u(N),d(A);var O=arguments.length<3?N:u(arguments[2]);if(g&&!w)return b(N,A,O);if(N==O){switch(A.length){case 0:return new N;case 1:return new N(A[0]);case 2:return new N(A[0],A[1]);case 3:return new N(A[0],A[1],A[2]);case 4:return new N(A[0],A[1],A[2],A[3])}var R=[null];return R.push.apply(R,A),new(m.apply(N,R))}var $=O.prototype,D=p(h($)?$:Object.prototype),B=Function.apply.call(N,D,A);return h(B)?B:D}})},4916:(i,a,o)=>{var l=o(2109),c=o(2261);l({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},9714:(i,a,o)=>{var l=o(1320),c=o(9670),u=o(1340),d=o(7293),h=o(7066),p="toString",m=RegExp.prototype,f=m.toString,b=d(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),w=f.name!=p;(b||w)&&l(RegExp.prototype,p,function(){var C=c(this),k=u(C.source),N=C.flags;return"/"+k+"/"+u(N===void 0&&C instanceof RegExp&&!("flags"in m)?h.call(C):N)},{unsafe:!0})},2023:(i,a,o)=>{var l=o(2109),c=o(3929),u=o(4488),d=o(1340);l({target:"String",proto:!0,forced:!o(4964)("includes")},{includes:function(p){return!!~d(u(this)).indexOf(d(c(p)),arguments.length>1?arguments[1]:void 0)}})},8783:(i,a,o)=>{var l=o(8710).charAt,c=o(1340),u=o(9909),d=o(654),h="String Iterator",p=u.set,m=u.getterFor(h);d(String,"String",function(f){p(this,{type:h,string:c(f),index:0})},function(){var b,w=m(this),g=w.string,C=w.index;return C>=g.length?{value:void 0,done:!0}:(b=l(g,C),w.index+=b.length,{value:b,done:!1})})},2481:(i,a,o)=>{o(2109)({target:"String",proto:!0},{repeat:o(8415)})},5306:(i,a,o)=>{var l=o(7007),c=o(7293),u=o(9670),d=o(9958),h=o(7466),p=o(1340),m=o(4488),f=o(1530),b=o(647),w=o(7651),g=o(5112)("replace"),C=Math.max,k=Math.min,N="a".replace(/./,"$0")==="$0",A=!!/./[g]&&/./[g]("a","$0")==="";l("replace",function(O,R,$){var D=A?"$":"$0";return[function(M,z){var W=m(this),V=M==null?void 0:M[g];return V!==void 0?V.call(M,W,z):R.call(p(W),M,z)},function(B,M){var z=u(this),W=p(B);if(typeof M=="string"&&M.indexOf(D)===-1&&M.indexOf("$<")===-1){var V=$(R,z,W,M);if(V.done)return V.value}var q=typeof M=="function";q||(M=p(M));var H=z.global;if(H){var K=z.unicode;z.lastIndex=0}for(var F=[];;){var ie=w(z,W);if(ie===null||(F.push(ie),!H))break;p(ie[0])===""&&(z.lastIndex=f(W,h(z.lastIndex),K))}for(var de,ee="",J=0,ae=0;ae<F.length;ae++){ie=F[ae];for(var ue=p(ie[0]),le=C(k(d(ie.index),W.length),0),Ee=[],ze=1;ze<ie.length;ze++)Ee.push((de=ie[ze])===void 0?de:String(de));var Pe=ie.groups;if(q){var Ke=[ue].concat(Ee,le,W);Pe!==void 0&&Ke.push(Pe);var Ye=p(M.apply(void 0,Ke))}else Ye=b(ue,W,le,Ee,Pe,M);le>=J&&(ee+=W.slice(J,le)+Ye,J=le+ue.length)}return ee+W.slice(J)}]},!!c(function(){var O=/./;return O.exec=function(){var R=[];return R.groups={a:"7"},R},"".replace(O,"$<a>")!=="7"})||!N||A)},4765:(i,a,o)=>{var l=o(7007),c=o(9670),u=o(4488),d=o(1150),h=o(1340),p=o(7651);l("search",function(m,f,b){return[function(g){var C=u(this),k=g==null?void 0:g[m];return k!==void 0?k.call(g,C):new RegExp(g)[m](h(C))},function(w){var g=c(this),C=h(w),k=b(f,g,C);if(k.done)return k.value;var N=g.lastIndex;d(N,0)||(g.lastIndex=0);var A=p(g,C);return d(g.lastIndex,N)||(g.lastIndex=N),A===null?-1:A.index}]})},3123:(i,a,o)=>{var l=o(7007),c=o(7850),u=o(9670),d=o(4488),h=o(6707),p=o(1530),m=o(7466),f=o(1340),b=o(7651),w=o(2261),g=o(2999),C=o(7293),k=g.UNSUPPORTED_Y,N=[].push,A=Math.min,O=4294967295;l("split",function(R,$,D){var B;return B="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(M,z){var W=f(d(this)),V=z===void 0?O:z>>>0;if(V===0)return[];if(M===void 0)return[W];if(!c(M))return $.call(W,M,V);for(var q,H,K,F=[],ie=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),de=0,ee=new RegExp(M.source,ie+"g");(q=w.call(ee,W))&&!((H=ee.lastIndex)>de&&(F.push(W.slice(de,q.index)),q.length>1&&q.index<W.length&&N.apply(F,q.slice(1)),K=q[0].length,de=H,F.length>=V));)ee.lastIndex===q.index&&ee.lastIndex++;return de===W.length?!K&&ee.test("")||F.push(""):F.push(W.slice(de)),F.length>V?F.slice(0,V):F}:"0".split(void 0,0).length?function(M,z){return M===void 0&&z===0?[]:$.call(this,M,z)}:$,[function(z,W){var V=d(this),q=z==null?void 0:z[R];return q!==void 0?q.call(z,V,W):B.call(f(V),z,W)},function(M,z){var W=u(this),V=f(M),q=D(B,W,V,z,B!==$);if(q.done)return q.value;var H=h(W,RegExp),K=W.unicode,F=(W.ignoreCase?"i":"")+(W.multiline?"m":"")+(W.unicode?"u":"")+(k?"g":"y"),ie=new H(k?"^(?:"+W.source+")":W,F),de=z===void 0?O:z>>>0;if(de===0)return[];if(V.length===0)return b(ie,V)===null?[V]:[];for(var ee=0,J=0,ae=[];J<V.length;){ie.lastIndex=k?0:J;var ue,le=b(ie,k?V.slice(J):V);if(le===null||(ue=A(m(ie.lastIndex+(k?J:0)),V.length))===ee)J=p(V,J,K);else{if(ae.push(V.slice(ee,J)),ae.length===de)return ae;for(var Ee=1;Ee<=le.length-1;Ee++)if(ae.push(le[Ee]),ae.length===de)return ae;J=ee=ue}}return ae.push(V.slice(ee)),ae}]},!!C(function(){var R=/(?:)/,$=R.exec;R.exec=function(){return $.apply(this,arguments)};var D="ab".split(R);return D.length!==2||D[0]!=="a"||D[1]!=="b"}),k)},3210:(i,a,o)=>{var l=o(2109),c=o(3111).trim;l({target:"String",proto:!0,forced:o(6091)("trim")},{trim:function(){return c(this)}})},1817:(i,a,o)=>{var l=o(2109),c=o(9781),u=o(7854),d=o(6656),h=o(111),p=o(3070).f,m=o(9920),f=u.Symbol;if(c&&typeof f=="function"&&(!("description"in f.prototype)||f().description!==void 0)){var b={},w=function(){var O=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),R=this instanceof w?new f(O):O===void 0?f():f(O);return O===""&&(b[R]=!0),R};m(w,f);var g=w.prototype=f.prototype;g.constructor=w;var C=g.toString,k=String(f("test"))=="Symbol(test)",N=/^Symbol\((.*)\)[^)]+$/;p(g,"description",{configurable:!0,get:function(){var O=h(this)?this.valueOf():this,R=C.call(O);if(d(b,O))return"";var $=k?R.slice(7,-1):R.replace(N,"$1");return $===""?void 0:$}}),l({global:!0,forced:!0},{Symbol:w})}},2165:(i,a,o)=>{o(7235)("iterator")},2526:(i,a,o)=>{var l=o(2109),c=o(7854),u=o(5005),d=o(1913),h=o(9781),p=o(133),m=o(7293),f=o(6656),b=o(3157),w=o(111),g=o(2190),C=o(9670),k=o(7908),N=o(5656),A=o(4948),O=o(1340),R=o(9114),$=o(30),D=o(1956),B=o(8006),M=o(1156),z=o(5181),W=o(1236),V=o(3070),q=o(5296),H=o(8880),K=o(1320),F=o(2309),ie=o(6200),de=o(3501),ee=o(9711),J=o(5112),ae=o(6061),ue=o(7235),le=o(8003),Ee=o(9909),ze=o(2092).forEach,Pe=ie("hidden"),Ke="Symbol",Ye=J("toPrimitive"),We=Ee.set,ot=Ee.getterFor(Ke),Je=Object.prototype,Le=c.Symbol,dt=u("JSON","stringify"),Ct=W.f,Ae=V.f,rt=M.f,fe=q.f,Fe=F("symbols"),nt=F("op-symbols"),Ce=F("string-to-symbol-registry"),_e=F("symbol-to-string-registry"),Y=F("wks"),me=c.QObject,ge=!me||!me.prototype||!me.prototype.findChild,Ve=h&&m(function(){return $(Ae({},"a",{get:function(){return Ae(this,"a",{value:7}).a}})).a!=7})?function(Be,Ie,Ze){var pt=Ct(Je,Ie);pt&&delete Je[Ie],Ae(Be,Ie,Ze),pt&&Be!==Je&&Ae(Je,Ie,pt)}:Ae,Nt=function(Be,Ie){var Ze=Fe[Be]=$(Le.prototype);return We(Ze,{type:Ke,tag:Be,description:Ie}),h||(Ze.description=Ie),Ze},hn=function(Ie,Ze,pt){Ie===Je&&hn(nt,Ze,pt),C(Ie);var kt=A(Ze);return C(pt),f(Fe,kt)?(pt.enumerable?(f(Ie,Pe)&&Ie[Pe][kt]&&(Ie[Pe][kt]=!1),pt=$(pt,{enumerable:R(0,!1)})):(f(Ie,Pe)||Ae(Ie,Pe,R(1,{})),Ie[Pe][kt]=!0),Ve(Ie,kt,pt)):Ae(Ie,kt,pt)},Lt=function(Ie,Ze){C(Ie);var pt=N(Ze),kt=D(pt).concat(ct(pt));return ze(kt,function(Kt){h&&!Sn.call(pt,Kt)||hn(Ie,Kt,pt[Kt])}),Ie},Sn=function(Ie){var Ze=A(Ie),pt=fe.call(this,Ze);return!(this===Je&&f(Fe,Ze)&&!f(nt,Ze))&&(!(pt||!f(this,Ze)||!f(Fe,Ze)||f(this,Pe)&&this[Pe][Ze])||pt)},Ne=function(Ie,Ze){var pt=N(Ie),kt=A(Ze);if(pt!==Je||!f(Fe,kt)||f(nt,kt)){var Kt=Ct(pt,kt);return!Kt||!f(Fe,kt)||f(pt,Pe)&&pt[Pe][kt]||(Kt.enumerable=!0),Kt}},Me=function(Ie){var Ze=rt(N(Ie)),pt=[];return ze(Ze,function(kt){f(Fe,kt)||f(de,kt)||pt.push(kt)}),pt},ct=function(Ie){var Ze=Ie===Je,pt=rt(Ze?nt:N(Ie)),kt=[];return ze(pt,function(Kt){!f(Fe,Kt)||Ze&&!f(Je,Kt)||kt.push(Fe[Kt])}),kt};p||(K((Le=function(){if(this instanceof Le)throw TypeError("Symbol is not a constructor");var Ie=arguments.length&&arguments[0]!==void 0?O(arguments[0]):void 0,Ze=ee(Ie),pt=function(kt){this===Je&&pt.call(nt,kt),f(this,Pe)&&f(this[Pe],Ze)&&(this[Pe][Ze]=!1),Ve(this,Ze,R(1,kt))};return h&&ge&&Ve(Je,Ze,{configurable:!0,set:pt}),Nt(Ze,Ie)}).prototype,"toString",function(){return ot(this).tag}),K(Le,"withoutSetter",function(Be){return Nt(ee(Be),Be)}),q.f=Sn,V.f=hn,W.f=Ne,B.f=M.f=Me,z.f=ct,ae.f=function(Be){return Nt(J(Be),Be)},h&&(Ae(Le.prototype,"description",{configurable:!0,get:function(){return ot(this).description}}),d||K(Je,"propertyIsEnumerable",Sn,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Le}),ze(D(Y),function(Be){ue(Be)}),l({target:Ke,stat:!0,forced:!p},{for:function(Be){var Ie=O(Be);if(f(Ce,Ie))return Ce[Ie];var Ze=Le(Ie);return Ce[Ie]=Ze,_e[Ze]=Ie,Ze},keyFor:function(Ie){if(!g(Ie))throw TypeError(Ie+" is not a symbol");if(f(_e,Ie))return _e[Ie]},useSetter:function(){ge=!0},useSimple:function(){ge=!1}}),l({target:"Object",stat:!0,forced:!p,sham:!h},{create:function(Ie,Ze){return Ze===void 0?$(Ie):Lt($(Ie),Ze)},defineProperty:hn,defineProperties:Lt,getOwnPropertyDescriptor:Ne}),l({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:Me,getOwnPropertySymbols:ct}),l({target:"Object",stat:!0,forced:m(function(){z.f(1)})},{getOwnPropertySymbols:function(Ie){return z.f(k(Ie))}}),dt&&l({target:"JSON",stat:!0,forced:!p||m(function(){var Be=Le();return dt([Be])!="[null]"||dt({a:Be})!="{}"||dt(Object(Be))!="{}"})},{stringify:function(Ie,Ze,pt){for(var kt,Kt=[Ie],Hn=1;arguments.length>Hn;)Kt.push(arguments[Hn++]);if(kt=Ze,(w(Ze)||Ie!==void 0)&&!g(Ie))return b(Ze)||(Ze=function(ur,Zn){if(typeof kt=="function"&&(Zn=kt.call(this,ur,Zn)),!g(Zn))return Zn}),Kt[1]=Ze,dt.apply(null,Kt)}}),Le.prototype[Ye]||H(Le.prototype,Ye,Le.prototype.valueOf),le(Le,Ke),de[Pe]=!0},4129:(i,a,o)=>{var l,c=o(7854),u=o(2248),d=o(2423),h=o(7710),p=o(9320),m=o(111),f=o(9909).enforce,b=o(8536),w=!c.ActiveXObject&&"ActiveXObject"in c,g=Object.isExtensible,C=function(D){return function(){return D(this,arguments.length?arguments[0]:void 0)}},k=i.exports=h("WeakMap",C,p);if(b&&w){l=p.getConstructor(C,"WeakMap",!0),d.enable();var N=k.prototype,A=N.delete,O=N.has,R=N.get,$=N.set;u(N,{delete:function(D){if(m(D)&&!g(D)){var B=f(this);return B.frozen||(B.frozen=new l),A.call(this,D)||B.frozen.delete(D)}return A.call(this,D)},has:function(B){if(m(B)&&!g(B)){var M=f(this);return M.frozen||(M.frozen=new l),O.call(this,B)||M.frozen.has(B)}return O.call(this,B)},get:function(B){if(m(B)&&!g(B)){var M=f(this);return M.frozen||(M.frozen=new l),O.call(this,B)?R.call(this,B):M.frozen.get(B)}return R.call(this,B)},set:function(B,M){if(m(B)&&!g(B)){var z=f(this);z.frozen||(z.frozen=new l),O.call(this,B)?$.call(this,B,M):z.frozen.set(B,M)}else $.call(this,B,M);return this}})}},4747:(i,a,o)=>{var l=o(7854),c=o(8324),u=o(8533),d=o(8880);for(var h in c){var p=l[h],m=p&&p.prototype;if(m&&m.forEach!==u)try{d(m,"forEach",u)}catch{m.forEach=u}}},3948:(i,a,o)=>{var l=o(7854),c=o(8324),u=o(6992),d=o(8880),h=o(5112),p=h("iterator"),m=h("toStringTag"),f=u.values;for(var b in c){var w=l[b],g=w&&w.prototype;if(g){if(g[p]!==f)try{d(g,p,f)}catch{g[p]=f}if(g[m]||d(g,m,b),c[b]){for(var C in u)if(g[C]!==u[C])try{d(g,C,u[C])}catch{g[C]=u[C]}}}}},7950:(i,a,o)=>{o.d(a,{Z:()=>h});var l=o(7537),c=o.n(l),u=o(3645),d=o.n(u)()(c());d.push([i.id,`
.headless-modal {
    height: 100%;
    width: 100%;
    background: none;
    position: fixed;
    top:0;
    left: 0;
}
.headless-container {
    position: fixed;
    bottom:0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #FAFAFA;
    z-index: 1000000;
    text-align: center;
    box-shadow: 0px 0px 0 1400px rgb(0 0 0 / 20%);
    color: #2B2D42;
    display: block;
    max-height: 330px;
}
.headless-container .d-flex-cross {
    display: flex;
    justify-content: space-between;
    margin-bottom: 2rem;
    position: absolute;
    right: 20px;
    top: 20px;
}
.headless-container .gap {
    width: 100vw;
    position: relative;
    border-bottom: 1px solid #E6E9EE;
    left: calc(-50vw + 50%);
}
.headless-container .otp-data {
    background: #FFFFFF;
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.06);
    border-radius: 4px;
    text-align: center;
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 1rem 1.5rem;
}
.headless-container .otp-text {
    color: #2B2D42;
    padding-top: 32px;
    padding-bottom: 24px;
    font-weight: 600;
    font-size: 1.25rem;
}
.headless-container .otp-subtext {
    color: #6B6C7B;
    margin-bottom: 1rem;
    font-weight: 400;
    font-size: 0.75rem;
}

.headless-container .otp-input-div {
    width: 70%;
    margin: auto;
}

.headless-container .otp-input {
    height: 2.8rem;
    width: 100%;
    margin-bottom: 1rem;
    font-size: 1rem;
    padding: 0 0.5rem;
    border-radius: 0.533rem;
    border: 1px solid gray;
}
.headless-container .otp-input-resend {
    cursor: pointer;
    color: #6930CA;
    text-align: right;
    font-weight: 600;
    font-size: 0.75rem;
}
.headless-container .btn {
    padding: 11px 16px;
    align-items: center;
    text-align: center;
    background: none;
    height: 40px;
    border-radius: 6px;
    cursor: pointer;
}
.headless-container .cancel-btn {
    border: 1px solid #6930CA;
    margin-right: 1rem;
    color: #6930CA;
    width: 30%;
    padding: 0px;
}
.headless-container .submit-btn {
    background: #6930CA;
    border-radius: 6px;    
    color: #FFFFFF;
    border: none;
    position: relative;
    width: 50%;
    padding: 0px;
}
.headless-container .btn-div {
    padding-bottom: 2rem;
    margin-top: 2rem;
}
.headless-container svg {
    cursor: pointer;
}
.headless-container .submit-btn:disabled::after {
    content: "";
    position: absolute;
    display: block;
    background-color: white;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0.4;
    cursor: default;
}

.headless-container .headless-loader {
    width: 100%;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
    display: none;
    z-index: 4000;
    background: rgba(0,0,0,0.1);
}

.headless-container .error-msg {    
    margin-top: 0.5rem;
    color: #e7474a !important;
    font-size: 0.75rem;
}

.headless-container .bank-page {
    color: #6930CA;
    font-weight: 600;
    font-size: 0.75rem;
    align-items: center;
    display: flex;
    justify-content: center;
    cursor: pointer;
}

.headless-container .bank-page svg {
    margin-left: 0.5rem;
}

.headless-container .card-details {
    text-align: left;
}

.headless-container .card-details .card-title {
    font-weight: 400;
    font-size: 12px;
    line-height: 16px;
    color: #6B6C7B;
    display: inline-block;
    margin-right: 0.5rem;
}

.headless-container .card-details .card-desc {
    font-weight: 400;
    font-size: 12px;
    line-height: 16px;
    color: #6B6C7B;
}

.headless-container .card-details .card-data {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    color: #6B6C7B;
    justify-content: center;
}

.headless-container .mb-10 {
    margin-bottom: 10px;
}

.headless-container .right-div {
    width: 100%;
    text-align: right; 
}`,"",{version:3,sources:["webpack://./src/core/Headless.css"],names:[],mappings:";AACA;IACI,YAAY;IACZ,WAAW;IACX,gBAAgB;IAChB,eAAe;IACf,KAAK;IACL,OAAO;AACX;AACA;IACI,eAAe;IACf,QAAQ;IACR,OAAO;IACP,WAAW;IACX,YAAY;IACZ,mBAAmB;IACnB,gBAAgB;IAChB,kBAAkB;IAClB,6CAA6C;IAC7C,cAAc;IACd,cAAc;IACd,iBAAiB;AACrB;AACA;IACI,aAAa;IACb,8BAA8B;IAC9B,mBAAmB;IACnB,kBAAkB;IAClB,WAAW;IACX,SAAS;AACb;AACA;IACI,YAAY;IACZ,kBAAkB;IAClB,gCAAgC;IAChC,uBAAuB;AAC3B;AACA;IACI,mBAAmB;IACnB,2CAA2C;IAC3C,kBAAkB;IAClB,kBAAkB;IAClB,YAAY;IACZ,WAAW;IACX,SAAS;IACT,oBAAoB;AACxB;AACA;IACI,cAAc;IACd,iBAAiB;IACjB,oBAAoB;IACpB,gBAAgB;IAChB,kBAAkB;AACtB;AACA;IACI,cAAc;IACd,mBAAmB;IACnB,gBAAgB;IAChB,kBAAkB;AACtB;;AAEA;IACI,UAAU;IACV,YAAY;AAChB;;AAEA;IACI,cAAc;IACd,WAAW;IACX,mBAAmB;IACnB,eAAe;IACf,iBAAiB;IACjB,uBAAuB;IACvB,sBAAsB;AAC1B;AACA;IACI,eAAe;IACf,cAAc;IACd,iBAAiB;IACjB,gBAAgB;IAChB,kBAAkB;AACtB;AACA;IACI,kBAAkB;IAClB,mBAAmB;IACnB,kBAAkB;IAClB,gBAAgB;IAChB,YAAY;IACZ,kBAAkB;IAClB,eAAe;AACnB;AACA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,cAAc;IACd,UAAU;IACV,YAAY;AAChB;AACA;IACI,mBAAmB;IACnB,kBAAkB;IAClB,cAAc;IACd,YAAY;IACZ,kBAAkB;IAClB,UAAU;IACV,YAAY;AAChB;AACA;IACI,oBAAoB;IACpB,gBAAgB;AACpB;AACA;IACI,eAAe;AACnB;AACA;IACI,WAAW;IACX,kBAAkB;IAClB,cAAc;IACd,uBAAuB;IACvB,WAAW;IACX,YAAY;IACZ,MAAM;IACN,OAAO;IACP,YAAY;IACZ,eAAe;AACnB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,OAAO;IACP,MAAM;IACN,aAAa;IACb,aAAa;IACb,2BAA2B;AAC/B;;AAEA;IACI,kBAAkB;IAClB,yBAAyB;IACzB,kBAAkB;AACtB;;AAEA;IACI,cAAc;IACd,gBAAgB;IAChB,kBAAkB;IAClB,mBAAmB;IACnB,aAAa;IACb,uBAAuB;IACvB,eAAe;AACnB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,cAAc;IACd,qBAAqB;IACrB,oBAAoB;AACxB;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,mBAAmB;IACnB,cAAc;IACd,uBAAuB;AAC3B;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,WAAW;IACX,iBAAiB;AACrB",sourcesContent:[`
.headless-modal {
    height: 100%;
    width: 100%;
    background: none;
    position: fixed;
    top:0;
    left: 0;
}
.headless-container {
    position: fixed;
    bottom:0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #FAFAFA;
    z-index: 1000000;
    text-align: center;
    box-shadow: 0px 0px 0 1400px rgb(0 0 0 / 20%);
    color: #2B2D42;
    display: block;
    max-height: 330px;
}
.headless-container .d-flex-cross {
    display: flex;
    justify-content: space-between;
    margin-bottom: 2rem;
    position: absolute;
    right: 20px;
    top: 20px;
}
.headless-container .gap {
    width: 100vw;
    position: relative;
    border-bottom: 1px solid #E6E9EE;
    left: calc(-50vw + 50%);
}
.headless-container .otp-data {
    background: #FFFFFF;
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.06);
    border-radius: 4px;
    text-align: center;
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 1rem 1.5rem;
}
.headless-container .otp-text {
    color: #2B2D42;
    padding-top: 32px;
    padding-bottom: 24px;
    font-weight: 600;
    font-size: 1.25rem;
}
.headless-container .otp-subtext {
    color: #6B6C7B;
    margin-bottom: 1rem;
    font-weight: 400;
    font-size: 0.75rem;
}

.headless-container .otp-input-div {
    width: 70%;
    margin: auto;
}

.headless-container .otp-input {
    height: 2.8rem;
    width: 100%;
    margin-bottom: 1rem;
    font-size: 1rem;
    padding: 0 0.5rem;
    border-radius: 0.533rem;
    border: 1px solid gray;
}
.headless-container .otp-input-resend {
    cursor: pointer;
    color: #6930CA;
    text-align: right;
    font-weight: 600;
    font-size: 0.75rem;
}
.headless-container .btn {
    padding: 11px 16px;
    align-items: center;
    text-align: center;
    background: none;
    height: 40px;
    border-radius: 6px;
    cursor: pointer;
}
.headless-container .cancel-btn {
    border: 1px solid #6930CA;
    margin-right: 1rem;
    color: #6930CA;
    width: 30%;
    padding: 0px;
}
.headless-container .submit-btn {
    background: #6930CA;
    border-radius: 6px;    
    color: #FFFFFF;
    border: none;
    position: relative;
    width: 50%;
    padding: 0px;
}
.headless-container .btn-div {
    padding-bottom: 2rem;
    margin-top: 2rem;
}
.headless-container svg {
    cursor: pointer;
}
.headless-container .submit-btn:disabled::after {
    content: "";
    position: absolute;
    display: block;
    background-color: white;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0.4;
    cursor: default;
}

.headless-container .headless-loader {
    width: 100%;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
    display: none;
    z-index: 4000;
    background: rgba(0,0,0,0.1);
}

.headless-container .error-msg {    
    margin-top: 0.5rem;
    color: #e7474a !important;
    font-size: 0.75rem;
}

.headless-container .bank-page {
    color: #6930CA;
    font-weight: 600;
    font-size: 0.75rem;
    align-items: center;
    display: flex;
    justify-content: center;
    cursor: pointer;
}

.headless-container .bank-page svg {
    margin-left: 0.5rem;
}

.headless-container .card-details {
    text-align: left;
}

.headless-container .card-details .card-title {
    font-weight: 400;
    font-size: 12px;
    line-height: 16px;
    color: #6B6C7B;
    display: inline-block;
    margin-right: 0.5rem;
}

.headless-container .card-details .card-desc {
    font-weight: 400;
    font-size: 12px;
    line-height: 16px;
    color: #6B6C7B;
}

.headless-container .card-details .card-data {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    color: #6B6C7B;
    justify-content: center;
}

.headless-container .mb-10 {
    margin-bottom: 10px;
}

.headless-container .right-div {
    width: 100%;
    text-align: right; 
}`],sourceRoot:""}]);const h=d},7251:(i,a,o)=>{o.d(a,{Z:()=>h});var l=o(7537),c=o.n(l),u=o(3645),d=o.n(u)()(c());d.push([i.id,`.intent-modal {
    height: 100%;
    width: 100%;
    background: none;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 214748364711;
}
.intent-modal-container {
    height: auto;
    background: #fafafa;
    text-align: center;
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.12);
    color: #2b2d42;
    padding: 2.5rem 1.40997983729rem;
    display: block;
    transform: translate(-50%, -50%);
    position: absolute;
    width: auto;
    width: 80%;
    border-radius: 0.53rem;
    max-width: 400px;
    min-width: 280px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.intent-modal-cross {
    position: absolute;
    right: -0.8rem;
    top: -0.8rem;
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 100%;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.intent-modal-app {
    background-color: rgb(58, 44, 218);
    padding: 10px 20px;
    border-radius: 8px;
    font-size: 16px;
    color: #fff;
    text-decoration: none;
}`,"",{version:3,sources:["webpack://./src/core/styles/Intent.css"],names:[],mappings:"AAAA;IACI,YAAY;IACZ,WAAW;IACX,gBAAgB;IAChB,eAAe;IACf,MAAM;IACN,OAAO;IACP,qBAAqB;AACzB;AACA;IACI,YAAY;IACZ,mBAAmB;IACnB,kBAAkB;IAClB,2CAA2C;IAC3C,cAAc;IACd,gCAAgC;IAChC,cAAc;IACd,gCAAgC;IAChC,kBAAkB;IAClB,WAAW;IACX,UAAU;IACV,sBAAsB;IACtB,gBAAgB;IAChB,gBAAgB;IAChB,QAAQ;IACR,SAAS;IACT,gCAAgC;AACpC;;AAEA;IACI,kBAAkB;IAClB,cAAc;IACd,YAAY;IACZ,aAAa;IACb,cAAc;IACd,mBAAmB;IACnB,gBAAgB;IAChB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,eAAe;AACnB;;AAEA;IACI,kCAAkC;IAClC,kBAAkB;IAClB,kBAAkB;IAClB,eAAe;IACf,WAAW;IACX,qBAAqB;AACzB",sourcesContent:[`.intent-modal {
    height: 100%;
    width: 100%;
    background: none;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 214748364711;
}
.intent-modal-container {
    height: auto;
    background: #fafafa;
    text-align: center;
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.12);
    color: #2b2d42;
    padding: 2.5rem 1.40997983729rem;
    display: block;
    transform: translate(-50%, -50%);
    position: absolute;
    width: auto;
    width: 80%;
    border-radius: 0.53rem;
    max-width: 400px;
    min-width: 280px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.intent-modal-cross {
    position: absolute;
    right: -0.8rem;
    top: -0.8rem;
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 100%;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.intent-modal-app {
    background-color: rgb(58, 44, 218);
    padding: 10px 20px;
    border-radius: 8px;
    font-size: 16px;
    color: #fff;
    text-decoration: none;
}`],sourceRoot:""}]);const h=d},3645:i=>{i.exports=function(a){var o=[];return o.toString=function(){return this.map(function(c){var u="",d=c[5]!==void 0;return c[4]&&(u+="@supports (".concat(c[4],") {")),c[2]&&(u+="@media ".concat(c[2]," {")),d&&(u+="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {")),u+=a(c),d&&(u+="}"),c[2]&&(u+="}"),c[4]&&(u+="}"),u}).join("")},o.i=function(c,u,d,h,p){typeof c=="string"&&(c=[[null,c,void 0]]);var m={};if(d)for(var f=0;f<this.length;f++){var b=this[f][0];b!=null&&(m[b]=!0)}for(var w=0;w<c.length;w++){var g=[].concat(c[w]);d&&m[g[0]]||(p!==void 0&&(g[5]===void 0||(g[1]="@layer".concat(g[5].length>0?" ".concat(g[5]):""," {").concat(g[1],"}")),g[5]=p),u&&(g[2]&&(g[1]="@media ".concat(g[2]," {").concat(g[1],"}")),g[2]=u),h&&(g[4]?(g[1]="@supports (".concat(g[4],") {").concat(g[1],"}"),g[4]=h):g[4]="".concat(h)),o.push(g))}},o}},7537:i=>{i.exports=function(a){var o=a[1],l=a[3];if(!l)return o;if(typeof btoa=="function"){var c=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),d="/*# ".concat(u," */"),h=l.sources.map(function(p){return"/*# sourceURL=".concat(l.sourceRoot||"").concat(p," */")});return[o].concat(h).concat([d]).join(`
`)}return[o].join(`
`)}},1795:function(i,a,o){var l;i=o.nmd(i),function(){function c(B){return(B=String(B)).charAt(0).toUpperCase()+B.slice(1)}function u(B){return B=f(B),/^(?:webOS|i(?:OS|P))/.test(B)?B:c(B)}function d(B,M){for(var z in B)R.call(B,z)&&M(B[z],z,B)}function h(B){return B==null?c(B):$.call(B).slice(8,-1)}function p(B){return String(B).replace(/([ -])(?!$)/g,"$1?")}function m(B,M){var z=null;return function(V,q){var H=-1,K=V?V.length:0;if(typeof K=="number"&&K>-1&&K<=N)for(;++H<K;)q(V[H],H,V);else d(V,q)}(B,function(W,V){z=M(z,W,V,B)}),z}function f(B){return String(B).replace(/^ +| +$/g,"")}var b={function:!0,object:!0},w=b[typeof window]&&window||this,g=b[typeof a]&&a,C=i&&!i.nodeType&&i,k=g&&C&&typeof o.g=="object"&&o.g;!k||k.global!==k&&k.window!==k&&k.self!==k||(w=k);var N=Math.pow(2,53)-1,A=/\bOpera/,O=Object.prototype,R=O.hasOwnProperty,$=O.toString,D=function B(M){function z(Y){return m(Y,function(me,ge){var Ve=ge.pattern||p(ge);return!me&&(me=RegExp("\\b"+Ve+" *\\d+[.\\w_]*","i").exec(M)||RegExp("\\b"+Ve+" *\\w+-[\\w]*","i").exec(M)||RegExp("\\b"+Ve+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(M))&&((me=String(ge.label&&!RegExp(Ve,"i").test(ge.label)?ge.label:me).split("/"))[1]&&!/[\d.]+/.test(me[0])&&(me[0]+=" "+me[1]),ge=ge.label||ge,me=u(me[0].replace(RegExp(Ve,"i"),ge).replace(RegExp("; *(?:"+ge+"[_-])?","i")," ").replace(RegExp("("+ge+")[-_.]?(\\w)","i"),"$1 $2"))),me})}function W(Y){return m(Y,function(me,ge){return me||(RegExp(ge+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(M)||0)[1]||null})}var V=w,q=M&&typeof M=="object"&&h(M)!="String";q&&(V=M,M=null);var H=V.navigator||{},K=H.userAgent||"";M||(M=K);var F,ie,de=q?!!H.likeChrome:/\bChrome\b/.test(M)&&!/internal|\n/i.test($.toString()),ee="Object",J=q?ee:"ScriptBridgingProxyObject",ae=q?ee:"Environment",ue=q&&V.java?"JavaPackage":h(V.java),le=q?ee:"RuntimeObject",Ee=/\bJava/.test(ue)&&V.java,ze=Ee&&h(V.environment)==ae,Pe=Ee?"a":"",Ke=Ee?"b":"",Ye=V.document||{},We=V.operamini||V.opera,ot=A.test(ot=q&&We?We["[[Class]]"]:h(We))?ot:We=null,Je=M,Le=[],dt=null,Ct=M==K,Ae=Ct&&We&&typeof We.version=="function"&&We.version(),rt=function(me){return m(me,function(ge,Ve){return ge||RegExp("\\b"+(Ve.pattern||p(Ve))+"\\b","i").exec(M)&&(Ve.label||Ve)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),fe=function(me){return m(me,function(ge,Ve){return ge||RegExp("\\b"+(Ve.pattern||p(Ve))+"\\b","i").exec(M)&&(Ve.label||Ve)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),Fe=z([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),nt=function(me){return m(me,function(ge,Ve,Nt){return ge||(Ve[Fe]||Ve[/^[a-z]+(?: +[a-z]+\b)*/i.exec(Fe)]||RegExp("\\b"+p(Nt)+"(?:\\b|\\w*\\d)","i").exec(M))&&Nt})}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),Ce=function(me){return m(me,function(ge,Ve){var Nt=Ve.pattern||p(Ve);return!ge&&(ge=RegExp("\\b"+Nt+"(?:/[\\d.]+|[ \\w.]*)","i").exec(M))&&(ge=function(Lt,Sn,Ne){var Me={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return Sn&&Ne&&/^Win/i.test(Lt)&&!/^Windows Phone /i.test(Lt)&&(Me=Me[/[\d.]+$/.exec(Lt)])&&(Lt="Windows "+Me),Lt=String(Lt),Sn&&Ne&&(Lt=Lt.replace(RegExp(Sn,"i"),Ne)),u(Lt.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(ge,Nt,Ve.label||Ve)),ge})}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(rt&&(rt=[rt]),/\bAndroid\b/.test(Ce)&&!Fe&&(F=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(M))&&(Fe=f(F[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),nt&&!Fe?Fe=z([nt]):nt&&Fe&&(Fe=Fe.replace(RegExp("^("+p(nt)+")[-_.\\s]","i"),nt+" ").replace(RegExp("^("+p(nt)+")[-_.]?(\\w)","i"),nt+" $2")),(F=/\bGoogle TV\b/.exec(Fe))&&(Fe=F[0]),/\bSimulator\b/i.test(M)&&(Fe=(Fe?Fe+" ":"")+"Simulator"),fe=="Opera Mini"&&/\bOPiOS\b/.test(M)&&Le.push("running in Turbo/Uncompressed mode"),fe=="IE"&&/\blike iPhone OS\b/.test(M)?(nt=(F=B(M.replace(/like iPhone OS/,""))).manufacturer,Fe=F.product):/^iP/.test(Fe)?(fe||(fe="Safari"),Ce="iOS"+((F=/ OS ([\d_]+)/i.exec(M))?" "+F[1].replace(/_/g,"."):"")):fe=="Konqueror"&&/^Linux\b/i.test(Ce)?Ce="Kubuntu":nt&&nt!="Google"&&(/Chrome/.test(fe)&&!/\bMobile Safari\b/i.test(M)||/\bVita\b/.test(Fe))||/\bAndroid\b/.test(Ce)&&/^Chrome/.test(fe)&&/\bVersion\//i.test(M)?(fe="Android Browser",Ce=/\bAndroid\b/.test(Ce)?Ce:"Android"):fe=="Silk"?(/\bMobi/i.test(M)||(Ce="Android",Le.unshift("desktop mode")),/Accelerated *= *true/i.test(M)&&Le.unshift("accelerated")):fe=="UC Browser"&&/\bUCWEB\b/.test(M)?Le.push("speed mode"):fe=="PaleMoon"&&(F=/\bFirefox\/([\d.]+)\b/.exec(M))?Le.push("identifying as Firefox "+F[1]):fe=="Firefox"&&(F=/\b(Mobile|Tablet|TV)\b/i.exec(M))?(Ce||(Ce="Firefox OS"),Fe||(Fe=F[1])):!fe||(F=!/\bMinefield\b/i.test(M)&&/\b(?:Firefox|Safari)\b/.exec(fe))?(fe&&!Fe&&/[\/,]|^[^(]+?\)/.test(M.slice(M.indexOf(F+"/")+8))&&(fe=null),(F=Fe||nt||Ce)&&(Fe||nt||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Ce))&&(fe=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Ce)?Ce:F)+" Browser")):fe=="Electron"&&(F=(/\bChrome\/([\d.]+)\b/.exec(M)||0)[1])&&Le.push("Chromium "+F),Ae||(Ae=W(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",p(fe),"(?:Firefox|Minefield|NetFront)"])),(F=(rt=="iCab"&&parseFloat(Ae)>3?"WebKit":/\bOpera\b/.test(fe)&&(/\bOPR\b/.test(M)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(M)&&!/^(?:Trident|EdgeHTML)$/.test(rt)&&"WebKit"||!rt&&/\bMSIE\b/i.test(M)&&(Ce=="Mac OS"?"Tasman":"Trident")||rt=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(fe)&&"NetFront")&&(rt=[F]),fe=="IE"&&(F=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(M)||0)[1])?(fe+=" Mobile",Ce="Windows Phone "+(/\+$/.test(F)?F:F+".x"),Le.unshift("desktop mode")):/\bWPDesktop\b/i.test(M)?(fe="IE Mobile",Ce="Windows Phone 8.x",Le.unshift("desktop mode"),Ae||(Ae=(/\brv:([\d.]+)/.exec(M)||0)[1])):fe!="IE"&&rt=="Trident"&&(F=/\brv:([\d.]+)/.exec(M))&&(fe&&Le.push("identifying as "+fe+(Ae?" "+Ae:"")),fe="IE",Ae=F[1]),Ct){if(function(me,ge){var Ve=me!=null?typeof me[ge]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(Ve)||Ve=="object"&&!me[ge])}(V,"global"))if(Ee&&(Je=(F=Ee.lang.System).getProperty("os.arch"),Ce=Ce||F.getProperty("os.name")+" "+F.getProperty("os.version")),ze){try{Ae=V.require("ringo/engine").version.join("."),fe="RingoJS"}catch{(F=V.system)&&F.global.system==V.system&&(fe="Narwhal",Ce||(Ce=F[0].os||null))}fe||(fe="Rhino")}else typeof V.process=="object"&&!V.process.browser&&(F=V.process)&&(typeof F.versions=="object"&&(typeof F.versions.electron=="string"?(Le.push("Node "+F.versions.node),fe="Electron",Ae=F.versions.electron):typeof F.versions.nw=="string"&&(Le.push("Chromium "+Ae,"Node "+F.versions.node),fe="NW.js",Ae=F.versions.nw)),fe||(fe="Node.js",Je=F.arch,Ce=F.platform,Ae=(Ae=/[\d.]+/.exec(F.version))?Ae[0]:null));else h(F=V.runtime)==J?(fe="Adobe AIR",Ce=F.flash.system.Capabilities.os):h(F=V.phantom)==le?(fe="PhantomJS",Ae=(F=F.version||null)&&F.major+"."+F.minor+"."+F.patch):typeof Ye.documentMode=="number"&&(F=/\bTrident\/(\d+)/i.exec(M))?(Ae=[Ae,Ye.documentMode],(F=+F[1]+4)!=Ae[1]&&(Le.push("IE "+Ae[1]+" mode"),rt&&(rt[1]=""),Ae[1]=F),Ae=fe=="IE"?String(Ae[1].toFixed(1)):Ae[0]):typeof Ye.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(fe)&&(Le.push("masking as "+fe+" "+Ae),fe="IE",Ae="11.0",rt=["Trident"],Ce="Windows");Ce=Ce&&u(Ce)}if(Ae&&(F=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(Ae)||/(?:alpha|beta)(?: ?\d)?/i.exec(M+";"+(Ct&&H.appMinorVersion))||/\bMinefield\b/i.test(M)&&"a")&&(dt=/b/i.test(F)?"beta":"alpha",Ae=Ae.replace(RegExp(F+"\\+?$"),"")+(dt=="beta"?Ke:Pe)+(/\d+\+?/.exec(F)||"")),fe=="Fennec"||fe=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(Ce))fe="Firefox Mobile";else if(fe=="Maxthon"&&Ae)Ae=Ae.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(Fe))Fe=="Xbox 360"&&(Ce=null),Fe=="Xbox 360"&&/\bIEMobile\b/.test(M)&&Le.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(fe)&&(!fe||Fe||/Browser|Mobi/.test(fe))||Ce!="Windows CE"&&!/Mobi/i.test(M))if(fe=="IE"&&Ct)try{V.external===null&&Le.unshift("platform preview")}catch{Le.unshift("embedded")}else(/\bBlackBerry\b/.test(Fe)||/\bBB10\b/.test(M))&&(F=(RegExp(Fe.replace(/ +/g," *")+"/([.\\d]+)","i").exec(M)||0)[1]||Ae)?(Ce=((F=[F,/BB10/.test(M)])[1]?(Fe=null,nt="BlackBerry"):"Device Software")+" "+F[0],Ae=null):this!=d&&Fe!="Wii"&&(Ct&&We||/Opera/.test(fe)&&/\b(?:MSIE|Firefox)\b/i.test(M)||fe=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(Ce)||fe=="IE"&&(Ce&&!/^Win/.test(Ce)&&Ae>5.5||/\bWindows XP\b/.test(Ce)&&Ae>8||Ae==8&&!/\bTrident\b/.test(M)))&&!A.test(F=B.call(d,M.replace(A,"")+";"))&&F.name&&(F="ing as "+F.name+((F=F.version)?" "+F:""),A.test(fe)?(/\bIE\b/.test(F)&&Ce=="Mac OS"&&(Ce=null),F="identify"+F):(F="mask"+F,fe=ot?u(ot.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(F)&&(Ce=null),Ct||(Ae=null)),rt=["Presto"],Le.push(F));else fe+=" Mobile";(F=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(M)||0)[1])&&(F=[parseFloat(F.replace(/\.(\d)$/,".0$1")),F],fe=="Safari"&&F[1].slice(-1)=="+"?(fe="WebKit Nightly",dt="alpha",Ae=F[1].slice(0,-1)):Ae!=F[1]&&Ae!=(F[2]=(/\bSafari\/([\d.]+\+?)/i.exec(M)||0)[1])||(Ae=null),F[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(M)||0)[1],F[0]==537.36&&F[2]==537.36&&parseFloat(F[1])>=28&&rt=="WebKit"&&(rt=["Blink"]),Ct&&(de||F[1])?(rt&&(rt[1]="like Chrome"),F=F[1]||((F=F[0])<530?1:F<532?2:F<532.05?3:F<533?4:F<534.03?5:F<534.07?6:F<534.1?7:F<534.13?8:F<534.16?9:F<534.24?10:F<534.3?11:F<535.01?12:F<535.02?"13+":F<535.07?15:F<535.11?16:F<535.19?17:F<536.05?18:F<536.1?19:F<537.01?20:F<537.11?"21+":F<537.13?23:F<537.18?24:F<537.24?25:F<537.36?26:rt!="Blink"?"27":"28")):(rt&&(rt[1]="like Safari"),F=(F=F[0])<400?1:F<500?2:F<526?3:F<533?4:F<534?"4+":F<535?5:F<537?6:F<538?7:F<601?8:F<602?9:F<604?10:F<606?11:F<608?12:"12"),rt&&(rt[1]+=" "+(F+=typeof F=="number"?".x":/[.+]/.test(F)?"":"+")),fe=="Safari"&&(!Ae||parseInt(Ae)>45)?Ae=F:fe=="Chrome"&&/\bHeadlessChrome/i.test(M)&&Le.unshift("headless")),fe=="Opera"&&(F=/\bzbov|zvav$/.exec(Ce))?(fe+=" ",Le.unshift("desktop mode"),F=="zvav"?(fe+="Mini",Ae=null):fe+="Mobile",Ce=Ce.replace(RegExp(" *"+F+"$"),"")):fe=="Safari"&&/\bChrome\b/.exec(rt&&rt[1])?(Le.unshift("desktop mode"),fe="Chrome Mobile",Ae=null,/\bOS X\b/.test(Ce)?(nt="Apple",Ce="iOS 4.3+"):Ce=null):/\bSRWare Iron\b/.test(fe)&&!Ae&&(Ae=W("Chrome")),Ae&&Ae.indexOf(F=/[\d.]+$/.exec(Ce))==0&&M.indexOf("/"+F+"-")>-1&&(Ce=f(Ce.replace(F,""))),Ce&&Ce.indexOf(fe)!=-1&&!RegExp(fe+" OS").test(Ce)&&(Ce=Ce.replace(RegExp(" *"+p(fe)+" *"),"")),rt&&!/\b(?:Avant|Nook)\b/.test(fe)&&(/Browser|Lunascape|Maxthon/.test(fe)||fe!="Safari"&&/^iOS/.test(Ce)&&/\bSafari\b/.test(rt[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(fe)&&rt[1])&&(F=rt[rt.length-1])&&Le.push(F),Le.length&&(Le=["("+Le.join("; ")+")"]),nt&&Fe&&Fe.indexOf(nt)<0&&Le.push("on "+nt),Fe&&Le.push((/^on /.test(Le[Le.length-1])?"":"on ")+Fe),Ce&&(F=/ ([\d.+]+)$/.exec(Ce),ie=F&&Ce.charAt(Ce.length-F[0].length-1)=="/",Ce={architecture:32,family:F&&!ie?Ce.replace(F[0],""):Ce,version:F?F[1]:null,toString:function(){var Y=this.version;return this.family+(Y&&!ie?" "+Y:"")+(this.architecture==64?" 64-bit":"")}}),(F=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(Je))&&!/\bi686\b/i.test(Je)?(Ce&&(Ce.architecture=64,Ce.family=Ce.family.replace(RegExp(" *"+F),"")),fe&&(/\bWOW64\b/i.test(M)||Ct&&/\w(?:86|32)$/.test(H.cpuClass||H.platform)&&!/\bWin64; x64\b/i.test(M))&&Le.unshift("32-bit")):Ce&&/^OS X/.test(Ce.family)&&fe=="Chrome"&&parseFloat(Ae)>=39&&(Ce.architecture=64),M||(M=null);var _e={};return _e.description=M,_e.layout=rt&&rt[0],_e.manufacturer=nt,_e.name=fe,_e.prerelease=dt,_e.product=Fe,_e.ua=M,_e.version=fe&&Ae,_e.os=Ce||{architecture:null,family:null,version:null,toString:function(){return"null"}},_e.parse=B,_e.toString=function(){return this.description||""},_e.version&&Le.unshift(Ae),_e.name&&Le.unshift(fe),Ce&&fe&&(Ce!=String(Ce).split(" ")[0]||Ce!=fe.split(" ")[0]&&!Fe)&&Le.push(Fe?"("+Ce+")":"on "+Ce),Le.length&&(_e.description=Le.join(" ")),_e}();w.platform=D,(l=function(){return D}.call(a,o,a,i))===void 0||(i.exports=l)}.call(this)},6265:function(i){(function(o,l){i.exports=l()})(0,function(){return function(a){function o(c){if(l[c])return l[c].exports;var u=l[c]={i:c,l:!1,exports:{}};return a[c].call(u.exports,u,u.exports,o),u.l=!0,u.exports}var l={};return o.m=a,o.c=l,o.d=function(c,u,d){o.o(c,u)||Object.defineProperty(c,u,{enumerable:!0,get:d})},o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,u){if(1&u&&(c=o(c)),8&u||4&u&&typeof c=="object"&&c&&c.__esModule)return c;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:c}),2&u&&typeof c!="string")for(var h in c)o.d(d,h,function(p){return c[p]}.bind(null,h));return d},o.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(u,"a",u),u},o.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)},o.p="",o(o.s=0)}([function(a,o,l){function c(_e,Y,me){return Y in _e?Object.defineProperty(_e,Y,{value:me,enumerable:!0,configurable:!0,writable:!0}):_e[Y]=me,_e}l.r(o);var u=function(Y){return Array.isArray(Y)?Y:[Y]},d=function(Y){return Y instanceof Node},h=function(Y,me){if(Y&&me){Y=function(Nt){return Nt instanceof NodeList}(Y)?Y:[Y];for(var ge=0;ge<Y.length&&me(Y[ge],ge,Y.length)!==!0;ge++);}},p=function(Y){if(Array.isArray(Y))return Y.join(", ")},m=function(Y){var me=[];return h(Y,function(ge){return me.push(ge)}),me},f=function(Y,me){var ge=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],Ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:document;if(ge&&m(Ve.querySelectorAll(me)).indexOf(Y)!==-1)return Y;for(;(Y=Y.parentElement)&&m(Ve.querySelectorAll(me)).indexOf(Y)===-1;);return Y},b=function(Y,me){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,Ve=m(ge.querySelectorAll(me)).indexOf(Y)!==-1;return Ve},w=function(Y){if(Y)return getComputedStyle(Y).overflow==="hidden"},g=function(Y){if(Y)return!!w(Y)||Y.scrollTop<=0},C=function(Y){if(Y){if(w(Y))return!0;var me=Y.scrollTop,ge=Y.scrollHeight;return me+Y.offsetHeight>=ge}},k=function(Y){if(Y)return!!w(Y)||Y.scrollLeft<=0},N=function(Y){if(Y){if(w(Y))return!0;var me=Y.scrollLeft,ge=Y.scrollWidth;return me+Y.offsetWidth>=ge}},A=function(Y){return b(Y,'textarea, [contenteditable="true"]')},O=function(Y){return b(Y,'input[type="range"]')};l.d(o,"disablePageScroll",function(){return D}),l.d(o,"enablePageScroll",function(){return B}),l.d(o,"getScrollState",function(){return M}),l.d(o,"clearQueueScrollLocks",function(){return z}),l.d(o,"getTargetScrollBarWidth",function(){return W}),l.d(o,"getCurrentTargetScrollBarWidth",function(){return V}),l.d(o,"getPageScrollBarWidth",function(){return q}),l.d(o,"getCurrentPageScrollBarWidth",function(){return H}),l.d(o,"addScrollableTarget",function(){return K}),l.d(o,"removeScrollableTarget",function(){return F}),l.d(o,"addScrollableSelector",function(){return ie}),l.d(o,"removeScrollableSelector",function(){return de}),l.d(o,"addLockableTarget",function(){return ee}),l.d(o,"addLockableSelector",function(){return J}),l.d(o,"setFillGapMethod",function(){return ae}),l.d(o,"addFillGapTarget",function(){return ue}),l.d(o,"removeFillGapTarget",function(){return le}),l.d(o,"addFillGapSelector",function(){return Ee}),l.d(o,"removeFillGapSelector",function(){return ze}),l.d(o,"refillGaps",function(){return Pe});var R=["padding","margin","width","max-width","none"],$={scroll:!0,queue:0,scrollableSelectors:["[data-scroll-lock-scrollable]"],lockableSelectors:["body","[data-scroll-lock-lockable]"],fillGapSelectors:["body","[data-scroll-lock-fill-gap]","[data-scroll-lock-lockable]"],fillGapMethod:R[0],startTouchY:0,startTouchX:0},D=function(Y){$.queue<=0&&($.scroll=!1,Ke(),dt()),K(Y),$.queue++},B=function(Y){$.queue>0&&$.queue--,$.queue<=0&&($.scroll=!0,Ye(),Ct()),F(Y)},M=function(){return $.scroll},z=function(){$.queue=0},W=function(Y){var me=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(d(Y)){var ge=Y.style.overflowY;me?M()||(Y.style.overflowY=Y.getAttribute("data-scroll-lock-saved-overflow-y-property")):Y.style.overflowY="scroll";var Ve=V(Y);return Y.style.overflowY=ge,Ve}return 0},V=function(Y){if(d(Y)){if(Y===document.body){var me=document.documentElement.clientWidth;return window.innerWidth-me}var ge=Y.style.borderLeftWidth,Ve=Y.style.borderRightWidth;Y.style.borderLeftWidth="0px",Y.style.borderRightWidth="0px";var Nt=Y.offsetWidth-Y.clientWidth;return Y.style.borderLeftWidth=ge,Y.style.borderRightWidth=Ve,Nt}return 0},q=function(){var Y=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return W(document.body,Y)},H=function(){return V(document.body)},K=function(Y){Y&&u(Y).map(function(me){h(me,function(ge){d(ge)?ge.setAttribute("data-scroll-lock-scrollable",""):'"'.concat(ge,'" is not a Element.')})})},F=function(Y){Y&&u(Y).map(function(me){h(me,function(ge){d(ge)?ge.removeAttribute("data-scroll-lock-scrollable"):'"'.concat(ge,'" is not a Element.')})})},ie=function(Y){Y&&u(Y).map(function(me){$.scrollableSelectors.push(me)})},de=function(Y){Y&&u(Y).map(function(me){$.scrollableSelectors=$.scrollableSelectors.filter(function(ge){return ge!==me})})},ee=function(Y){Y&&(u(Y).map(function(me){h(me,function(ge){d(ge)?ge.setAttribute("data-scroll-lock-lockable",""):'"'.concat(ge,'" is not a Element.')})}),M()||Ke())},J=function(Y){Y&&(u(Y).map(function(me){$.lockableSelectors.push(me)}),M()||Ke(),Ee(Y))},ae=function(Y){Y&&R.indexOf(Y)!==-1&&($.fillGapMethod=Y,Pe())},ue=function(Y){Y&&u(Y).map(function(me){h(me,function(ge){d(ge)?(ge.setAttribute("data-scroll-lock-fill-gap",""),$.scroll||rt(ge)):'"'.concat(ge,'" is not a Element.')})})},le=function(Y){Y&&u(Y).map(function(me){h(me,function(ge){d(ge)?(ge.removeAttribute("data-scroll-lock-fill-gap"),$.scroll||Fe(ge)):'"'.concat(ge,'" is not a Element.')})})},Ee=function(Y){Y&&u(Y).map(function(me){$.fillGapSelectors.indexOf(me)===-1&&($.fillGapSelectors.push(me),$.scroll||Ae(me))})},ze=function(Y){Y&&u(Y).map(function(me){$.fillGapSelectors=$.fillGapSelectors.filter(function(ge){return ge!==me}),$.scroll||fe(me)})},Pe=function(){$.scroll||dt()},Ke=function(){var Y=p($.lockableSelectors);We(Y)},Ye=function(){var Y=p($.lockableSelectors);ot(Y)},We=function(Y){var me=document.querySelectorAll(Y);h(me,function(ge){Je(ge)})},ot=function(Y){var me=document.querySelectorAll(Y);h(me,function(ge){Le(ge)})},Je=function(Y){if(d(Y)&&Y.getAttribute("data-scroll-lock-locked")!=="true"){var me=window.getComputedStyle(Y);Y.setAttribute("data-scroll-lock-saved-overflow-y-property",me.overflowY),Y.setAttribute("data-scroll-lock-saved-inline-overflow-property",Y.style.overflow),Y.setAttribute("data-scroll-lock-saved-inline-overflow-y-property",Y.style.overflowY),Y.style.overflow="hidden",Y.setAttribute("data-scroll-lock-locked","true")}},Le=function(Y){d(Y)&&Y.getAttribute("data-scroll-lock-locked")==="true"&&(Y.style.overflow=Y.getAttribute("data-scroll-lock-saved-inline-overflow-property"),Y.style.overflowY=Y.getAttribute("data-scroll-lock-saved-inline-overflow-y-property"),Y.removeAttribute("data-scroll-lock-saved-overflow-property"),Y.removeAttribute("data-scroll-lock-saved-inline-overflow-property"),Y.removeAttribute("data-scroll-lock-saved-inline-overflow-y-property"),Y.removeAttribute("data-scroll-lock-locked"))},dt=function(){$.fillGapSelectors.map(function(Y){Ae(Y)})},Ct=function(){$.fillGapSelectors.map(function(Y){fe(Y)})},Ae=function(Y){var me=document.querySelectorAll(Y),ge=$.lockableSelectors.indexOf(Y)!==-1;h(me,function(Ve){rt(Ve,ge)})},rt=function(Y){var me=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(d(Y)){var ge;if(Y.getAttribute("data-scroll-lock-lockable")===""||me)ge=W(Y,!0);else{var Ve=f(Y,p($.lockableSelectors));ge=W(Ve,!0)}Y.getAttribute("data-scroll-lock-filled-gap")==="true"&&Fe(Y);var Nt=window.getComputedStyle(Y);if(Y.setAttribute("data-scroll-lock-filled-gap","true"),Y.setAttribute("data-scroll-lock-current-fill-gap-method",$.fillGapMethod),$.fillGapMethod==="margin"){var hn=parseFloat(Nt.marginRight);Y.style.marginRight="".concat(hn+ge,"px")}else if($.fillGapMethod==="width")Y.style.width="calc(100% - ".concat(ge,"px)");else if($.fillGapMethod==="max-width")Y.style.maxWidth="calc(100% - ".concat(ge,"px)");else if($.fillGapMethod==="padding"){var Lt=parseFloat(Nt.paddingRight);Y.style.paddingRight="".concat(Lt+ge,"px")}}},fe=function(Y){var me=document.querySelectorAll(Y);h(me,function(ge){Fe(ge)})},Fe=function(Y){if(d(Y)&&Y.getAttribute("data-scroll-lock-filled-gap")==="true"){var me=Y.getAttribute("data-scroll-lock-current-fill-gap-method");Y.removeAttribute("data-scroll-lock-filled-gap"),Y.removeAttribute("data-scroll-lock-current-fill-gap-method"),me==="margin"?Y.style.marginRight="":me==="width"?Y.style.width="":me==="max-width"?Y.style.maxWidth="":me==="padding"&&(Y.style.paddingRight="")}};typeof window<"u"&&window.addEventListener("resize",function(Y){Pe()}),typeof document<"u"&&(document.addEventListener("touchstart",function(Y){$.scroll||($.startTouchY=Y.touches[0].clientY,$.startTouchX=Y.touches[0].clientX)}),document.addEventListener("touchmove",function(Y){if(!$.scroll){var me=$.startTouchY,ge=$.startTouchX,Ve=Y.touches[0].clientY,Nt=Y.touches[0].clientX;if(Y.touches.length<2){var hn=p($.scrollableSelectors),Lt={up:me<Ve,down:me>Ve,left:ge<Nt,right:ge>Nt},Sn={up:me+3<Ve,down:me-3>Ve,left:ge+3<Nt,right:ge-3>Nt};(function Ne(Me){var ct=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(Me){var Be=f(Me,hn,!1);if(O(Me))return!1;if(ct||A(Me)&&f(Me,hn)||b(Me,hn)){var Ie=!1;k(Me)&&N(Me)?(Lt.up&&g(Me)||Lt.down&&C(Me))&&(Ie=!0):g(Me)&&C(Me)?(Lt.left&&k(Me)||Lt.right&&N(Me))&&(Ie=!0):(Sn.up&&g(Me)||Sn.down&&C(Me)||Sn.left&&k(Me)||Sn.right&&N(Me))&&(Ie=!0),Ie&&(Be?Ne(Be,!0):Y.cancelable&&Y.preventDefault())}else Ne(Be)}else Y.cancelable&&Y.preventDefault()})(Y.target)}}},{passive:!1}),document.addEventListener("touchend",function(Y){$.scroll||($.startTouchY=0,$.startTouchX=0)}));var nt={hide:function(Y){D(Y)},show:function(Y){B(Y)},toggle:function(Y){M()?D():B(Y)},getState:function(){return M()},getWidth:function(){return q()},getCurrentWidth:function(){return H()},setScrollableTargets:function(Y){K(Y)},setFillGapSelectors:function(Y){Ee(Y)},setFillGapTargets:function(Y){ue(Y)},clearQueue:function(){z()}},Ce=function(Y){for(var me=1;me<arguments.length;me++){var ge=arguments[me]!=null?arguments[me]:{},Ve=Object.keys(ge);typeof Object.getOwnPropertySymbols=="function"&&(Ve=Ve.concat(Object.getOwnPropertySymbols(ge).filter(function(Nt){return Object.getOwnPropertyDescriptor(ge,Nt).enumerable}))),Ve.forEach(function(Nt){c(Y,Nt,ge[Nt])})}return Y}({disablePageScroll:D,enablePageScroll:B,getScrollState:M,clearQueueScrollLocks:z,getTargetScrollBarWidth:W,getCurrentTargetScrollBarWidth:V,getPageScrollBarWidth:q,getCurrentPageScrollBarWidth:H,addScrollableSelector:ie,removeScrollableSelector:de,addScrollableTarget:K,removeScrollableTarget:F,addLockableSelector:J,addLockableTarget:ee,addFillGapSelector:Ee,removeFillGapSelector:ze,addFillGapTarget:ue,removeFillGapTarget:le,setFillGapMethod:ae,refillGaps:Pe,_state:$},nt);o.default=Ce}]).default})},3379:i=>{function a(u){for(var d=-1,h=0;h<c.length;h++)if(c[h].identifier===u){d=h;break}return d}function o(u,d){for(var h={},p=[],m=0;m<u.length;m++){var f=u[m],b=d.base?f[0]+d.base:f[0],w=h[b]||0,g="".concat(b," ").concat(w);h[b]=w+1;var C=a(g),k={css:f[1],media:f[2],sourceMap:f[3],supports:f[4],layer:f[5]};if(C!==-1)c[C].references++,c[C].updater(k);else{var N=l(k,d);d.byIndex=m,c.splice(m,0,{identifier:g,updater:N,references:1})}p.push(g)}return p}function l(u,d){var h=d.domAPI(d);return h.update(u),function(m){if(m){if(m.css===u.css&&m.media===u.media&&m.sourceMap===u.sourceMap&&m.supports===u.supports&&m.layer===u.layer)return;h.update(u=m)}else h.remove()}}var c=[];i.exports=function(u,d){var h=o(u=u||[],d=d||{});return function(m){m=m||[];for(var f=0;f<h.length;f++){var b=a(h[f]);c[b].references--}for(var w=o(m,d),g=0;g<h.length;g++){var C=a(h[g]);c[C].references===0&&(c[C].updater(),c.splice(C,1))}h=w}}},569:i=>{var a={};i.exports=function(l,c){var u=function(h){if(a[h]===void 0){var p=document.querySelector(h);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}a[h]=p}return a[h]}(l);if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(c)}},9216:i=>{i.exports=function(o){var l=document.createElement("style");return o.setAttributes(l,o.attributes),o.insert(l,o.options),l}},3565:(i,a,o)=>{i.exports=function(c){var u=o.nc;u&&c.setAttribute("nonce",u)}},7795:i=>{i.exports=function(o){var l=o.insertStyleElement(o);return{update:function(u){(function(h,p,m){var f="";m.supports&&(f+="@supports (".concat(m.supports,") {")),m.media&&(f+="@media ".concat(m.media," {"));var b=m.layer!==void 0;b&&(f+="@layer".concat(m.layer.length>0?" ".concat(m.layer):""," {")),f+=m.css,b&&(f+="}"),m.media&&(f+="}"),m.supports&&(f+="}");var w=m.sourceMap;w&&typeof btoa<"u"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(w))))," */")),p.styleTagTransform(f,h,p.options)})(l,o,u)},remove:function(){(function(d){if(d.parentNode===null)return!1;d.parentNode.removeChild(d)})(l)}}}},4589:i=>{i.exports=function(o,l){if(l.styleSheet)l.styleSheet.cssText=o;else{for(;l.firstChild;)l.removeChild(l.firstChild);l.appendChild(document.createTextNode(o))}}}},s={};return n.n=i=>{var a=i&&i.__esModule?()=>i.default:()=>i;return n.d(a,{a}),a},n.d=(i,a)=>{for(var o in a)n.o(a,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:a[o]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.hmd=i=>((i=Object.create(i)).children||(i.children=[]),Object.defineProperty(i,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+i.id)}}),i),n.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.nmd=i=>(i.paths=[],i.children||(i.children=[]),i),n(1736)})()})})(o6e);var a6e=_R,l6e=SR,c4={cashfreeProd:a6e,cashfreeSandbox:l6e};function c6e(){var h;const t=Qi(),e=yp(),n=(h=e==null?void 0:e.state)==null?void 0:h.data;n||t("/");const[r]=Q.useState(n.payment_session_id),[s]=Q.useState({backgroundColor:"#FCE0F6",color:"#DF1B41",fontSize:"14px",errorColor:"#6C4AB6",fontFamily:"Lato",theme:"light"}),[i,a]=Q.useState(!1),[o]=Q.useState(["order-details","card","upi","app","netbanking"]),l=()=>{console.log("paymentAPI"),console.log(paymentApi),paymentApi.onlinePaymentVerify({order_id:n.order_id})},c=p=>{console.log("data"),console.log(p),p.order&&p.order.status==="PAID"?(t("/thankyou"),l(),console.log("response payment")):t("/thankyou")},u=p=>{t("/thankyou")},d=()=>{if(r===""){alert("Order Token is empty");return}if(!o.length){alert("No drop in specified");return}let p=document.getElementById("drop_in_container");p.innerHTML="";let m;i?m=new c4.cashfreeProd.Cashfree(r):m=new c4.cashfreeSandbox.Cashfree(r),console.log("before Initialisation"),m.drop(p,{onSuccess:c,onFailure:u,components:o,style:s}),console.log("after Initialisation")};return Q.useEffect(()=>{d()},[]),S.jsx("div",{className:"Drop",children:S.jsx("div",{className:"dropin-parent",id:"drop_in_container",style:{height:"600px"}})})}const u6e="/assets/error-00ab7897.png";function cK(){return S.jsx("div",{children:S.jsx("div",{className:"flex justify-center items-center py-16 bg-[#f7f7f7] p-8",children:S.jsxs("div",{className:"flex gap-x-8 w-full lg:w-[75%] ",children:[S.jsx("div",{className:"box-border flex justify-center w-full lg:w-[75%] border rounded-[10px] border-solid border-[#DDDDDD] bg-[#ffffff] p-6 ",children:S.jsxs("div",{className:"flex flex-col justify-center items-center ",children:[S.jsx("div",{className:" flex justify-center items-center w-[288px] h-[240px] bg-[#7EA9DC] rounded-[190px]",children:S.jsx("img",{src:u6e})}),S.jsx("div",{className:"mt-6",children:S.jsx("label",{className:"not-italic font-medium text-[25px] leading-[45px] text-[#252525] font-[Poppins] lg:text-3xl ",children:"404-PAGE NOT FOUND"})}),S.jsx("div",{className:"",children:S.jsx("p",{className:"hidden md:flex md:not-italic md:font-light md:text-base md:leading-6 md:text-[#828F99] md:font-[Poppins]",children:"The graphic and typographic operators know this well, in reality"})}),S.jsx("button",{className:"w-[173px] h-[42px] rounded-[10px] bg-[#202054] text-[#ffffff] not-italic font-normal text-base leading-[19px] font-[Roboto] mt-4",children:"Go to Homepage"})]})}),S.jsx("div",{className:"hidden lg:flex lg:flex-col lg:w-[22%]"})]})})})}function d6e(){const t={latitude:26.75,longitude:94.25,generationtime_ms:.18894672393798828,utc_offset_seconds:0,timezone:"GMT",timezone_abbreviation:"GMT",elevation:91,current_weather:{temperature:25.5,windspeed:2.9,winddirection:60,weathercode:3,is_day:1,time:"2023-05-17T09:00"},hourly_units:{time:"iso8601",temperature_2m:"C",relativehumidity_2m:"%",windspeed_10m:"km/h"},hourly:{time:["2023-05-17T00:00","2023-05-17T01:00","2023-05-17T02:00","2023-05-17T03:00","2023-05-17T04:00","2023-05-17T05:00","2023-05-17T06:00","2023-05-17T07:00","2023-05-17T08:00","2023-05-17T09:00","2023-05-17T10:00","2023-05-17T11:00","2023-05-17T12:00","2023-05-17T13:00","2023-05-17T14:00","2023-05-17T15:00","2023-05-17T16:00","2023-05-17T17:00","2023-05-17T18:00","2023-05-17T19:00","2023-05-17T20:00","2023-05-17T21:00","2023-05-17T22:00","2023-05-17T23:00","2023-05-18T00:00","2023-05-18T01:00","2023-05-18T02:00","2023-05-18T03:00","2023-05-18T04:00","2023-05-18T05:00","2023-05-18T06:00","2023-05-18T07:00","2023-05-18T08:00","2023-05-18T09:00","2023-05-18T10:00","2023-05-18T11:00","2023-05-18T12:00","2023-05-18T13:00","2023-05-18T14:00","2023-05-18T15:00","2023-05-18T16:00","2023-05-18T17:00","2023-05-18T18:00","2023-05-18T19:00","2023-05-18T20:00","2023-05-18T21:00","2023-05-18T22:00","2023-05-18T23:00","2023-05-19T00:00","2023-05-19T01:00","2023-05-19T02:00","2023-05-19T03:00","2023-05-19T04:00","2023-05-19T05:00","2023-05-19T06:00","2023-05-19T07:00","2023-05-19T08:00","2023-05-19T09:00","2023-05-19T10:00","2023-05-19T11:00","2023-05-19T12:00","2023-05-19T13:00","2023-05-19T14:00","2023-05-19T15:00","2023-05-19T16:00","2023-05-19T17:00","2023-05-19T18:00","2023-05-19T19:00","2023-05-19T20:00","2023-05-19T21:00","2023-05-19T22:00","2023-05-19T23:00","2023-05-20T00:00","2023-05-20T01:00","2023-05-20T02:00","2023-05-20T03:00","2023-05-20T04:00","2023-05-20T05:00","2023-05-20T06:00","2023-05-20T07:00","2023-05-20T08:00","2023-05-20T09:00","2023-05-20T10:00","2023-05-20T11:00","2023-05-20T12:00","2023-05-20T13:00","2023-05-20T14:00","2023-05-20T15:00","2023-05-20T16:00","2023-05-20T17:00","2023-05-20T18:00","2023-05-20T19:00","2023-05-20T20:00","2023-05-20T21:00","2023-05-20T22:00","2023-05-20T23:00","2023-05-21T00:00","2023-05-21T01:00","2023-05-21T02:00","2023-05-21T03:00","2023-05-21T04:00","2023-05-21T05:00","2023-05-21T06:00","2023-05-21T07:00","2023-05-21T08:00","2023-05-21T09:00","2023-05-21T10:00","2023-05-21T11:00","2023-05-21T12:00","2023-05-21T13:00","2023-05-21T14:00","2023-05-21T15:00","2023-05-21T16:00","2023-05-21T17:00","2023-05-21T18:00","2023-05-21T19:00","2023-05-21T20:00","2023-05-21T21:00","2023-05-21T22:00","2023-05-21T23:00","2023-05-22T00:00","2023-05-22T01:00","2023-05-22T02:00","2023-05-22T03:00","2023-05-22T04:00","2023-05-22T05:00","2023-05-22T06:00","2023-05-22T07:00","2023-05-22T08:00","2023-05-22T09:00","2023-05-22T10:00","2023-05-22T11:00","2023-05-22T12:00","2023-05-22T13:00","2023-05-22T14:00","2023-05-22T15:00","2023-05-22T16:00","2023-05-22T17:00","2023-05-22T18:00","2023-05-22T19:00","2023-05-22T20:00","2023-05-22T21:00","2023-05-22T22:00","2023-05-22T23:00","2023-05-23T00:00","2023-05-23T01:00","2023-05-23T02:00","2023-05-23T03:00","2023-05-23T04:00","2023-05-23T05:00","2023-05-23T06:00","2023-05-23T07:00","2023-05-23T08:00","2023-05-23T09:00","2023-05-23T10:00","2023-05-23T11:00","2023-05-23T12:00","2023-05-23T13:00","2023-05-23T14:00","2023-05-23T15:00","2023-05-23T16:00","2023-05-23T17:00","2023-05-23T18:00","2023-05-23T19:00","2023-05-23T20:00","2023-05-23T21:00","2023-05-23T22:00","2023-05-23T23:00"],temperature_2m:[21.6,21.9,22.1,22.5,22.8,23.6,24.8,24.5,25,25.5,25.7,25.7,25,24.2,24,23.8,23.6,23.2,22.9,22.6,22.4,22.4,22.3,22.2,22.4,22.8,23.5,23.9,25,25.6,25.8,26.2,27,27.5,27.7,27.6,27,25.8,25.3,24.9,24.5,24.1,23.9,23.7,23.6,23.4,23.3,23.2,23.2,23.5,23.8,24.5,24.9,26.1,26.3,26.5,26.7,26.7,27.2,27.1,26.5,25.8,25.3,24.9,24.4,24,23.7,23.4,23.4,23.2,23.2,23.1,23.2,23.5,24.3,25.1,26.5,27.5,28.4,29,29.3,29.5,29.2,28.7,27.9,27.1,26.2,25.1,24.7,24.4,24.1,23.9,23.6,23.4,23.2,23.1,23.2,23.6,24.2,25.1,25.8,26.5,27.4,28.2,29.1,29.6,29.3,28.6,27.6,26.7,25.8,24.8,24.4,24.2,24,23.8,23.6,23.4,23.3,23.3,23.4,23.6,23.8,24.3,24.7,25.1,25.7,26.3,27,27.5,27.3,26.9,26.2,25.8,25.3,24.7,24.4,24.2,24,23.8,23.7,23.6,23.4,23.2,23.1,23.2,23.4,24,24.8,26,27.3,28.1,28.8,29.2,29.1,28.6,27.8,27.1,26.3,25.5,25.1,24.8,24.5,24.2,23.9,23.6,23.5,23.4],relativehumidity_2m:[95,94,94,94,93,90,86,88,86,83,81,80,85,90,92,92,93,93,94,95,96,96,96,96,96,94,92,91,86,83,84,83,80,76,75,75,79,84,87,89,92,94,95,96,96,97,97,97,97,97,95,90,90,84,83,82,82,82,80,80,83,87,89,91,92,95,96,97,97,97,97,97,97,96,93,89,84,81,77,75,73,72,73,75,78,82,86,91,93,93,94,94,95,95,95,96,95,93,90,86,83,81,77,74,70,68,69,72,77,81,85,90,92,93,94,95,95,96,96,96,96,95,93,91,89,88,85,83,80,78,79,82,85,87,89,92,93,94,95,96,96,96,96,96,95,94,92,89,85,81,75,72,69,67,69,72,77,81,85,89,91,92,93,94,96,97,98,98],windspeed_10m:[2.6,2.3,1.3,1.5,1.9,2.2,3.3,4.2,1.6,2.9,3.7,5.6,5.6,3.3,4,4.8,5.2,5.9,4.6,3.6,3.8,3.8,3.1,3.3,2.3,3.3,2.8,3.6,2.6,.4,3.6,3.6,4.5,4,2.2,1.8,3.5,4.1,3.6,3.3,3.8,2.3,1.1,2.9,3.2,1.9,2.6,3.4,3.1,2.9,1.5,2.7,1.3,2.4,2.1,4.2,5.6,5.4,5.6,5.8,3.4,1.5,1.1,1.1,2.2,2.3,2.9,3.1,1.9,2.8,2.8,2.8,2.3,2.7,3.7,2.9,4.6,5,4.9,4.3,4,3.6,2.5,1.3,.8,1.1,1.3,1.9,2.9,3.9,4.9,5.2,5.3,4.8,4.1,3.4,3.3,3.3,3.1,3.3,4,5.4,7.3,7.2,6.8,5.8,5.4,7.1,9.4,9.2,7.8,6.3,5,3.8,2.5,2.2,2.5,2.2,.8,1.1,2.5,1.3,1.9,4,2.9,.8,2.7,2.9,3.1,3.9,3.1,2.2,2.3,2.5,2.9,4.1,4.6,4.8,4.6,3.3,1.5,.7,1.4,1.9,2.7,3.7,4.7,5.8,5.6,5.2,4.3,3.9,3.4,3.3,3,2.1,1.6,2.2,3.5,4.8,4.7,4,3,2,2.2,2.9,1.8,1.5]}};return S.jsxs(S.Fragment,{children:[S.jsx(Nje,{}),S.jsxs(vb,{children:[S.jsx(yr,{path:"/",element:S.jsx(Pje,{})}),S.jsx(yr,{path:"/explorar/*",element:S.jsx(Uje,{})}),S.jsx(yr,{path:"/statistics",element:S.jsx(aK,{})}),S.jsx(yr,{path:"/details",element:S.jsx(Hje,{})}),S.jsx(yr,{path:"/cart",element:S.jsx(Gje,{})}),S.jsx(yr,{path:"/weather",element:S.jsx(qje,{hourlyData:t})}),S.jsx(yr,{path:"/Profile/*",element:S.jsx(s6e,{})}),S.jsx(yr,{path:"/Payment",element:S.jsx(c6e,{})}),S.jsx(yr,{path:"/*",element:S.jsx(cK,{})})]})]})}const h6e=()=>{const t=Qi();return S.jsx("div",{className:"login-register ",children:S.jsx("div",{className:"login-box",children:S.jsxs(Ta,{className:"text-center glassmorphism ",children:[S.jsx(ki,{className:"align-items-center h-100",children:S.jsx(er,{className:"mx-auto",children:S.jsx("h3",{children:"Welcome to Supply Chain"})})}),S.jsx(ki,{className:"align-items-center h-100",children:S.jsxs(er,{className:"mx-auto",children:[S.jsx("p",{children:"Please choose your login option:"}),S.jsx(dn,{variant:"primary",onClick:e=>{e.preventDefault,t("/admin_auth")},children:"Login as Admin"}),S.jsx(dn,{variant:"info",onClick:e=>{e.preventDefault,t("/user_auth")},children:"Login as User"})]})})]})})})},fI="/model/model3/transfer_learning/model.json",Xp=150,zu=224,u4=3,f6e="tensorflowjs",d4="model_info_store",fv="web-model";class p6e extends Q.Component{constructor(n){super(n);ut(this,"initWebcam",async()=>{try{const n=await MY(this.yesWebCam.current,{resizeWidth:zu,resizeHeight:zu,facingMode:"user"});console.log("cam"),console.log(n),this.setState({webcam:n}),this.stopWebcam()}catch(n){console.log("e"),console.log(n);const r=this.refs.noWebcam;r.current.style.display="block"}});ut(this,"startWebcam",async()=>{console.log("here"),this.state.webcam&&(console.log(this.state.webcam),this.state.webcam.start())});ut(this,"stopWebcam",async()=>{console.log("here"),console.log(this.state.webcam),this.state.webcam&&(console.log(this.state.webcam),this.state.webcam.stop(),this.state.webcam.stream.getTracks().forEach(n=>n.stop()))});ut(this,"handleCamStop",()=>{this.yesWebCam.current&&this.yesWebCam.current.pause()});ut(this,"handleCamRestart",()=>{this.yesWebCam.current&&this.yesWebCam.current.play()});ut(this,"toggleModel",async n=>{console.log("setShowModal"),console.log(this.state.setShowModal),this.setState({setShowModal:n}),this.state.setShowModal?(console.log("Stop"),this.stopWebcam()):(console.log("Stort"),this.initWebcam(),this.startWebcam())});ut(this,"closeModal",async()=>{this.toggleModel(!1)});ut(this,"getModelInfo",async()=>{await fetch(`${oK.API_ENDPOINT}/model_info`,{method:"GET"}).then(async n=>{await n.json().then(r=>{this.modelLastUpdated=r.last_updated}).catch(r=>{console.log("Unable to get parse model info.")})}).catch(n=>{console.log("Unable to get model info")})});ut(this,"updateModel",async()=>{console.log("Updating the model: "+fv),this.setState({isDownloadingModel:!0}),this.model=await ld(fI),await this.model.save("indexeddb://"+fv),this.setState({isDownloadingModel:!1,modelUpdateAvailable:!1,showModelUpdateAlert:!1,showModelUpdateSuccess:!0})});ut(this,"classifyLocalImage",async()=>{this.setState({isClassifying:!0});const n=this.refs.cropper.getCroppedCanvas(),r=De(()=>yP(n).toFloat()),s=await this.processImage(r),i=bo.resizeBilinear(s,[Xp,Xp]),a=this.model.predict(i),o=await a.data(),l=await this.getTopKClasses(o,u4);this.setState({predictions:l,isClassifying:!1,photoSettingsOpen:!this.state.photoSettingsOpen});const c=this.refs.canvas.getContext("2d"),u=zu/n.width,d=zu/n.height,h=Math.min(u,d);c.clearRect(0,0,zu,zu),c.drawImage(n,0,0,n.width*h,n.height*h),r.dispose(),s.dispose(),i.dispose(),a.dispose()});ut(this,"classifyWebcamImage",async()=>{this.setState({isClassifying:!0});const n=await this.state.webcam.capture(),r=bo.resizeBilinear(n,[Xp,Xp]),s=await this.processImage(r),i=this.model.predict(s),a=await i.data(),o=await this.getTopKClasses(a,u4);this.setState({predictions:o,isClassifying:!1,photoSettingsOpen:!this.state.photoSettingsOpen});const l=De(()=>n.toFloat().div(255));await MV(l,this.refs.canvas),r.dispose(),n.dispose(),s.dispose(),i.dispose(),l.dispose()});ut(this,"processImage",async n=>De(()=>n.expandDims(0).toFloat().div(127).sub(1)));ut(this,"getTopKClasses",async(n,r)=>{const s=[];for(let l=0;l<n.length;l++)s.push({value:n[l],index:l});s.sort((l,c)=>c.value-l.value);const i=new Float32Array(r),a=new Int32Array(r);for(let l=0;l<r;l++)i[l]=s[l].value,a[l]=s[l].index;const o=[];for(let l=0;l<a.length;l++)o.push({className:iK[a[l]],probability:(i[l]*100).toFixed(2)});return o});ut(this,"handlePanelClick",n=>{console.log("this.state.photoSettingsOpen"),console.log(this.state.photoSettingsOpen),this.state.photoSettingsOpen?(console.log("Stop"),this.stopWebcam()):(console.log("Stort"),this.startWebcam()),this.setState({photoSettingsOpen:!this.state.photoSettingsOpen})});ut(this,"handleFileChange",n=>{n.target.files&&n.target.files.length>0&&this.setState({file:URL.createObjectURL(n.target.files[0]),filename:n.target.files[0].name})});ut(this,"handleTabSelect",n=>{switch(n){case"camera":this.startWebcam();break;case"localfile":this.setState({filename:null,file:null}),this.stopWebcam();break}});this.noWebCam=sn.createRef("noWebcam"),this.yesWebCam=sn.createRef("webcam"),this.model=null,this.modelLastUpdated=null,this.state={webcam:null,setShowModal:!1,modelLoaded:!1,filename:"",isModelLoading:!1,isClassifying:!1,predictions:[],photoSettingsOpen:!0,modelUpdateAvailable:!1,showModelUpdateAlert:!1,showModelUpdateSuccess:!1,isDownloadingModel:!1}}async componentDidMount(){if("indexedDB"in window)try{this.model=await ld("indexeddb://"+fv);try{const s=await(await FX(f6e,1)).transaction(d4).objectStore(d4).get(fv),i=new Date(s.modelArtifactsInfo.dateSaved);await this.getModelInfo(),console.log(this.modelLastUpdated),!this.modelLastUpdated||i>=new Date(this.modelLastUpdated).getTime()?console.log("Using saved model"):this.setState({modelUpdateAvailable:!0,showModelUpdateAlert:!0})}catch(r){console.warn(r),console.warn("Could not retrieve when model was saved.")}}catch(r){console.log("Not found in IndexedDB. Loading and saving..."),console.log(r),this.model=await ld(fI),await this.model.save("indexeddb://"+fv)}else console.warn("IndexedDB not supported."),this.model=await ld(fI);this.setState({modelLoaded:!0}),this.initWebcam(),De(()=>this.model.predict(bs([1,Xp,Xp,3]))).dispose()}async componentWillUnmount(){this.state.webcam&&this.state.webcam.stop();try{this.toggleModel(!1),this.model.dispose()}catch{}}render(){return S.jsxs(S.Fragment,{children:[S.jsx(dn,{className:"btn btn-info pull-right m-l-20 btn-rounded btn-outline hidden-xs hidden-sm waves-effect waves-light",onClick:()=>this.toggleModel(!0),children:"Classify"}),this.state.setShowModal?S.jsx(S.Fragment,{children:S.jsx("div",{className:"justify-center items-center flex  fixed inset-0 z-50 outline-none focus:outline-none",children:S.jsx("div",{className:"Classify container",children:S.jsx("div",{className:"relative w-[1000px]  my-6 mx-auto ",children:S.jsxs("div",{className:"border-0 rounded-lg  shadow-lg relative flex flex-col w-full h-[600px] bg-white outline-none focus:outline-none ",children:[S.jsxs("div",{className:"flex items-center justify-between border-solid border-slate-200 rounded-t",children:[S.jsx("h4",{className:"text-[19px] font-[400] text-[#202054] leading-[28.8px] mx-8",children:"Testing"}),S.jsx("div",{className:"ml-auto leading-none font-semibold outline-none focus:outline-none",onClick:this.closeModal,children:S.jsx("span",{className:" flex items-center justify-center cursor-pointer  text-black  h-5 w-5  text-2xl  outline-none focus:outline-none",children:""})})]}),!this.state.modelLoaded&&S.jsxs(Q.Fragment,{children:[S.jsx(Ay,{animation:"border",role:"status",children:S.jsx("span",{className:"sr-only",children:"Loading..."})})," ",S.jsx("span",{className:"loading-model-text",children:"Loading Model"}),S.jsx("h6",{children:"Please wait patiently, for the first time it will take a little bit longer"})]}),this.state.modelLoaded&&S.jsxs(Q.Fragment,{children:[S.jsxs(dn,{onClick:this.handlePanelClick,className:"classify-panel-header","aria-controls":"photo-selection-pane","aria-expanded":this.state.photoSettingsOpen,children:["Take or Select a Photo to Classify",S.jsx("span",{className:"panel-arrow",children:this.state.photoSettingsOpen?S.jsx(zX,{}):S.jsx(UX,{})})]}),this.state.photoSettingsOpen&&S.jsxs("div",{id:"photo-selection-pane",children:[this.state.modelUpdateAvailable&&this.state.showModelUpdateAlert&&S.jsx(Ta,{children:S.jsxs(qf,{variant:"info",show:this.state.modelUpdateAvailable&&this.state.showModelUpdateAlert,onClose:()=>this.setState({showModelUpdateAlert:!1}),dismissible:!0,children:["An update for the ",S.jsx("strong",{children:this.state.modelType})," model is available.",S.jsxs("div",{className:"d-flex justify-content-center pt-1",children:[!this.state.isDownloadingModel&&S.jsx(dn,{onClick:this.updateModel,variant:"outline-info",children:"Update"}),this.state.isDownloadingModel&&S.jsxs("div",{children:[S.jsx(Ay,{animation:"border",role:"status",size:"sm",children:S.jsx("span",{className:"sr-only",children:"Downloading..."})})," ",S.jsx("strong",{children:"Downloading..."})]})]})]})}),this.state.showModelUpdateSuccess&&S.jsx(Ta,{children:S.jsxs(qf,{variant:"success",onClose:()=>this.setState({showModelUpdateSuccess:!1}),dismissible:!0,children:["The ",S.jsx("strong",{children:this.state.modelType})," model has been updated!"]})}),S.jsxs(GO,{defaultActiveKey:"camera",id:"input-options",onSelect:this.handleTabSelect,className:"justify-content-center",children:[S.jsxs(Ym,{eventKey:"camera",title:"Take Photo",children:[S.jsxs("div",{id:"no-webcam",ref:this.noWebCam,children:[S.jsx("span",{className:"camera-icon",children:S.jsx(jX,{})}),"No camera found. ",S.jsx("br",{}),"Please use a device with a camera, or upload an image instead."]}),S.jsx("div",{className:"webcam-box-outer",children:S.jsx("div",{className:"webcam-box-inner",children:S.jsx("video",{ref:this.yesWebCam,autoPlay:!0,muted:!0,id:"webcam",style:{transform:"scaleX(-1)"},width:"448",height:"448"})})}),S.jsx("button",{onClick:this.handleCamStop,children:"pause"}),S.jsx("button",{onClick:this.handleCamRestart,children:"Restart"}),S.jsx("button",{onClick:this.stopWebcam,children:"Stop"}),S.jsx("button",{onClick:this.startWebcam,children:"Start"}),S.jsx("div",{className:"button-container",children:S.jsx(DS,{variant:"primary",size:"lg",onClick:this.classifyWebcamImage,isLoading:this.state.isClassifying,text:"Let's Classify!",loadingText:"Classifying..."})})]}),S.jsxs(Ym,{eventKey:"localfile",title:"Select Image From Local",children:[S.jsxs(Mt.Group,{controlId:"file",children:[S.jsx(Mt.Label,{children:"Upload your image"}),S.jsx("br",{}),S.jsx(Mt.Label,{className:"imagelabel",children:this.state.filename?this.state.filename:"Browse"}),S.jsx(Mt.Control,{onChange:this.handleFileChange,type:"file",accept:"image/*",className:"imagefile"})]}),this.state.file&&S.jsxs(Q.Fragment,{children:[S.jsx("div",{id:"local-image",children:S.jsx(sK,{ref:"cropper",src:this.state.file,style:{height:400,width:"100%"},guides:!0,aspectRatio:1/1,viewMode:2})}),S.jsx("div",{className:"button-container",children:S.jsx(DS,{variant:"primary",size:"lg",disabled:!this.state.filename,onClick:this.classifyLocalImage,isLoading:this.state.isClassifying,text:"Let's Classify!",loadingText:"Classifying..."})})]})]})]})]}),this.state.predictions.length>0&&S.jsxs("div",{className:"classification-results",children:[S.jsx("h3",{children:"Predictions"}),S.jsx("canvas",{ref:"canvas",width:zu,height:zu}),S.jsx("br",{}),S.jsx(G8,{children:this.state.predictions.map(n=>(console.log(n),n.className==="Fresh Apple"||n.className==="Fresh Orange"||n.className==="Fresh Banana"?S.jsxs("div",{children:[S.jsxs("p",{children:["This most likely ",S.jsx("strong",{children:n.className})," with ",n.probability,"% probability!"]}),S.jsx("p",{children:"You can eat it safely!"})]}):S.jsxs("div",{children:[S.jsxs("p",{children:["Oh no! This is ",S.jsx("strong",{children:n.className})," with ",n.probability,"% probability!"]}),S.jsx("p",{children:"You shouldn't eat it!"})]})))})]})]})]})})})})}):null]})}}function Hw(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hw=function(n){return typeof n}:Hw=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hw(t)}function m6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g6e(t,e,n){return e&&h4(t.prototype,e),n&&h4(t,n),t}function v6e(t,e){return e&&(Hw(e)==="object"||typeof e=="function")?e:Yw(t)}function CR(t){return CR=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},CR(t)}function Yw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kR(t,e)}function kR(t,e){return kR=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},kR(t,e)}function qw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uK=function(t){y6e(e,t);function e(){var n,r;m6e(this,e);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=v6e(this,(n=CR(e)).call.apply(n,[this].concat(i))),qw(Yw(r),"state",{bootstrapped:!1}),qw(Yw(r),"_unsubscribe",void 0),qw(Yw(r),"handlePersistorState",function(){var o=r.props.persistor,l=o.getState(),c=l.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return g6e(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(Q.PureComponent);qw(uK,"defaultProps",{children:null,loading:null});var BM="persist:",dK="persist/FLUSH",LM="persist/REHYDRATE",hK="persist/PAUSE",fK="persist/PERSIST",pK="persist/PURGE",mK="persist/REGISTER",b6e=-1;function Xw(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xw=function(n){return typeof n}:Xw=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xw(t)}function f4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function x6e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f4(n,!0).forEach(function(r){w6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f4(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w6e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _6e(t,e,n,r){r.debug;var s=x6e({},n);return t&&Xw(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(s[i]=t[i])}),s}function S6e(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:BM).concat(t.key),a=t.storage,o;t.serialize===!1?o=function(N){return N}:typeof t.serialize=="function"?o=t.serialize:o=C6e;var l=t.writeFailHandler||null,c={},u={},d=[],h=null,p=null,m=function(N){Object.keys(N).forEach(function(A){w(A)&&c[A]!==N[A]&&d.indexOf(A)===-1&&d.push(A)}),Object.keys(c).forEach(function(A){N[A]===void 0&&w(A)&&d.indexOf(A)===-1&&c[A]!==void 0&&d.push(A)}),h===null&&(h=setInterval(f,s)),c=N};function f(){if(d.length===0){h&&clearInterval(h),h=null;return}var k=d.shift(),N=r.reduce(function(A,O){return O.in(A,k,c)},c[k]);if(N!==void 0)try{u[k]=o(N)}catch(A){console.error("redux-persist/createPersistoid: error serializing state",A)}else delete u[k];d.length===0&&b()}function b(){Object.keys(u).forEach(function(k){c[k]===void 0&&delete u[k]}),p=a.setItem(i,o(u)).catch(g)}function w(k){return!(n&&n.indexOf(k)===-1&&k!=="_persist"||e&&e.indexOf(k)!==-1)}function g(k){l&&l(k)}var C=function(){for(;d.length!==0;)f();return p||Promise.resolve()};return{update:m,flush:C}}function C6e(t){return JSON.stringify(t)}function k6e(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:BM).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(a){return a}:typeof t.deserialize=="function"?s=t.deserialize:s=E6e,r.getItem(n).then(function(i){if(i)try{var a={},o=s(i);return Object.keys(o).forEach(function(l){a[l]=e.reduceRight(function(c,u){return u.out(c,l,o)},s(o[l]))}),a}catch(l){throw l}else return})}function E6e(t){return JSON.parse(t)}function T6e(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:BM).concat(t.key);return e.removeItem(n,I6e)}function I6e(t){}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(n,!0).forEach(function(r){A6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A6e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N6e(t,e){if(t==null)return{};var n=R6e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R6e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var O6e=5e3;function $6e(t,e){var n=t.version!==void 0?t.version:b6e;t.debug;var r=t.stateReconciler===void 0?_6e:t.stateReconciler,s=t.getStoredState||k6e,i=t.timeout!==void 0?t.timeout:O6e,a=null,o=!1,l=!0,c=function(d){return d._persist.rehydrated&&a&&!l&&a.update(d),d};return function(u,d){var h=u||{},p=h._persist,m=N6e(h,["_persist"]),f=m;if(d.type===fK){var b=!1,w=function(R,$){b||(d.rehydrate(t.key,R,$),b=!0)};if(i&&setTimeout(function(){!b&&w(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),l=!1,a||(a=S6e(t)),p)return Uc({},e(f,d),{_persist:p});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),s(t).then(function(O){var R=t.migrate||function($,D){return Promise.resolve($)};R(O,n).then(function($){w($)},function($){w(void 0,$)})},function(O){w(void 0,O)}),Uc({},e(f,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===pK)return o=!0,d.result(T6e(t)),Uc({},e(f,d),{_persist:p});if(d.type===dK)return d.result(a&&a.flush()),Uc({},e(f,d),{_persist:p});if(d.type===hK)l=!0;else if(d.type===LM){if(o)return Uc({},f,{_persist:Uc({},p,{rehydrated:!0})});if(d.key===t.key){var g=e(f,d),C=d.payload,k=r!==!1&&C!==void 0?r(C,u,g,t):g,N=Uc({},k,{_persist:Uc({},p,{rehydrated:!0})});return c(N)}}}if(!p)return e(u,d);var A=e(f,d);return A===f?u:c(Uc({},A,{_persist:p}))}}function m4(t){return M6e(t)||P6e(t)||D6e()}function D6e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function P6e(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function M6e(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(n,!0).forEach(function(r){B6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B6e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gK={registry:[],bootstrapped:!1},L6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gK,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case mK:return ER({},e,{registry:[].concat(m4(e.registry),[n.key])});case LM:var r=e.registry.indexOf(n.key),s=m4(e.registry);return s.splice(r,1),ER({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function F6e(t,e,n){var r=n||!1,s=a$(L6e,gK,e&&e.enhancer?e.enhancer:void 0),i=function(c){s.dispatch({type:mK,key:c})},a=function(c,u,d){var h={type:LM,payload:u,err:d,key:c};t.dispatch(h),s.dispatch(h),r&&o.getState().bootstrapped&&(r(),r=!1)},o=ER({},s,{purge:function(){var c=[];return t.dispatch({type:pK,result:function(d){c.push(d)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:dK,result:function(d){c.push(d)}}),Promise.all(c)},pause:function(){t.dispatch({type:hK})},persist:function(){t.dispatch({type:fK,register:i,rehydrate:a})}});return e&&e.manualPersist||o.persist(),o}var FM={},jM={};jM.__esModule=!0;jM.default=U6e;function Kw(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kw=function(n){return typeof n}:Kw=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kw(t)}function pI(){}var j6e={getItem:pI,setItem:pI,removeItem:pI};function z6e(t){if((typeof self>"u"?"undefined":Kw(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function U6e(t){var e="".concat(t,"Storage");return z6e(e)?self[e]:j6e}FM.__esModule=!0;FM.default=G6e;var W6e=V6e(jM);function V6e(t){return t&&t.__esModule?t:{default:t}}function G6e(t){var e=(0,W6e.default)(t);return{getItem:function(r){return new Promise(function(s,i){s(e.getItem(r))})},setItem:function(r,s){return new Promise(function(i,a){i(e.setItem(r,s))})},removeItem:function(r){return new Promise(function(s,i){s(e.removeItem(r))})}}}var vK=void 0,H6e=Y6e(FM);function Y6e(t){return t&&t.__esModule?t:{default:t}}var q6e=(0,H6e.default)("local");vK=q6e;const X6e={value:10},K6e=SC({name:"counter",initialState:X6e,reducers:{increment:t=>{t.value+=1},decrement:t=>{t.value-=1},incrementByAmount:(t,e)=>{t.value+=e.payload}}}),J6e=K6e.reducer,Q6e={key:"root",storage:vK},Z6e=$6e(Q6e,t9({authAdmin:Soe,authUser:Ioe,count:J6e,cart:$oe})),TR=hoe({reducer:Z6e}),e4e=F6e(TR);function t4e(){return console.log("store.subscribe(()=>console.log(store.getState()));"),console.log("store"),console.log(TR),S.jsx("div",{className:"App",children:S.jsx(qre,{store:TR,children:S.jsx(uK,{loading:null,persistor:e4e,children:S.jsxs(ZZ,{children:[S.jsx(w_,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),S.jsxs(vb,{children:[S.jsx(yr,{path:"/",element:S.jsx(h6e,{})}),S.jsx(yr,{path:"/admin_auth",element:S.jsx(Coe,{})}),S.jsx(yr,{path:"/user_auth",element:S.jsx(Doe,{})}),S.jsx(yr,{path:"/signup",element:S.jsx(Poe,{})}),S.jsx(yr,{path:"/form",element:S.jsx(Moe,{})}),S.jsx(yr,{path:"/preview",element:S.jsx(Loe,{})}),S.jsx(yr,{path:"/admin/*",element:S.jsx(Cde,{})}),S.jsx(yr,{path:"/user/*",element:S.jsx(d6e,{})}),S.jsx(yr,{path:"/shop",element:S.jsx(lK,{})}),S.jsx(yr,{path:"/classify",element:S.jsx(p6e,{})}),S.jsx(yr,{path:"/*",element:S.jsx(cK,{})})]})]})})})})}const n4e="modulepreload",r4e=function(t){return"/"+t},v4={},s4e=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=r4e(i),i in v4)return;v4[i]=!0;const a=i.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===i&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":n4e,a||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),a)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())},i4e=t=>{t&&t instanceof Function&&s4e(()=>import("./web-vitals-26e89e4b.js"),[]).then(({getCLS:e,getFID:n,getFCP:r,getLCP:s,getTTFB:i})=>{e(t),n(t),r(t),s(t),i(t)})},o4e=gI.createRoot(document.getElementById("root"));o4e.render(S.jsx(sn.StrictMode,{children:S.jsx(t4e,{})}));i4e(console.log);const a4e=require("./components/User/components/cartRoute");app.use("/api",a4e);
